{"ast":null,"code":"import \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.url.js\";\nimport \"core-js/modules/web.url-search-params.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport axios from \"axios\";\nimport * as go from \"/public/go.js\"; // import \"./highlight/styles/base16/one-light.min.css\";\n\nimport * as hljs from \"./highlight/highlight.min.js\";\nexport default {\n  name: \"CanvasView\",\n  data: function data() {\n    return {\n      canvasData: {\n        file: {\n          \"class\": \"GraphLinksModel\",\n          nodeDataArray: [{\n            category: \"Data\",\n            key: -1,\n            loc: \"42.22500681322674 47.35735117835321\"\n          }, {\n            category: \"End\",\n            key: -4,\n            loc: \"567.1497069414404 47.35735117835318\"\n          }, {\n            category: \"ReLU\",\n            key: -2,\n            loc: \"403.0334278716728 47.357351178353184\"\n          }, {\n            category: \"FC\",\n            reasonsList: [{\n              text1: \"512\",\n              text3: \"128\"\n            }],\n            key: -3,\n            loc: \"216.57893005138874 47.357351178353184\"\n          }],\n          linkDataArray: [{\n            from: -3,\n            to: -2,\n            points: [278.70784647632394, 47.35735117835319, 318.70784647632394, 47.35735117835319, 338.707846476324, 47.3573511783532, 348.707846476324, 47.3573511783532]\n          }, {\n            from: -2,\n            to: -4,\n            points: [457.3590092670217, 47.3573511783532, 497.3590092670217, 47.3573511783532, 517.3590092670217, 47.35735117835319, 527.3590092670217, 47.35735117835319]\n          }, {\n            from: -1,\n            to: -3,\n            points: [84.4500136264535, 47.3573511783532, 94.4500136264535, 47.3573511783532, 104.45001362645351, 47.35735117835319, 154.4500136264535, 47.35735117835319]\n          }]\n        },\n        code: \"import torch.nn as nn\"\n      }\n    };\n  },\n  mounted: function mounted() {\n    // code hightlignt\n    hljs.highlightAll();\n    this.canvasData.file = JSON.stringify(this.canvasData.file);\n    var $ = go.GraphObject.make; // for conciseness in defining templates\n\n    var yellowgrad = $(go.Brush, \"Linear\", {\n      0: \"#bde0fe\",\n      1: \"#bde0fe\"\n    });\n    var greengrad = $(go.Brush, \"Linear\", {\n      0: \"#fdffb6\",\n      1: \"#fdffb6\"\n    });\n    var bluegrad = $(go.Brush, \"Linear\", {\n      0: \"#caffbf\",\n      1: \"#caffbf\"\n    });\n    var redgrad = $(go.Brush, \"Linear\", {\n      0: \"#ffadad\",\n      1: \"#ffadad\"\n    });\n    var whitegrad = $(go.Brush, \"Linear\", {\n      0: \"#E7C5FC\",\n      1: \"#E7C5FC\"\n    });\n    var bigfont = \"bold 15pt Helvetica, Arial, sans-serif\";\n    var smallfont = \"bold 13pt Helvetica, Arial, sans-serif\"; // Common text styling\n\n    function textStyle() {\n      return {\n        margin: 6,\n        wrap: go.TextBlock.WrapFit,\n        textAlign: \"center\",\n        editable: true,\n        font: bigfont\n      };\n    }\n\n    var myDiagram = $(go.Diagram, \"myDiagramDiv\", {\n      initialAutoScale: go.Diagram.Uniform,\n      \"linkingTool.direction\": go.LinkingTool.ForwardsOnly,\n      layout: $(go.LayeredDigraphLayout, {\n        isInitial: false,\n        isOngoing: false,\n        layerSpacing: 50\n      }),\n      \"undoManager.isEnabled\": true\n    });\n    var nodeSelectionAdornmentTemplate = $(go.Adornment, \"Auto\", $(go.Shape, {\n      fill: null,\n      stroke: \"#979dac\",\n      strokeWidth: 2,\n      strokeDashArray: [4, 2]\n    }), $(go.Placeholder)); // define the Node template\n\n    myDiagram.nodeTemplate = $(go.Node, \"Auto\", {\n      locationSpot: go.Spot.Center\n    }, new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(go.Point.stringify), {\n      selectable: true,\n      selectionAdornmentTemplate: nodeSelectionAdornmentTemplate\n    }, // define the node's outer shape, which will surround the TextBlock\n    $(go.Shape, \"Rectangle\", {\n      fill: yellowgrad,\n      stroke: null,\n      portId: \"\",\n      fromLinkable: true,\n      toLinkable: true,\n      cursor: \"pointer\",\n      toEndSegmentLength: 50,\n      fromEndSegmentLength: 50\n    }), $(go.TextBlock, \"ReLU\", {\n      margin: 6,\n      font: bigfont,\n      editable: true,\n      minSize: new go.Size(40, NaN)\n    }, new go.Binding(\"text\", \"text\").makeTwoWay())); // Data\n\n    myDiagram.nodeTemplateMap.add(\"Data\", $(go.Node, \"Auto\", {\n      locationSpot: go.Spot.Center,\n      margin: new go.Margin(0, 0, 0, 0)\n    }, new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(go.Point.stringify), {\n      selectable: true,\n      selectionAdornmentTemplate: nodeSelectionAdornmentTemplate\n    }, $(go.Shape, \"Circle\", {\n      fill: bluegrad,\n      portId: \"\",\n      fromLinkable: true,\n      cursor: \"pointer\",\n      //fromEndSegmentLength: 40,\n      stroke: \"#74c69d\",\n      strokeWidth: 4\n    }), $(go.TextBlock, \"Data\", textStyle(), {\n      stroke: \"#2d6a4f\",\n      minSize: new go.Size(40, NaN)\n    }, new go.Binding(\"text\", \"text\").makeTwoWay())));\n    myDiagram.nodeTemplateMap.add(\"End\", $(go.Node, \"Auto\", {\n      locationSpot: go.Spot.Center\n    }, new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(go.Point.stringify), {\n      selectable: true,\n      selectionAdornmentTemplate: nodeSelectionAdornmentTemplate\n    }, $(go.Shape, \"Circle\", {\n      fill: redgrad,\n      portId: \"\",\n      toLinkable: true,\n      cursor: \"pointer\",\n      fromEndSegmentLength: 40,\n      stroke: \"#df7373\",\n      strokeWidth: 4\n    }), $(go.TextBlock, \"End\", textStyle(), {\n      stroke: \"#ad2e24\",\n      minSize: new go.Size(40, NaN)\n    }, new go.Binding(\"text\", \"text\").makeTwoWay())));\n    myDiagram.nodeTemplateMap.add(\"ReLU\", $(go.Node, \"Auto\", {\n      locationSpot: go.Spot.Center\n    }, new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(go.Point.stringify), {\n      selectable: true,\n      selectionAdornmentTemplate: nodeSelectionAdornmentTemplate\n    }, $(go.Shape, \"Ellipse\", {\n      fill: greengrad,\n      portId: \"\",\n      fromLinkable: true,\n      toLinkable: true,\n      cursor: \"pointer\",\n      fromEndSegmentLength: 40,\n      stroke: \"#ffd100\",\n      strokeWidth: 4\n    }), $(go.TextBlock, \"ReLU\", textStyle(), {\n      stroke: \"#e2711d\",\n      // locationSpot: go.Spot.Center,\n      //margin: new go.Margin(10, 0, 0, 0),\n      minSize: new go.Size(60, NaN)\n    }, new go.Binding(\"text\", \"text\").makeTwoWay())));\n    var reasonTemplate = $(go.Panel, $(go.Panel, \"Table\", {\n      maxSize: new go.Size(200, 999),\n      margin: new go.Margin(0, 3, 10, 3),\n      defaultAlignment: go.Spot.Center\n    }, $(go.RowColumnDefinition, {\n      column: 2,\n      width: 2\n    }), $(go.TextBlock, \"input = \", {\n      margin: new go.Margin(4, 0, 0, 0),\n      maxSize: new go.Size(200, NaN),\n      wrap: go.TextBlock.WrapFit,\n      //stroke: \"whitesmoke\",\n      editable: true,\n      font: smallfont,\n      row: 2,\n      column: 0,\n      stroke: \"#3e5c76\"\n    }, new go.Binding(\"text\", \"text0\").makeTwoWay()), $(go.TextBlock, \"value\", {\n      margin: new go.Margin(4, 0, 0, 0),\n      maxSize: new go.Size(200, NaN),\n      wrap: go.TextBlock.WrapFit,\n      //stroke: \"whitesmoke\",\n      editable: true,\n      stroke: \"#3e5c76\",\n      font: smallfont,\n      row: 2,\n      column: 1\n    }, new go.Binding(\"text\", \"text1\").makeTwoWay()), $(go.TextBlock, \"output = \", {\n      margin: new go.Margin(4, 0, 0, 0),\n      maxSize: new go.Size(200, NaN),\n      wrap: go.TextBlock.WrapFit,\n      //stroke: \"whitesmoke\",\n      editable: true,\n      font: smallfont,\n      stroke: \"#3e5c76\",\n      row: 3,\n      column: 0\n    }, new go.Binding(\"text\", \"text2\").makeTwoWay()), $(go.TextBlock, \"value\", {\n      margin: new go.Margin(4, 0, 0, 9),\n      maxSize: new go.Size(200, NaN),\n      wrap: go.TextBlock.WrapFit,\n      //stroke: \"whitesmoke\",\n      editable: true,\n      font: smallfont,\n      stroke: \"#3e5c76\",\n      row: 3,\n      column: 1\n    }, new go.Binding(\"text\", \"text3\").makeTwoWay())) // end Table Panel\n    );\n    myDiagram.nodeTemplateMap.add(\"FC\", $(go.Node, \"Auto\", {\n      locationSpot: go.Spot.Center\n    }, new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(go.Point.stringify), {\n      selectable: true,\n      selectionAdornmentTemplate: nodeSelectionAdornmentTemplate\n    }, $(go.Shape, \"RoundedRectangle\", {\n      fill: yellowgrad,\n      stroke: \"#4ea8de\",\n      strokeWidth: 4,\n      portId: \"\",\n      fromLinkable: true,\n      toLinkable: true,\n      cursor: \"pointer\",\n      toEndSegmentLength: 50,\n      fromEndSegmentLength: 40\n    }), $(go.Panel, \"Vertical\", {\n      defaultAlignment: go.Spot.Center\n    }, $(go.TextBlock, \"FC\", textStyle(), {\n      stroke: \"#3e5c76\",\n      margin: new go.Margin(8, 0, 0, 0),\n      minSize: new go.Size(100, NaN) //maxSize: new go.Size(200, NaN)\n\n    }, new go.Binding(\"text\", \"text\").makeTwoWay()), $(go.Panel, \"Vertical\", {\n      defaultAlignment: go.Spot.TopLeft,\n      itemTemplate: reasonTemplate\n    }, new go.Binding(\"itemArray\", \"reasonsList\").makeTwoWay()))));\n    var linkSelectionAdornmentTemplate = $(go.Adornment, \"Link\", $(go.Shape, // isPanelMain declares that this Shape shares the Link.geometry\n    {\n      isPanelMain: true,\n      fill: null,\n      stroke: \"deepskyblue\",\n      strokeWidth: 2.5\n    }) // use selection object's strokeWidth\n    ); // replace the default Link template in the linkTemplateMap\n\n    myDiagram.linkTemplate = $(go.Link, // the whole link panel\n    {\n      selectable: true,\n      selectionAdornmentTemplate: linkSelectionAdornmentTemplate\n    }, new go.Binding(\"points\").makeTwoWay(), {\n      //curve: go.Link.Bezier,\n      toShortLength: 15\n    }, //new go.Binding(\"curviness\", \"curviness\"),\n    $(go.Shape, // the link shape\n    {\n      stroke: \"#979dac\",\n      strokeWidth: 2.5\n    }), $(go.Shape, // the arrowhead\n    {\n      toArrow: \"kite\",\n      fill: \"#979dac\",\n      stroke: null,\n      scale: 2\n    }));\n    myDiagram.nodeTemplateMap.add(\"RNN\", $(go.Node, \"Auto\", {\n      locationSpot: go.Spot.Center\n    }, new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(go.Point.stringify), {\n      selectable: true,\n      selectionAdornmentTemplate: nodeSelectionAdornmentTemplate\n    }, $(go.Shape, \"RoundedRectangle\", {\n      fill: whitegrad,\n      stroke: \"#CF8BF9\",\n      strokeWidth: 4\n    }), $(go.TextBlock, \"RNN\\n(unavailable)\", textStyle(), {\n      margin: 9,\n      maxSize: new go.Size(200, NaN),\n      wrap: go.TextBlock.WrapFit,\n      editable: true,\n      stroke: \"#560788\",\n      font: smallfont\n    }, new go.Binding(\"text\", \"text\").makeTwoWay()) // no ports, because no links are allowed to connect with a comment\n    ));\n    myDiagram.nodeTemplateMap.add(\"CNN\", $(go.Node, \"Auto\", {\n      locationSpot: go.Spot.Center\n    }, new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(go.Point.stringify), {\n      selectable: true,\n      selectionAdornmentTemplate: nodeSelectionAdornmentTemplate\n    }, $(go.Shape, \"RoundedRectangle\", {\n      fill: whitegrad,\n      stroke: \"#CF8BF9\",\n      strokeWidth: 4\n    }), $(go.TextBlock, \"CNN\\n(unavailable)\", textStyle(), {\n      margin: 9,\n      maxSize: new go.Size(200, NaN),\n      wrap: go.TextBlock.WrapFit,\n      editable: true,\n      stroke: \"#560788\",\n      font: smallfont\n    }, new go.Binding(\"text\", \"text\").makeTwoWay()) // no ports, because no links are allowed to connect with a comment\n    ));\n    myDiagram.nodeTemplateMap.add(\"LSTM\", $(go.Node, \"Auto\", {\n      locationSpot: go.Spot.Center\n    }, new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(go.Point.stringify), {\n      selectable: true,\n      selectionAdornmentTemplate: nodeSelectionAdornmentTemplate\n    }, $(go.Shape, \"RoundedRectangle\", {\n      fill: whitegrad,\n      stroke: \"#CF8BF9\",\n      strokeWidth: 4\n    }), $(go.TextBlock, \"LSTM\\n(unavailable)\", textStyle(), {\n      margin: 9,\n      maxSize: new go.Size(200, NaN),\n      wrap: go.TextBlock.WrapFit,\n      editable: true,\n      stroke: \"#560788\",\n      font: smallfont\n    }, new go.Binding(\"text\", \"text\").makeTwoWay()) // no ports, because no links are allowed to connect with a comment\n    ));\n    myDiagram.nodeTemplateMap.add(\"Softmax\", $(go.Node, \"Auto\", {\n      locationSpot: go.Spot.Center\n    }, new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(go.Point.stringify), {\n      selectable: true,\n      selectionAdornmentTemplate: nodeSelectionAdornmentTemplate\n    }, $(go.Shape, \"RoundedRectangle\", {\n      fill: whitegrad,\n      stroke: \"#CF8BF9\",\n      strokeWidth: 4\n    }), $(go.TextBlock, \"Softmax\\n(unavailable)\", textStyle(), {\n      margin: 9,\n      maxSize: new go.Size(200, NaN),\n      wrap: go.TextBlock.WrapFit,\n      editable: true,\n      stroke: \"#560788\",\n      font: smallfont\n    }, new go.Binding(\"text\", \"text\").makeTwoWay()) // no ports, because no links are allowed to connect with a comment\n    ));\n    myDiagram.nodeTemplateMap.add(\"Maximum Polling\", $(go.Node, \"Auto\", {\n      locationSpot: go.Spot.Center\n    }, new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(go.Point.stringify), {\n      selectable: true,\n      selectionAdornmentTemplate: nodeSelectionAdornmentTemplate\n    }, $(go.Shape, \"RoundedRectangle\", {\n      fill: whitegrad,\n      stroke: \"#CF8BF9\",\n      strokeWidth: 4\n    }), $(go.TextBlock, \"Maximum\\nPolling\\n(unavailable)\", textStyle(), {\n      margin: 9,\n      maxSize: new go.Size(200, NaN),\n      wrap: go.TextBlock.WrapFit,\n      editable: true,\n      stroke: \"#560788\",\n      font: smallfont\n    }, new go.Binding(\"text\", \"text\").makeTwoWay()) // no ports, because no links are allowed to connect with a comment\n    ));\n    var palette = $(go.Palette, \"myPaletteDiv\", // create a new Palette in the HTML DIV element\n    {\n      // share the template map with the Palette\n      nodeTemplateMap: myDiagram.nodeTemplateMap,\n      autoScale: go.Diagram.Uniform // everything always fits in viewport\n\n    });\n    palette.model.nodeDataArray = [{\n      category: \"Data\"\n    }, {\n      category: \"ReLU\"\n    }, {\n      category: \"FC\",\n      reasonsList: [{}]\n    }, {\n      category: \"End\"\n    }, {\n      category: \"CNN\"\n    }, {\n      category: \"RNN\"\n    }, {\n      category: \"LSTM\"\n    }, {\n      category: \"Softmax\"\n    }, {\n      category: \"Maximum Polling\"\n    }];\n    window.myDiagram = myDiagram;\n  },\n  methods: {\n    // Every time request /canvas/, use this method\n    getData: function getData() {\n      var _this = this;\n\n      axios({\n        method: \"get\",\n        url: \"/canvas/\" + localStorage.uid + \"/\" + localStorage.pid + \"/\"\n      }).then(function (res) {\n        console.log(res.data);\n\n        if (res.data.status == 200) {\n          // render canvas and code\n          _this.renderJson();\n\n          _this.renderCode();\n        } else {\n          alert(\"canvas loading error!\");\n        }\n      });\n    },\n    getJson: function getJson() {\n      var _this2 = this;\n\n      axios({\n        method: \"get\",\n        url: \"/canvas/getJson/\" + localStorage.uid + \"/\" + localStorage.pid + \"/\",\n        responseType: \"stream\"\n      }).then(function (res) {\n        console.log(res.data);\n\n        if (res.data.status == 200) {\n          _this2.canvas_data.file = res.data;\n        } else {\n          alert(\"can not get user's json!\");\n        }\n      });\n    },\n    getPython: function getPython() {\n      var _this3 = this;\n\n      axios({\n        method: \"get\",\n        url: \"/canvas/getPython/\" + localStorage.uid + \"/\" + localStorage.pid + \"/\",\n        responseType: \"stream\"\n      }).then(function (res) {\n        console.log(res.data);\n\n        if (res.data.status == 200) {\n          _this3.canvas_data.code = res.code;\n        } else {\n          alert(\"can not get user's python!\");\n        }\n      });\n    },\n    download: function download() {\n      axios({\n        method: \"get\",\n        url: \"/canvas/download/\" + localStorage.uid + \"/\" + localStorage.pid + \"/\",\n        responseType: \"blob\"\n      }).then(function (res) {\n        console.log(res.data);\n\n        if (res.data.status == 200) {\n          var blob = new Blob([res], {\n            type: \"application/zip;charset-UTF-8\"\n          });\n          var url = URL.createObjectURL(blob);\n          var a = document.createElement(\"a\");\n          a.style.display = \"none\";\n          a.href = url;\n          a.download = \"projectttt.zip\";\n          a.click();\n          URL.revokeObjectURL(url);\n        } else {\n          alert(\"can not get user's json!\");\n        }\n      });\n    },\n    // Update json first, then send to backend and get python code\n    compile: function compile() {\n      // Update json\n      this.updateJson(); // send json to backend\n\n      this.canvasData.file = myDiagram.model.toJson();\n      var formData = new FormData();\n      formData.append(\"file\", this.canvasData.file);\n      axios({\n        method: \"post\",\n        url: \"/canvas/compile/\" + localStorage.uid + \"/\" + localStorage.pid + \"/\",\n        data: formData\n      }).then(function (res) {\n        console.log(res.data); // If compile successful 200, backend update database, frontend get data and reload\n\n        if (res.data.status == \"200\") {\n          console.log(\"compile ok!\");\n        } // If complie fails 500, frontend alert error\n        else if (res.data.status == \"500\") {\n          alert(\"The network model is not valid!\");\n        }\n\n        location.replace(\"/canvas/\");\n      });\n    },\n    // Update Json accroding to user's operation\n    updateJson: function updateJson() {\n      document.getElementById(\"mySavedModel\").value = myDiagram.model.toJson();\n      myDiagram.isModified = false;\n    },\n    // Render Json on the canvas area\n    renderJson: function renderJson() {\n      myDiagram.model = go.Model.fromJson(document.getElementById(\"mySavedModel\").value);\n    },\n    // Render .py on the code area\n    renderCode: function renderCode() {},\n    // To make canvas tidy 200\n    layout: function layout() {\n      this.updateJson();\n      myDiagram.layoutDiagram(true);\n    },\n    // Go to train page 200\n    enterTrain: function enterTrain() {\n      location.replace(\"/train/\");\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;AAkTA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,EAAZ,MAAoB,eAApB,C,CACA;;AACA,OAAO,KAAKC,IAAZ,MAAsB,8BAAtB;AAEA,eAAe;AACbC,MAAI,EAAE,YADO;AAEbC,MAFa,kBAEN;AACL,WAAO;AACLC,gBAAU,EAAE;AACVC,YAAI,EAAE;AACJ,mBAAO,iBADH;AAEJC,uBAAa,EAAE,CACb;AACEC,oBAAQ,EAAE,MADZ;AAEEC,eAAG,EAAE,CAAC,CAFR;AAGEC,eAAG,EAAE;AAHP,WADa,EAMb;AACEF,oBAAQ,EAAE,KADZ;AAEEC,eAAG,EAAE,CAAC,CAFR;AAGEC,eAAG,EAAE;AAHP,WANa,EAWb;AACEF,oBAAQ,EAAE,MADZ;AAEEC,eAAG,EAAE,CAAC,CAFR;AAGEC,eAAG,EAAE;AAHP,WAXa,EAgBb;AACEF,oBAAQ,EAAE,IADZ;AAEEG,uBAAW,EAAE,CAAC;AAAEC,mBAAK,EAAE,KAAT;AAAgBC,mBAAK,EAAE;AAAvB,aAAD,CAFf;AAGEJ,eAAG,EAAE,CAAC,CAHR;AAIEC,eAAG,EAAE;AAJP,WAhBa,CAFX;AAyBJI,uBAAa,EAAE,CACb;AACEC,gBAAI,EAAE,CAAC,CADT;AAEEC,cAAE,EAAE,CAAC,CAFP;AAGEC,kBAAM,EAAE,CACN,kBADM,EACc,iBADd,EACiC,kBADjC,EAEN,iBAFM,EAEa,gBAFb,EAE+B,gBAF/B,EAGN,gBAHM,EAGY,gBAHZ;AAHV,WADa,EAUb;AACEF,gBAAI,EAAE,CAAC,CADT;AAEEC,cAAE,EAAE,CAAC,CAFP;AAGEC,kBAAM,EAAE,CACN,iBADM,EACa,gBADb,EAC+B,iBAD/B,EAEN,gBAFM,EAEY,iBAFZ,EAE+B,iBAF/B,EAGN,iBAHM,EAGa,iBAHb;AAHV,WAVa,EAmBb;AACEF,gBAAI,EAAE,CAAC,CADT;AAEEC,cAAE,EAAE,CAAC,CAFP;AAGEC,kBAAM,EAAE,CACN,gBADM,EACY,gBADZ,EAC8B,gBAD9B,EAEN,gBAFM,EAEY,kBAFZ,EAEgC,iBAFhC,EAGN,iBAHM,EAGa,iBAHb;AAHV,WAnBa;AAzBX,SADI;AAwDVC,YAAI,EAAE;AAxDI;AADP,KAAP;AA4DD,GA/DY;AAiEbC,SAjEa,qBAiEH;AACR;AACAjB,QAAI,CAACkB,YAAL;AAEA,SAAKf,UAAL,CAAgBC,IAAhB,GAAuBe,IAAI,CAACC,SAAL,CAAe,KAAKjB,UAAL,CAAgBC,IAA/B,CAAvB;AACA,QAAMiB,IAAItB,EAAE,CAACuB,WAAH,CAAeC,IAAzB,CALQ,CAKuB;;AAE/B,QAAIC,UAAS,GAAIH,CAAC,CAACtB,EAAE,CAAC0B,KAAJ,EAAW,QAAX,EAAqB;AACrC,SAAG,SADkC;AAErC,SAAG;AAFkC,KAArB,CAAlB;AAIA,QAAIC,SAAQ,GAAIL,CAAC,CAACtB,EAAE,CAAC0B,KAAJ,EAAW,QAAX,EAAqB;AACpC,SAAG,SADiC;AAEpC,SAAG;AAFiC,KAArB,CAAjB;AAIA,QAAIE,QAAO,GAAIN,CAAC,CAACtB,EAAE,CAAC0B,KAAJ,EAAW,QAAX,EAAqB;AACnC,SAAG,SADgC;AAEnC,SAAG;AAFgC,KAArB,CAAhB;AAIA,QAAIG,OAAM,GAAIP,CAAC,CAACtB,EAAE,CAAC0B,KAAJ,EAAW,QAAX,EAAqB;AAClC,SAAG,SAD+B;AAElC,SAAG;AAF+B,KAArB,CAAf;AAIA,QAAII,SAAQ,GAAIR,CAAC,CAACtB,EAAE,CAAC0B,KAAJ,EAAW,QAAX,EAAqB;AACpC,SAAG,SADiC;AAEpC,SAAG;AAFiC,KAArB,CAAjB;AAIA,QAAIK,OAAM,GAAI,wCAAd;AACA,QAAIC,SAAQ,GAAI,wCAAhB,CA5BQ,CA8BR;;AACA,aAASC,SAAT,GAAqB;AACnB,aAAO;AACLC,cAAM,EAAE,CADH;AAELC,YAAI,EAAEnC,EAAE,CAACoC,SAAH,CAAaC,OAFd;AAGLC,iBAAS,EAAE,QAHN;AAILC,gBAAQ,EAAE,IAJL;AAKLC,YAAI,EAAET;AALD,OAAP;AAOF;;AAEA,QAAMU,SAAQ,GAAInB,CAAC,CAACtB,EAAE,CAAC0C,OAAJ,EAAa,cAAb,EAA6B;AAC9CC,sBAAgB,EAAE3C,EAAE,CAAC0C,OAAH,CAAWE,OADiB;AAE9C,+BAAyB5C,EAAE,CAAC6C,WAAH,CAAeC,YAFM;AAG9CC,YAAM,EAAEzB,CAAC,CAACtB,EAAE,CAACgD,oBAAJ,EAA0B;AACjCC,iBAAS,EAAE,KADsB;AAEjCC,iBAAS,EAAE,KAFsB;AAGjCC,oBAAY,EAAE;AAHmB,OAA1B,CAHqC;AAQ9C,+BAAyB;AARqB,KAA7B,CAAnB;AAWA,QAAIC,8BAA6B,GAAI9B,CAAC,CACpCtB,EAAE,CAACqD,SADiC,EAEpC,MAFoC,EAGpC/B,CAAC,CAACtB,EAAE,CAACsD,KAAJ,EAAW;AACVC,UAAI,EAAE,IADI;AAEVC,YAAM,EAAE,SAFE;AAGVC,iBAAW,EAAE,CAHH;AAIVC,qBAAe,EAAE,CAAC,CAAD,EAAI,CAAJ;AAJP,KAAX,CAHmC,EASpCpC,CAAC,CAACtB,EAAE,CAAC2D,WAAJ,CATmC,CAAtC,CApDQ,CAgER;;AACAlB,aAAS,CAACmB,YAAV,GAAyBtC,CAAC,CACxBtB,EAAE,CAAC6D,IADqB,EAExB,MAFwB,EAGxB;AACEC,kBAAY,EAAE9D,EAAE,CAAC+D,IAAH,CAAQC;AADxB,KAHwB,EAMxB,IAAIhE,EAAE,CAACiE,OAAP,CAAe,UAAf,EAA2B,KAA3B,EAAkCjE,EAAE,CAACkE,KAAH,CAASC,KAA3C,EAAkDC,UAAlD,CACEpE,EAAE,CAACkE,KAAH,CAAS7C,SADX,CANwB,EASxB;AACEgD,gBAAU,EAAE,IADd;AAEEC,gCAA0B,EAAElB;AAF9B,KATwB,EAaxB;AACA9B,KAAC,CAACtB,EAAE,CAACsD,KAAJ,EAAW,WAAX,EAAwB;AACvBC,UAAI,EAAE9B,UADiB;AAEvB+B,YAAM,EAAE,IAFe;AAGvBe,YAAM,EAAE,EAHe;AAIvBC,kBAAY,EAAE,IAJS;AAKvBC,gBAAU,EAAE,IALW;AAMvBC,YAAM,EAAE,SANe;AAOvBC,wBAAkB,EAAE,EAPG;AAQvBC,0BAAoB,EAAE;AARC,KAAxB,CAduB,EAwBxBtD,CAAC,CACCtB,EAAE,CAACoC,SADJ,EAEC,MAFD,EAGC;AACEF,YAAM,EAAE,CADV;AAEEM,UAAI,EAAET,OAFR;AAGEQ,cAAQ,EAAE,IAHZ;AAIEsC,aAAO,EAAE,IAAI7E,EAAE,CAAC8E,IAAP,CAAY,EAAZ,EAAgBC,GAAhB;AAJX,KAHD,EASC,IAAI/E,EAAE,CAACiE,OAAP,CAAe,MAAf,EAAuB,MAAvB,EAA+BG,UAA/B,EATD,CAxBuB,CAA1B,CAjEQ,CAqGR;;AACA3B,aAAS,CAACuC,eAAV,CAA0BC,GAA1B,CACE,MADF,EAEE3D,CAAC,CACCtB,EAAE,CAAC6D,IADJ,EAEC,MAFD,EAGC;AACEC,kBAAY,EAAE9D,EAAE,CAAC+D,IAAH,CAAQC,MADxB;AAEE9B,YAAM,EAAE,IAAIlC,EAAE,CAACkF,MAAP,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB;AAFV,KAHD,EAOC,IAAIlF,EAAE,CAACiE,OAAP,CAAe,UAAf,EAA2B,KAA3B,EAAkCjE,EAAE,CAACkE,KAAH,CAASC,KAA3C,EAAkDC,UAAlD,CACEpE,EAAE,CAACkE,KAAH,CAAS7C,SADX,CAPD,EAUC;AACEgD,gBAAU,EAAE,IADd;AAEEC,gCAA0B,EAAElB;AAF9B,KAVD,EAcC9B,CAAC,CAACtB,EAAE,CAACsD,KAAJ,EAAW,QAAX,EAAqB;AACpBC,UAAI,EAAE3B,QADc;AAEpB2C,YAAM,EAAE,EAFY;AAGpBC,kBAAY,EAAE,IAHM;AAIpBE,YAAM,EAAE,SAJY;AAKpB;AACAlB,YAAM,EAAE,SANY;AAQpBC,iBAAW,EAAE;AARO,KAArB,CAdF,EAwBCnC,CAAC,CACCtB,EAAE,CAACoC,SADJ,EAEC,MAFD,EAGCH,SAAS,EAHV,EAIC;AACEuB,YAAM,EAAE,SADV;AAEEqB,aAAO,EAAE,IAAI7E,EAAE,CAAC8E,IAAP,CAAY,EAAZ,EAAgBC,GAAhB;AAFX,KAJD,EAQC,IAAI/E,EAAE,CAACiE,OAAP,CAAe,MAAf,EAAuB,MAAvB,EAA+BG,UAA/B,EARD,CAxBF,CAFH;AAuCA3B,aAAS,CAACuC,eAAV,CAA0BC,GAA1B,CACE,KADF,EAEE3D,CAAC,CACCtB,EAAE,CAAC6D,IADJ,EAEC,MAFD,EAGC;AACEC,kBAAY,EAAE9D,EAAE,CAAC+D,IAAH,CAAQC;AADxB,KAHD,EAMC,IAAIhE,EAAE,CAACiE,OAAP,CAAe,UAAf,EAA2B,KAA3B,EAAkCjE,EAAE,CAACkE,KAAH,CAASC,KAA3C,EAAkDC,UAAlD,CACEpE,EAAE,CAACkE,KAAH,CAAS7C,SADX,CAND,EASC;AACEgD,gBAAU,EAAE,IADd;AAEEC,gCAA0B,EAAElB;AAF9B,KATD,EAaC9B,CAAC,CAACtB,EAAE,CAACsD,KAAJ,EAAW,QAAX,EAAqB;AACpBC,UAAI,EAAE1B,OADc;AAEpB0C,YAAM,EAAE,EAFY;AAGpBE,gBAAU,EAAE,IAHQ;AAIpBC,YAAM,EAAE,SAJY;AAKpBE,0BAAoB,EAAE,EALF;AAMpBpB,YAAM,EAAE,SANY;AAOpBC,iBAAW,EAAE;AAPO,KAArB,CAbF,EAsBCnC,CAAC,CACCtB,EAAE,CAACoC,SADJ,EAEC,KAFD,EAGCH,SAAS,EAHV,EAIC;AACEuB,YAAM,EAAE,SADV;AAEEqB,aAAO,EAAE,IAAI7E,EAAE,CAAC8E,IAAP,CAAY,EAAZ,EAAgBC,GAAhB;AAFX,KAJD,EAQC,IAAI/E,EAAE,CAACiE,OAAP,CAAe,MAAf,EAAuB,MAAvB,EAA+BG,UAA/B,EARD,CAtBF,CAFH;AAqCA3B,aAAS,CAACuC,eAAV,CAA0BC,GAA1B,CACE,MADF,EAEE3D,CAAC,CACCtB,EAAE,CAAC6D,IADJ,EAEC,MAFD,EAGC;AACEC,kBAAY,EAAE9D,EAAE,CAAC+D,IAAH,CAAQC;AADxB,KAHD,EAMC,IAAIhE,EAAE,CAACiE,OAAP,CAAe,UAAf,EAA2B,KAA3B,EAAkCjE,EAAE,CAACkE,KAAH,CAASC,KAA3C,EAAkDC,UAAlD,CACEpE,EAAE,CAACkE,KAAH,CAAS7C,SADX,CAND,EASC;AACEgD,gBAAU,EAAE,IADd;AAEEC,gCAA0B,EAAElB;AAF9B,KATD,EAaC9B,CAAC,CAACtB,EAAE,CAACsD,KAAJ,EAAW,SAAX,EAAsB;AACrBC,UAAI,EAAE5B,SADe;AAErB4C,YAAM,EAAE,EAFa;AAGrBC,kBAAY,EAAE,IAHO;AAIrBC,gBAAU,EAAE,IAJS;AAKrBC,YAAM,EAAE,SALa;AAMrBE,0BAAoB,EAAE,EAND;AAOrBpB,YAAM,EAAE,SAPa;AAQrBC,iBAAW,EAAE;AARQ,KAAtB,CAbF,EAuBCnC,CAAC,CACCtB,EAAE,CAACoC,SADJ,EAEC,MAFD,EAGCH,SAAS,EAHV,EAIC;AACEuB,YAAM,EAAE,SADV;AAEE;AACA;AACAqB,aAAO,EAAE,IAAI7E,EAAE,CAAC8E,IAAP,CAAY,EAAZ,EAAgBC,GAAhB;AAJX,KAJD,EAUC,IAAI/E,EAAE,CAACiE,OAAP,CAAe,MAAf,EAAuB,MAAvB,EAA+BG,UAA/B,EAVD,CAvBF,CAFH;AAwCA,QAAIe,cAAa,GAAI7D,CAAC,CACpBtB,EAAE,CAACoF,KADiB,EAEpB9D,CAAC,CACCtB,EAAE,CAACoF,KADJ,EAEC,OAFD,EAGC;AACEC,aAAO,EAAE,IAAIrF,EAAE,CAAC8E,IAAP,CAAY,GAAZ,EAAiB,GAAjB,CADX;AAEE5C,YAAM,EAAE,IAAIlC,EAAE,CAACkF,MAAP,CAAc,CAAd,EAAiB,CAAjB,EAAoB,EAApB,EAAwB,CAAxB,CAFV;AAGEI,sBAAgB,EAAEtF,EAAE,CAAC+D,IAAH,CAAQC;AAH5B,KAHD,EAQC1C,CAAC,CAACtB,EAAE,CAACuF,mBAAJ,EAAyB;AACxBC,YAAM,EAAE,CADgB;AAExBC,WAAK,EAAE;AAFiB,KAAzB,CARF,EAYCnE,CAAC,CACCtB,EAAE,CAACoC,SADJ,EAEC,UAFD,EAGC;AACEF,YAAM,EAAE,IAAIlC,EAAE,CAACkF,MAAP,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,CADV;AAEEG,aAAO,EAAE,IAAIrF,EAAE,CAAC8E,IAAP,CAAY,GAAZ,EAAiBC,GAAjB,CAFX;AAGE5C,UAAI,EAAEnC,EAAE,CAACoC,SAAH,CAAaC,OAHrB;AAIE;AACAE,cAAQ,EAAE,IALZ;AAMEC,UAAI,EAAER,SANR;AAOE0D,SAAG,EAAE,CAPP;AAQEF,YAAM,EAAE,CARV;AASEhC,YAAM,EAAE;AATV,KAHD,EAcC,IAAIxD,EAAE,CAACiE,OAAP,CAAe,MAAf,EAAuB,OAAvB,EAAgCG,UAAhC,EAdD,CAZF,EA6BC9C,CAAC,CACCtB,EAAE,CAACoC,SADJ,EAEC,OAFD,EAGC;AACEF,YAAM,EAAE,IAAIlC,EAAE,CAACkF,MAAP,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,CADV;AAEEG,aAAO,EAAE,IAAIrF,EAAE,CAAC8E,IAAP,CAAY,GAAZ,EAAiBC,GAAjB,CAFX;AAGE5C,UAAI,EAAEnC,EAAE,CAACoC,SAAH,CAAaC,OAHrB;AAIE;AACAE,cAAQ,EAAE,IALZ;AAMEiB,YAAM,EAAE,SANV;AAOEhB,UAAI,EAAER,SAPR;AAQE0D,SAAG,EAAE,CARP;AASEF,YAAM,EAAE;AATV,KAHD,EAcC,IAAIxF,EAAE,CAACiE,OAAP,CAAe,MAAf,EAAuB,OAAvB,EAAgCG,UAAhC,EAdD,CA7BF,EA8CC9C,CAAC,CACCtB,EAAE,CAACoC,SADJ,EAEC,WAFD,EAGC;AACEF,YAAM,EAAE,IAAIlC,EAAE,CAACkF,MAAP,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,CADV;AAEEG,aAAO,EAAE,IAAIrF,EAAE,CAAC8E,IAAP,CAAY,GAAZ,EAAiBC,GAAjB,CAFX;AAGE5C,UAAI,EAAEnC,EAAE,CAACoC,SAAH,CAAaC,OAHrB;AAIE;AACAE,cAAQ,EAAE,IALZ;AAMEC,UAAI,EAAER,SANR;AAOEwB,YAAM,EAAE,SAPV;AAQEkC,SAAG,EAAE,CARP;AASEF,YAAM,EAAE;AATV,KAHD,EAcC,IAAIxF,EAAE,CAACiE,OAAP,CAAe,MAAf,EAAuB,OAAvB,EAAgCG,UAAhC,EAdD,CA9CF,EA+DC9C,CAAC,CACCtB,EAAE,CAACoC,SADJ,EAEC,OAFD,EAGC;AACEF,YAAM,EAAE,IAAIlC,EAAE,CAACkF,MAAP,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,CADV;AAEEG,aAAO,EAAE,IAAIrF,EAAE,CAAC8E,IAAP,CAAY,GAAZ,EAAiBC,GAAjB,CAFX;AAGE5C,UAAI,EAAEnC,EAAE,CAACoC,SAAH,CAAaC,OAHrB;AAIE;AACAE,cAAQ,EAAE,IALZ;AAMEC,UAAI,EAAER,SANR;AAOEwB,YAAM,EAAE,SAPV;AAQEkC,SAAG,EAAE,CARP;AASEF,YAAM,EAAE;AATV,KAHD,EAcC,IAAIxF,EAAE,CAACiE,OAAP,CAAe,MAAf,EAAuB,OAAvB,EAAgCG,UAAhC,EAdD,CA/DF,CAFmB,CAiFlB;AAjFkB,KAAtB;AAoFA3B,aAAS,CAACuC,eAAV,CAA0BC,GAA1B,CACE,IADF,EAEE3D,CAAC,CACCtB,EAAE,CAAC6D,IADJ,EAEC,MAFD,EAGC;AACEC,kBAAY,EAAE9D,EAAE,CAAC+D,IAAH,CAAQC;AADxB,KAHD,EAMC,IAAIhE,EAAE,CAACiE,OAAP,CAAe,UAAf,EAA2B,KAA3B,EAAkCjE,EAAE,CAACkE,KAAH,CAASC,KAA3C,EAAkDC,UAAlD,CACEpE,EAAE,CAACkE,KAAH,CAAS7C,SADX,CAND,EASC;AACEgD,gBAAU,EAAE,IADd;AAEEC,gCAA0B,EAAElB;AAF9B,KATD,EAaC9B,CAAC,CAACtB,EAAE,CAACsD,KAAJ,EAAW,kBAAX,EAA+B;AAC9BC,UAAI,EAAE9B,UADwB;AAE9B+B,YAAM,EAAE,SAFsB;AAG9BC,iBAAW,EAAE,CAHiB;AAI9Bc,YAAM,EAAE,EAJsB;AAK9BC,kBAAY,EAAE,IALgB;AAM9BC,gBAAU,EAAE,IANkB;AAO9BC,YAAM,EAAE,SAPsB;AAQ9BC,wBAAkB,EAAE,EARU;AAS9BC,0BAAoB,EAAE;AATQ,KAA/B,CAbF,EAwBCtD,CAAC,CACCtB,EAAE,CAACoF,KADJ,EAEC,UAFD,EAGC;AACEE,sBAAgB,EAAEtF,EAAE,CAAC+D,IAAH,CAAQC;AAD5B,KAHD,EAOC1C,CAAC,CACCtB,EAAE,CAACoC,SADJ,EAEC,IAFD,EAGCH,SAAS,EAHV,EAIC;AACEuB,YAAM,EAAE,SADV;AAEEtB,YAAM,EAAE,IAAIlC,EAAE,CAACkF,MAAP,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,CAFV;AAGEL,aAAO,EAAE,IAAI7E,EAAE,CAAC8E,IAAP,CAAY,GAAZ,EAAiBC,GAAjB,CAHX,CAIE;;AAJF,KAJD,EAUC,IAAI/E,EAAE,CAACiE,OAAP,CAAe,MAAf,EAAuB,MAAvB,EAA+BG,UAA/B,EAVD,CAPF,EAoBC9C,CAAC,CACCtB,EAAE,CAACoF,KADJ,EAEC,UAFD,EAGC;AACEE,sBAAgB,EAAEtF,EAAE,CAAC+D,IAAH,CAAQ4B,OAD5B;AAEEC,kBAAY,EAAET;AAFhB,KAHD,EAOC,IAAInF,EAAE,CAACiE,OAAP,CAAe,WAAf,EAA4B,aAA5B,EAA2CG,UAA3C,EAPD,CApBF,CAxBF,CAFH;AA2DA,QAAIyB,8BAA6B,GAAIvE,CAAC,CACpCtB,EAAE,CAACqD,SADiC,EAEpC,MAFoC,EAGpC/B,CAAC,CACCtB,EAAE,CAACsD,KADJ,EAEC;AACA;AACEwC,iBAAW,EAAE,IADf;AAEEvC,UAAI,EAAE,IAFR;AAGEC,YAAM,EAAE,aAHV;AAIEC,iBAAW,EAAE;AAJf,KAHD,CAHmC,CAYlC;AAZkC,KAAtC,CAzWQ,CAuXR;;AACAhB,aAAS,CAACsD,YAAV,GAAyBzE,CAAC,CACxBtB,EAAE,CAACgG,IADqB,EACf;AACT;AACE3B,gBAAU,EAAE,IADd;AAEEC,gCAA0B,EAAEuB;AAF9B,KAFwB,EAMxB,IAAI7F,EAAE,CAACiE,OAAP,CAAe,QAAf,EAAyBG,UAAzB,EANwB,EAOxB;AACE;AACA6B,mBAAa,EAAE;AAFjB,KAPwB,EAWxB;AACA3E,KAAC,CACCtB,EAAE,CAACsD,KADJ,EACW;AACV;AACEE,YAAM,EAAE,SADV;AAEEC,iBAAW,EAAE;AAFf,KAFD,CAZuB,EAmBxBnC,CAAC,CACCtB,EAAE,CAACsD,KADJ,EACW;AACV;AACE4C,aAAO,EAAE,MADX;AAEE3C,UAAI,EAAE,SAFR;AAGEC,YAAM,EAAE,IAHV;AAIE2C,WAAK,EAAE;AAJT,KAFD,CAnBuB,CAA1B;AA8BA1D,aAAS,CAACuC,eAAV,CAA0BC,GAA1B,CACE,KADF,EAEE3D,CAAC,CACCtB,EAAE,CAAC6D,IADJ,EAEC,MAFD,EAGC;AACEC,kBAAY,EAAE9D,EAAE,CAAC+D,IAAH,CAAQC;AADxB,KAHD,EAMC,IAAIhE,EAAE,CAACiE,OAAP,CAAe,UAAf,EAA2B,KAA3B,EAAkCjE,EAAE,CAACkE,KAAH,CAASC,KAA3C,EAAkDC,UAAlD,CACEpE,EAAE,CAACkE,KAAH,CAAS7C,SADX,CAND,EASC;AACEgD,gBAAU,EAAE,IADd;AAEEC,gCAA0B,EAAElB;AAF9B,KATD,EAaC9B,CAAC,CAACtB,EAAE,CAACsD,KAAJ,EAAW,kBAAX,EAA+B;AAC9BC,UAAI,EAAEzB,SADwB;AAE9B0B,YAAM,EAAE,SAFsB;AAG9BC,iBAAW,EAAE;AAHiB,KAA/B,CAbF,EAkBCnC,CAAC,CACCtB,EAAE,CAACoC,SADJ,EAEC,oBAFD,EAGCH,SAAS,EAHV,EAIC;AACEC,YAAM,EAAE,CADV;AAEEmD,aAAO,EAAE,IAAIrF,EAAE,CAAC8E,IAAP,CAAY,GAAZ,EAAiBC,GAAjB,CAFX;AAGE5C,UAAI,EAAEnC,EAAE,CAACoC,SAAH,CAAaC,OAHrB;AAIEE,cAAQ,EAAE,IAJZ;AAKEiB,YAAM,EAAE,SALV;AAMEhB,UAAI,EAAER;AANR,KAJD,EAYC,IAAIhC,EAAE,CAACiE,OAAP,CAAe,MAAf,EAAuB,MAAvB,EAA+BG,UAA/B,EAZD,CAlBF,CAgCC;AAhCD,KAFH;AAsCA3B,aAAS,CAACuC,eAAV,CAA0BC,GAA1B,CACE,KADF,EAEE3D,CAAC,CACCtB,EAAE,CAAC6D,IADJ,EAEC,MAFD,EAGC;AACEC,kBAAY,EAAE9D,EAAE,CAAC+D,IAAH,CAAQC;AADxB,KAHD,EAMC,IAAIhE,EAAE,CAACiE,OAAP,CAAe,UAAf,EAA2B,KAA3B,EAAkCjE,EAAE,CAACkE,KAAH,CAASC,KAA3C,EAAkDC,UAAlD,CACEpE,EAAE,CAACkE,KAAH,CAAS7C,SADX,CAND,EASC;AACEgD,gBAAU,EAAE,IADd;AAEEC,gCAA0B,EAAElB;AAF9B,KATD,EAaC9B,CAAC,CAACtB,EAAE,CAACsD,KAAJ,EAAW,kBAAX,EAA+B;AAC9BC,UAAI,EAAEzB,SADwB;AAE9B0B,YAAM,EAAE,SAFsB;AAG9BC,iBAAW,EAAE;AAHiB,KAA/B,CAbF,EAkBCnC,CAAC,CACCtB,EAAE,CAACoC,SADJ,EAEC,oBAFD,EAGCH,SAAS,EAHV,EAIC;AACEC,YAAM,EAAE,CADV;AAEEmD,aAAO,EAAE,IAAIrF,EAAE,CAAC8E,IAAP,CAAY,GAAZ,EAAiBC,GAAjB,CAFX;AAGE5C,UAAI,EAAEnC,EAAE,CAACoC,SAAH,CAAaC,OAHrB;AAIEE,cAAQ,EAAE,IAJZ;AAKEiB,YAAM,EAAE,SALV;AAMEhB,UAAI,EAAER;AANR,KAJD,EAYC,IAAIhC,EAAE,CAACiE,OAAP,CAAe,MAAf,EAAuB,MAAvB,EAA+BG,UAA/B,EAZD,CAlBF,CAgCC;AAhCD,KAFH;AAsCA3B,aAAS,CAACuC,eAAV,CAA0BC,GAA1B,CACE,MADF,EAEE3D,CAAC,CACCtB,EAAE,CAAC6D,IADJ,EAEC,MAFD,EAGC;AACEC,kBAAY,EAAE9D,EAAE,CAAC+D,IAAH,CAAQC;AADxB,KAHD,EAMC,IAAIhE,EAAE,CAACiE,OAAP,CAAe,UAAf,EAA2B,KAA3B,EAAkCjE,EAAE,CAACkE,KAAH,CAASC,KAA3C,EAAkDC,UAAlD,CACEpE,EAAE,CAACkE,KAAH,CAAS7C,SADX,CAND,EASC;AACEgD,gBAAU,EAAE,IADd;AAEEC,gCAA0B,EAAElB;AAF9B,KATD,EAaC9B,CAAC,CAACtB,EAAE,CAACsD,KAAJ,EAAW,kBAAX,EAA+B;AAC9BC,UAAI,EAAEzB,SADwB;AAE9B0B,YAAM,EAAE,SAFsB;AAG9BC,iBAAW,EAAE;AAHiB,KAA/B,CAbF,EAkBCnC,CAAC,CACCtB,EAAE,CAACoC,SADJ,EAEC,qBAFD,EAGCH,SAAS,EAHV,EAIC;AACEC,YAAM,EAAE,CADV;AAEEmD,aAAO,EAAE,IAAIrF,EAAE,CAAC8E,IAAP,CAAY,GAAZ,EAAiBC,GAAjB,CAFX;AAGE5C,UAAI,EAAEnC,EAAE,CAACoC,SAAH,CAAaC,OAHrB;AAIEE,cAAQ,EAAE,IAJZ;AAKEiB,YAAM,EAAE,SALV;AAMEhB,UAAI,EAAER;AANR,KAJD,EAYC,IAAIhC,EAAE,CAACiE,OAAP,CAAe,MAAf,EAAuB,MAAvB,EAA+BG,UAA/B,EAZD,CAlBF,CAgCC;AAhCD,KAFH;AAsCA3B,aAAS,CAACuC,eAAV,CAA0BC,GAA1B,CACE,SADF,EAEE3D,CAAC,CACCtB,EAAE,CAAC6D,IADJ,EAEC,MAFD,EAGC;AACEC,kBAAY,EAAE9D,EAAE,CAAC+D,IAAH,CAAQC;AADxB,KAHD,EAMC,IAAIhE,EAAE,CAACiE,OAAP,CAAe,UAAf,EAA2B,KAA3B,EAAkCjE,EAAE,CAACkE,KAAH,CAASC,KAA3C,EAAkDC,UAAlD,CACEpE,EAAE,CAACkE,KAAH,CAAS7C,SADX,CAND,EASC;AACEgD,gBAAU,EAAE,IADd;AAEEC,gCAA0B,EAAElB;AAF9B,KATD,EAaC9B,CAAC,CAACtB,EAAE,CAACsD,KAAJ,EAAW,kBAAX,EAA+B;AAC9BC,UAAI,EAAEzB,SADwB;AAE9B0B,YAAM,EAAE,SAFsB;AAG9BC,iBAAW,EAAE;AAHiB,KAA/B,CAbF,EAkBCnC,CAAC,CACCtB,EAAE,CAACoC,SADJ,EAEC,wBAFD,EAGCH,SAAS,EAHV,EAIC;AACEC,YAAM,EAAE,CADV;AAEEmD,aAAO,EAAE,IAAIrF,EAAE,CAAC8E,IAAP,CAAY,GAAZ,EAAiBC,GAAjB,CAFX;AAGE5C,UAAI,EAAEnC,EAAE,CAACoC,SAAH,CAAaC,OAHrB;AAIEE,cAAQ,EAAE,IAJZ;AAKEiB,YAAM,EAAE,SALV;AAMEhB,UAAI,EAAER;AANR,KAJD,EAYC,IAAIhC,EAAE,CAACiE,OAAP,CAAe,MAAf,EAAuB,MAAvB,EAA+BG,UAA/B,EAZD,CAlBF,CAgCC;AAhCD,KAFH;AAsCA3B,aAAS,CAACuC,eAAV,CAA0BC,GAA1B,CACE,iBADF,EAEE3D,CAAC,CACCtB,EAAE,CAAC6D,IADJ,EAEC,MAFD,EAGC;AACEC,kBAAY,EAAE9D,EAAE,CAAC+D,IAAH,CAAQC;AADxB,KAHD,EAMC,IAAIhE,EAAE,CAACiE,OAAP,CAAe,UAAf,EAA2B,KAA3B,EAAkCjE,EAAE,CAACkE,KAAH,CAASC,KAA3C,EAAkDC,UAAlD,CACEpE,EAAE,CAACkE,KAAH,CAAS7C,SADX,CAND,EASC;AACEgD,gBAAU,EAAE,IADd;AAEEC,gCAA0B,EAAElB;AAF9B,KATD,EAaC9B,CAAC,CAACtB,EAAE,CAACsD,KAAJ,EAAW,kBAAX,EAA+B;AAC9BC,UAAI,EAAEzB,SADwB;AAE9B0B,YAAM,EAAE,SAFsB;AAG9BC,iBAAW,EAAE;AAHiB,KAA/B,CAbF,EAkBCnC,CAAC,CACCtB,EAAE,CAACoC,SADJ,EAEC,iCAFD,EAGCH,SAAS,EAHV,EAIC;AACEC,YAAM,EAAE,CADV;AAEEmD,aAAO,EAAE,IAAIrF,EAAE,CAAC8E,IAAP,CAAY,GAAZ,EAAiBC,GAAjB,CAFX;AAGE5C,UAAI,EAAEnC,EAAE,CAACoC,SAAH,CAAaC,OAHrB;AAIEE,cAAQ,EAAE,IAJZ;AAKEiB,YAAM,EAAE,SALV;AAMEhB,UAAI,EAAER;AANR,KAJD,EAYC,IAAIhC,EAAE,CAACiE,OAAP,CAAe,MAAf,EAAuB,MAAvB,EAA+BG,UAA/B,EAZD,CAlBF,CAgCC;AAhCD,KAFH;AAsCA,QAAIgC,OAAM,GAAI9E,CAAC,CACbtB,EAAE,CAACqG,OADU,EAEb,cAFa,EAEG;AAChB;AACE;AACArB,qBAAe,EAAEvC,SAAS,CAACuC,eAF7B;AAGEsB,eAAS,EAAEtG,EAAE,CAAC0C,OAAH,CAAWE,OAHxB,CAGiC;;AAHjC,KAHa,CAAf;AAUAwD,WAAO,CAACG,KAAR,CAAcjG,aAAd,GAA8B,CAC5B;AACEC,cAAQ,EAAE;AADZ,KAD4B,EAI5B;AACEA,cAAQ,EAAE;AADZ,KAJ4B,EAO5B;AACEA,cAAQ,EAAE,IADZ;AAEEG,iBAAW,EAAE,CAAC,EAAD;AAFf,KAP4B,EAW5B;AACEH,cAAQ,EAAE;AADZ,KAX4B,EAc5B;AACEA,cAAQ,EAAE;AADZ,KAd4B,EAiB5B;AACEA,cAAQ,EAAE;AADZ,KAjB4B,EAoB5B;AACEA,cAAQ,EAAE;AADZ,KApB4B,EAuB5B;AACEA,cAAQ,EAAE;AADZ,KAvB4B,EA0B5B;AACEA,cAAQ,EAAE;AADZ,KA1B4B,CAA9B;AA+BAiG,UAAM,CAAC/D,SAAP,GAAmBA,SAAnB;AACD,GA/rBY;AAisBbgE,SAAO,EAAE;AACP;AACAC,WAFO,qBAEG;AAAA;;AACR3G,WAAK,CAAC;AACJ4G,cAAM,EAAE,KADJ;AAEJC,WAAG,EAAE,aAAaC,YAAY,CAACC,GAA1B,GAAgC,GAAhC,GAAsCD,YAAY,CAACE,GAAnD,GAAyD;AAF1D,OAAD,CAAL,CAGGC,IAHH,CAGQ,UAACC,GAAD,EAAS;AACfC,eAAO,CAACC,GAAR,CAAYF,GAAG,CAAC9G,IAAhB;;AACA,YAAI8G,GAAG,CAAC9G,IAAJ,CAASiH,MAAT,IAAmB,GAAvB,EAA4B;AAC1B;AACA,eAAI,CAACC,UAAL;;AACA,eAAI,CAACC,UAAL;AACF,SAJA,MAIO;AACLC,eAAK,CAAC,uBAAD,CAAL;AACF;AACD,OAZD;AAaD,KAhBM;AAkBPC,WAlBO,qBAkBG;AAAA;;AACRzH,WAAK,CAAC;AACJ4G,cAAM,EAAE,KADJ;AAEJC,WAAG,EACD,qBAAqBC,YAAY,CAACC,GAAlC,GAAwC,GAAxC,GAA8CD,YAAY,CAACE,GAA3D,GAAiE,GAH/D;AAIJU,oBAAY,EAAE;AAJV,OAAD,CAAL,CAKGT,IALH,CAKQ,UAACC,GAAD,EAAS;AACfC,eAAO,CAACC,GAAR,CAAYF,GAAG,CAAC9G,IAAhB;;AACA,YAAI8G,GAAG,CAAC9G,IAAJ,CAASiH,MAAT,IAAmB,GAAvB,EAA4B;AAC1B,gBAAI,CAACM,WAAL,CAAiBrH,IAAjB,GAAwB4G,GAAG,CAAC9G,IAA5B;AACF,SAFA,MAEO;AACLoH,eAAK,CAAC,0BAAD,CAAL;AACF;AACD,OAZD;AAaD,KAhCM;AAkCPI,aAlCO,uBAkCK;AAAA;;AACV5H,WAAK,CAAC;AACJ4G,cAAM,EAAE,KADJ;AAEJC,WAAG,EACD,uBACAC,YAAY,CAACC,GADb,GAEA,GAFA,GAGAD,YAAY,CAACE,GAHb,GAIA,GAPE;AAQJU,oBAAY,EAAE;AARV,OAAD,CAAL,CASGT,IATH,CASQ,UAACC,GAAD,EAAS;AACfC,eAAO,CAACC,GAAR,CAAYF,GAAG,CAAC9G,IAAhB;;AACA,YAAI8G,GAAG,CAAC9G,IAAJ,CAASiH,MAAT,IAAmB,GAAvB,EAA4B;AAC1B,gBAAI,CAACM,WAAL,CAAiBzG,IAAjB,GAAwBgG,GAAG,CAAChG,IAA5B;AACF,SAFA,MAEO;AACLsG,eAAK,CAAC,4BAAD,CAAL;AACF;AACD,OAhBD;AAiBD,KApDM;AAsDPK,YAtDO,sBAsDI;AACT7H,WAAK,CAAC;AACJ4G,cAAM,EAAE,KADJ;AAEJC,WAAG,EACD,sBAAsBC,YAAY,CAACC,GAAnC,GAAyC,GAAzC,GAA+CD,YAAY,CAACE,GAA5D,GAAkE,GAHhE;AAIJU,oBAAY,EAAE;AAJV,OAAD,CAAL,CAKGT,IALH,CAKQ,UAACC,GAAD,EAAS;AACfC,eAAO,CAACC,GAAR,CAAYF,GAAG,CAAC9G,IAAhB;;AACA,YAAI8G,GAAG,CAAC9G,IAAJ,CAASiH,MAAT,IAAmB,GAAvB,EAA4B;AAC1B,cAAIS,IAAG,GAAI,IAAIC,IAAJ,CAAS,CAACb,GAAD,CAAT,EAAgB;AACzBc,gBAAI,EAAE;AADmB,WAAhB,CAAX;AAIA,cAAMnB,GAAE,GAAIoB,GAAG,CAACC,eAAJ,CAAoBJ,IAApB,CAAZ;AACA,cAAMK,IAAIC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAV;AACAF,WAAC,CAACG,KAAF,CAAQC,OAAR,GAAkB,MAAlB;AACAJ,WAAC,CAACK,IAAF,GAAS3B,GAAT;AACAsB,WAAC,CAACN,QAAF,GAAa,gBAAb;AACAM,WAAC,CAACM,KAAF;AACAR,aAAG,CAACS,eAAJ,CAAoB7B,GAApB;AACF,SAZA,MAYO;AACLW,eAAK,CAAC,0BAAD,CAAL;AACF;AACD,OAtBD;AAuBD,KA9EM;AAgFP;AACAmB,WAjFO,qBAiFG;AACR;AACA,WAAKC,UAAL,GAFQ,CAIR;;AACA,WAAKvI,UAAL,CAAgBC,IAAhB,GAAuBoC,SAAS,CAAC8D,KAAV,CAAgBqC,MAAhB,EAAvB;AAEA,UAAIC,QAAO,GAAI,IAAIC,QAAJ,EAAf;AACAD,cAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwB,KAAK3I,UAAL,CAAgBC,IAAxC;AACAN,WAAK,CAAC;AACJ4G,cAAM,EAAE,MADJ;AAEJC,WAAG,EACD,qBAAqBC,YAAY,CAACC,GAAlC,GAAwC,GAAxC,GAA8CD,YAAY,CAACE,GAA3D,GAAiE,GAH/D;AAIJ5G,YAAI,EAAE0I;AAJF,OAAD,CAAL,CAKG7B,IALH,CAKQ,UAACC,GAAD,EAAS;AACfC,eAAO,CAACC,GAAR,CAAYF,GAAG,CAAC9G,IAAhB,EADe,CAEf;;AACA,YAAI8G,GAAG,CAAC9G,IAAJ,CAASiH,MAAT,IAAmB,KAAvB,EAA8B;AAC5BF,iBAAO,CAACC,GAAR,CAAY,aAAZ;AACF,SAFA,CAGA;AAHA,aAIK,IAAIF,GAAG,CAAC9G,IAAJ,CAASiH,MAAT,IAAmB,KAAvB,EAA8B;AACjCG,eAAK,CAAC,iCAAD,CAAL;AACF;;AACAyB,gBAAQ,CAACC,OAAT,CAAiB,UAAjB;AACD,OAhBD;AAiBD,KA3GM;AA6GP;AACAN,cA9GO,wBA8GM;AACXR,cAAQ,CAACe,cAAT,CAAwB,cAAxB,EAAwCC,KAAxC,GAAgD1G,SAAS,CAAC8D,KAAV,CAAgBqC,MAAhB,EAAhD;AACAnG,eAAS,CAAC2G,UAAV,GAAuB,KAAvB;AACD,KAjHM;AAmHP;AACA/B,cApHO,wBAoHM;AACX5E,eAAS,CAAC8D,KAAV,GAAkBvG,EAAE,CAACqJ,KAAH,CAASC,QAAT,CAChBnB,QAAQ,CAACe,cAAT,CAAwB,cAAxB,EAAwCC,KADxB,CAAlB;AAGD,KAxHM;AA0HP;AACA7B,cA3HO,wBA2HM,CAAE,CA3HR;AA6HP;AACAvE,UA9HO,oBA8HE;AACP,WAAK4F,UAAL;AACAlG,eAAS,CAAC8G,aAAV,CAAwB,IAAxB;AACD,KAjIM;AAmIP;AACAC,cApIO,wBAoIM;AACXR,cAAQ,CAACC,OAAT,CAAiB,SAAjB;AACD;AAtIM;AAjsBI,CAAf","names":["axios","go","hljs","name","data","canvasData","file","nodeDataArray","category","key","loc","reasonsList","text1","text3","linkDataArray","from","to","points","code","mounted","highlightAll","JSON","stringify","$","GraphObject","make","yellowgrad","Brush","greengrad","bluegrad","redgrad","whitegrad","bigfont","smallfont","textStyle","margin","wrap","TextBlock","WrapFit","textAlign","editable","font","myDiagram","Diagram","initialAutoScale","Uniform","LinkingTool","ForwardsOnly","layout","LayeredDigraphLayout","isInitial","isOngoing","layerSpacing","nodeSelectionAdornmentTemplate","Adornment","Shape","fill","stroke","strokeWidth","strokeDashArray","Placeholder","nodeTemplate","Node","locationSpot","Spot","Center","Binding","Point","parse","makeTwoWay","selectable","selectionAdornmentTemplate","portId","fromLinkable","toLinkable","cursor","toEndSegmentLength","fromEndSegmentLength","minSize","Size","NaN","nodeTemplateMap","add","Margin","reasonTemplate","Panel","maxSize","defaultAlignment","RowColumnDefinition","column","width","row","TopLeft","itemTemplate","linkSelectionAdornmentTemplate","isPanelMain","linkTemplate","Link","toShortLength","toArrow","scale","palette","Palette","autoScale","model","window","methods","getData","method","url","localStorage","uid","pid","then","res","console","log","status","renderJson","renderCode","alert","getJson","responseType","canvas_data","getPython","download","blob","Blob","type","URL","createObjectURL","a","document","createElement","style","display","href","click","revokeObjectURL","compile","updateJson","toJson","formData","FormData","append","location","replace","getElementById","value","isModified","Model","fromJson","layoutDiagram","enterTrain"],"sourceRoot":"","sources":["C:\\qp_box\\_CodeField\\Comp208-Neural-Lego\\frontend\\src\\views\\CanvasView.vue"],"sourcesContent":["<template>\r\n  <div id=\"page-top\" class=\"body\">\r\n    <!-- Page Wrapper -->\r\n    <div id=\"wrapper\">\r\n      <!-- Sidebar -->\r\n      <ul\r\n        class=\"navbar-nav bg-gradient-primary sidebar sidebar-dark accordion\"\r\n        id=\"accordionSidebar\"\r\n      >\r\n        <!-- Sidebar - Brand -->\r\n\r\n        <a\r\n          class=\"sidebar-brand d-flex align-items-center justify-content-center\"\r\n        >\r\n          <div class=\"sidebar-brand-text mx-3\">NEURAL LEGO</div>\r\n        </a>\r\n\r\n        <!-- Divider -->\r\n        <hr class=\"sidebar-divider my-0\" />\r\n\r\n        <!-- Nav Item - Dashboard -->\r\n        <li class=\"nav-item\">\r\n          <a class=\"nav-link\" href=\"/profile\">\r\n            <i class=\"fas fa-fw fa-user\"></i>\r\n            <span>User</span></a\r\n          >\r\n        </li>\r\n\r\n        <!-- Divider -->\r\n        <hr class=\"sidebar-divider my-0\" />\r\n\r\n        <!-- Nav Item - Dashboard -->\r\n        <li class=\"nav-item\">\r\n          <a class=\"nav-link\" href=\"/project\">\r\n            <i class=\"fas fa-fw fa-folder\"></i>\r\n            <span>Project</span></a\r\n          >\r\n        </li>\r\n\r\n        <li class=\"nav-item\">\r\n          <a class=\"nav-link\" href=\"/dataset\">\r\n            <i class=\"fas fa-fw fa-folder\"></i>\r\n            <span>Dataset</span></a\r\n          >\r\n        </li>\r\n\r\n        <!-- Divider -->\r\n        <hr class=\"sidebar-divider my-0\" />\r\n\r\n        <!-- Nav Item - Dashboard -->\r\n        <li class=\"nav-item\">\r\n          <a class=\"nav-link\" href=\"/template\">\r\n            <i class=\"fas fa-fw fa-table\"></i>\r\n            <span>Template</span></a\r\n          >\r\n        </li>\r\n\r\n        <hr class=\"sidebar-divider my-0\" />\r\n\r\n        <!-- Nav Item - Dashboard -->\r\n        <li class=\"nav-item active\">\r\n          <a class=\"nav-link\" href=\"/canvas\">\r\n            <i class=\"fas fa-fw fa-palette\"></i>\r\n            <span>Canvas</span></a\r\n          >\r\n        </li>\r\n\r\n        <hr class=\"sidebar-divider my-0\" />\r\n\r\n        <!-- Nav Item - Dashboard -->\r\n        <li class=\"nav-item\">\r\n          <a class=\"nav-link\" href=\"/register\">\r\n            <i class=\"fas fa-fw fa-arrow-circle-left\"></i>\r\n            <span>Log out</span></a\r\n          >\r\n        </li>\r\n        <!-- Divider -->\r\n        <hr class=\"sidebar-divider d-none d-md-block\" />\r\n      </ul>\r\n      <!-- End of Sidebar -->\r\n\r\n      <!-- Content Wrapper -->\r\n      <div id=\"content-wrapper\" class=\"d-flex flex-column\">\r\n        <!-- Main Content -->\r\n        <div id=\"content\">\r\n          <!-- Topbar -->\r\n          <nav\r\n            class=\"\r\n              navbar navbar-expand navbar-light\r\n              bg-white\r\n              topbar\r\n              mb-4\r\n              static-top\r\n              shadow\r\n            \"\r\n          >\r\n            <!-- Sidebar Toggle (Topbar) -->\r\n            <button\r\n              id=\"sidebarToggleTop\"\r\n              class=\"btn btn-link d-md-none rounded-circle mr-3\"\r\n            >\r\n              <i class=\"fa fa-bars\"></i>\r\n            </button>\r\n\r\n            <!-- Topbar Search -->\r\n            <form\r\n              class=\"\r\n                d-none d-sm-inline-block\r\n                form-inline\r\n                mr-auto\r\n                ml-md-3\r\n                my-2 my-md-0\r\n                mw-100\r\n                navbar-search\r\n              \"\r\n            >\r\n              <div class=\"input-group\">\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control bg-light border-0 small\"\r\n                  placeholder=\"Search for...\"\r\n                  aria-label=\"Search\"\r\n                  aria-describedby=\"basic-addon2\"\r\n                />\r\n                <div class=\"input-group-append\">\r\n                  <button class=\"btn btn-primary\" type=\"button\">\r\n                    <i class=\"fas fa-search fa-sm\"></i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </form>\r\n\r\n            <!-- Topbar Navbar -->\r\n            <ul class=\"navbar-nav ml-auto\">\r\n              <!-- Nav Item - Search Dropdown (Visible Only XS) -->\r\n              <li class=\"nav-item dropdown no-arrow d-sm-none\">\r\n                <a\r\n                  class=\"nav-link dropdown-toggle\"\r\n                  href=\"#\"\r\n                  id=\"searchDropdown\"\r\n                  role=\"button\"\r\n                  data-toggle=\"dropdown\"\r\n                  aria-haspopup=\"true\"\r\n                  aria-expanded=\"false\"\r\n                >\r\n                  <i class=\"fas fa-search fa-fw\"></i>\r\n                </a>\r\n                <!-- Dropdown - Messages -->\r\n                <div\r\n                  class=\"\r\n                    dropdown-menu dropdown-menu-right\r\n                    p-3\r\n                    shadow\r\n                    animated--grow-in\r\n                  \"\r\n                  aria-labelledby=\"searchDropdown\"\r\n                >\r\n                  <form class=\"form-inline mr-auto w-100 navbar-search\">\r\n                    <div class=\"input-group\">\r\n                      <input\r\n                        type=\"text\"\r\n                        class=\"form-control bg-light border-0 small\"\r\n                        placeholder=\"Search for...\"\r\n                        aria-label=\"Search\"\r\n                        aria-describedby=\"basic-addon2\"\r\n                      />\r\n                      <div class=\"input-group-append\">\r\n                        <button class=\"btn btn-primary\" type=\"button\">\r\n                          <i class=\"fas fa-search fa-sm\"></i>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </li>\r\n            </ul>\r\n          </nav>\r\n          <!-- End of Topbar -->\r\n\r\n          <div id=\"allSampleContent\" class=\"p-4 w-full\">\r\n            <div id=\"sample\">\r\n              <div\r\n                style=\"\r\n                  width: 100%;\r\n                  margin-bottom: 10px;\r\n                  display: flex;\r\n                  justify-content: space-between;\r\n                \"\r\n              >\r\n                <!-- End of Sidebar -->\r\n                <div\r\n                  id=\"myPaletteDiv\"\r\n                  style=\"\r\n                    width: 150px;\r\n                    margin-right: 10px;\r\n                    border: solid 4px #82929b;\r\n                  \"\r\n                ></div>\r\n                <div\r\n                  id=\"myDiagramDiv\"\r\n                  style=\"\r\n                    flex-grow: 3;\r\n                    margin-right: 10px;\r\n                    height: 600px;\r\n                    border: solid 4px #82929b;\r\n                  \"\r\n                ></div>\r\n                <div\r\n                  id=\"myDiagramDiv\"\r\n                  style=\"flex-grow: 2; height: 600px; border: solid 4px #82929b\"\r\n                >\r\n                  <pre class=\"language-python\"> \r\n                  <code >\r\n                    {{canvasData.code}}\r\n                  </code>\r\n                  </pre>\r\n                </div>\r\n              </div>\r\n\r\n              <button class=\"btn btn-primary\" type=\"submit\" @click=\"layout()\">\r\n                Layout\r\n              </button>\r\n\r\n              <button class=\"btn btn-primary\" type=\"submit\" @click=\"download()\">\r\n                Download\r\n              </button>\r\n\r\n              <form style=\"display: inline-block\" method=\"POST\">\r\n                <input\r\n                  type=\"hidden\"\r\n                  class=\"form-control\"\r\n                  id=\"file\"\r\n                  name=\"file\"\r\n                />\r\n                <button\r\n                  type=\"submit\"\r\n                  class=\"btn btn-primary\"\r\n                  @click=\"compile()\"\r\n                >\r\n                  Compile\r\n                </button>\r\n              </form>\r\n\r\n              <button class=\"btn btn-primary\" @click=\"enterTrain()\">\r\n                Train\r\n              </button>\r\n              <br />\r\n\r\n              <textarea\r\n                id=\"mySavedModel\"\r\n                style=\"width: 100%; height: 300px\"\r\n                v-model=\"canvasData.file\"\r\n              >\r\n              </textarea>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- End of Content Wrapper -->\r\n    </div>\r\n    <!-- End of Page Wrapper -->\r\n\r\n    <!-- Logout Modal-->\r\n    <div\r\n      class=\"modal fade\"\r\n      id=\"logoutModal\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"exampleModalLabel\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">Ready to Leave?</h5>\r\n            <button\r\n              class=\"close\"\r\n              type=\"button\"\r\n              data-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <span aria-hidden=\"true\">×</span>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            Select \"Logout\" below if you are ready to end your current session.\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button\r\n              class=\"btn btn-secondary\"\r\n              type=\"button\"\r\n              data-dismiss=\"modal\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <a class=\"btn btn-primary\" href=\"/login\">Logout</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport * as go from \"/public/go.js\";\r\n// import \"./highlight/styles/base16/one-light.min.css\";\r\nimport * as hljs from \"./highlight/highlight.min.js\";\r\n\r\nexport default {\r\n  name: \"CanvasView\",\r\n  data() {\r\n    return {\r\n      canvasData: {\r\n        file: {\r\n          class: \"GraphLinksModel\",\r\n          nodeDataArray: [\r\n            {\r\n              category: \"Data\",\r\n              key: -1,\r\n              loc: \"42.22500681322674 47.35735117835321\",\r\n            },\r\n            {\r\n              category: \"End\",\r\n              key: -4,\r\n              loc: \"567.1497069414404 47.35735117835318\",\r\n            },\r\n            {\r\n              category: \"ReLU\",\r\n              key: -2,\r\n              loc: \"403.0334278716728 47.357351178353184\",\r\n            },\r\n            {\r\n              category: \"FC\",\r\n              reasonsList: [{ text1: \"512\", text3: \"128\" }],\r\n              key: -3,\r\n              loc: \"216.57893005138874 47.357351178353184\",\r\n            },\r\n          ],\r\n          linkDataArray: [\r\n            {\r\n              from: -3,\r\n              to: -2,\r\n              points: [\r\n                278.70784647632394, 47.35735117835319, 318.70784647632394,\r\n                47.35735117835319, 338.707846476324, 47.3573511783532,\r\n                348.707846476324, 47.3573511783532,\r\n              ],\r\n            },\r\n            {\r\n              from: -2,\r\n              to: -4,\r\n              points: [\r\n                457.3590092670217, 47.3573511783532, 497.3590092670217,\r\n                47.3573511783532, 517.3590092670217, 47.35735117835319,\r\n                527.3590092670217, 47.35735117835319,\r\n              ],\r\n            },\r\n            {\r\n              from: -1,\r\n              to: -3,\r\n              points: [\r\n                84.4500136264535, 47.3573511783532, 94.4500136264535,\r\n                47.3573511783532, 104.45001362645351, 47.35735117835319,\r\n                154.4500136264535, 47.35735117835319,\r\n              ],\r\n            },\r\n          ],\r\n        },\r\n        code: \"import torch.nn as nn\",\r\n      },\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    // code hightlignt\r\n    hljs.highlightAll();\r\n\r\n    this.canvasData.file = JSON.stringify(this.canvasData.file);\r\n    const $ = go.GraphObject.make; // for conciseness in defining templates\r\n\r\n    var yellowgrad = $(go.Brush, \"Linear\", {\r\n      0: \"#bde0fe\",\r\n      1: \"#bde0fe\",\r\n    });\r\n    var greengrad = $(go.Brush, \"Linear\", {\r\n      0: \"#fdffb6\",\r\n      1: \"#fdffb6\",\r\n    });\r\n    var bluegrad = $(go.Brush, \"Linear\", {\r\n      0: \"#caffbf\",\r\n      1: \"#caffbf\",\r\n    });\r\n    var redgrad = $(go.Brush, \"Linear\", {\r\n      0: \"#ffadad\",\r\n      1: \"#ffadad\",\r\n    });\r\n    var whitegrad = $(go.Brush, \"Linear\", {\r\n      0: \"#E7C5FC\",\r\n      1: \"#E7C5FC\",\r\n    });\r\n    var bigfont = \"bold 15pt Helvetica, Arial, sans-serif\";\r\n    var smallfont = \"bold 13pt Helvetica, Arial, sans-serif\";\r\n\r\n    // Common text styling\r\n    function textStyle() {\r\n      return {\r\n        margin: 6,\r\n        wrap: go.TextBlock.WrapFit,\r\n        textAlign: \"center\",\r\n        editable: true,\r\n        font: bigfont,\r\n      };\r\n    }\r\n\r\n    const myDiagram = $(go.Diagram, \"myDiagramDiv\", {\r\n      initialAutoScale: go.Diagram.Uniform,\r\n      \"linkingTool.direction\": go.LinkingTool.ForwardsOnly,\r\n      layout: $(go.LayeredDigraphLayout, {\r\n        isInitial: false,\r\n        isOngoing: false,\r\n        layerSpacing: 50,\r\n      }),\r\n      \"undoManager.isEnabled\": true,\r\n    });\r\n\r\n    var nodeSelectionAdornmentTemplate = $(\r\n      go.Adornment,\r\n      \"Auto\",\r\n      $(go.Shape, {\r\n        fill: null,\r\n        stroke: \"#979dac\",\r\n        strokeWidth: 2,\r\n        strokeDashArray: [4, 2],\r\n      }),\r\n      $(go.Placeholder)\r\n    );\r\n\r\n    // define the Node template\r\n    myDiagram.nodeTemplate = $(\r\n      go.Node,\r\n      \"Auto\",\r\n      {\r\n        locationSpot: go.Spot.Center,\r\n      },\r\n      new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\r\n        go.Point.stringify\r\n      ),\r\n      {\r\n        selectable: true,\r\n        selectionAdornmentTemplate: nodeSelectionAdornmentTemplate,\r\n      },\r\n      // define the node's outer shape, which will surround the TextBlock\r\n      $(go.Shape, \"Rectangle\", {\r\n        fill: yellowgrad,\r\n        stroke: null,\r\n        portId: \"\",\r\n        fromLinkable: true,\r\n        toLinkable: true,\r\n        cursor: \"pointer\",\r\n        toEndSegmentLength: 50,\r\n        fromEndSegmentLength: 50,\r\n      }),\r\n      $(\r\n        go.TextBlock,\r\n        \"ReLU\",\r\n        {\r\n          margin: 6,\r\n          font: bigfont,\r\n          editable: true,\r\n          minSize: new go.Size(40, NaN),\r\n        },\r\n        new go.Binding(\"text\", \"text\").makeTwoWay()\r\n      )\r\n    );\r\n    // Data\r\n    myDiagram.nodeTemplateMap.add(\r\n      \"Data\",\r\n      $(\r\n        go.Node,\r\n        \"Auto\",\r\n        {\r\n          locationSpot: go.Spot.Center,\r\n          margin: new go.Margin(0, 0, 0, 0),\r\n        },\r\n        new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\r\n          go.Point.stringify\r\n        ),\r\n        {\r\n          selectable: true,\r\n          selectionAdornmentTemplate: nodeSelectionAdornmentTemplate,\r\n        },\r\n        $(go.Shape, \"Circle\", {\r\n          fill: bluegrad,\r\n          portId: \"\",\r\n          fromLinkable: true,\r\n          cursor: \"pointer\",\r\n          //fromEndSegmentLength: 40,\r\n          stroke: \"#74c69d\",\r\n\r\n          strokeWidth: 4,\r\n        }),\r\n        $(\r\n          go.TextBlock,\r\n          \"Data\",\r\n          textStyle(),\r\n          {\r\n            stroke: \"#2d6a4f\",\r\n            minSize: new go.Size(40, NaN),\r\n          },\r\n          new go.Binding(\"text\", \"text\").makeTwoWay()\r\n        )\r\n      )\r\n    );\r\n\r\n    myDiagram.nodeTemplateMap.add(\r\n      \"End\",\r\n      $(\r\n        go.Node,\r\n        \"Auto\",\r\n        {\r\n          locationSpot: go.Spot.Center,\r\n        },\r\n        new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\r\n          go.Point.stringify\r\n        ),\r\n        {\r\n          selectable: true,\r\n          selectionAdornmentTemplate: nodeSelectionAdornmentTemplate,\r\n        },\r\n        $(go.Shape, \"Circle\", {\r\n          fill: redgrad,\r\n          portId: \"\",\r\n          toLinkable: true,\r\n          cursor: \"pointer\",\r\n          fromEndSegmentLength: 40,\r\n          stroke: \"#df7373\",\r\n          strokeWidth: 4,\r\n        }),\r\n        $(\r\n          go.TextBlock,\r\n          \"End\",\r\n          textStyle(),\r\n          {\r\n            stroke: \"#ad2e24\",\r\n            minSize: new go.Size(40, NaN),\r\n          },\r\n          new go.Binding(\"text\", \"text\").makeTwoWay()\r\n        )\r\n      )\r\n    );\r\n\r\n    myDiagram.nodeTemplateMap.add(\r\n      \"ReLU\",\r\n      $(\r\n        go.Node,\r\n        \"Auto\",\r\n        {\r\n          locationSpot: go.Spot.Center,\r\n        },\r\n        new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\r\n          go.Point.stringify\r\n        ),\r\n        {\r\n          selectable: true,\r\n          selectionAdornmentTemplate: nodeSelectionAdornmentTemplate,\r\n        },\r\n        $(go.Shape, \"Ellipse\", {\r\n          fill: greengrad,\r\n          portId: \"\",\r\n          fromLinkable: true,\r\n          toLinkable: true,\r\n          cursor: \"pointer\",\r\n          fromEndSegmentLength: 40,\r\n          stroke: \"#ffd100\",\r\n          strokeWidth: 4,\r\n        }),\r\n        $(\r\n          go.TextBlock,\r\n          \"ReLU\",\r\n          textStyle(),\r\n          {\r\n            stroke: \"#e2711d\",\r\n            // locationSpot: go.Spot.Center,\r\n            //margin: new go.Margin(10, 0, 0, 0),\r\n            minSize: new go.Size(60, NaN),\r\n          },\r\n          new go.Binding(\"text\", \"text\").makeTwoWay()\r\n        )\r\n      )\r\n    );\r\n\r\n    var reasonTemplate = $(\r\n      go.Panel,\r\n      $(\r\n        go.Panel,\r\n        \"Table\",\r\n        {\r\n          maxSize: new go.Size(200, 999),\r\n          margin: new go.Margin(0, 3, 10, 3),\r\n          defaultAlignment: go.Spot.Center,\r\n        },\r\n        $(go.RowColumnDefinition, {\r\n          column: 2,\r\n          width: 2,\r\n        }),\r\n        $(\r\n          go.TextBlock,\r\n          \"input = \",\r\n          {\r\n            margin: new go.Margin(4, 0, 0, 0),\r\n            maxSize: new go.Size(200, NaN),\r\n            wrap: go.TextBlock.WrapFit,\r\n            //stroke: \"whitesmoke\",\r\n            editable: true,\r\n            font: smallfont,\r\n            row: 2,\r\n            column: 0,\r\n            stroke: \"#3e5c76\",\r\n          },\r\n          new go.Binding(\"text\", \"text0\").makeTwoWay()\r\n        ),\r\n\r\n        $(\r\n          go.TextBlock,\r\n          \"value\",\r\n          {\r\n            margin: new go.Margin(4, 0, 0, 0),\r\n            maxSize: new go.Size(200, NaN),\r\n            wrap: go.TextBlock.WrapFit,\r\n            //stroke: \"whitesmoke\",\r\n            editable: true,\r\n            stroke: \"#3e5c76\",\r\n            font: smallfont,\r\n            row: 2,\r\n            column: 1,\r\n          },\r\n          new go.Binding(\"text\", \"text1\").makeTwoWay()\r\n        ),\r\n\r\n        $(\r\n          go.TextBlock,\r\n          \"output = \",\r\n          {\r\n            margin: new go.Margin(4, 0, 0, 0),\r\n            maxSize: new go.Size(200, NaN),\r\n            wrap: go.TextBlock.WrapFit,\r\n            //stroke: \"whitesmoke\",\r\n            editable: true,\r\n            font: smallfont,\r\n            stroke: \"#3e5c76\",\r\n            row: 3,\r\n            column: 0,\r\n          },\r\n          new go.Binding(\"text\", \"text2\").makeTwoWay()\r\n        ),\r\n\r\n        $(\r\n          go.TextBlock,\r\n          \"value\",\r\n          {\r\n            margin: new go.Margin(4, 0, 0, 9),\r\n            maxSize: new go.Size(200, NaN),\r\n            wrap: go.TextBlock.WrapFit,\r\n            //stroke: \"whitesmoke\",\r\n            editable: true,\r\n            font: smallfont,\r\n            stroke: \"#3e5c76\",\r\n            row: 3,\r\n            column: 1,\r\n          },\r\n          new go.Binding(\"text\", \"text3\").makeTwoWay()\r\n        )\r\n      ) // end Table Panel\r\n    );\r\n\r\n    myDiagram.nodeTemplateMap.add(\r\n      \"FC\",\r\n      $(\r\n        go.Node,\r\n        \"Auto\",\r\n        {\r\n          locationSpot: go.Spot.Center,\r\n        },\r\n        new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\r\n          go.Point.stringify\r\n        ),\r\n        {\r\n          selectable: true,\r\n          selectionAdornmentTemplate: nodeSelectionAdornmentTemplate,\r\n        },\r\n        $(go.Shape, \"RoundedRectangle\", {\r\n          fill: yellowgrad,\r\n          stroke: \"#4ea8de\",\r\n          strokeWidth: 4,\r\n          portId: \"\",\r\n          fromLinkable: true,\r\n          toLinkable: true,\r\n          cursor: \"pointer\",\r\n          toEndSegmentLength: 50,\r\n          fromEndSegmentLength: 40,\r\n        }),\r\n        $(\r\n          go.Panel,\r\n          \"Vertical\",\r\n          {\r\n            defaultAlignment: go.Spot.Center,\r\n          },\r\n\r\n          $(\r\n            go.TextBlock,\r\n            \"FC\",\r\n            textStyle(),\r\n            {\r\n              stroke: \"#3e5c76\",\r\n              margin: new go.Margin(8, 0, 0, 0),\r\n              minSize: new go.Size(100, NaN),\r\n              //maxSize: new go.Size(200, NaN)\r\n            },\r\n            new go.Binding(\"text\", \"text\").makeTwoWay()\r\n          ),\r\n\r\n          $(\r\n            go.Panel,\r\n            \"Vertical\",\r\n            {\r\n              defaultAlignment: go.Spot.TopLeft,\r\n              itemTemplate: reasonTemplate,\r\n            },\r\n            new go.Binding(\"itemArray\", \"reasonsList\").makeTwoWay()\r\n          )\r\n        )\r\n      )\r\n    );\r\n\r\n    var linkSelectionAdornmentTemplate = $(\r\n      go.Adornment,\r\n      \"Link\",\r\n      $(\r\n        go.Shape,\r\n        // isPanelMain declares that this Shape shares the Link.geometry\r\n        {\r\n          isPanelMain: true,\r\n          fill: null,\r\n          stroke: \"deepskyblue\",\r\n          strokeWidth: 2.5,\r\n        }\r\n      ) // use selection object's strokeWidth\r\n    );\r\n    // replace the default Link template in the linkTemplateMap\r\n    myDiagram.linkTemplate = $(\r\n      go.Link, // the whole link panel\r\n      {\r\n        selectable: true,\r\n        selectionAdornmentTemplate: linkSelectionAdornmentTemplate,\r\n      },\r\n      new go.Binding(\"points\").makeTwoWay(),\r\n      {\r\n        //curve: go.Link.Bezier,\r\n        toShortLength: 15,\r\n      },\r\n      //new go.Binding(\"curviness\", \"curviness\"),\r\n      $(\r\n        go.Shape, // the link shape\r\n        {\r\n          stroke: \"#979dac\",\r\n          strokeWidth: 2.5,\r\n        }\r\n      ),\r\n      $(\r\n        go.Shape, // the arrowhead\r\n        {\r\n          toArrow: \"kite\",\r\n          fill: \"#979dac\",\r\n          stroke: null,\r\n          scale: 2,\r\n        }\r\n      )\r\n    );\r\n\r\n    myDiagram.nodeTemplateMap.add(\r\n      \"RNN\",\r\n      $(\r\n        go.Node,\r\n        \"Auto\",\r\n        {\r\n          locationSpot: go.Spot.Center,\r\n        },\r\n        new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\r\n          go.Point.stringify\r\n        ),\r\n        {\r\n          selectable: true,\r\n          selectionAdornmentTemplate: nodeSelectionAdornmentTemplate,\r\n        },\r\n        $(go.Shape, \"RoundedRectangle\", {\r\n          fill: whitegrad,\r\n          stroke: \"#CF8BF9\",\r\n          strokeWidth: 4,\r\n        }),\r\n        $(\r\n          go.TextBlock,\r\n          \"RNN\\n(unavailable)\",\r\n          textStyle(),\r\n          {\r\n            margin: 9,\r\n            maxSize: new go.Size(200, NaN),\r\n            wrap: go.TextBlock.WrapFit,\r\n            editable: true,\r\n            stroke: \"#560788\",\r\n            font: smallfont,\r\n          },\r\n          new go.Binding(\"text\", \"text\").makeTwoWay()\r\n        )\r\n        // no ports, because no links are allowed to connect with a comment\r\n      )\r\n    );\r\n\r\n    myDiagram.nodeTemplateMap.add(\r\n      \"CNN\",\r\n      $(\r\n        go.Node,\r\n        \"Auto\",\r\n        {\r\n          locationSpot: go.Spot.Center,\r\n        },\r\n        new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\r\n          go.Point.stringify\r\n        ),\r\n        {\r\n          selectable: true,\r\n          selectionAdornmentTemplate: nodeSelectionAdornmentTemplate,\r\n        },\r\n        $(go.Shape, \"RoundedRectangle\", {\r\n          fill: whitegrad,\r\n          stroke: \"#CF8BF9\",\r\n          strokeWidth: 4,\r\n        }),\r\n        $(\r\n          go.TextBlock,\r\n          \"CNN\\n(unavailable)\",\r\n          textStyle(),\r\n          {\r\n            margin: 9,\r\n            maxSize: new go.Size(200, NaN),\r\n            wrap: go.TextBlock.WrapFit,\r\n            editable: true,\r\n            stroke: \"#560788\",\r\n            font: smallfont,\r\n          },\r\n          new go.Binding(\"text\", \"text\").makeTwoWay()\r\n        )\r\n        // no ports, because no links are allowed to connect with a comment\r\n      )\r\n    );\r\n\r\n    myDiagram.nodeTemplateMap.add(\r\n      \"LSTM\",\r\n      $(\r\n        go.Node,\r\n        \"Auto\",\r\n        {\r\n          locationSpot: go.Spot.Center,\r\n        },\r\n        new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\r\n          go.Point.stringify\r\n        ),\r\n        {\r\n          selectable: true,\r\n          selectionAdornmentTemplate: nodeSelectionAdornmentTemplate,\r\n        },\r\n        $(go.Shape, \"RoundedRectangle\", {\r\n          fill: whitegrad,\r\n          stroke: \"#CF8BF9\",\r\n          strokeWidth: 4,\r\n        }),\r\n        $(\r\n          go.TextBlock,\r\n          \"LSTM\\n(unavailable)\",\r\n          textStyle(),\r\n          {\r\n            margin: 9,\r\n            maxSize: new go.Size(200, NaN),\r\n            wrap: go.TextBlock.WrapFit,\r\n            editable: true,\r\n            stroke: \"#560788\",\r\n            font: smallfont,\r\n          },\r\n          new go.Binding(\"text\", \"text\").makeTwoWay()\r\n        )\r\n        // no ports, because no links are allowed to connect with a comment\r\n      )\r\n    );\r\n\r\n    myDiagram.nodeTemplateMap.add(\r\n      \"Softmax\",\r\n      $(\r\n        go.Node,\r\n        \"Auto\",\r\n        {\r\n          locationSpot: go.Spot.Center,\r\n        },\r\n        new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\r\n          go.Point.stringify\r\n        ),\r\n        {\r\n          selectable: true,\r\n          selectionAdornmentTemplate: nodeSelectionAdornmentTemplate,\r\n        },\r\n        $(go.Shape, \"RoundedRectangle\", {\r\n          fill: whitegrad,\r\n          stroke: \"#CF8BF9\",\r\n          strokeWidth: 4,\r\n        }),\r\n        $(\r\n          go.TextBlock,\r\n          \"Softmax\\n(unavailable)\",\r\n          textStyle(),\r\n          {\r\n            margin: 9,\r\n            maxSize: new go.Size(200, NaN),\r\n            wrap: go.TextBlock.WrapFit,\r\n            editable: true,\r\n            stroke: \"#560788\",\r\n            font: smallfont,\r\n          },\r\n          new go.Binding(\"text\", \"text\").makeTwoWay()\r\n        )\r\n        // no ports, because no links are allowed to connect with a comment\r\n      )\r\n    );\r\n\r\n    myDiagram.nodeTemplateMap.add(\r\n      \"Maximum Polling\",\r\n      $(\r\n        go.Node,\r\n        \"Auto\",\r\n        {\r\n          locationSpot: go.Spot.Center,\r\n        },\r\n        new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\r\n          go.Point.stringify\r\n        ),\r\n        {\r\n          selectable: true,\r\n          selectionAdornmentTemplate: nodeSelectionAdornmentTemplate,\r\n        },\r\n        $(go.Shape, \"RoundedRectangle\", {\r\n          fill: whitegrad,\r\n          stroke: \"#CF8BF9\",\r\n          strokeWidth: 4,\r\n        }),\r\n        $(\r\n          go.TextBlock,\r\n          \"Maximum\\nPolling\\n(unavailable)\",\r\n          textStyle(),\r\n          {\r\n            margin: 9,\r\n            maxSize: new go.Size(200, NaN),\r\n            wrap: go.TextBlock.WrapFit,\r\n            editable: true,\r\n            stroke: \"#560788\",\r\n            font: smallfont,\r\n          },\r\n          new go.Binding(\"text\", \"text\").makeTwoWay()\r\n        )\r\n        // no ports, because no links are allowed to connect with a comment\r\n      )\r\n    );\r\n\r\n    var palette = $(\r\n      go.Palette,\r\n      \"myPaletteDiv\", // create a new Palette in the HTML DIV element\r\n      {\r\n        // share the template map with the Palette\r\n        nodeTemplateMap: myDiagram.nodeTemplateMap,\r\n        autoScale: go.Diagram.Uniform, // everything always fits in viewport\r\n      }\r\n    );\r\n\r\n    palette.model.nodeDataArray = [\r\n      {\r\n        category: \"Data\",\r\n      },\r\n      {\r\n        category: \"ReLU\",\r\n      },\r\n      {\r\n        category: \"FC\",\r\n        reasonsList: [{}],\r\n      },\r\n      {\r\n        category: \"End\",\r\n      },\r\n      {\r\n        category: \"CNN\",\r\n      },\r\n      {\r\n        category: \"RNN\",\r\n      },\r\n      {\r\n        category: \"LSTM\",\r\n      },\r\n      {\r\n        category: \"Softmax\",\r\n      },\r\n      {\r\n        category: \"Maximum Polling\",\r\n      },\r\n    ];\r\n\r\n    window.myDiagram = myDiagram;\r\n  },\r\n\r\n  methods: {\r\n    // Every time request /canvas/, use this method\r\n    getData() {\r\n      axios({\r\n        method: \"get\",\r\n        url: \"/canvas/\" + localStorage.uid + \"/\" + localStorage.pid + \"/\",\r\n      }).then((res) => {\r\n        console.log(res.data);\r\n        if (res.data.status == 200) {\r\n          // render canvas and code\r\n          this.renderJson();\r\n          this.renderCode();\r\n        } else {\r\n          alert(\"canvas loading error!\");\r\n        }\r\n      });\r\n    },\r\n\r\n    getJson() {\r\n      axios({\r\n        method: \"get\",\r\n        url:\r\n          \"/canvas/getJson/\" + localStorage.uid + \"/\" + localStorage.pid + \"/\",\r\n        responseType: \"stream\",\r\n      }).then((res) => {\r\n        console.log(res.data);\r\n        if (res.data.status == 200) {\r\n          this.canvas_data.file = res.data;\r\n        } else {\r\n          alert(\"can not get user's json!\");\r\n        }\r\n      });\r\n    },\r\n\r\n    getPython() {\r\n      axios({\r\n        method: \"get\",\r\n        url:\r\n          \"/canvas/getPython/\" +\r\n          localStorage.uid +\r\n          \"/\" +\r\n          localStorage.pid +\r\n          \"/\",\r\n        responseType: \"stream\",\r\n      }).then((res) => {\r\n        console.log(res.data);\r\n        if (res.data.status == 200) {\r\n          this.canvas_data.code = res.code;\r\n        } else {\r\n          alert(\"can not get user's python!\");\r\n        }\r\n      });\r\n    },\r\n\r\n    download() {\r\n      axios({\r\n        method: \"get\",\r\n        url:\r\n          \"/canvas/download/\" + localStorage.uid + \"/\" + localStorage.pid + \"/\",\r\n        responseType: \"blob\",\r\n      }).then((res) => {\r\n        console.log(res.data);\r\n        if (res.data.status == 200) {\r\n          let blob = new Blob([res], {\r\n            type: \"application/zip;charset-UTF-8\",\r\n          });\r\n\r\n          const url = URL.createObjectURL(blob);\r\n          const a = document.createElement(\"a\");\r\n          a.style.display = \"none\";\r\n          a.href = url;\r\n          a.download = \"projectttt.zip\";\r\n          a.click();\r\n          URL.revokeObjectURL(url);\r\n        } else {\r\n          alert(\"can not get user's json!\");\r\n        }\r\n      });\r\n    },\r\n\r\n    // Update json first, then send to backend and get python code\r\n    compile() {\r\n      // Update json\r\n      this.updateJson();\r\n\r\n      // send json to backend\r\n      this.canvasData.file = myDiagram.model.toJson();\r\n\r\n      let formData = new FormData();\r\n      formData.append(\"file\", this.canvasData.file);\r\n      axios({\r\n        method: \"post\",\r\n        url:\r\n          \"/canvas/compile/\" + localStorage.uid + \"/\" + localStorage.pid + \"/\",\r\n        data: formData,\r\n      }).then((res) => {\r\n        console.log(res.data);\r\n        // If compile successful 200, backend update database, frontend get data and reload\r\n        if (res.data.status == \"200\") {\r\n          console.log(\"compile ok!\");\r\n        }\r\n        // If complie fails 500, frontend alert error\r\n        else if (res.data.status == \"500\") {\r\n          alert(\"The network model is not valid!\");\r\n        }\r\n        location.replace(\"/canvas/\");\r\n      });\r\n    },\r\n\r\n    // Update Json accroding to user's operation\r\n    updateJson() {\r\n      document.getElementById(\"mySavedModel\").value = myDiagram.model.toJson();\r\n      myDiagram.isModified = false;\r\n    },\r\n\r\n    // Render Json on the canvas area\r\n    renderJson() {\r\n      myDiagram.model = go.Model.fromJson(\r\n        document.getElementById(\"mySavedModel\").value\r\n      );\r\n    },\r\n\r\n    // Render .py on the code area\r\n    renderCode() {},\r\n\r\n    // To make canvas tidy 200\r\n    layout() {\r\n      this.updateJson();\r\n      myDiagram.layoutDiagram(true);\r\n    },\r\n\r\n    // Go to train page 200\r\n    enterTrain() {\r\n      location.replace(\"/train/\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style type=\"text/css\">\r\n* {\r\n  font-family: Consolas, Monaco, monospace;\r\n  font-size: 11pt;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n</style>\r\n\r\n\r\n<style scoped>\r\n.body {\r\n  padding: 0;\r\n  margin: 0;\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: visible;\r\n}\r\n</style>\r\n<style scoped src=\"../../new_pages/vendor/fontawesome-free/css/all.min.css\"></style>\r\n<style scoped src=\"../../new_pages/css/sb-admin-2.min.css\"></style>"]},"metadata":{},"sourceType":"module"}