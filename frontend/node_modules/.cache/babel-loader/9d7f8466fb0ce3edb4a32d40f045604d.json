{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-60569357\"), n = n(), _popScopeId(), n;\n};\n\nvar _hoisted_1 = {\n  lang: \"en\"\n};\n\nvar _hoisted_2 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"head\", null, [/*#__PURE__*/_createElementVNode(\"meta\", {\n    charset: \"utf-8\"\n  }), /*#__PURE__*/_createElementVNode(\"meta\", {\n    name: \"viewport\",\n    content: \"width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover\"\n  }), /*#__PURE__*/_createElementVNode(\"meta\", {\n    name: \"description\",\n    content: \"A workflow diagram showing navigation between web pages, with an editable list of comments and to-dos.\"\n  }), /*#__PURE__*/_createCommentVNode(\" <link rel=\\\"stylesheet\\\" href=\\\"style.css\\\" /> \"), /*#__PURE__*/_createCommentVNode(\" Copyright 1998-2022 by Northwoods Software Corporation. \"), /*#__PURE__*/_createElementVNode(\"title\", null, \"Page Flow\")], -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_3 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"body\", null, [/*#__PURE__*/_createElementVNode(\"div\", {\n    id: \"allSampleContent\",\n    \"class\": \"p-4 w-full\"\n  }, [/*#__PURE__*/_createElementVNode(\"div\", {\n    id: \"sample\"\n  }, [/*#__PURE__*/_createElementVNode(\"div\", {\n    style: {\n      \"width\": \"100%\",\n      \"margin-bottom\": \"10px\",\n      \"display\": \"flex\",\n      \"justify-content\": \"space-between\"\n    }\n  }, [/*#__PURE__*/_createElementVNode(\"div\", {\n    id: \"myPaletteDiv\",\n    style: {\n      \"width\": \"150px\",\n      \"margin-right\": \"10px\",\n      \"background-color\": \"whitesmoke\",\n      \"border\": \"solid 4px #82929b\"\n    }\n  }), /*#__PURE__*/_createElementVNode(\"div\", {\n    id: \"myDiagramDiv\",\n    style: {\n      \"flex-grow\": \"3\",\n      \"margin-right\": \"10px\",\n      \"height\": \"600px\",\n      \"background-color\": \"whitesmoke\",\n      \"border\": \"solid 4px #82929b\"\n    }\n  }), /*#__PURE__*/_createElementVNode(\"div\", {\n    id: \"myDiagramDiv\",\n    style: {\n      \"flex-grow\": \"2\",\n      \"height\": \"600px\",\n      \"background-color\": \"whitesmoke\",\n      \"border\": \"solid 4px #82929b\"\n    }\n  })]), /*#__PURE__*/_createElementVNode(\"button\", {\n    id: \"SaveButton\",\n    onclick: \"save()\"\n  }, \"Save\"), /*#__PURE__*/_createElementVNode(\"button\", {\n    onclick: \"load()\"\n  }, \"Load\"), /*#__PURE__*/_createElementVNode(\"button\", {\n    onclick: \"layout()\"\n  }, \"Layout\"), /*#__PURE__*/_createElementVNode(\"br\"), /*#__PURE__*/_createElementVNode(\"textarea\", {\n    id: \"mySavedModel\",\n    style: {\n      \"width\": \"100%\",\n      \"height\": \"300px\"\n    }\n  }, \"\\r\\n{ \\\"class\\\": \\\"GraphLinksModel\\\", \\r\\n\\\"nodeDataArray\\\": [ {\\\"category\\\":\\\"Data\\\", \\\"key\\\":-1, \\\"loc\\\":\\\"-70.5 -90.19999980926514\\\"} ], \\r\\n\\\"linkDataArray\\\": []}\\r\\n  \")])])], -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_4 = [_hoisted_2, _hoisted_3];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"html\", _hoisted_1, _hoisted_4);\n}","map":{"version":3,"mappings":";;;;;;;AACQA,MAAI,EAAC;;;;sBACTC,oBAaO,MAbP,EAaO,IAbP,EAaO,cAZLA,oBAAwB,MAAxB,EAAwB;AAAlBC,WAAO,EAAC;AAAU,GAAxB,CAYK,eAXLD,oBAGE,MAHF,EAGE;AAFAE,QAAI,EAAC,UAEL;AADAC,WAAO,EAAC;AACR,GAHF,CAWK,eAPLH,oBAGE,MAHF,EAGE;AAFAE,QAAI,EAAC,aAEL;AADAC,WAAO,EAAC;AACR,GAHF,CAOK,eAHLC,uEAGK,eAFLA,gFAEK,eADLJ,oBAAwB,OAAxB,EAAwB,IAAxB,EAAO,WAAP,CACK,CAbP;;AAAA;;;;sBAeAA,oBAqDO,MArDP,EAqDO,IArDP,EAqDO,cApDLA,oBAmDM,KAnDN,EAmDM;AAnDDK,MAAE,EAAC,kBAmDF;AAnDqB,aAAM;AAmD3B,GAnDN,gBACEL,oBAiDM,KAjDN,EAiDM;AAjDDK,MAAE,EAAC;AAiDF,GAjDN,EAAgB,cACdL,oBAoCM,KApCN,EAoCM;AAnCJM,SAKC,EALD;AAAA;AAAA;AAAA;AAAA;AAAA;AAmCI,GApCN,EAMG,cAEDN,oBAQO,KARP,EAQO;AAPLK,MAAE,EAAC,cAOE;AANLC,SAKC,EALD;AAAA;AAAA;AAAA;AAAA;AAAA;AAMK,GARP,CAFC,eAWDN,oBASO,KATP,EASO;AARLK,MAAE,EAAC,cAQE;AAPLC,SAMC,EAND;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOK,GATP,CAXC,eAqBDN,oBAQO,KARP,EAQO;AAPLK,MAAE,EAAC,cAOE;AANLC,SAKC,EALD;AAAA;AAAA;AAAA;AAAA;AAAA;AAMK,GARP,CArBC,CANH,CADc,eAuCdN,oBAAsD,QAAtD,EAAsD;AAA9CK,MAAE,EAAC,YAA2C;AAA9BE,WAAO,EAAC;AAAsB,GAAtD,EAAyC,MAAzC,CAvCc,eAwCdP,oBAAsC,QAAtC,EAAsC;AAA9BO,WAAO,EAAC;AAAsB,GAAtC,EAAyB,MAAzB,CAxCc,eAyCdP,oBAA0C,QAA1C,EAA0C;AAAlCO,WAAO,EAAC;AAA0B,GAA1C,EAA2B,QAA3B,CAzCc,eA0CdP,oBAAM,IAAN,CA1Cc,eA2CdA,oBAKC,UALD,EAKC;AALSK,MAAE,EAAC,cAKZ;AAL2BC,SAAkC,EAAlC;AAAA;AAAA;AAAA;AAK3B,GALD,EAA+D,8KAA/D,CA3Cc,CAAhB,EADF,CAoDK,CArDP;;AAAA;;;kBAfAE,YAeAC;;uBAhBFC,oBAsEO,MAtEP,cAsEOC,UAtEP","names":["lang","_createElementVNode","charset","name","content","_createCommentVNode","id","style","onclick","_hoisted_2","_hoisted_3","_createElementBlock","_hoisted_4"],"sourceRoot":"","sources":["C:\\qp_box\\_CodeField\\Neural-Lego\\frontend\\src\\views\\CanvasView.vue"],"sourcesContent":["<template>\r\n  <html lang=\"en\">\r\n    <head>\r\n      <meta charset=\"utf-8\" />\r\n      <meta\r\n        name=\"viewport\"\r\n        content=\"width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover\"\r\n      />\r\n      <meta\r\n        name=\"description\"\r\n        content=\"A workflow diagram showing navigation between web pages, with an editable list of comments and to-dos.\"\r\n      />\r\n      <!-- <link rel=\"stylesheet\" href=\"style.css\" /> -->\r\n      <!-- Copyright 1998-2022 by Northwoods Software Corporation. -->\r\n      <title>Page Flow</title>\r\n    </head>\r\n\r\n    <body>\r\n      <div id=\"allSampleContent\" class=\"p-4 w-full\">\r\n        <div id=\"sample\">\r\n          <div\r\n            style=\"\r\n              width: 100%;\r\n              margin-bottom: 10px;\r\n              display: flex;\r\n              justify-content: space-between;\r\n            \"\r\n          >\r\n            <div\r\n              id=\"myPaletteDiv\"\r\n              style=\"\r\n                width: 150px;\r\n                margin-right: 10px;\r\n                background-color: whitesmoke;\r\n                border: solid 4px #82929b;\r\n              \"\r\n            ></div>\r\n            <div\r\n              id=\"myDiagramDiv\"\r\n              style=\"\r\n                flex-grow: 3;\r\n                margin-right: 10px;\r\n                height: 600px;\r\n                background-color: whitesmoke;\r\n                border: solid 4px #82929b;\r\n              \"\r\n            ></div>\r\n            <div\r\n              id=\"myDiagramDiv\"\r\n              style=\"\r\n                flex-grow: 2;\r\n                height: 600px;\r\n                background-color: whitesmoke;\r\n                border: solid 4px #82929b;\r\n              \"\r\n            ></div>\r\n          </div>\r\n\r\n          <button id=\"SaveButton\" onclick=\"save()\">Save</button>\r\n          <button onclick=\"load()\">Load</button>\r\n          <button onclick=\"layout()\">Layout</button>\r\n          <br />\r\n          <textarea id=\"mySavedModel\" style=\"width: 100%; height: 300px\">\r\n{ \"class\": \"GraphLinksModel\", \r\n\"nodeDataArray\": [ {\"category\":\"Data\", \"key\":-1, \"loc\":\"-70.5 -90.19999980926514\"} ], \r\n\"linkDataArray\": []}\r\n  </textarea\r\n          >\r\n        </div>\r\n      </div>\r\n    </body>\r\n  </html>\r\n</template>\r\n\r\n\r\n\r\n<script id='code'>\r\nimport { go } from \"/public/go.js\";\r\n\r\nexport default {\r\n  mounted() {\r\n    // let script = document.createElement(\"script\");\r\n    // script.type = \"text/javascript\";\r\n    // script.src = \"/go.js\";\r\n    // document.body.appendChild(script);\r\n    /*\r\n     * GoJS v2.1.3 JavaScript Library for HTML Diagrams\r\n     * Northwoods Software, https://www.nwoods.com/\r\n     * GoJS and Northwoods Software are registered trademarks of Northwoods Software Corporation.\r\n     * Copyright (C) 1998-2019 by Northwoods Software Corporation.  All Rights Reserved.\r\n     * THIS SOFTWARE IS LICENSED.  THE LICENSE AGREEMENT IS AT: https://gojs.net/2.1.3/license.html.\r\n     */\r\n\r\n    (function () {\r\n      var t;\r\n\r\n      function aa(a) {\r\n        var b = 0;\r\n        return function () {\r\n          return b < a.length ? { done: !1, value: a[b++] } : { done: !0 };\r\n        };\r\n      }\r\n\r\n      function ba(a) {\r\n        var b =\r\n          \"undefined\" != typeof Symbol && Symbol.iterator && a[Symbol.iterator];\r\n        return b ? b.call(a) : { next: aa(a) };\r\n      }\r\n\r\n      function da(a) {\r\n        for (var b, c = []; !(b = a.next()).done; ) c.push(b.value);\r\n        return c;\r\n      }\r\n      var ea =\r\n          \"function\" == typeof Object.create\r\n            ? Object.create\r\n            : function (a) {\r\n                function b() {}\r\n                b.prototype = a;\r\n                return new b();\r\n              },\r\n        fa;\r\n      if (\"function\" == typeof Object.setPrototypeOf)\r\n        fa = Object.setPrototypeOf;\r\n      else {\r\n        var ha;\r\n        a: {\r\n          var ia = { a: !0 },\r\n            ja = {};\r\n          try {\r\n            ja.__proto__ = ia;\r\n            ha = ja.a;\r\n            break a;\r\n          } catch (a) {}\r\n          ha = !1;\r\n        }\r\n        fa = ha\r\n          ? function (a, b) {\r\n              a.__proto__ = b;\r\n              if (a.__proto__ !== b)\r\n                throw new TypeError(a + \" is not extensible\");\r\n              return a;\r\n            }\r\n          : null;\r\n      }\r\n      var ka = fa;\r\n\r\n      function la(a, b) {\r\n        a.prototype = ea(b.prototype);\r\n        a.prototype.constructor = a;\r\n        if (ka) ka(a, b);\r\n        else\r\n          for (var c in b)\r\n            if (\"prototype\" != c)\r\n              if (Object.defineProperties) {\r\n                var d = Object.getOwnPropertyDescriptor(b, c);\r\n                d && Object.defineProperty(a, c, d);\r\n              } else a[c] = b[c];\r\n        a.aB = b.prototype;\r\n      }\r\n      var ma =\r\n          \"undefined\" != typeof window && window === self\r\n            ? self\r\n            : \"undefined\" != typeof global && null != global\r\n            ? global\r\n            : self,\r\n        na =\r\n          \"function\" == typeof Object.defineProperties\r\n            ? Object.defineProperty\r\n            : function (a, b, c) {\r\n                a != Array.prototype &&\r\n                  a != Object.prototype &&\r\n                  (a[b] = c.value);\r\n              };\r\n\r\n      function oa(a) {\r\n        if (a) {\r\n          for (\r\n            var b = ma, c = [\"Array\", \"prototype\", \"fill\"], d = 0;\r\n            d < c.length - 1;\r\n            d++\r\n          ) {\r\n            var e = c[d];\r\n            e in b || (b[e] = {});\r\n            b = b[e];\r\n          }\r\n          c = c[c.length - 1];\r\n          d = b[c];\r\n          a = a(d);\r\n          a != d &&\r\n            null != a &&\r\n            na(b, c, { configurable: !0, writable: !0, value: a });\r\n        }\r\n      }\r\n      oa(function (a) {\r\n        return a\r\n          ? a\r\n          : function (a, c, d) {\r\n              var b = this.length || 0;\r\n              0 > c && (c = Math.max(0, b + c));\r\n              if (null == d || d > b) d = b;\r\n              d = Number(d);\r\n              0 > d && (d = Math.max(0, b + d));\r\n              for (c = Number(c || 0); c < d; c++) this[c] = a;\r\n              return this;\r\n            };\r\n      });\r\n      var pa =\r\n        (\"object\" === typeof self && self.self === self && self) ||\r\n        (\"object\" === typeof global && global.global === global && global) ||\r\n        (\"object\" === typeof window && window.window === window && window) ||\r\n        {};\r\n      void 0 === pa.requestAnimationFrame &&\r\n        (pa.requestAnimationFrame = pa.setImmediate);\r\n\r\n      function qa() {}\r\n\r\n      function ra(a, b) {\r\n        var c = -1;\r\n        return function () {\r\n          var d = this,\r\n            e = arguments;\r\n          -1 !== c && pa.clearTimeout(c);\r\n          c = ta(function () {\r\n            c = -1;\r\n            a.apply(d, e);\r\n          }, b);\r\n        };\r\n      }\r\n\r\n      function ta(a, b) {\r\n        return pa.setTimeout(a, b);\r\n      }\r\n\r\n      function ua(a) {\r\n        return pa.document.createElement(a);\r\n      }\r\n\r\n      function v(a) {\r\n        throw Error(a);\r\n      }\r\n\r\n      function va(a, b) {\r\n        a =\r\n          \"The object is frozen, so its properties cannot be set: \" +\r\n          a.toString();\r\n        void 0 !== b && (a += \"  to value: \" + b);\r\n        v(a);\r\n      }\r\n\r\n      function w(a, b, c, d) {\r\n        a instanceof b ||\r\n          ((c = wa(c)), void 0 !== d && (c += \".\" + d), xa(a, b, c));\r\n      }\r\n\r\n      function A(a, b, c, d) {\r\n        typeof a !== b &&\r\n          ((c = wa(c)), void 0 !== d && (c += \".\" + d), xa(a, b, c));\r\n      }\r\n\r\n      function C(a, b, c) {\r\n        (\"number\" === typeof a && isFinite(a)) ||\r\n          ((b = wa(b)),\r\n          void 0 !== c && (b += \".\" + c),\r\n          v(b + \" must be a real number type, and not NaN or Infinity: \" + a));\r\n      }\r\n\r\n      function xa(a, b, c, d) {\r\n        b = wa(b);\r\n        c = wa(c);\r\n        void 0 !== d && (c += \".\" + d);\r\n        \"string\" === typeof a\r\n          ? v(c + \" value is not an instance of \" + b + ': \"' + a + '\"')\r\n          : v(c + \" value is not an instance of \" + b + \": \" + a);\r\n      }\r\n\r\n      function ya(a, b, c, d) {\r\n        c = wa(c);\r\n        void 0 !== d && (c += \".\" + d);\r\n        v(c + \" is not in the range \" + b + \": \" + a);\r\n      }\r\n\r\n      function za(a) {\r\n        v(\r\n          (\"string\" === typeof a.className ? a.className : \"\") +\r\n            \" constructor cannot take any arguments.\"\r\n        );\r\n      }\r\n\r\n      function Aa(a) {\r\n        v(\r\n          \"Collection was modified during iteration: \" +\r\n            a.toString() +\r\n            \"\\n  Perhaps you should iterate over a copy of the collection,\\n  or you could collect items to be removed from the collection after the iteration.\"\r\n        );\r\n      }\r\n\r\n      function Ba(a, b) {\r\n        v(\r\n          \"No property to set for this enum value: \" + b + \" on \" + a.toString()\r\n        );\r\n      }\r\n\r\n      function Ca(a) {\r\n        pa.console && pa.console.log(a);\r\n      }\r\n\r\n      function Ea() {\r\n        pa.console &&\r\n          pa.console.log(\r\n            \"Warning: List/Map/Set constructors no longer take an argument that enforces type.Instead they take an optional collection of Values to add to the collection. See 2.0 changelog for details.\"\r\n          );\r\n      }\r\n\r\n      function Fa(a) {\r\n        return \"object\" === typeof a && null !== a;\r\n      }\r\n\r\n      function Ga(a) {\r\n        return (\r\n          Array.isArray(a) ||\r\n          (pa.NodeList && a instanceof pa.NodeList) ||\r\n          (pa.HTMLCollection && a instanceof pa.HTMLCollection)\r\n        );\r\n      }\r\n\r\n      function Ha(a, b, c) {\r\n        Ga(a) || xa(a, \"Array or NodeList or HTMLCollection\", b, c);\r\n      }\r\n\r\n      function Ia(a) {\r\n        return Array.prototype.slice.call(a);\r\n      }\r\n\r\n      function Ja(a, b, c) {\r\n        Array.isArray(a)\r\n          ? b >= a.length\r\n            ? a.push(c)\r\n            : a.splice(b, 0, c)\r\n          : v(\r\n              \"Cannot insert an object into an HTMLCollection or NodeList: \" +\r\n                c +\r\n                \" at \" +\r\n                b\r\n            );\r\n      }\r\n\r\n      function Ka(a, b) {\r\n        Array.isArray(a)\r\n          ? b >= a.length\r\n            ? a.pop()\r\n            : a.splice(b, 1)\r\n          : v(\r\n              \"Cannot remove an object from an HTMLCollection or NodeList at \" +\r\n                b\r\n            );\r\n      }\r\n\r\n      function La() {\r\n        var a = Ma.pop();\r\n        return void 0 === a ? [] : a;\r\n      }\r\n\r\n      function Na(a) {\r\n        a.length = 0;\r\n        Ma.push(a);\r\n      }\r\n\r\n      function wa(a) {\r\n        return null === a\r\n          ? \"*\"\r\n          : \"string\" === typeof a\r\n          ? a\r\n          : \"function\" === typeof a && \"string\" === typeof a.className\r\n          ? a.className\r\n          : \"\";\r\n      }\r\n\r\n      function Oa(a) {\r\n        if (\"function\" === typeof a) {\r\n          if (a.className) return a.className;\r\n          if (a.name) return a.name;\r\n          var b = a.toString();\r\n          b = b.substring(9, b.indexOf(\"(\")).trim();\r\n          if (\"\" !== b) return (a._className = b);\r\n        } else if (Fa(a) && a.constructor) return Oa(a.constructor);\r\n        return typeof a;\r\n      }\r\n\r\n      function Pa(a) {\r\n        var b = a;\r\n        Fa(a) &&\r\n          (a.text\r\n            ? (b = a.text)\r\n            : a.name\r\n            ? (b = a.name)\r\n            : void 0 !== a.key\r\n            ? (b = a.key)\r\n            : void 0 !== a.id\r\n            ? (b = a.id)\r\n            : a.constructor === Object &&\r\n              (a.Text\r\n                ? (b = a.Text)\r\n                : a.Name\r\n                ? (b = a.Name)\r\n                : void 0 !== a.Key\r\n                ? (b = a.Key)\r\n                : void 0 !== a.Id\r\n                ? (b = a.Id)\r\n                : void 0 !== a.ID && (b = a.ID)));\r\n        return void 0 === b ? \"undefined\" : null === b ? \"null\" : b.toString();\r\n      }\r\n\r\n      function Qa(a, b) {\r\n        if (a.hasOwnProperty(b)) return !0;\r\n        for (a = Object.getPrototypeOf(a); a && a !== Function; ) {\r\n          if (a.hasOwnProperty(b)) return !0;\r\n          var c = a.RA;\r\n          if (c && c[b]) return !0;\r\n          a = Object.getPrototypeOf(a);\r\n        }\r\n        return !1;\r\n      }\r\n\r\n      function Ra(a, b, c) {\r\n        Object.defineProperty(Sa.prototype, a, { get: b, set: c });\r\n      }\r\n\r\n      function Ta() {\r\n        var a = Va;\r\n        if (0 === a.length)\r\n          for (\r\n            var b = pa.document.getElementsByTagName(\"canvas\"),\r\n              c = b.length,\r\n              d = 0;\r\n            d < c;\r\n            d++\r\n          ) {\r\n            var e = b[d];\r\n            e.parentElement && e.parentElement.A && a.push(e.parentElement.A);\r\n          }\r\n        return a;\r\n      }\r\n\r\n      function Wa(a) {\r\n        for (var b = [], c = 0; 256 > c; c++)\r\n          b[\r\n            \"0123456789abcdef\".charAt(c >> 4) +\r\n              \"0123456789abcdef\".charAt(c & 15)\r\n          ] = String.fromCharCode(c);\r\n        a.length % 2 && (a = \"0\" + a);\r\n        c = [];\r\n        for (var d = 0, e = 0; e < a.length; e += 2) c[d++] = b[a.substr(e, 2)];\r\n        a = c.join(\"\");\r\n        a = \"\" === a ? \"0\" : a;\r\n        b = [];\r\n        for (c = 0; 256 > c; c++) b[c] = c;\r\n        for (c = d = 0; 256 > c; c++)\r\n          (d = (d + b[c] + 119) % 256), (e = b[c]), (b[c] = b[d]), (b[d] = e);\r\n        d = c = 0;\r\n        for (var f = \"\", g = 0; g < a.length; g++)\r\n          (c = (c + 1) % 256),\r\n            (d = (d + b[c]) % 256),\r\n            (e = b[c]),\r\n            (b[c] = b[d]),\r\n            (b[d] = e),\r\n            (f += String.fromCharCode(\r\n              a.charCodeAt(g) ^ b[(b[c] + b[d]) % 256]\r\n            ));\r\n        return f;\r\n      }\r\n      var Xa =\r\n          void 0 !== pa.navigator &&\r\n          0 < pa.navigator.userAgent.indexOf(\"MSIE 9.0\"),\r\n        Za =\r\n          void 0 !== pa.navigator &&\r\n          0 < pa.navigator.userAgent.indexOf(\"MSIE 10.0\"),\r\n        bb =\r\n          void 0 !== pa.navigator &&\r\n          0 < pa.navigator.userAgent.indexOf(\"Trident/7\"),\r\n        cb =\r\n          void 0 !== pa.navigator &&\r\n          0 < pa.navigator.userAgent.indexOf(\"Edge/\"),\r\n        db =\r\n          void 0 !== pa.navigator &&\r\n          void 0 !== pa.navigator.platform &&\r\n          0 <= pa.navigator.platform.toUpperCase().indexOf(\"MAC\"),\r\n        eb =\r\n          void 0 !== pa.navigator &&\r\n          void 0 !== pa.navigator.platform &&\r\n          null !== pa.navigator.platform.match(/(iPhone|iPod|iPad)/i),\r\n        Ma = [];\r\n      Object.freeze([]);\r\n      var Va = [];\r\n      qa.className = \"Util\";\r\n      qa.Dx = \"32ab5ff3b26f42dc0ed90f224d2913b5\";\r\n      qa.adym = \"gojs.net\";\r\n      qa.vfo = \"28e647fdb0\";\r\n      qa.className = \"Util\";\r\n\r\n      function E(a, b, c) {\r\n        fb(this);\r\n        this.l = a;\r\n        this.Wa = b;\r\n        this.w = c;\r\n      }\r\n      E.prototype.toString = function () {\r\n        return \"EnumValue.\" + this.Wa;\r\n      };\r\n\r\n      function gb(a, b) {\r\n        return void 0 === b || null === b || \"\" === b ? null : a[b];\r\n      }\r\n\r\n      function hb(a, b, c, d) {\r\n        a.classType !== b &&\r\n          ((c = wa(c)),\r\n          void 0 !== d && (c += \".\" + d),\r\n          xa(\r\n            a,\r\n            \"function\" === \"a constant of class \" + typeof b.className\r\n              ? b.className\r\n              : \"\",\r\n            c\r\n          ));\r\n      }\r\n      ma.Object.defineProperties(E.prototype, {\r\n        classType: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.l;\r\n          },\r\n        },\r\n        name: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Wa;\r\n          },\r\n        },\r\n        value: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.w;\r\n          },\r\n        },\r\n      });\r\n      E.className = \"EnumValue\";\r\n\r\n      function ib() {\r\n        this.Nw = [];\r\n      }\r\n      ib.prototype.toString = function () {\r\n        return this.Nw.join(\"\");\r\n      };\r\n      ib.prototype.add = function (a) {\r\n        \"\" !== a && this.Nw.push(a);\r\n      };\r\n      ib.className = \"StringBuilder\";\r\n\r\n      function jb() {}\r\n      jb.className = \"PropertyCollection\";\r\n      var F = {\r\n        Wi: !1,\r\n        sv: !1,\r\n        qz: !1,\r\n        UA: !1,\r\n        YA: !1,\r\n        Xx: !1,\r\n        SA: null,\r\n        trace: function (a) {\r\n          pa.console && pa.console.log(a);\r\n        },\r\n        TA: function (a, b, c, d) {\r\n          a.strokeStyle = \"red\";\r\n          a.fillStyle = \"red\";\r\n          a.font = \"8px sans-serif\";\r\n          a.beginPath();\r\n          a.moveTo(-10, 0);\r\n          a.lineTo(10, 0);\r\n          a.moveTo(0, -10);\r\n          a.lineTo(0, 10);\r\n          a.stroke();\r\n          a.setTransform(1, 0, 0, 1, 0, 0);\r\n          a.scale(c, c);\r\n          a.transform(b.m11, b.m12, b.m21, b.m22, b.dx, b.dy);\r\n          a.lineWidth = 2;\r\n          a.beginPath();\r\n          a.moveTo(d.left, d.top + 20);\r\n          a.lineTo(d.left, d.top);\r\n          a.lineTo(d.left + 20, d.top);\r\n          a.moveTo(d.right, d.bottom - 20);\r\n          a.lineTo(d.right, d.bottom);\r\n          a.lineTo(d.right - 20, d.bottom);\r\n          a.stroke();\r\n          a.fillText(\r\n            \"DB: \" +\r\n              Math.round(d.x) +\r\n              \", \" +\r\n              Math.round(d.y) +\r\n              \", \" +\r\n              Math.round(d.width) +\r\n              \", \" +\r\n              Math.round(d.height),\r\n            d.left,\r\n            d.top - 5\r\n          );\r\n        },\r\n        Xy: function (a) {\r\n          var b = {},\r\n            c;\r\n          for (c in a) {\r\n            b.x = c;\r\n            if (\"licenseKey\" !== b.x) {\r\n              var d = a[b.x];\r\n              if (void 0 !== d.prototype) {\r\n                b.Gm = Object.getOwnPropertyNames(d.prototype);\r\n                for (\r\n                  var e = { rk: 0 };\r\n                  e.rk < b.Gm.length;\r\n                  e = { rk: e.rk }, e.rk++\r\n                ) {\r\n                  var f = Object.getOwnPropertyDescriptor(\r\n                    d.prototype,\r\n                    b.Gm[e.rk]\r\n                  );\r\n                  void 0 !== f.get &&\r\n                    void 0 === f.set &&\r\n                    Object.defineProperty(d.prototype, b.Gm[e.rk], {\r\n                      set: (function (a, b) {\r\n                        return function () {\r\n                          throw Error(\r\n                            \"Property \" +\r\n                              a.Gm[b.rk] +\r\n                              \" of \" +\r\n                              a.x +\r\n                              \" is read-only.\"\r\n                          );\r\n                        };\r\n                      })(b, e),\r\n                    });\r\n                }\r\n              }\r\n            }\r\n            b = { Gm: b.Gm, x: b.x };\r\n          }\r\n        },\r\n      };\r\n\r\n      function lb() {}\r\n      lb.prototype.reset = function () {};\r\n      lb.prototype.next = function () {\r\n        return !1;\r\n      };\r\n      lb.prototype.md = function () {\r\n        return !1;\r\n      };\r\n      lb.prototype.first = function () {\r\n        return null;\r\n      };\r\n      lb.prototype.any = function () {\r\n        return !1;\r\n      };\r\n      lb.prototype.all = function () {\r\n        return !0;\r\n      };\r\n      lb.prototype.each = function () {\r\n        return this;\r\n      };\r\n      lb.prototype.map = function () {\r\n        return this;\r\n      };\r\n      lb.prototype.filter = function () {\r\n        return this;\r\n      };\r\n      lb.prototype.Gd = function () {};\r\n      lb.prototype.toString = function () {\r\n        return \"EmptyIterator\";\r\n      };\r\n      ma.Object.defineProperties(lb.prototype, {\r\n        iterator: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this;\r\n          },\r\n        },\r\n        count: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0;\r\n          },\r\n        },\r\n      });\r\n      lb.prototype.first = lb.prototype.first;\r\n      lb.prototype.hasNext = lb.prototype.md;\r\n      lb.prototype.next = lb.prototype.next;\r\n      lb.prototype.reset = lb.prototype.reset;\r\n      var mb = null;\r\n      lb.className = \"EmptyIterator\";\r\n      mb = new lb();\r\n\r\n      function nb(a) {\r\n        this.key = -1;\r\n        this.value = a;\r\n      }\r\n      nb.prototype.reset = function () {\r\n        this.key = -1;\r\n      };\r\n      nb.prototype.next = function () {\r\n        return -1 === this.key ? ((this.key = 0), !0) : !1;\r\n      };\r\n      nb.prototype.md = function () {\r\n        return this.next();\r\n      };\r\n      nb.prototype.first = function () {\r\n        this.key = 0;\r\n        return this.value;\r\n      };\r\n      nb.prototype.any = function (a) {\r\n        this.key = -1;\r\n        return a(this.value);\r\n      };\r\n      nb.prototype.all = function (a) {\r\n        this.key = -1;\r\n        return a(this.value);\r\n      };\r\n      nb.prototype.each = function (a) {\r\n        this.key = -1;\r\n        a(this.value);\r\n        return this;\r\n      };\r\n      nb.prototype.map = function (a) {\r\n        return new nb(a(this.value));\r\n      };\r\n      nb.prototype.filter = function (a) {\r\n        return a(this.value) ? new nb(this.value) : mb;\r\n      };\r\n      nb.prototype.Gd = function () {\r\n        this.value = null;\r\n      };\r\n      nb.prototype.toString = function () {\r\n        return \"SingletonIterator(\" + this.value + \")\";\r\n      };\r\n      ma.Object.defineProperties(nb.prototype, {\r\n        iterator: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this;\r\n          },\r\n        },\r\n        count: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 1;\r\n          },\r\n        },\r\n      });\r\n      nb.prototype.first = nb.prototype.first;\r\n      nb.prototype.hasNext = nb.prototype.md;\r\n      nb.prototype.next = nb.prototype.next;\r\n      nb.prototype.reset = nb.prototype.reset;\r\n      nb.className = \"SingletonIterator\";\r\n\r\n      function ob(a) {\r\n        this.rb = a;\r\n        this.hf = null;\r\n        a.La = null;\r\n        this.oa = a.u;\r\n        this.Ua = -1;\r\n      }\r\n      ob.prototype.reset = function () {\r\n        var a = this.rb;\r\n        a.La = null;\r\n        this.oa = a.u;\r\n        this.Ua = -1;\r\n      };\r\n      ob.prototype.next = function () {\r\n        var a = this.rb;\r\n        if (a.u !== this.oa) {\r\n          if (0 > this.key) return !1;\r\n          Aa(a);\r\n        }\r\n        a = a.j;\r\n        var b = a.length,\r\n          c = ++this.Ua,\r\n          d = this.hf;\r\n        if (null !== d)\r\n          for (; c < b; ) {\r\n            var e = a[c];\r\n            if (d(e)) return (this.key = this.Ua = c), (this.value = e), !0;\r\n            c++;\r\n          }\r\n        else {\r\n          if (c < b) return (this.key = c), (this.value = a[c]), !0;\r\n          this.Gd();\r\n        }\r\n        return !1;\r\n      };\r\n      ob.prototype.md = function () {\r\n        return this.next();\r\n      };\r\n      ob.prototype.first = function () {\r\n        var a = this.rb;\r\n        this.oa = a.u;\r\n        this.Ua = 0;\r\n        a = a.j;\r\n        var b = a.length,\r\n          c = this.hf;\r\n        if (null !== c) {\r\n          for (var d = 0; d < b; ) {\r\n            var e = a[d];\r\n            if (c(e)) return (this.key = this.Ua = d), (this.value = e);\r\n            d++;\r\n          }\r\n          return null;\r\n        }\r\n        return 0 < b ? ((a = a[0]), (this.key = 0), (this.value = a)) : null;\r\n      };\r\n      ob.prototype.any = function (a) {\r\n        var b = this.rb;\r\n        b.La = null;\r\n        var c = b.u;\r\n        this.Ua = -1;\r\n        for (var d = b.j, e = d.length, f = this.hf, g = 0; g < e; g++) {\r\n          var h = d[g];\r\n          if (null === f || f(h)) {\r\n            if (a(h)) return !0;\r\n            b.u !== c && Aa(b);\r\n          }\r\n        }\r\n        return !1;\r\n      };\r\n      ob.prototype.all = function (a) {\r\n        var b = this.rb;\r\n        b.La = null;\r\n        var c = b.u;\r\n        this.Ua = -1;\r\n        for (var d = b.j, e = d.length, f = this.hf, g = 0; g < e; g++) {\r\n          var h = d[g];\r\n          if (null === f || f(h)) {\r\n            if (!a(h)) return !1;\r\n            b.u !== c && Aa(b);\r\n          }\r\n        }\r\n        return !0;\r\n      };\r\n      ob.prototype.each = function (a) {\r\n        var b = this.rb;\r\n        b.La = null;\r\n        var c = b.u;\r\n        this.Ua = -1;\r\n        for (var d = b.j, e = d.length, f = this.hf, g = 0; g < e; g++) {\r\n          var h = d[g];\r\n          if (null === f || f(h)) a(h), b.u !== c && Aa(b);\r\n        }\r\n        return this;\r\n      };\r\n      ob.prototype.map = function (a) {\r\n        var b = this.rb;\r\n        b.La = null;\r\n        var c = b.u;\r\n        this.Ua = -1;\r\n        for (\r\n          var d = [], e = b.j, f = e.length, g = this.hf, h = 0;\r\n          h < f;\r\n          h++\r\n        ) {\r\n          var k = e[h];\r\n          if (null === g || g(k)) d.push(a(k)), b.u !== c && Aa(b);\r\n        }\r\n        a = new G();\r\n        a.j = d;\r\n        a.ob();\r\n        return a.iterator;\r\n      };\r\n      ob.prototype.filter = function (a) {\r\n        var b = this.rb;\r\n        b.La = null;\r\n        var c = b.u;\r\n        this.Ua = -1;\r\n        for (\r\n          var d = [], e = b.j, f = e.length, g = this.hf, h = 0;\r\n          h < f;\r\n          h++\r\n        ) {\r\n          var k = e[h];\r\n          if (null === g || g(k)) a(k) && d.push(k), b.u !== c && Aa(b);\r\n        }\r\n        a = new G();\r\n        a.j = d;\r\n        a.ob();\r\n        return a.iterator;\r\n      };\r\n      ob.prototype.Gd = function () {\r\n        this.key = -1;\r\n        this.value = null;\r\n        this.oa = -1;\r\n        this.hf = null;\r\n        this.rb.La = this;\r\n      };\r\n      ob.prototype.toString = function () {\r\n        return \"ListIterator@\" + this.Ua + \"/\" + this.rb.count;\r\n      };\r\n      ma.Object.defineProperties(ob.prototype, {\r\n        iterator: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this;\r\n          },\r\n        },\r\n        predicate: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.hf;\r\n          },\r\n          set: function (a) {\r\n            this.hf = a;\r\n          },\r\n        },\r\n        count: {\r\n          configurable: !0,\r\n          get: function () {\r\n            var a = this.hf;\r\n            if (null !== a) {\r\n              for (var b = 0, c = this.rb.j, d = c.length, e = 0; e < d; e++)\r\n                a(c[e]) && b++;\r\n              return b;\r\n            }\r\n            return this.rb.j.length;\r\n          },\r\n        },\r\n      });\r\n      ob.prototype.first = ob.prototype.first;\r\n      ob.prototype.hasNext = ob.prototype.md;\r\n      ob.prototype.next = ob.prototype.next;\r\n      ob.prototype.reset = ob.prototype.reset;\r\n      ob.className = \"ListIterator\";\r\n\r\n      function pb(a) {\r\n        this.rb = a;\r\n        a.lh = null;\r\n        this.oa = a.u;\r\n        this.Ua = a.j.length;\r\n      }\r\n      pb.prototype.reset = function () {\r\n        var a = this.rb;\r\n        a.lh = null;\r\n        this.oa = a.u;\r\n        this.Ua = a.j.length;\r\n      };\r\n      pb.prototype.next = function () {\r\n        var a = this.rb;\r\n        if (a.u !== this.oa) {\r\n          if (0 > this.key) return !1;\r\n          Aa(a);\r\n        }\r\n        var b = --this.Ua;\r\n        if (0 <= b) return (this.key = b), (this.value = a.j[b]), !0;\r\n        this.Gd();\r\n        return !1;\r\n      };\r\n      pb.prototype.md = function () {\r\n        return this.next();\r\n      };\r\n      pb.prototype.first = function () {\r\n        var a = this.rb;\r\n        this.oa = a.u;\r\n        var b = a.j;\r\n        this.Ua = a = b.length - 1;\r\n        return 0 <= a ? ((b = b[a]), (this.key = a), (this.value = b)) : null;\r\n      };\r\n      pb.prototype.any = function (a) {\r\n        var b = this.rb;\r\n        b.lh = null;\r\n        var c = b.u,\r\n          d = b.j,\r\n          e = d.length;\r\n        this.Ua = e;\r\n        for (--e; 0 <= e; e--) {\r\n          if (a(d[e])) return !0;\r\n          b.u !== c && Aa(b);\r\n        }\r\n        return !1;\r\n      };\r\n      pb.prototype.all = function (a) {\r\n        var b = this.rb;\r\n        b.lh = null;\r\n        var c = b.u,\r\n          d = b.j,\r\n          e = d.length;\r\n        this.Ua = e;\r\n        for (--e; 0 <= e; e--) {\r\n          if (!a(d[e])) return !1;\r\n          b.u !== c && Aa(b);\r\n        }\r\n        return !0;\r\n      };\r\n      pb.prototype.each = function (a) {\r\n        var b = this.rb;\r\n        b.lh = null;\r\n        var c = b.u,\r\n          d = b.j,\r\n          e = d.length;\r\n        this.Ua = e;\r\n        for (--e; 0 <= e; e--) a(d[e]), b.u !== c && Aa(b);\r\n        return this;\r\n      };\r\n      pb.prototype.map = function (a) {\r\n        var b = this.rb;\r\n        b.lh = null;\r\n        var c = b.u,\r\n          d = [],\r\n          e = b.j,\r\n          f = e.length;\r\n        this.Ua = f;\r\n        for (--f; 0 <= f; f--) d.push(a(e[f])), b.u !== c && Aa(b);\r\n        a = new G();\r\n        a.j = d;\r\n        a.ob();\r\n        return a.iterator;\r\n      };\r\n      pb.prototype.filter = function (a) {\r\n        var b = this.rb;\r\n        b.lh = null;\r\n        var c = b.u,\r\n          d = [],\r\n          e = b.j,\r\n          f = e.length;\r\n        this.Ua = f;\r\n        for (--f; 0 <= f; f--) {\r\n          var g = e[f];\r\n          a(g) && d.push(g);\r\n          b.u !== c && Aa(b);\r\n        }\r\n        a = new G();\r\n        a.j = d;\r\n        a.ob();\r\n        return a.iterator;\r\n      };\r\n      pb.prototype.Gd = function () {\r\n        this.key = -1;\r\n        this.value = null;\r\n        this.oa = -1;\r\n        this.rb.lh = this;\r\n      };\r\n      pb.prototype.toString = function () {\r\n        return \"ListIteratorBackwards(\" + this.Ua + \"/\" + this.rb.count + \")\";\r\n      };\r\n      ma.Object.defineProperties(pb.prototype, {\r\n        iterator: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this;\r\n          },\r\n        },\r\n        count: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.rb.j.length;\r\n          },\r\n        },\r\n      });\r\n      pb.prototype.first = pb.prototype.first;\r\n      pb.prototype.hasNext = pb.prototype.md;\r\n      pb.prototype.next = pb.prototype.next;\r\n      pb.prototype.reset = pb.prototype.reset;\r\n      pb.className = \"ListIteratorBackwards\";\r\n\r\n      function G(a) {\r\n        fb(this);\r\n        this.s = !1;\r\n        this.j = [];\r\n        this.u = 0;\r\n        this.lh = this.La = null;\r\n        void 0 !== a &&\r\n          (\"function\" === typeof a || \"string\" === typeof a\r\n            ? Ea()\r\n            : this.addAll(a));\r\n      }\r\n      t = G.prototype;\r\n      t.ob = function () {\r\n        var a = this.u;\r\n        a++;\r\n        999999999 < a && (a = 0);\r\n        this.u = a;\r\n      };\r\n      t.freeze = function () {\r\n        this.s = !0;\r\n        return this;\r\n      };\r\n      t.ka = function () {\r\n        this.s = !1;\r\n        return this;\r\n      };\r\n      t.toString = function () {\r\n        return \"List()#\" + sb(this);\r\n      };\r\n      t.add = function (a) {\r\n        if (null === a) return this;\r\n        this.s && va(this, a);\r\n        this.j.push(a);\r\n        this.ob();\r\n        return this;\r\n      };\r\n      t.push = function (a) {\r\n        this.add(a);\r\n      };\r\n      t.addAll = function (a) {\r\n        if (null === a) return this;\r\n        this.s && va(this);\r\n        var b = this.j;\r\n        if (Ga(a)) for (var c = a.length, d = 0; d < c; d++) b.push(a[d]);\r\n        else for (a = a.iterator; a.next(); ) b.push(a.value);\r\n        this.ob();\r\n        return this;\r\n      };\r\n      t.clear = function () {\r\n        this.s && va(this);\r\n        this.j.length = 0;\r\n        this.ob();\r\n      };\r\n      t.contains = function (a) {\r\n        return null === a ? !1 : -1 !== this.j.indexOf(a);\r\n      };\r\n      t.has = function (a) {\r\n        return this.contains(a);\r\n      };\r\n      t.indexOf = function (a) {\r\n        return null === a ? -1 : this.j.indexOf(a);\r\n      };\r\n      t.O = function (a) {\r\n        F && C(a, G, \"elt:i\");\r\n        var b = this.j;\r\n        (0 > a || a >= b.length) && ya(a, \"0 <= i < length\", G, \"elt:i\");\r\n        return b[a];\r\n      };\r\n      t.get = function (a) {\r\n        return this.O(a);\r\n      };\r\n      t.od = function (a, b) {\r\n        F && C(a, G, \"setElt:i\");\r\n        var c = this.j;\r\n        (0 > a || a >= c.length) && ya(a, \"0 <= i < length\", G, \"setElt:i\");\r\n        this.s && va(this, a);\r\n        c[a] = b;\r\n      };\r\n      t.set = function (a, b) {\r\n        this.od(a, b);\r\n      };\r\n      t.first = function () {\r\n        var a = this.j;\r\n        return 0 === a.length ? null : a[0];\r\n      };\r\n      t.ac = function () {\r\n        var a = this.j,\r\n          b = a.length;\r\n        return 0 < b ? a[b - 1] : null;\r\n      };\r\n      t.pop = function () {\r\n        this.s && va(this);\r\n        var a = this.j;\r\n        return 0 < a.length ? a.pop() : null;\r\n      };\r\n      G.prototype.any = function (a) {\r\n        for (var b = this.j, c = this.u, d = b.length, e = 0; e < d; e++) {\r\n          if (a(b[e])) return !0;\r\n          this.u !== c && Aa(this);\r\n        }\r\n        return !1;\r\n      };\r\n      G.prototype.all = function (a) {\r\n        for (var b = this.j, c = this.u, d = b.length, e = 0; e < d; e++) {\r\n          if (!a(b[e])) return !1;\r\n          this.u !== c && Aa(this);\r\n        }\r\n        return !0;\r\n      };\r\n      G.prototype.each = function (a) {\r\n        for (var b = this.j, c = this.u, d = b.length, e = 0; e < d; e++)\r\n          a(b[e]), this.u !== c && Aa(this);\r\n        return this;\r\n      };\r\n      G.prototype.map = function (a) {\r\n        for (\r\n          var b = new G(), c = [], d = this.j, e = this.u, f = d.length, g = 0;\r\n          g < f;\r\n          g++\r\n        )\r\n          c.push(a(d[g])), this.u !== e && Aa(this);\r\n        b.j = c;\r\n        b.ob();\r\n        return b;\r\n      };\r\n      G.prototype.filter = function (a) {\r\n        for (\r\n          var b = new G(), c = [], d = this.j, e = this.u, f = d.length, g = 0;\r\n          g < f;\r\n          g++\r\n        ) {\r\n          var h = d[g];\r\n          a(h) && c.push(h);\r\n          this.u !== e && Aa(this);\r\n        }\r\n        b.j = c;\r\n        b.ob();\r\n        return b;\r\n      };\r\n      t = G.prototype;\r\n      t.Qb = function (a, b) {\r\n        F && C(a, G, \"insertAt:i\");\r\n        0 > a && ya(a, \">= 0\", G, \"insertAt:i\");\r\n        this.s && va(this, a);\r\n        var c = this.j;\r\n        a >= c.length ? c.push(b) : c.splice(a, 0, b);\r\n        this.ob();\r\n      };\r\n      t.remove = function (a) {\r\n        if (null === a) return !1;\r\n        this.s && va(this, a);\r\n        var b = this.j;\r\n        a = b.indexOf(a);\r\n        if (-1 === a) return !1;\r\n        a === b.length - 1 ? b.pop() : b.splice(a, 1);\r\n        this.ob();\r\n        return !0;\r\n      };\r\n      t.delete = function (a) {\r\n        return this.remove(a);\r\n      };\r\n      t.pb = function (a) {\r\n        F && C(a, G, \"removeAt:i\");\r\n        var b = this.j;\r\n        (0 > a || a >= b.length) && ya(a, \"0 <= i < length\", G, \"removeAt:i\");\r\n        this.s && va(this, a);\r\n        a === b.length - 1 ? b.pop() : b.splice(a, 1);\r\n        this.ob();\r\n      };\r\n      t.removeRange = function (a, b) {\r\n        F && (C(a, G, \"removeRange:from\"), C(b, G, \"removeRange:to\"));\r\n        var c = this.j,\r\n          d = c.length;\r\n        if (0 > a) a = 0;\r\n        else if (a >= d) return this;\r\n        if (0 > b) return this;\r\n        b >= d && (b = d - 1);\r\n        if (a > b) return this;\r\n        this.s && va(this);\r\n        for (var e = a, f = b + 1; f < d; ) c[e++] = c[f++];\r\n        c.length = d - (b - a + 1);\r\n        this.ob();\r\n        return this;\r\n      };\r\n      G.prototype.copy = function () {\r\n        var a = new G(),\r\n          b = this.j;\r\n        0 < b.length && (a.j = Array.prototype.slice.call(b));\r\n        return a;\r\n      };\r\n      t = G.prototype;\r\n      t.sa = function () {\r\n        for (var a = this.j, b = this.count, c = Array(b), d = 0; d < b; d++)\r\n          c[d] = a[d];\r\n        return c;\r\n      };\r\n      t.pw = function () {\r\n        for (var a = new H(), b = this.j, c = this.count, d = 0; d < c; d++)\r\n          a.add(b[d]);\r\n        return a;\r\n      };\r\n      t.sort = function (a) {\r\n        F && A(a, \"function\", G, \"sort:sortfunc\");\r\n        this.s && va(this);\r\n        this.j.sort(a);\r\n        this.ob();\r\n        return this;\r\n      };\r\n      t.nj = function (a, b, c) {\r\n        var d = this.j,\r\n          e = d.length;\r\n        void 0 === b && (b = 0);\r\n        void 0 === c && (c = e);\r\n        F &&\r\n          (A(a, \"function\", G, \"sortRange:sortfunc\"),\r\n          C(b, G, \"sortRange:from\"),\r\n          C(c, G, \"sortRange:to\"));\r\n        this.s && va(this);\r\n        var f = c - b;\r\n        if (1 >= f) return this;\r\n        (0 > b || b >= e - 1) &&\r\n          ya(b, \"0 <= from < length\", G, \"sortRange:from\");\r\n        if (2 === f)\r\n          return (\r\n            (c = d[b]),\r\n            (e = d[b + 1]),\r\n            0 < a(c, e) && ((d[b] = e), (d[b + 1] = c), this.ob()),\r\n            this\r\n          );\r\n        if (0 === b)\r\n          if (c >= e) d.sort(a);\r\n          else\r\n            for (b = d.slice(0, c), b.sort(a), a = 0; a < c; a++) d[a] = b[a];\r\n        else if (c >= e)\r\n          for (c = d.slice(b), c.sort(a), a = b; a < e; a++) d[a] = c[a - b];\r\n        else\r\n          for (e = d.slice(b, c), e.sort(a), a = b; a < c; a++) d[a] = e[a - b];\r\n        this.ob();\r\n        return this;\r\n      };\r\n      t.reverse = function () {\r\n        this.s && va(this);\r\n        this.j.reverse();\r\n        this.ob();\r\n        return this;\r\n      };\r\n      ma.Object.defineProperties(G.prototype, {\r\n        _dataArray: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.j;\r\n          },\r\n        },\r\n        count: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.j.length;\r\n          },\r\n        },\r\n        size: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.j.length;\r\n          },\r\n        },\r\n        length: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.j.length;\r\n          },\r\n        },\r\n        iterator: {\r\n          configurable: !0,\r\n          get: function () {\r\n            if (0 >= this.j.length) return mb;\r\n            var a = this.La;\r\n            return null !== a ? (a.reset(), a) : new ob(this);\r\n          },\r\n        },\r\n        iteratorBackwards: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            if (0 >= this.j.length) return mb;\r\n            var a = this.lh;\r\n            return null !== a ? (a.reset(), a) : new pb(this);\r\n          },\r\n        },\r\n      });\r\n      G.prototype.reverse = G.prototype.reverse;\r\n      G.prototype.sortRange = G.prototype.nj;\r\n      G.prototype.sort = G.prototype.sort;\r\n      G.prototype.toSet = G.prototype.pw;\r\n      G.prototype.toArray = G.prototype.sa;\r\n      G.prototype.removeRange = G.prototype.removeRange;\r\n      G.prototype.removeAt = G.prototype.pb;\r\n      G.prototype[\"delete\"] = G.prototype.delete;\r\n      G.prototype.remove = G.prototype.remove;\r\n      G.prototype.insertAt = G.prototype.Qb;\r\n      G.prototype.pop = G.prototype.pop;\r\n      G.prototype.last = G.prototype.ac;\r\n      G.prototype.first = G.prototype.first;\r\n      G.prototype.set = G.prototype.set;\r\n      G.prototype.setElt = G.prototype.od;\r\n      G.prototype.get = G.prototype.get;\r\n      G.prototype.elt = G.prototype.O;\r\n      G.prototype.indexOf = G.prototype.indexOf;\r\n      G.prototype.has = G.prototype.has;\r\n      G.prototype.contains = G.prototype.contains;\r\n      G.prototype.clear = G.prototype.clear;\r\n      G.prototype.addAll = G.prototype.addAll;\r\n      G.prototype.push = G.prototype.push;\r\n      G.prototype.add = G.prototype.add;\r\n      G.prototype.thaw = G.prototype.ka;\r\n      G.prototype.freeze = G.prototype.freeze;\r\n      G.className = \"List\";\r\n\r\n      function tb(a) {\r\n        this.Bg = a;\r\n        a.La = null;\r\n        this.oa = a.u;\r\n        this.qa = null;\r\n      }\r\n      tb.prototype.reset = function () {\r\n        var a = this.Bg;\r\n        a.La = null;\r\n        this.oa = a.u;\r\n        this.qa = null;\r\n      };\r\n      tb.prototype.next = function () {\r\n        var a = this.Bg;\r\n        if (a.u !== this.oa) {\r\n          if (null === this.key) return !1;\r\n          Aa(a);\r\n        }\r\n        var b = this.qa;\r\n        b = null === b ? a.ga : b.ta;\r\n        if (null !== b)\r\n          return (this.qa = b), (this.value = b.value), (this.key = b.key), !0;\r\n        this.Gd();\r\n        return !1;\r\n      };\r\n      tb.prototype.md = function () {\r\n        return this.next();\r\n      };\r\n      tb.prototype.first = function () {\r\n        var a = this.Bg;\r\n        this.oa = a.u;\r\n        a = a.ga;\r\n        if (null !== a) {\r\n          this.qa = a;\r\n          var b = a.value;\r\n          this.key = a.key;\r\n          return (this.value = b);\r\n        }\r\n        return null;\r\n      };\r\n      tb.prototype.any = function (a) {\r\n        var b = this.Bg;\r\n        b.La = null;\r\n        var c = b.u;\r\n        this.qa = null;\r\n        for (var d = b.ga; null !== d; ) {\r\n          if (a(d.value)) return !0;\r\n          b.u !== c && Aa(b);\r\n          d = d.ta;\r\n        }\r\n        return !1;\r\n      };\r\n      tb.prototype.all = function (a) {\r\n        var b = this.Bg;\r\n        b.La = null;\r\n        var c = b.u;\r\n        this.qa = null;\r\n        for (var d = b.ga; null !== d; ) {\r\n          if (!a(d.value)) return !1;\r\n          b.u !== c && Aa(b);\r\n          d = d.ta;\r\n        }\r\n        return !0;\r\n      };\r\n      tb.prototype.each = function (a) {\r\n        var b = this.Bg;\r\n        b.La = null;\r\n        var c = b.u;\r\n        this.qa = null;\r\n        for (var d = b.ga; null !== d; )\r\n          a(d.value), b.u !== c && Aa(b), (d = d.ta);\r\n        return this;\r\n      };\r\n      tb.prototype.map = function (a) {\r\n        var b = this.Bg;\r\n        b.La = null;\r\n        for (var c = new G(), d = b.u, e = b.ga; null !== e; )\r\n          c.add(a(e.value)), b.u !== d && Aa(b), (e = e.ta);\r\n        return c.iterator;\r\n      };\r\n      tb.prototype.filter = function (a) {\r\n        var b = this.Bg;\r\n        b.La = null;\r\n        for (var c = new G(), d = b.u, e = b.ga; null !== e; ) {\r\n          var f = e.value;\r\n          a(f) && c.add(f);\r\n          b.u !== d && Aa(b);\r\n          e = e.ta;\r\n        }\r\n        return c.iterator;\r\n      };\r\n      tb.prototype.Gd = function () {\r\n        this.value = this.key = null;\r\n        this.oa = -1;\r\n        this.Bg.La = this;\r\n      };\r\n      tb.prototype.toString = function () {\r\n        return null !== this.qa\r\n          ? \"SetIterator@\" + this.qa.value\r\n          : \"SetIterator\";\r\n      };\r\n      ma.Object.defineProperties(tb.prototype, {\r\n        iterator: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this;\r\n          },\r\n        },\r\n        count: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Bg.Jb;\r\n          },\r\n        },\r\n      });\r\n      tb.prototype.first = tb.prototype.first;\r\n      tb.prototype.hasNext = tb.prototype.md;\r\n      tb.prototype.next = tb.prototype.next;\r\n      tb.prototype.reset = tb.prototype.reset;\r\n      tb.className = \"SetIterator\";\r\n\r\n      function H(a) {\r\n        fb(this);\r\n        this.s = !1;\r\n        this.Kb = {};\r\n        this.Jb = 0;\r\n        this.La = null;\r\n        this.u = 0;\r\n        this.cf = this.ga = null;\r\n        void 0 !== a &&\r\n          (\"function\" === typeof a || \"string\" === typeof a\r\n            ? Ea()\r\n            : this.addAll(a));\r\n      }\r\n      t = H.prototype;\r\n      t.ob = function () {\r\n        var a = this.u;\r\n        a++;\r\n        999999999 < a && (a = 0);\r\n        this.u = a;\r\n      };\r\n      t.freeze = function () {\r\n        this.s = !0;\r\n        return this;\r\n      };\r\n      t.ka = function () {\r\n        this.s = !1;\r\n        return this;\r\n      };\r\n      t.toString = function () {\r\n        return \"Set()#\" + sb(this);\r\n      };\r\n      t.add = function (a) {\r\n        if (null === a) return this;\r\n        this.s && va(this, a);\r\n        var b = a;\r\n        Fa(a) && (b = ub(a));\r\n        void 0 === this.Kb[b] &&\r\n          (this.Jb++,\r\n          (a = new vb(a, a)),\r\n          (this.Kb[b] = a),\r\n          (b = this.cf),\r\n          null === b ? (this.ga = a) : ((a.Ql = b), (b.ta = a)),\r\n          (this.cf = a),\r\n          this.ob());\r\n        return this;\r\n      };\r\n      t.addAll = function (a) {\r\n        if (null === a) return this;\r\n        this.s && va(this);\r\n        if (Ga(a)) for (var b = a.length, c = 0; c < b; c++) this.add(a[c]);\r\n        else for (a = a.iterator; a.next(); ) this.add(a.value);\r\n        return this;\r\n      };\r\n      t.contains = function (a) {\r\n        if (null === a) return !1;\r\n        var b = a;\r\n        return Fa(a) && ((b = sb(a)), void 0 === b)\r\n          ? !1\r\n          : void 0 !== this.Kb[b];\r\n      };\r\n      t.has = function (a) {\r\n        return this.contains(a);\r\n      };\r\n      t.cz = function (a) {\r\n        if (null === a) return !0;\r\n        for (a = a.iterator; a.next(); ) if (!this.contains(a.value)) return !1;\r\n        return !0;\r\n      };\r\n      t.dz = function (a) {\r\n        if (null === a) return !0;\r\n        for (a = a.iterator; a.next(); ) if (this.contains(a.value)) return !0;\r\n        return !1;\r\n      };\r\n      t.first = function () {\r\n        var a = this.ga;\r\n        return null === a ? null : a.value;\r\n      };\r\n      H.prototype.any = function (a) {\r\n        for (var b = this.u, c = this.ga; null !== c; ) {\r\n          if (a(c.value)) return !0;\r\n          this.u !== b && Aa(this);\r\n          c = c.ta;\r\n        }\r\n        return !1;\r\n      };\r\n      H.prototype.all = function (a) {\r\n        for (var b = this.u, c = this.ga; null !== c; ) {\r\n          if (!a(c.value)) return !1;\r\n          this.u !== b && Aa(this);\r\n          c = c.ta;\r\n        }\r\n        return !0;\r\n      };\r\n      H.prototype.each = function (a) {\r\n        for (var b = this.u, c = this.ga; null !== c; )\r\n          a(c.value), this.u !== b && Aa(this), (c = c.ta);\r\n        return this;\r\n      };\r\n      H.prototype.map = function (a) {\r\n        for (var b = new H(), c = this.u, d = this.ga; null !== d; )\r\n          b.add(a(d.value)), this.u !== c && Aa(this), (d = d.ta);\r\n        return b;\r\n      };\r\n      H.prototype.filter = function (a) {\r\n        for (var b = new H(), c = this.u, d = this.ga; null !== d; ) {\r\n          var e = d.value;\r\n          a(e) && b.add(e);\r\n          this.u !== c && Aa(this);\r\n          d = d.ta;\r\n        }\r\n        return b;\r\n      };\r\n      t = H.prototype;\r\n      t.remove = function (a) {\r\n        if (null === a) return !1;\r\n        this.s && va(this, a);\r\n        var b = a;\r\n        if (Fa(a) && ((b = sb(a)), void 0 === b)) return !1;\r\n        a = this.Kb[b];\r\n        if (void 0 === a) return !1;\r\n        var c = a.ta,\r\n          d = a.Ql;\r\n        null !== c && (c.Ql = d);\r\n        null !== d && (d.ta = c);\r\n        this.ga === a && (this.ga = c);\r\n        this.cf === a && (this.cf = d);\r\n        delete this.Kb[b];\r\n        this.Jb--;\r\n        this.ob();\r\n        return !0;\r\n      };\r\n      t.delete = function (a) {\r\n        return this.remove(a);\r\n      };\r\n      t.Lq = function (a) {\r\n        if (null === a) return this;\r\n        this.s && va(this);\r\n        if (Ga(a)) for (var b = a.length, c = 0; c < b; c++) this.remove(a[c]);\r\n        else for (a = a.iterator; a.next(); ) this.remove(a.value);\r\n        return this;\r\n      };\r\n      t.CA = function (a) {\r\n        if (null === a || 0 === this.count) return this;\r\n        this.s && va(this);\r\n        var b = new H();\r\n        b.addAll(a);\r\n        a = [];\r\n        for (var c = this.iterator; c.next(); ) {\r\n          var d = c.value;\r\n          b.contains(d) || a.push(d);\r\n        }\r\n        this.Lq(a);\r\n        return this;\r\n      };\r\n      t.clear = function () {\r\n        this.s && va(this);\r\n        this.Kb = {};\r\n        this.Jb = 0;\r\n        null !== this.La && this.La.reset();\r\n        this.cf = this.ga = null;\r\n        this.ob();\r\n      };\r\n      H.prototype.copy = function () {\r\n        var a = new H(),\r\n          b = this.Kb,\r\n          c;\r\n        for (c in b) a.add(b[c].value);\r\n        return a;\r\n      };\r\n      H.prototype.sa = function () {\r\n        var a = Array(this.Jb),\r\n          b = this.Kb,\r\n          c = 0,\r\n          d;\r\n        for (d in b) (a[c] = b[d].value), c++;\r\n        return a;\r\n      };\r\n      H.prototype.ow = function () {\r\n        var a = new G(),\r\n          b = this.Kb,\r\n          c;\r\n        for (c in b) a.add(b[c].value);\r\n        return a;\r\n      };\r\n\r\n      function fb(a) {\r\n        a.__gohashid = wb++;\r\n      }\r\n\r\n      function ub(a) {\r\n        var b = a.__gohashid;\r\n        void 0 === b && ((b = wb++), (a.__gohashid = b));\r\n        return b;\r\n      }\r\n\r\n      function sb(a) {\r\n        return a.__gohashid;\r\n      }\r\n      ma.Object.defineProperties(H.prototype, {\r\n        count: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Jb;\r\n          },\r\n        },\r\n        size: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Jb;\r\n          },\r\n        },\r\n        iterator: {\r\n          configurable: !0,\r\n          get: function () {\r\n            if (0 >= this.Jb) return mb;\r\n            var a = this.La;\r\n            return null !== a ? (a.reset(), a) : new tb(this);\r\n          },\r\n        },\r\n      });\r\n      H.prototype.toList = H.prototype.ow;\r\n      H.prototype.toArray = H.prototype.sa;\r\n      H.prototype.clear = H.prototype.clear;\r\n      H.prototype.retainAll = H.prototype.CA;\r\n      H.prototype.removeAll = H.prototype.Lq;\r\n      H.prototype[\"delete\"] = H.prototype.delete;\r\n      H.prototype.remove = H.prototype.remove;\r\n      H.prototype.first = H.prototype.first;\r\n      H.prototype.containsAny = H.prototype.dz;\r\n      H.prototype.containsAll = H.prototype.cz;\r\n      H.prototype.has = H.prototype.has;\r\n      H.prototype.contains = H.prototype.contains;\r\n      H.prototype.addAll = H.prototype.addAll;\r\n      H.prototype.add = H.prototype.add;\r\n      H.prototype.thaw = H.prototype.ka;\r\n      H.prototype.freeze = H.prototype.freeze;\r\n      var wb = 1;\r\n      H.className = \"Set\";\r\n      H.uniqueHash = fb;\r\n      H.hashIdUnique = ub;\r\n      H.hashId = sb;\r\n\r\n      function yb(a) {\r\n        this.la = a;\r\n        this.oa = a.u;\r\n        this.qa = null;\r\n      }\r\n      yb.prototype.reset = function () {\r\n        this.oa = this.la.u;\r\n        this.qa = null;\r\n      };\r\n      yb.prototype.next = function () {\r\n        var a = this.la;\r\n        if (a.u !== this.oa) {\r\n          if (null === this.key) return !1;\r\n          Aa(a);\r\n        }\r\n        var b = this.qa;\r\n        b = null === b ? a.ga : b.ta;\r\n        if (null !== b)\r\n          return (this.qa = b), (this.value = this.key = a = b.key), !0;\r\n        this.Gd();\r\n        return !1;\r\n      };\r\n      yb.prototype.md = function () {\r\n        return this.next();\r\n      };\r\n      yb.prototype.first = function () {\r\n        var a = this.la;\r\n        this.oa = a.u;\r\n        a = a.ga;\r\n        return null !== a\r\n          ? ((this.qa = a), (this.value = this.key = a = a.key))\r\n          : null;\r\n      };\r\n      yb.prototype.any = function (a) {\r\n        var b = this.la,\r\n          c = b.u;\r\n        this.qa = null;\r\n        for (var d = b.ga; null !== d; ) {\r\n          if (a(d.key)) return !0;\r\n          b.u !== c && Aa(b);\r\n          d = d.ta;\r\n        }\r\n        return !1;\r\n      };\r\n      yb.prototype.all = function (a) {\r\n        var b = this.la,\r\n          c = b.u;\r\n        this.qa = null;\r\n        for (var d = b.ga; null !== d; ) {\r\n          if (!a(d.key)) return !1;\r\n          b.u !== c && Aa(b);\r\n          d = d.ta;\r\n        }\r\n        return !0;\r\n      };\r\n      yb.prototype.each = function (a) {\r\n        var b = this.la,\r\n          c = b.u;\r\n        this.qa = null;\r\n        for (var d = b.ga; null !== d; )\r\n          a(d.key), b.u !== c && Aa(b), (d = d.ta);\r\n        return this;\r\n      };\r\n      yb.prototype.map = function (a) {\r\n        var b = this.la,\r\n          c = b.u;\r\n        this.qa = null;\r\n        for (var d = new G(), e = b.ga; null !== e; )\r\n          d.add(a(e.key)), b.u !== c && Aa(b), (e = e.ta);\r\n        return d.iterator;\r\n      };\r\n      yb.prototype.filter = function (a) {\r\n        var b = this.la,\r\n          c = b.u;\r\n        this.qa = null;\r\n        for (var d = new G(), e = b.ga; null !== e; ) {\r\n          var f = e.key;\r\n          a(f) && d.add(f);\r\n          b.u !== c && Aa(b);\r\n          e = e.ta;\r\n        }\r\n        return d.iterator;\r\n      };\r\n      yb.prototype.Gd = function () {\r\n        this.value = this.key = null;\r\n        this.oa = -1;\r\n      };\r\n      yb.prototype.toString = function () {\r\n        return null !== this.qa\r\n          ? \"MapKeySetIterator@\" + this.qa.value\r\n          : \"MapKeySetIterator\";\r\n      };\r\n      ma.Object.defineProperties(yb.prototype, {\r\n        iterator: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this;\r\n          },\r\n        },\r\n        count: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.la.Jb;\r\n          },\r\n        },\r\n      });\r\n      yb.prototype.first = yb.prototype.first;\r\n      yb.prototype.hasNext = yb.prototype.md;\r\n      yb.prototype.next = yb.prototype.next;\r\n      yb.prototype.reset = yb.prototype.reset;\r\n      yb.className = \"MapKeySetIterator\";\r\n\r\n      function zb(a) {\r\n        H.call(this);\r\n        fb(this);\r\n        this.s = !0;\r\n        this.la = a;\r\n      }\r\n      la(zb, H);\r\n      t = zb.prototype;\r\n      t.freeze = function () {\r\n        return this;\r\n      };\r\n      t.ka = function () {\r\n        return this;\r\n      };\r\n      t.toString = function () {\r\n        return \"MapKeySet(\" + this.la.toString() + \")\";\r\n      };\r\n      t.add = function () {\r\n        v(\"This Set is read-only: \" + this.toString());\r\n        return this;\r\n      };\r\n      t.contains = function (a) {\r\n        return this.la.contains(a);\r\n      };\r\n      t.has = function (a) {\r\n        return this.contains(a);\r\n      };\r\n      t.remove = function () {\r\n        v(\"This Set is read-only: \" + this.toString());\r\n        return !1;\r\n      };\r\n      t.delete = function (a) {\r\n        return this.remove(a);\r\n      };\r\n      t.clear = function () {\r\n        v(\"This Set is read-only: \" + this.toString());\r\n      };\r\n      t.first = function () {\r\n        var a = this.la.ga;\r\n        return null !== a ? a.key : null;\r\n      };\r\n      zb.prototype.any = function (a) {\r\n        for (var b = this.la.ga; null !== b; ) {\r\n          if (a(b.key)) return !0;\r\n          b = b.ta;\r\n        }\r\n        return !1;\r\n      };\r\n      zb.prototype.all = function (a) {\r\n        for (var b = this.la.ga; null !== b; ) {\r\n          if (!a(b.key)) return !1;\r\n          b = b.ta;\r\n        }\r\n        return !0;\r\n      };\r\n      zb.prototype.each = function (a) {\r\n        for (var b = this.la.ga; null !== b; ) a(b.key), (b = b.ta);\r\n        return this;\r\n      };\r\n      zb.prototype.map = function (a) {\r\n        for (var b = new H(), c = this.la.ga; null !== c; )\r\n          b.add(a(c.key)), (c = c.ta);\r\n        return b;\r\n      };\r\n      zb.prototype.filter = function (a) {\r\n        for (var b = new H(), c = this.la.ga; null !== c; ) {\r\n          var d = c.key;\r\n          a(d) && b.add(d);\r\n          c = c.ta;\r\n        }\r\n        return b;\r\n      };\r\n      zb.prototype.copy = function () {\r\n        return new zb(this.la);\r\n      };\r\n      zb.prototype.pw = function () {\r\n        var a = new H(),\r\n          b = this.la.Kb,\r\n          c;\r\n        for (c in b) a.add(b[c].key);\r\n        return a;\r\n      };\r\n      zb.prototype.sa = function () {\r\n        var a = this.la.Kb,\r\n          b = Array(this.la.Jb),\r\n          c = 0,\r\n          d;\r\n        for (d in a) (b[c] = a[d].key), c++;\r\n        return b;\r\n      };\r\n      zb.prototype.ow = function () {\r\n        var a = new G(),\r\n          b = this.la.Kb,\r\n          c;\r\n        for (c in b) a.add(b[c].key);\r\n        return a;\r\n      };\r\n      ma.Object.defineProperties(zb.prototype, {\r\n        count: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.la.Jb;\r\n          },\r\n        },\r\n        size: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.la.Jb;\r\n          },\r\n        },\r\n        iterator: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 >= this.la.Jb ? mb : new yb(this.la);\r\n          },\r\n        },\r\n      });\r\n      zb.prototype.toList = zb.prototype.ow;\r\n      zb.prototype.toArray = zb.prototype.sa;\r\n      zb.prototype.toSet = zb.prototype.pw;\r\n      zb.prototype.first = zb.prototype.first;\r\n      zb.prototype.clear = zb.prototype.clear;\r\n      zb.prototype[\"delete\"] = zb.prototype.delete;\r\n      zb.prototype.remove = zb.prototype.remove;\r\n      zb.prototype.has = zb.prototype.has;\r\n      zb.prototype.contains = zb.prototype.contains;\r\n      zb.prototype.add = zb.prototype.add;\r\n      zb.prototype.thaw = zb.prototype.ka;\r\n      zb.prototype.freeze = zb.prototype.freeze;\r\n      zb.className = \"MapKeySet\";\r\n\r\n      function Ab(a) {\r\n        this.la = a;\r\n        a.bf = null;\r\n        this.oa = a.u;\r\n        this.qa = null;\r\n      }\r\n      Ab.prototype.reset = function () {\r\n        var a = this.la;\r\n        a.bf = null;\r\n        this.oa = a.u;\r\n        this.qa = null;\r\n      };\r\n      Ab.prototype.next = function () {\r\n        var a = this.la;\r\n        if (a.u !== this.oa) {\r\n          if (null === this.key) return !1;\r\n          Aa(a);\r\n        }\r\n        var b = this.qa;\r\n        b = null === b ? a.ga : b.ta;\r\n        if (null !== b)\r\n          return (this.qa = b), (this.value = b.value), (this.key = b.key), !0;\r\n        this.Gd();\r\n        return !1;\r\n      };\r\n      Ab.prototype.md = function () {\r\n        return this.next();\r\n      };\r\n      Ab.prototype.first = function () {\r\n        var a = this.la;\r\n        this.oa = a.u;\r\n        a = a.ga;\r\n        if (null !== a) {\r\n          this.qa = a;\r\n          var b = a.value;\r\n          this.key = a.key;\r\n          return (this.value = b);\r\n        }\r\n        return null;\r\n      };\r\n      Ab.prototype.any = function (a) {\r\n        var b = this.la;\r\n        b.bf = null;\r\n        var c = b.u;\r\n        this.qa = null;\r\n        for (var d = b.ga; null !== d; ) {\r\n          if (a(d.value)) return !0;\r\n          b.u !== c && Aa(b);\r\n          d = d.ta;\r\n        }\r\n        return !1;\r\n      };\r\n      Ab.prototype.all = function (a) {\r\n        var b = this.la;\r\n        b.bf = null;\r\n        var c = b.u;\r\n        this.qa = null;\r\n        for (var d = b.ga; null !== d; ) {\r\n          if (!a(d.value)) return !1;\r\n          b.u !== c && Aa(b);\r\n          d = d.ta;\r\n        }\r\n        return !0;\r\n      };\r\n      Ab.prototype.each = function (a) {\r\n        var b = this.la;\r\n        b.bf = null;\r\n        var c = b.u;\r\n        this.qa = null;\r\n        for (var d = b.ga; null !== d; )\r\n          a(d.value), b.u !== c && Aa(b), (d = d.ta);\r\n        return this;\r\n      };\r\n      Ab.prototype.map = function (a) {\r\n        var b = this.la;\r\n        b.bf = null;\r\n        var c = b.u;\r\n        this.qa = null;\r\n        for (var d = new G(), e = b.ga; null !== e; )\r\n          d.add(a(e.value)), b.u !== c && Aa(b), (e = e.ta);\r\n        return d.iterator;\r\n      };\r\n      Ab.prototype.filter = function (a) {\r\n        var b = this.la;\r\n        b.bf = null;\r\n        var c = b.u;\r\n        this.qa = null;\r\n        for (var d = new G(), e = b.ga; null !== e; ) {\r\n          var f = e.value;\r\n          a(f) && d.add(f);\r\n          b.u !== c && Aa(b);\r\n          e = e.ta;\r\n        }\r\n        return d.iterator;\r\n      };\r\n      Ab.prototype.Gd = function () {\r\n        this.value = this.key = null;\r\n        this.oa = -1;\r\n        this.la.bf = this;\r\n      };\r\n      Ab.prototype.toString = function () {\r\n        return null !== this.qa\r\n          ? \"MapValueSetIterator@\" + this.qa.value\r\n          : \"MapValueSetIterator\";\r\n      };\r\n      ma.Object.defineProperties(Ab.prototype, {\r\n        iterator: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this;\r\n          },\r\n        },\r\n        count: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.la.Jb;\r\n          },\r\n        },\r\n      });\r\n      Ab.prototype.first = Ab.prototype.first;\r\n      Ab.prototype.hasNext = Ab.prototype.md;\r\n      Ab.prototype.next = Ab.prototype.next;\r\n      Ab.prototype.reset = Ab.prototype.reset;\r\n      Ab.className = \"MapValueSetIterator\";\r\n\r\n      function vb(a, b) {\r\n        this.key = a;\r\n        this.value = b;\r\n        this.Ql = this.ta = null;\r\n      }\r\n      vb.prototype.toString = function () {\r\n        return \"{\" + this.key + \":\" + this.value + \"}\";\r\n      };\r\n      vb.className = \"KeyValuePair\";\r\n\r\n      function Cb(a) {\r\n        this.la = a;\r\n        a.La = null;\r\n        this.oa = a.u;\r\n        this.qa = null;\r\n      }\r\n      Cb.prototype.reset = function () {\r\n        var a = this.la;\r\n        a.La = null;\r\n        this.oa = a.u;\r\n        this.qa = null;\r\n      };\r\n      Cb.prototype.next = function () {\r\n        var a = this.la;\r\n        if (a.u !== this.oa) {\r\n          if (null === this.key) return !1;\r\n          Aa(a);\r\n        }\r\n        var b = this.qa;\r\n        b = null === b ? a.ga : b.ta;\r\n        if (null !== b)\r\n          return (this.qa = b), (this.key = b.key), (this.value = b.value), !0;\r\n        this.Gd();\r\n        return !1;\r\n      };\r\n      Cb.prototype.md = function () {\r\n        return this.next();\r\n      };\r\n      Cb.prototype.first = function () {\r\n        var a = this.la;\r\n        this.oa = a.u;\r\n        a = a.ga;\r\n        return null !== a\r\n          ? ((this.qa = a), (this.key = a.key), (this.value = a.value), a)\r\n          : null;\r\n      };\r\n      Cb.prototype.any = function (a) {\r\n        var b = this.la;\r\n        b.La = null;\r\n        var c = b.u;\r\n        this.qa = null;\r\n        for (var d = b.ga; null !== d; ) {\r\n          if (a(d)) return !0;\r\n          b.u !== c && Aa(b);\r\n          d = d.ta;\r\n        }\r\n        return !1;\r\n      };\r\n      Cb.prototype.all = function (a) {\r\n        var b = this.la;\r\n        b.La = null;\r\n        var c = b.u;\r\n        this.qa = null;\r\n        for (var d = b.ga; null !== d; ) {\r\n          if (!a(d)) return !1;\r\n          b.u !== c && Aa(b);\r\n          d = d.ta;\r\n        }\r\n        return !0;\r\n      };\r\n      Cb.prototype.each = function (a) {\r\n        var b = this.la;\r\n        b.La = null;\r\n        var c = b.u;\r\n        this.qa = null;\r\n        for (var d = b.ga; null !== d; ) a(d), b.u !== c && Aa(b), (d = d.ta);\r\n        return this;\r\n      };\r\n      Cb.prototype.map = function (a) {\r\n        var b = this.la;\r\n        b.La = null;\r\n        var c = b.u;\r\n        this.qa = null;\r\n        for (var d = new G(), e = b.ga; null !== e; )\r\n          d.add(a(e)), b.u !== c && Aa(b), (e = e.ta);\r\n        return d.iterator;\r\n      };\r\n      Cb.prototype.filter = function (a) {\r\n        var b = this.la;\r\n        b.La = null;\r\n        var c = b.u;\r\n        this.qa = null;\r\n        for (var d = new G(), e = b.ga; null !== e; )\r\n          a(e) && d.add(e), b.u !== c && Aa(b), (e = e.ta);\r\n        return d.iterator;\r\n      };\r\n      Cb.prototype.Gd = function () {\r\n        this.value = this.key = null;\r\n        this.oa = -1;\r\n        this.la.La = this;\r\n      };\r\n      Cb.prototype.toString = function () {\r\n        return null !== this.qa ? \"MapIterator@\" + this.qa : \"MapIterator\";\r\n      };\r\n      ma.Object.defineProperties(Cb.prototype, {\r\n        iterator: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this;\r\n          },\r\n        },\r\n        count: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.la.Jb;\r\n          },\r\n        },\r\n      });\r\n      Cb.prototype.first = Cb.prototype.first;\r\n      Cb.prototype.hasNext = Cb.prototype.md;\r\n      Cb.prototype.next = Cb.prototype.next;\r\n      Cb.prototype.reset = Cb.prototype.reset;\r\n      Cb.className = \"MapIterator\";\r\n\r\n      function Db(a) {\r\n        fb(this);\r\n        this.s = !1;\r\n        this.Kb = {};\r\n        this.Jb = 0;\r\n        this.bf = this.La = null;\r\n        this.u = 0;\r\n        this.cf = this.ga = null;\r\n        void 0 !== a &&\r\n          (\"function\" === typeof a || \"string\" === typeof a\r\n            ? Ea()\r\n            : this.addAll(a));\r\n      }\r\n      t = Db.prototype;\r\n      t.ob = function () {\r\n        var a = this.u;\r\n        a++;\r\n        999999999 < a && (a = 0);\r\n        this.u = a;\r\n      };\r\n      t.freeze = function () {\r\n        this.s = !0;\r\n        return this;\r\n      };\r\n      t.ka = function () {\r\n        this.s = !1;\r\n        return this;\r\n      };\r\n      t.toString = function () {\r\n        return \"Map()#\" + sb(this);\r\n      };\r\n      t.add = function (a, b) {\r\n        this.s && va(this, a);\r\n        var c = a;\r\n        Fa(a) && (c = ub(a));\r\n        var d = this.Kb[c];\r\n        void 0 === d\r\n          ? (this.Jb++,\r\n            (a = new vb(a, b)),\r\n            (this.Kb[c] = a),\r\n            (c = this.cf),\r\n            null === c ? (this.ga = a) : ((a.Ql = c), (c.ta = a)),\r\n            (this.cf = a),\r\n            this.ob())\r\n          : (d.value = b);\r\n        return this;\r\n      };\r\n      t.set = function (a, b) {\r\n        return this.add(a, b);\r\n      };\r\n      t.addAll = function (a) {\r\n        if (null === a) return this;\r\n        if (Ga(a))\r\n          for (var b = a.length, c = 0; c < b; c++) {\r\n            var d = a[c];\r\n            this.add(d.key, d.value);\r\n          }\r\n        else if (a instanceof Db)\r\n          for (a = a.iterator; a.next(); ) this.add(a.key, a.value);\r\n        else\r\n          for (a = a.iterator; a.next(); )\r\n            (b = a.value), this.add(b.key, b.value);\r\n        return this;\r\n      };\r\n      t.first = function () {\r\n        return this.ga;\r\n      };\r\n      Db.prototype.any = function (a) {\r\n        for (var b = this.u, c = this.ga; null !== c; ) {\r\n          if (a(c)) return !0;\r\n          this.u !== b && Aa(this);\r\n          c = c.ta;\r\n        }\r\n        return !1;\r\n      };\r\n      Db.prototype.all = function (a) {\r\n        for (var b = this.u, c = this.ga; null !== c; ) {\r\n          if (!a(c)) return !1;\r\n          this.u !== b && Aa(this);\r\n          c = c.ta;\r\n        }\r\n        return !0;\r\n      };\r\n      Db.prototype.each = function (a) {\r\n        for (var b = this.u, c = this.ga; null !== c; )\r\n          a(c), this.u !== b && Aa(this), (c = c.ta);\r\n        return this;\r\n      };\r\n      Db.prototype.map = function (a) {\r\n        for (var b = new Db(), c = this.u, d = this.ga; null !== d; )\r\n          b.add(d.key, a(d)), this.u !== c && Aa(this), (d = d.ta);\r\n        return b;\r\n      };\r\n      Db.prototype.filter = function (a) {\r\n        for (var b = new Db(), c = this.u, d = this.ga; null !== d; )\r\n          a(d) && b.add(d.key, d.value), this.u !== c && Aa(this), (d = d.ta);\r\n        return b;\r\n      };\r\n      t = Db.prototype;\r\n      t.contains = function (a) {\r\n        var b = a;\r\n        return Fa(a) && ((b = sb(a)), void 0 === b)\r\n          ? !1\r\n          : void 0 !== this.Kb[b];\r\n      };\r\n      t.has = function (a) {\r\n        return this.contains(a);\r\n      };\r\n      t.K = function (a) {\r\n        var b = a;\r\n        if (Fa(a) && ((b = sb(a)), void 0 === b)) return null;\r\n        a = this.Kb[b];\r\n        return void 0 === a ? null : a.value;\r\n      };\r\n      t.get = function (a) {\r\n        return this.K(a);\r\n      };\r\n      t.remove = function (a) {\r\n        if (null === a) return !1;\r\n        this.s && va(this, a);\r\n        var b = a;\r\n        if (Fa(a) && ((b = sb(a)), void 0 === b)) return !1;\r\n        a = this.Kb[b];\r\n        if (void 0 === a) return !1;\r\n        var c = a.ta,\r\n          d = a.Ql;\r\n        null !== c && (c.Ql = d);\r\n        null !== d && (d.ta = c);\r\n        this.ga === a && (this.ga = c);\r\n        this.cf === a && (this.cf = d);\r\n        delete this.Kb[b];\r\n        this.Jb--;\r\n        this.ob();\r\n        return !0;\r\n      };\r\n      t.delete = function (a) {\r\n        return this.remove(a);\r\n      };\r\n      t.clear = function () {\r\n        this.s && va(this);\r\n        this.Kb = {};\r\n        this.Jb = 0;\r\n        null !== this.La && this.La.reset();\r\n        null !== this.bf && this.bf.reset();\r\n        this.cf = this.ga = null;\r\n        this.ob();\r\n      };\r\n      Db.prototype.copy = function () {\r\n        var a = new Db(),\r\n          b = this.Kb,\r\n          c;\r\n        for (c in b) {\r\n          var d = b[c];\r\n          a.add(d.key, d.value);\r\n        }\r\n        return a;\r\n      };\r\n      Db.prototype.sa = function () {\r\n        var a = this.Kb,\r\n          b = Array(this.Jb),\r\n          c = 0,\r\n          d;\r\n        for (d in a) {\r\n          var e = a[d];\r\n          b[c] = new vb(e.key, e.value);\r\n          c++;\r\n        }\r\n        return b;\r\n      };\r\n      Db.prototype.Nf = function () {\r\n        return new zb(this);\r\n      };\r\n      ma.Object.defineProperties(Db.prototype, {\r\n        count: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Jb;\r\n          },\r\n        },\r\n        size: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Jb;\r\n          },\r\n        },\r\n        iterator: {\r\n          configurable: !0,\r\n          get: function () {\r\n            if (0 >= this.count) return mb;\r\n            var a = this.La;\r\n            return null !== a ? (a.reset(), a) : new Cb(this);\r\n          },\r\n        },\r\n        iteratorKeys: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 >= this.count ? mb : new yb(this);\r\n          },\r\n        },\r\n        iteratorValues: {\r\n          configurable: !0,\r\n          get: function () {\r\n            if (0 >= this.count) return mb;\r\n            var a = this.bf;\r\n            return null !== a ? (a.reset(), a) : new Ab(this);\r\n          },\r\n        },\r\n      });\r\n      Db.prototype.toKeySet = Db.prototype.Nf;\r\n      Db.prototype.toArray = Db.prototype.sa;\r\n      Db.prototype.clear = Db.prototype.clear;\r\n      Db.prototype[\"delete\"] = Db.prototype.delete;\r\n      Db.prototype.remove = Db.prototype.remove;\r\n      Db.prototype.get = Db.prototype.get;\r\n      Db.prototype.getValue = Db.prototype.K;\r\n      Db.prototype.has = Db.prototype.has;\r\n      Db.prototype.contains = Db.prototype.contains;\r\n      Db.prototype.first = Db.prototype.first;\r\n      Db.prototype.addAll = Db.prototype.addAll;\r\n      Db.prototype.set = Db.prototype.set;\r\n      Db.prototype.add = Db.prototype.add;\r\n      Db.prototype.thaw = Db.prototype.ka;\r\n      Db.prototype.freeze = Db.prototype.freeze;\r\n      Db.className = \"Map\";\r\n\r\n      function J(a, b) {\r\n        void 0 === a\r\n          ? (this.H = this.G = 0)\r\n          : \"number\" === typeof a && \"number\" === typeof b\r\n          ? ((this.G = a), (this.H = b))\r\n          : v(\"Invalid arguments to Point constructor: \" + a + \", \" + b);\r\n        this.s = !1;\r\n      }\r\n      J.prototype.assign = function (a) {\r\n        this.G = a.G;\r\n        this.H = a.H;\r\n        return this;\r\n      };\r\n      J.prototype.h = function (a, b) {\r\n        this.G = a;\r\n        this.H = b;\r\n        return this;\r\n      };\r\n      J.prototype.Og = function (a, b) {\r\n        F &&\r\n          (A(a, \"number\", J, \"setTo:x\"),\r\n          A(b, \"number\", J, \"setTo:y\"),\r\n          this.ha());\r\n        this.G = a;\r\n        this.H = b;\r\n        return this;\r\n      };\r\n      J.prototype.set = function (a) {\r\n        F && (w(a, J, J, \"set:p\"), this.ha());\r\n        this.G = a.G;\r\n        this.H = a.H;\r\n        return this;\r\n      };\r\n      J.prototype.copy = function () {\r\n        var a = new J();\r\n        a.G = this.G;\r\n        a.H = this.H;\r\n        return a;\r\n      };\r\n      t = J.prototype;\r\n      t.ia = function () {\r\n        this.s = !0;\r\n        Object.freeze(this);\r\n        return this;\r\n      };\r\n      t.J = function () {\r\n        return this.s || Object.isFrozen(this) ? this : this.copy().freeze();\r\n      };\r\n      t.freeze = function () {\r\n        this.s = !0;\r\n        return this;\r\n      };\r\n      t.ka = function () {\r\n        Object.isFrozen(this) && v(\"cannot thaw constant: \" + this);\r\n        this.s = !1;\r\n        return this;\r\n      };\r\n      t.ha = function (a) {\r\n        if (F && this.s) {\r\n          var b =\r\n            \"The Point is frozen, so its properties cannot be set: \" +\r\n            this.toString();\r\n          void 0 !== a && (b += \"  to value: \" + a);\r\n          v(b);\r\n        }\r\n      };\r\n\r\n      function Eb(a) {\r\n        if (\"string\" === typeof a) {\r\n          a = a.split(\" \");\r\n          for (var b = 0, c = 0; \"\" === a[b]; ) b++;\r\n          var d = a[b++];\r\n          d && (c = parseFloat(d));\r\n          for (var e = 0; \"\" === a[b]; ) b++;\r\n          (d = a[b++]) && (e = parseFloat(d));\r\n          return new J(c, e);\r\n        }\r\n        return new J();\r\n      }\r\n\r\n      function Gb(a) {\r\n        F && w(a, J);\r\n        return a.x.toString() + \" \" + a.y.toString();\r\n      }\r\n      t.toString = function () {\r\n        return \"Point(\" + this.x + \",\" + this.y + \")\";\r\n      };\r\n      t.B = function (a) {\r\n        return a instanceof J ? this.G === a.x && this.H === a.y : !1;\r\n      };\r\n      t.Yi = function (a, b) {\r\n        return this.G === a && this.H === b;\r\n      };\r\n      t.Sa = function (a) {\r\n        return K.C(this.G, a.x) && K.C(this.H, a.y);\r\n      };\r\n      t.add = function (a) {\r\n        F && (w(a, J, J, \"add:p\"), this.ha());\r\n        this.G += a.x;\r\n        this.H += a.y;\r\n        return this;\r\n      };\r\n      t.ee = function (a) {\r\n        F && (w(a, J, J, \"subtract:p\"), this.ha());\r\n        this.G -= a.x;\r\n        this.H -= a.y;\r\n        return this;\r\n      };\r\n      t.offset = function (a, b) {\r\n        F && (C(a, J, \"offset:dx\"), C(b, J, \"offset:dy\"), this.ha());\r\n        this.G += a;\r\n        this.H += b;\r\n        return this;\r\n      };\r\n      J.prototype.rotate = function (a) {\r\n        F && (C(a, J, \"rotate:angle\"), this.ha());\r\n        if (0 === a) return this;\r\n        var b = this.G,\r\n          c = this.H;\r\n        if (0 === b && 0 === c) return this;\r\n        360 <= a ? (a -= 360) : 0 > a && (a += 360);\r\n        if (90 === a) {\r\n          a = 0;\r\n          var d = 1;\r\n        } else\r\n          180 === a\r\n            ? ((a = -1), (d = 0))\r\n            : 270 === a\r\n            ? ((a = 0), (d = -1))\r\n            : ((d = (a * Math.PI) / 180), (a = Math.cos(d)), (d = Math.sin(d)));\r\n        this.G = a * b - d * c;\r\n        this.H = d * b + a * c;\r\n        return this;\r\n      };\r\n      t = J.prototype;\r\n      t.scale = function (a, b) {\r\n        F && (C(a, J, \"scale:sx\"), C(b, J, \"scale:sy\"), this.ha());\r\n        this.G *= a;\r\n        this.H *= b;\r\n        return this;\r\n      };\r\n      t.Je = function (a) {\r\n        F && w(a, J, J, \"distanceSquaredPoint:p\");\r\n        var b = a.x - this.G;\r\n        a = a.y - this.H;\r\n        return b * b + a * a;\r\n      };\r\n      t.ld = function (a, b) {\r\n        F && (C(a, J, \"distanceSquared:px\"), C(b, J, \"distanceSquared:py\"));\r\n        a -= this.G;\r\n        b -= this.H;\r\n        return a * a + b * b;\r\n      };\r\n      t.normalize = function () {\r\n        F && this.ha();\r\n        var a = this.G,\r\n          b = this.H,\r\n          c = Math.sqrt(a * a + b * b);\r\n        0 < c && ((this.G = a / c), (this.H = b / c));\r\n        return this;\r\n      };\r\n      t.Xa = function (a) {\r\n        F && w(a, J, J, \"directionPoint:p\");\r\n        return Ib(a.x - this.G, a.y - this.H);\r\n      };\r\n      t.direction = function (a, b) {\r\n        F && (C(a, J, \"direction:px\"), C(b, J, \"direction:py\"));\r\n        return Ib(a - this.G, b - this.H);\r\n      };\r\n\r\n      function Ib(a, b) {\r\n        if (0 === a) return 0 < b ? 90 : 0 > b ? 270 : 0;\r\n        if (0 === b) return 0 < a ? 0 : 180;\r\n        if (isNaN(a) || isNaN(b)) return 0;\r\n        var c = (180 * Math.atan(Math.abs(b / a))) / Math.PI;\r\n        0 > a ? (c = 0 > b ? c + 180 : 180 - c) : 0 > b && (c = 360 - c);\r\n        return c;\r\n      }\r\n      t.wA = function (a, b, c, d) {\r\n        F &&\r\n          (C(a, J, \"projectOntoLineSegment:px\"),\r\n          C(b, J, \"projectOntoLineSegment:py\"),\r\n          C(c, J, \"projectOntoLineSegment:qx\"),\r\n          C(d, J, \"projectOntoLineSegment:qy\"));\r\n        K.kj(a, b, c, d, this.G, this.H, this);\r\n        return this;\r\n      };\r\n      t.xA = function (a, b) {\r\n        F &&\r\n          (w(a, J, J, \"projectOntoLineSegmentPoint:p\"),\r\n          w(b, J, J, \"projectOntoLineSegmentPoint:q\"));\r\n        K.kj(a.x, a.y, b.x, b.y, this.G, this.H, this);\r\n        return this;\r\n      };\r\n      t.IA = function (a, b, c, d) {\r\n        F &&\r\n          (C(a, J, \"snapToGrid:originx\"),\r\n          C(b, J, \"snapToGrid:originy\"),\r\n          C(c, J, \"snapToGrid:cellwidth\"),\r\n          C(d, J, \"snapToGrid:cellheight\"));\r\n        K.rq(this.G, this.H, a, b, c, d, this);\r\n        return this;\r\n      };\r\n      t.JA = function (a, b) {\r\n        F &&\r\n          (w(a, J, J, \"snapToGridPoint:p\"), w(b, Jb, J, \"snapToGridPoint:q\"));\r\n        K.rq(this.G, this.H, a.x, a.y, b.width, b.height, this);\r\n        return this;\r\n      };\r\n      t.mj = function (a, b) {\r\n        F &&\r\n          (w(a, L, J, \"setRectSpot:r\"),\r\n          w(b, M, J, \"setRectSpot:spot\"),\r\n          this.ha());\r\n        this.G = a.x + b.x * a.width + b.offsetX;\r\n        this.H = a.y + b.y * a.height + b.offsetY;\r\n        return this;\r\n      };\r\n      t.Fk = function (a, b, c, d, e) {\r\n        F &&\r\n          (C(a, J, \"setSpot:x\"),\r\n          C(b, J, \"setSpot:y\"),\r\n          C(c, J, \"setSpot:w\"),\r\n          C(d, J, \"setSpot:h\"),\r\n          (0 > c || 0 > d) &&\r\n            v(\"Point.setSpot:Width and height cannot be negative\"),\r\n          w(e, M, J, \"setSpot:spot\"),\r\n          this.ha());\r\n        this.G = a + e.x * c + e.offsetX;\r\n        this.H = b + e.y * d + e.offsetY;\r\n        return this;\r\n      };\r\n      t.transform = function (a) {\r\n        F && w(a, Kb, J, \"transform:t\");\r\n        a.xa(this);\r\n        return this;\r\n      };\r\n\r\n      function Lb(a, b) {\r\n        F && w(b, Kb, J, \"transformInverted:t\");\r\n        b.ae(a);\r\n        return a;\r\n      }\r\n\r\n      function Mb(a, b, c, d, e, f) {\r\n        F &&\r\n          (C(a, J, \"distanceLineSegmentSquared:px\"),\r\n          C(b, J, \"distanceLineSegmentSquared:py\"),\r\n          C(c, J, \"distanceLineSegmentSquared:ax\"),\r\n          C(d, J, \"distanceLineSegmentSquared:ay\"),\r\n          C(e, J, \"distanceLineSegmentSquared:bx\"),\r\n          C(f, J, \"distanceLineSegmentSquared:by\"));\r\n        var g = e - c,\r\n          h = f - d,\r\n          k = g * g + h * h;\r\n        c -= a;\r\n        d -= b;\r\n        var l = -c * g - d * h;\r\n        if (0 >= l || l >= k)\r\n          return (\r\n            (g = e - a), (h = f - b), Math.min(c * c + d * d, g * g + h * h)\r\n          );\r\n        a = g * d - h * c;\r\n        return (a * a) / k;\r\n      }\r\n\r\n      function Nb(a, b, c, d) {\r\n        F &&\r\n          (C(a, J, \"distanceSquared:px\"),\r\n          C(b, J, \"distanceSquared:py\"),\r\n          C(c, J, \"distanceSquared:qx\"),\r\n          C(d, J, \"distanceSquared:qy\"));\r\n        a = c - a;\r\n        b = d - b;\r\n        return a * a + b * b;\r\n      }\r\n\r\n      function Ob(a, b, c, d) {\r\n        F &&\r\n          (C(a, J, \"direction:px\"),\r\n          C(b, J, \"direction:py\"),\r\n          C(c, J, \"direction:qx\"),\r\n          C(d, J, \"direction:qy\"));\r\n        a = c - a;\r\n        b = d - b;\r\n        if (0 === a) return 0 < b ? 90 : 0 > b ? 270 : 0;\r\n        if (0 === b) return 0 < a ? 0 : 180;\r\n        if (isNaN(a) || isNaN(b)) return 0;\r\n        d = (180 * Math.atan(Math.abs(b / a))) / Math.PI;\r\n        0 > a ? (d = 0 > b ? d + 180 : 180 - d) : 0 > b && (d = 360 - d);\r\n        return d;\r\n      }\r\n      t.o = function () {\r\n        return isFinite(this.x) && isFinite(this.y);\r\n      };\r\n      J.alloc = function () {\r\n        var a = Pb.pop();\r\n        return void 0 === a ? new J() : a;\r\n      };\r\n      J.allocAt = function (a, b) {\r\n        var c = Pb.pop();\r\n        if (void 0 === c) return new J(a, b);\r\n        c.x = a;\r\n        c.y = b;\r\n        return c;\r\n      };\r\n      J.free = function (a) {\r\n        Pb.push(a);\r\n      };\r\n      ma.Object.defineProperties(J.prototype, {\r\n        x: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.G;\r\n          },\r\n          set: function (a) {\r\n            F && (A(a, \"number\", J, \"x\"), this.ha(a));\r\n            this.G = a;\r\n          },\r\n        },\r\n        y: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.H;\r\n          },\r\n          set: function (a) {\r\n            F && (A(a, \"number\", J, \"y\"), this.ha(a));\r\n            this.H = a;\r\n          },\r\n        },\r\n      });\r\n      J.prototype.isReal = J.prototype.o;\r\n      J.prototype.setSpot = J.prototype.Fk;\r\n      J.prototype.setRectSpot = J.prototype.mj;\r\n      J.prototype.snapToGridPoint = J.prototype.JA;\r\n      J.prototype.snapToGrid = J.prototype.IA;\r\n      J.prototype.projectOntoLineSegmentPoint = J.prototype.xA;\r\n      J.prototype.projectOntoLineSegment = J.prototype.wA;\r\n      J.prototype.direction = J.prototype.direction;\r\n      J.prototype.directionPoint = J.prototype.Xa;\r\n      J.prototype.normalize = J.prototype.normalize;\r\n      J.prototype.distanceSquared = J.prototype.ld;\r\n      J.prototype.distanceSquaredPoint = J.prototype.Je;\r\n      J.prototype.scale = J.prototype.scale;\r\n      J.prototype.rotate = J.prototype.rotate;\r\n      J.prototype.offset = J.prototype.offset;\r\n      J.prototype.subtract = J.prototype.ee;\r\n      J.prototype.add = J.prototype.add;\r\n      J.prototype.equalsApprox = J.prototype.Sa;\r\n      J.prototype.equalTo = J.prototype.Yi;\r\n      J.prototype.equals = J.prototype.B;\r\n      J.prototype.set = J.prototype.set;\r\n      J.prototype.setTo = J.prototype.Og;\r\n      var Qb = null,\r\n        Rb = null,\r\n        Sb = null,\r\n        Tb = null,\r\n        Vb = null,\r\n        Pb = [];\r\n      J.className = \"Point\";\r\n      J.parse = Eb;\r\n      J.stringify = Gb;\r\n      J.distanceLineSegmentSquared = Mb;\r\n      J.distanceSquared = Nb;\r\n      J.direction = Ob;\r\n      J.Origin = Qb = new J(0, 0).ia();\r\n      J.InfiniteTopLeft = Rb = new J(-Infinity, -Infinity).ia();\r\n      J.InfiniteBottomRight = Sb = new J(Infinity, Infinity).ia();\r\n      J.SixPoint = Tb = new J(6, 6).ia();\r\n      J.NoPoint = Vb = new J(NaN, NaN).ia();\r\n      J.parse = Eb;\r\n      J.stringify = Gb;\r\n      J.distanceLineSegmentSquared = Mb;\r\n      J.distanceSquared = Nb;\r\n      J.direction = Ob;\r\n\r\n      function Jb(a, b) {\r\n        void 0 === a\r\n          ? (this.ca = this.da = 0)\r\n          : \"number\" === typeof a &&\r\n            (0 <= a || isNaN(a)) &&\r\n            \"number\" === typeof b &&\r\n            (0 <= b || isNaN(b))\r\n          ? ((this.da = a), (this.ca = b))\r\n          : v(\"Invalid arguments to Size constructor: \" + a + \", \" + b);\r\n        this.s = !1;\r\n      }\r\n      var Wb, Xb, Yb, Zb, $b, ac, bc;\r\n      Jb.prototype.assign = function (a) {\r\n        this.da = a.da;\r\n        this.ca = a.ca;\r\n        return this;\r\n      };\r\n      Jb.prototype.h = function (a, b) {\r\n        this.da = a;\r\n        this.ca = b;\r\n        return this;\r\n      };\r\n      Jb.prototype.Og = function (a, b) {\r\n        F &&\r\n          (A(a, \"number\", Jb, \"setTo:w\"),\r\n          A(b, \"number\", Jb, \"setTo:h\"),\r\n          0 > a && ya(a, \">= 0\", Jb, \"setTo:w\"),\r\n          0 > b && ya(b, \">= 0\", Jb, \"setTo:h\"),\r\n          this.ha());\r\n        this.da = a;\r\n        this.ca = b;\r\n        return this;\r\n      };\r\n      Jb.prototype.set = function (a) {\r\n        F && (w(a, Jb, Jb, \"set:s\"), this.ha());\r\n        this.da = a.da;\r\n        this.ca = a.ca;\r\n        return this;\r\n      };\r\n      Jb.prototype.copy = function () {\r\n        var a = new Jb();\r\n        a.da = this.da;\r\n        a.ca = this.ca;\r\n        return a;\r\n      };\r\n      t = Jb.prototype;\r\n      t.ia = function () {\r\n        this.s = !0;\r\n        Object.freeze(this);\r\n        return this;\r\n      };\r\n      t.J = function () {\r\n        return this.s || Object.isFrozen(this) ? this : this.copy().freeze();\r\n      };\r\n      t.freeze = function () {\r\n        this.s = !0;\r\n        return this;\r\n      };\r\n      t.ka = function () {\r\n        Object.isFrozen(this) && v(\"cannot thaw constant: \" + this);\r\n        this.s = !1;\r\n        return this;\r\n      };\r\n      t.ha = function (a) {\r\n        if (F && this.s) {\r\n          var b =\r\n            \"The Size is frozen, so its properties cannot be set: \" +\r\n            this.toString();\r\n          void 0 !== a && (b += \"  to value: \" + a);\r\n          v(b);\r\n        }\r\n      };\r\n\r\n      function cc(a) {\r\n        if (\"string\" === typeof a) {\r\n          a = a.split(\" \");\r\n          for (var b = 0, c = 0; \"\" === a[b]; ) b++;\r\n          var d = a[b++];\r\n          d && (c = parseFloat(d));\r\n          for (var e = 0; \"\" === a[b]; ) b++;\r\n          (d = a[b++]) && (e = parseFloat(d));\r\n          return new Jb(c, e);\r\n        }\r\n        return new Jb();\r\n      }\r\n\r\n      function dc(a) {\r\n        F && w(a, Jb);\r\n        return a.width.toString() + \" \" + a.height.toString();\r\n      }\r\n      t.toString = function () {\r\n        return \"Size(\" + this.width + \",\" + this.height + \")\";\r\n      };\r\n      t.B = function (a) {\r\n        return a instanceof Jb\r\n          ? this.da === a.width && this.ca === a.height\r\n          : !1;\r\n      };\r\n      t.Yi = function (a, b) {\r\n        return this.da === a && this.ca === b;\r\n      };\r\n      t.Sa = function (a) {\r\n        return K.C(this.da, a.width) && K.C(this.ca, a.height);\r\n      };\r\n      t.o = function () {\r\n        return isFinite(this.width) && isFinite(this.height);\r\n      };\r\n      Jb.alloc = function () {\r\n        var a = ec.pop();\r\n        return void 0 === a ? new Jb() : a;\r\n      };\r\n      Jb.free = function (a) {\r\n        ec.push(a);\r\n      };\r\n      ma.Object.defineProperties(Jb.prototype, {\r\n        width: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.da;\r\n          },\r\n          set: function (a) {\r\n            F && (A(a, \"number\", Jb, \"width\"), this.ha(a));\r\n            0 > a && ya(a, \">= 0\", Jb, \"width\");\r\n            this.da = a;\r\n          },\r\n        },\r\n        height: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ca;\r\n          },\r\n          set: function (a) {\r\n            F && (A(a, \"number\", Jb, \"height\"), this.ha(a));\r\n            0 > a && ya(a, \">= 0\", Jb, \"height\");\r\n            this.ca = a;\r\n          },\r\n        },\r\n      });\r\n      Jb.prototype.isReal = Jb.prototype.o;\r\n      Jb.prototype.equalsApprox = Jb.prototype.Sa;\r\n      Jb.prototype.equalTo = Jb.prototype.Yi;\r\n      Jb.prototype.equals = Jb.prototype.B;\r\n      Jb.prototype.set = Jb.prototype.set;\r\n      Jb.prototype.setTo = Jb.prototype.Og;\r\n      var ec = [];\r\n      Jb.className = \"Size\";\r\n      Jb.parse = cc;\r\n      Jb.stringify = dc;\r\n      Jb.ZeroSize = Wb = new Jb(0, 0).ia();\r\n      Jb.OneSize = Xb = new Jb(1, 1).ia();\r\n      Jb.SixSize = Yb = new Jb(6, 6).ia();\r\n      Jb.EightSize = Zb = new Jb(8, 8).ia();\r\n      Jb.TenSize = $b = new Jb(10, 10).ia();\r\n      Jb.InfiniteSize = ac = new Jb(Infinity, Infinity).ia();\r\n      Jb.NoSize = bc = new Jb(NaN, NaN).ia();\r\n      Jb.parse = cc;\r\n      Jb.stringify = dc;\r\n\r\n      function L(a, b, c, d) {\r\n        void 0 === a\r\n          ? (this.ca = this.da = this.H = this.G = 0)\r\n          : a instanceof J\r\n          ? ((c = a.x),\r\n            (a = a.y),\r\n            b instanceof J\r\n              ? ((d = b.x),\r\n                (b = b.y),\r\n                (this.G = Math.min(c, d)),\r\n                (this.H = Math.min(a, b)),\r\n                (this.da = Math.abs(c - d)),\r\n                (this.ca = Math.abs(a - b)))\r\n              : b instanceof Jb\r\n              ? ((this.G = c),\r\n                (this.H = a),\r\n                (this.da = b.width),\r\n                (this.ca = b.height))\r\n              : v(\"Incorrect arguments supplied to Rect constructor\"))\r\n          : \"number\" === typeof a &&\r\n            \"number\" === typeof b &&\r\n            \"number\" === typeof c &&\r\n            (0 <= c || isNaN(c)) &&\r\n            \"number\" === typeof d &&\r\n            (0 <= d || isNaN(d))\r\n          ? ((this.G = a), (this.H = b), (this.da = c), (this.ca = d))\r\n          : v(\r\n              \"Invalid arguments to Rect constructor: \" +\r\n                a +\r\n                \", \" +\r\n                b +\r\n                \", \" +\r\n                c +\r\n                \", \" +\r\n                d\r\n            );\r\n        this.s = !1;\r\n      }\r\n      t = L.prototype;\r\n      t.assign = function (a) {\r\n        this.G = a.G;\r\n        this.H = a.H;\r\n        this.da = a.da;\r\n        this.ca = a.ca;\r\n        return this;\r\n      };\r\n      t.h = function (a, b, c, d) {\r\n        this.G = a;\r\n        this.H = b;\r\n        this.da = c;\r\n        this.ca = d;\r\n        return this;\r\n      };\r\n\r\n      function gc(a, b, c) {\r\n        a.da = b;\r\n        a.ca = c;\r\n      }\r\n      t.Og = function (a, b, c, d) {\r\n        F &&\r\n          (A(a, \"number\", L, \"setTo:x\"),\r\n          A(b, \"number\", L, \"setTo:y\"),\r\n          A(c, \"number\", L, \"setTo:w\"),\r\n          A(d, \"number\", L, \"setTo:h\"),\r\n          0 > c && ya(c, \">= 0\", L, \"setTo:w\"),\r\n          0 > d && ya(d, \">= 0\", L, \"setTo:h\"),\r\n          this.ha());\r\n        this.G = a;\r\n        this.H = b;\r\n        this.da = c;\r\n        this.ca = d;\r\n        return this;\r\n      };\r\n      t.set = function (a) {\r\n        F && (w(a, L, L, \"set:r\"), this.ha());\r\n        this.G = a.G;\r\n        this.H = a.H;\r\n        this.da = a.da;\r\n        this.ca = a.ca;\r\n        return this;\r\n      };\r\n      t.pd = function (a) {\r\n        F && (w(a, J, L, \"setPoint:p\"), this.ha());\r\n        this.G = a.x;\r\n        this.H = a.y;\r\n        return this;\r\n      };\r\n      t.GA = function (a) {\r\n        F && (w(a, Jb, L, \"setSize:s\"), this.ha());\r\n        this.da = a.width;\r\n        this.ca = a.height;\r\n        return this;\r\n      };\r\n      L.prototype.copy = function () {\r\n        var a = new L();\r\n        a.G = this.G;\r\n        a.H = this.H;\r\n        a.da = this.da;\r\n        a.ca = this.ca;\r\n        return a;\r\n      };\r\n      t = L.prototype;\r\n      t.ia = function () {\r\n        this.s = !0;\r\n        Object.freeze(this);\r\n        return this;\r\n      };\r\n      t.J = function () {\r\n        return this.s || Object.isFrozen(this) ? this : this.copy().freeze();\r\n      };\r\n      t.freeze = function () {\r\n        this.s = !0;\r\n        return this;\r\n      };\r\n      t.ka = function () {\r\n        Object.isFrozen(this) && v(\"cannot thaw constant: \" + this);\r\n        this.s = !1;\r\n        return this;\r\n      };\r\n      t.ha = function (a) {\r\n        if (F && this.s) {\r\n          var b =\r\n            \"The Rect is frozen, so its properties cannot be set: \" +\r\n            this.toString();\r\n          void 0 !== a && (b += \"  to value: \" + a);\r\n          v(b);\r\n        }\r\n      };\r\n\r\n      function hc(a) {\r\n        if (\"string\" === typeof a) {\r\n          a = a.split(\" \");\r\n          for (var b = 0, c = 0; \"\" === a[b]; ) b++;\r\n          var d = a[b++];\r\n          d && (c = parseFloat(d));\r\n          for (var e = 0; \"\" === a[b]; ) b++;\r\n          (d = a[b++]) && (e = parseFloat(d));\r\n          for (var f = 0; \"\" === a[b]; ) b++;\r\n          (d = a[b++]) && (f = parseFloat(d));\r\n          for (var g = 0; \"\" === a[b]; ) b++;\r\n          (d = a[b++]) && (g = parseFloat(d));\r\n          return new L(c, e, f, g);\r\n        }\r\n        return new L();\r\n      }\r\n\r\n      function ic(a) {\r\n        F && w(a, L);\r\n        return (\r\n          a.x.toString() +\r\n          \" \" +\r\n          a.y.toString() +\r\n          \" \" +\r\n          a.width.toString() +\r\n          \" \" +\r\n          a.height.toString()\r\n        );\r\n      }\r\n      t.toString = function () {\r\n        return (\r\n          \"Rect(\" +\r\n          this.x +\r\n          \",\" +\r\n          this.y +\r\n          \",\" +\r\n          this.width +\r\n          \",\" +\r\n          this.height +\r\n          \")\"\r\n        );\r\n      };\r\n      t.B = function (a) {\r\n        return a instanceof L\r\n          ? this.G === a.x &&\r\n              this.H === a.y &&\r\n              this.da === a.width &&\r\n              this.ca === a.height\r\n          : !1;\r\n      };\r\n      t.Yi = function (a, b, c, d) {\r\n        return this.G === a && this.H === b && this.da === c && this.ca === d;\r\n      };\r\n      t.Sa = function (a) {\r\n        return (\r\n          K.C(this.G, a.x) &&\r\n          K.C(this.H, a.y) &&\r\n          K.C(this.da, a.width) &&\r\n          K.C(this.ca, a.height)\r\n        );\r\n      };\r\n\r\n      function jc(a, b) {\r\n        return (\r\n          K.ba(a.G, b.x) &&\r\n          K.ba(a.H, b.y) &&\r\n          K.ba(a.da, b.width) &&\r\n          K.ba(a.ca, b.height)\r\n        );\r\n      }\r\n      t.ea = function (a) {\r\n        F && w(a, J, L, \"containsPoint:p\");\r\n        return (\r\n          this.G <= a.x &&\r\n          this.G + this.da >= a.x &&\r\n          this.H <= a.y &&\r\n          this.H + this.ca >= a.y\r\n        );\r\n      };\r\n      t.Af = function (a) {\r\n        F && w(a, L, L, \"containsRect:r\");\r\n        return (\r\n          this.G <= a.x &&\r\n          a.x + a.width <= this.G + this.da &&\r\n          this.H <= a.y &&\r\n          a.y + a.height <= this.H + this.ca\r\n        );\r\n      };\r\n      t.contains = function (a, b, c, d) {\r\n        F\r\n          ? (C(a, L, \"contains:x\"),\r\n            C(b, L, \"contains:y\"),\r\n            void 0 === c ? (c = 0) : C(c, L, \"contains:w\"),\r\n            void 0 === d ? (d = 0) : C(d, L, \"contains:h\"),\r\n            (0 > c || 0 > d) &&\r\n              v(\"Rect.contains:Width and height cannot be negative\"))\r\n          : (void 0 === c && (c = 0), void 0 === d && (d = 0));\r\n        return (\r\n          this.G <= a &&\r\n          a + c <= this.G + this.da &&\r\n          this.H <= b &&\r\n          b + d <= this.H + this.ca\r\n        );\r\n      };\r\n      t.reset = function () {\r\n        F && this.ha();\r\n        this.ca = this.da = this.H = this.G = 0;\r\n      };\r\n      t.offset = function (a, b) {\r\n        F && (C(a, L, \"offset:dx\"), C(b, L, \"offset:dy\"), this.ha());\r\n        this.G += a;\r\n        this.H += b;\r\n        return this;\r\n      };\r\n      t.$c = function (a, b) {\r\n        F && (C(a, L, \"inflate:w\"), C(b, L, \"inflate:h\"));\r\n        return kc(this, b, a, b, a);\r\n      };\r\n      t.iq = function (a) {\r\n        F && w(a, lc, L, \"addMargin:m\");\r\n        return kc(this, a.top, a.right, a.bottom, a.left);\r\n      };\r\n      t.nw = function (a) {\r\n        F && w(a, lc, L, \"subtractMargin:m\");\r\n        return kc(this, -a.top, -a.right, -a.bottom, -a.left);\r\n      };\r\n      t.$z = function (a, b, c, d) {\r\n        F &&\r\n          (C(a, L, \"grow:t\"),\r\n          C(b, L, \"grow:r\"),\r\n          C(c, L, \"grow:b\"),\r\n          C(d, L, \"grow:l\"));\r\n        return kc(this, a, b, c, d);\r\n      };\r\n\r\n      function kc(a, b, c, d, e) {\r\n        F && a.ha();\r\n        var f = a.da;\r\n        c + e <= -f\r\n          ? ((a.G += f / 2), (a.da = 0))\r\n          : ((a.G -= e), (a.da += c + e));\r\n        c = a.ca;\r\n        b + d <= -c\r\n          ? ((a.H += c / 2), (a.ca = 0))\r\n          : ((a.H -= b), (a.ca += b + d));\r\n        return a;\r\n      }\r\n      t.dA = function (a) {\r\n        F && w(a, L, L, \"intersectRect:r\");\r\n        return nc(this, a.x, a.y, a.width, a.height);\r\n      };\r\n      t.Iv = function (a, b, c, d) {\r\n        F &&\r\n          (C(a, L, \"intersect:x\"),\r\n          C(b, L, \"intersect:y\"),\r\n          C(c, L, \"intersect:w\"),\r\n          C(d, L, \"intersect:h\"),\r\n          (0 > c || 0 > d) &&\r\n            v(\"Rect.intersect:Width and height cannot be negative\"));\r\n        return nc(this, a, b, c, d);\r\n      };\r\n\r\n      function nc(a, b, c, d, e) {\r\n        F && a.ha();\r\n        var f = Math.max(a.G, b),\r\n          g = Math.max(a.H, c);\r\n        b = Math.min(a.G + a.da, b + d);\r\n        c = Math.min(a.H + a.ca, c + e);\r\n        a.G = f;\r\n        a.H = g;\r\n        a.da = Math.max(0, b - f);\r\n        a.ca = Math.max(0, c - g);\r\n        return a;\r\n      }\r\n      t.Mc = function (a) {\r\n        F && w(a, L, L, \"intersectsRect:r\");\r\n        return this.Jv(a.x, a.y, a.width, a.height);\r\n      };\r\n      t.Jv = function (a, b, c, d) {\r\n        F &&\r\n          (C(a, L, \"intersects:x\"),\r\n          C(b, L, \"intersects:y\"),\r\n          C(a, L, \"intersects:w\"),\r\n          C(b, L, \"intersects:h\"),\r\n          (0 > c || 0 > d) &&\r\n            v(\"Rect.intersects:Width and height cannot be negative\"));\r\n        var e = this.da,\r\n          f = this.G;\r\n        if (\r\n          Infinity !== e &&\r\n          Infinity !== c &&\r\n          ((e += f), (c += a), isNaN(c) || isNaN(e) || f > c || a > e)\r\n        )\r\n          return !1;\r\n        a = this.ca;\r\n        c = this.H;\r\n        return Infinity !== a &&\r\n          Infinity !== d &&\r\n          ((a += c), (d += b), isNaN(d) || isNaN(a) || c > d || b > a)\r\n          ? !1\r\n          : !0;\r\n      };\r\n\r\n      function oc(a, b) {\r\n        var c = a.da,\r\n          d = a.G,\r\n          e = b.x - 10;\r\n        if (d > b.width + 10 + 10 + e || e > c + d) return !1;\r\n        c = a.ca;\r\n        a = a.H;\r\n        d = b.y - 10;\r\n        return a > b.height + 10 + 10 + d || d > c + a ? !1 : !0;\r\n      }\r\n      t.Pe = function (a) {\r\n        F && w(a, J, L, \"unionPoint:p\");\r\n        return pc(this, a.x, a.y, 0, 0);\r\n      };\r\n      t.Nc = function (a) {\r\n        F && w(a, L, L, \"unionRect:r\");\r\n        return pc(this, a.G, a.H, a.da, a.ca);\r\n      };\r\n      t.uw = function (a, b, c, d) {\r\n        F\r\n          ? (C(a, L, \"union:x\"),\r\n            C(b, L, \"union:y\"),\r\n            void 0 === c ? (c = 0) : C(c, L, \"union:w\"),\r\n            void 0 === d ? (d = 0) : C(d, L, \"union:h\"),\r\n            (0 > c || 0 > d) &&\r\n              v(\"Rect.union:Width and height cannot be negative\"),\r\n            this.ha())\r\n          : (void 0 === c && (c = 0), void 0 === d && (d = 0));\r\n        return pc(this, a, b, c, d);\r\n      };\r\n\r\n      function pc(a, b, c, d, e) {\r\n        var f = Math.min(a.G, b),\r\n          g = Math.min(a.H, c);\r\n        b = Math.max(a.G + a.da, b + d);\r\n        c = Math.max(a.H + a.ca, c + e);\r\n        a.G = f;\r\n        a.H = g;\r\n        a.da = b - f;\r\n        a.ca = c - g;\r\n        return a;\r\n      }\r\n      t.Fk = function (a, b, c) {\r\n        F &&\r\n          (C(a, L, \"setSpot:x\"),\r\n          C(b, L, \"setSpot:y\"),\r\n          w(c, M, L, \"setSpot:spot\"),\r\n          this.ha());\r\n        this.G = a - c.offsetX - c.x * this.da;\r\n        this.H = b - c.offsetY - c.y * this.ca;\r\n        return this;\r\n      };\r\n\r\n      function sc(a, b, c, d, e, f, g, h) {\r\n        F\r\n          ? (C(a, L, \"contains:rx\"),\r\n            C(b, L, \"contains:ry\"),\r\n            C(c, L, \"contains:rw\"),\r\n            C(d, L, \"contains:rh\"),\r\n            C(e, L, \"contains:x\"),\r\n            C(f, L, \"contains:y\"),\r\n            void 0 === g ? (g = 0) : C(g, L, \"contains:w\"),\r\n            void 0 === h ? (h = 0) : C(h, L, \"contains:h\"),\r\n            (0 > c || 0 > d || 0 > g || 0 > h) &&\r\n              v(\"Rect.contains:Width and height cannot be negative\"))\r\n          : (void 0 === g && (g = 0), void 0 === h && (h = 0));\r\n        return a <= e && e + g <= a + c && b <= f && f + h <= b + d;\r\n      }\r\n\r\n      function tc(a, b, c, d, e, f, g, h) {\r\n        F &&\r\n          (C(a, L, \"intersects:rx\"),\r\n          C(b, L, \"intersects:ry\"),\r\n          C(c, L, \"intersects:rw\"),\r\n          C(d, L, \"intersects:rh\"),\r\n          C(e, L, \"intersects:x\"),\r\n          C(f, L, \"intersects:y\"),\r\n          C(g, L, \"intersects:w\"),\r\n          C(h, L, \"intersects:h\"),\r\n          (0 > c || 0 > d || 0 > g || 0 > h) &&\r\n            v(\"Rect.intersects:Width and height cannot be negative\"));\r\n        return a > g + e || e > c + a ? !1 : b > h + f || f > d + b ? !1 : !0;\r\n      }\r\n      t.o = function () {\r\n        return (\r\n          isFinite(this.x) &&\r\n          isFinite(this.y) &&\r\n          isFinite(this.width) &&\r\n          isFinite(this.height)\r\n        );\r\n      };\r\n      t.fA = function () {\r\n        return 0 === this.width && 0 === this.height;\r\n      };\r\n      L.alloc = function () {\r\n        var a = uc.pop();\r\n        return void 0 === a ? new L() : a;\r\n      };\r\n      L.allocAt = function (a, b, c, d) {\r\n        var e = uc.pop();\r\n        return void 0 === e ? new L(a, b, c, d) : e.h(a, b, c, d);\r\n      };\r\n      L.free = function (a) {\r\n        uc.push(a);\r\n      };\r\n      ma.Object.defineProperties(L.prototype, {\r\n        x: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.G;\r\n          },\r\n          set: function (a) {\r\n            F && (A(a, \"number\", L, \"x\"), this.ha(a));\r\n            this.G = a;\r\n          },\r\n        },\r\n        y: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.H;\r\n          },\r\n          set: function (a) {\r\n            F && (A(a, \"number\", L, \"y\"), this.ha(a));\r\n            this.H = a;\r\n          },\r\n        },\r\n        width: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.da;\r\n          },\r\n          set: function (a) {\r\n            F && (A(a, \"number\", L, \"width\"), this.ha(a));\r\n            0 > a && ya(a, \">= 0\", L, \"width\");\r\n            this.da = a;\r\n          },\r\n        },\r\n        height: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ca;\r\n          },\r\n          set: function (a) {\r\n            F && (A(a, \"number\", L, \"height\"), this.ha(a));\r\n            0 > a && ya(a, \">= 0\", L, \"height\");\r\n            this.ca = a;\r\n          },\r\n        },\r\n        left: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.G;\r\n          },\r\n          set: function (a) {\r\n            F && (A(a, \"number\", L, \"left\"), this.ha(a));\r\n            this.G = a;\r\n          },\r\n        },\r\n        top: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.H;\r\n          },\r\n          set: function (a) {\r\n            F && (A(a, \"number\", L, \"top\"), this.ha(a));\r\n            this.H = a;\r\n          },\r\n        },\r\n        right: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.G + this.da;\r\n          },\r\n          set: function (a) {\r\n            F && (C(a, L, \"right\"), this.ha(a));\r\n            this.G += a - (this.G + this.da);\r\n          },\r\n        },\r\n        bottom: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.H + this.ca;\r\n          },\r\n          set: function (a) {\r\n            F && (C(a, L, \"top\"), this.ha(a));\r\n            this.H += a - (this.H + this.ca);\r\n          },\r\n        },\r\n        position: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return new J(this.G, this.H);\r\n          },\r\n          set: function (a) {\r\n            F && (w(a, J, L, \"position\"), this.ha(a));\r\n            this.G = a.x;\r\n            this.H = a.y;\r\n          },\r\n        },\r\n        size: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return new Jb(this.da, this.ca);\r\n          },\r\n          set: function (a) {\r\n            F && (w(a, Jb, L, \"size\"), this.ha(a));\r\n            this.da = a.width;\r\n            this.ca = a.height;\r\n          },\r\n        },\r\n        center: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return new J(this.G + this.da / 2, this.H + this.ca / 2);\r\n          },\r\n          set: function (a) {\r\n            F && (w(a, J, L, \"center\"), this.ha(a));\r\n            this.G = a.x - this.da / 2;\r\n            this.H = a.y - this.ca / 2;\r\n          },\r\n        },\r\n        centerX: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.G + this.da / 2;\r\n          },\r\n          set: function (a) {\r\n            F && (C(a, L, \"centerX\"), this.ha(a));\r\n            this.G = a - this.da / 2;\r\n          },\r\n        },\r\n        centerY: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.H + this.ca / 2;\r\n          },\r\n          set: function (a) {\r\n            F && (C(a, L, \"centerY\"), this.ha(a));\r\n            this.H = a - this.ca / 2;\r\n          },\r\n        },\r\n      });\r\n      L.prototype.isEmpty = L.prototype.fA;\r\n      L.prototype.isReal = L.prototype.o;\r\n      L.prototype.setSpot = L.prototype.Fk;\r\n      L.prototype.union = L.prototype.uw;\r\n      L.prototype.unionRect = L.prototype.Nc;\r\n      L.prototype.unionPoint = L.prototype.Pe;\r\n      L.prototype.intersects = L.prototype.Jv;\r\n      L.prototype.intersectsRect = L.prototype.Mc;\r\n      L.prototype.intersect = L.prototype.Iv;\r\n      L.prototype.intersectRect = L.prototype.dA;\r\n      L.prototype.grow = L.prototype.$z;\r\n      L.prototype.subtractMargin = L.prototype.nw;\r\n      L.prototype.addMargin = L.prototype.iq;\r\n      L.prototype.inflate = L.prototype.$c;\r\n      L.prototype.offset = L.prototype.offset;\r\n      L.prototype.contains = L.prototype.contains;\r\n      L.prototype.containsRect = L.prototype.Af;\r\n      L.prototype.containsPoint = L.prototype.ea;\r\n      L.prototype.equalsApprox = L.prototype.Sa;\r\n      L.prototype.equalTo = L.prototype.Yi;\r\n      L.prototype.equals = L.prototype.B;\r\n      L.prototype.setSize = L.prototype.GA;\r\n      L.prototype.setPoint = L.prototype.pd;\r\n      L.prototype.set = L.prototype.set;\r\n      L.prototype.setTo = L.prototype.Og;\r\n      var vc = null,\r\n        wc = null,\r\n        uc = [];\r\n      L.className = \"Rect\";\r\n      L.parse = hc;\r\n      L.stringify = ic;\r\n      L.contains = sc;\r\n      L.intersects = tc;\r\n      L.ZeroRect = vc = new L(0, 0, 0, 0).ia();\r\n      L.NoRect = wc = new L(NaN, NaN, NaN, NaN).ia();\r\n      L.parse = hc;\r\n      L.stringify = ic;\r\n      L.contains = sc;\r\n      L.intersects = tc;\r\n\r\n      function lc(a, b, c, d) {\r\n        void 0 === a\r\n          ? (this.te = this.ie = this.De = this.Fe = 0)\r\n          : void 0 === b\r\n          ? (this.left = this.bottom = this.right = this.top = a)\r\n          : void 0 === c\r\n          ? ((this.top = a),\r\n            (this.right = b),\r\n            (this.bottom = a),\r\n            (this.left = b))\r\n          : void 0 !== d\r\n          ? ((this.top = a),\r\n            (this.right = b),\r\n            (this.bottom = c),\r\n            (this.left = d))\r\n          : v(\r\n              \"Invalid arguments to Margin constructor: \" +\r\n                a +\r\n                \", \" +\r\n                b +\r\n                \", \" +\r\n                c +\r\n                \", \" +\r\n                d\r\n            );\r\n        this.s = !1;\r\n      }\r\n      lc.prototype.assign = function (a) {\r\n        this.Fe = a.Fe;\r\n        this.De = a.De;\r\n        this.ie = a.ie;\r\n        this.te = a.te;\r\n        return this;\r\n      };\r\n      lc.prototype.Og = function (a, b, c, d) {\r\n        F &&\r\n          (A(a, \"number\", lc, \"setTo:t\"),\r\n          A(b, \"number\", lc, \"setTo:r\"),\r\n          A(c, \"number\", lc, \"setTo:b\"),\r\n          A(d, \"number\", lc, \"setTo:l\"),\r\n          this.ha());\r\n        this.Fe = a;\r\n        this.De = b;\r\n        this.ie = c;\r\n        this.te = d;\r\n        return this;\r\n      };\r\n      lc.prototype.set = function (a) {\r\n        F && (w(a, lc, lc, \"assign:m\"), this.ha());\r\n        this.Fe = a.Fe;\r\n        this.De = a.De;\r\n        this.ie = a.ie;\r\n        this.te = a.te;\r\n        return this;\r\n      };\r\n      lc.prototype.copy = function () {\r\n        var a = new lc();\r\n        a.Fe = this.Fe;\r\n        a.De = this.De;\r\n        a.ie = this.ie;\r\n        a.te = this.te;\r\n        return a;\r\n      };\r\n      t = lc.prototype;\r\n      t.ia = function () {\r\n        this.s = !0;\r\n        Object.freeze(this);\r\n        return this;\r\n      };\r\n      t.J = function () {\r\n        return this.s || Object.isFrozen(this) ? this : this.copy().freeze();\r\n      };\r\n      t.freeze = function () {\r\n        this.s = !0;\r\n        return this;\r\n      };\r\n      t.ka = function () {\r\n        Object.isFrozen(this) && v(\"cannot thaw constant: \" + this);\r\n        this.s = !1;\r\n        return this;\r\n      };\r\n      t.ha = function (a) {\r\n        if (F && this.s) {\r\n          var b =\r\n            \"The Margin is frozen, so its properties cannot be set: \" +\r\n            this.toString();\r\n          void 0 !== a && (b += \"  to value: \" + a);\r\n          v(b);\r\n        }\r\n      };\r\n\r\n      function xc(a) {\r\n        if (\"string\" === typeof a) {\r\n          a = a.split(\" \");\r\n          for (var b = 0, c = NaN; \"\" === a[b]; ) b++;\r\n          var d = a[b++];\r\n          d && (c = parseFloat(d));\r\n          if (isNaN(c)) return new lc();\r\n          for (var e = NaN; \"\" === a[b]; ) b++;\r\n          (d = a[b++]) && (e = parseFloat(d));\r\n          if (isNaN(e)) return new lc(c);\r\n          for (var f = NaN; \"\" === a[b]; ) b++;\r\n          (d = a[b++]) && (f = parseFloat(d));\r\n          if (isNaN(f)) return new lc(c, e);\r\n          for (var g = NaN; \"\" === a[b]; ) b++;\r\n          (d = a[b++]) && (g = parseFloat(d));\r\n          return isNaN(g) ? new lc(c, e) : new lc(c, e, f, g);\r\n        }\r\n        return new lc();\r\n      }\r\n\r\n      function yc(a) {\r\n        F && w(a, lc);\r\n        return (\r\n          a.top.toString() +\r\n          \" \" +\r\n          a.right.toString() +\r\n          \" \" +\r\n          a.bottom.toString() +\r\n          \" \" +\r\n          a.left.toString()\r\n        );\r\n      }\r\n      t.toString = function () {\r\n        return (\r\n          \"Margin(\" +\r\n          this.top +\r\n          \",\" +\r\n          this.right +\r\n          \",\" +\r\n          this.bottom +\r\n          \",\" +\r\n          this.left +\r\n          \")\"\r\n        );\r\n      };\r\n      t.B = function (a) {\r\n        return a instanceof lc\r\n          ? this.Fe === a.top &&\r\n              this.De === a.right &&\r\n              this.ie === a.bottom &&\r\n              this.te === a.left\r\n          : !1;\r\n      };\r\n      t.Yi = function (a, b, c, d) {\r\n        return this.Fe === a && this.De === b && this.ie === c && this.te === d;\r\n      };\r\n      t.Sa = function (a) {\r\n        return (\r\n          K.C(this.Fe, a.top) &&\r\n          K.C(this.De, a.right) &&\r\n          K.C(this.ie, a.bottom) &&\r\n          K.C(this.te, a.left)\r\n        );\r\n      };\r\n      t.o = function () {\r\n        return (\r\n          isFinite(this.top) &&\r\n          isFinite(this.right) &&\r\n          isFinite(this.bottom) &&\r\n          isFinite(this.left)\r\n        );\r\n      };\r\n      lc.alloc = function () {\r\n        var a = Dc.pop();\r\n        return void 0 === a ? new lc() : a;\r\n      };\r\n      lc.free = function (a) {\r\n        Dc.push(a);\r\n      };\r\n      ma.Object.defineProperties(lc.prototype, {\r\n        top: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Fe;\r\n          },\r\n          set: function (a) {\r\n            F && (C(a, lc, \"top\"), this.ha(a));\r\n            this.Fe = a;\r\n          },\r\n        },\r\n        right: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.De;\r\n          },\r\n          set: function (a) {\r\n            F && (C(a, lc, \"right\"), this.ha(a));\r\n            this.De = a;\r\n          },\r\n        },\r\n        bottom: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ie;\r\n          },\r\n          set: function (a) {\r\n            F && (C(a, lc, \"bottom\"), this.ha(a));\r\n            this.ie = a;\r\n          },\r\n        },\r\n        left: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.te;\r\n          },\r\n          set: function (a) {\r\n            F && (C(a, lc, \"left\"), this.ha(a));\r\n            this.te = a;\r\n          },\r\n        },\r\n      });\r\n      lc.prototype.isReal = lc.prototype.o;\r\n      lc.prototype.equalsApprox = lc.prototype.Sa;\r\n      lc.prototype.equalTo = lc.prototype.Yi;\r\n      lc.prototype.equals = lc.prototype.B;\r\n      lc.prototype.set = lc.prototype.set;\r\n      lc.prototype.setTo = lc.prototype.Og;\r\n      var Ec = null,\r\n        Fc = null,\r\n        Dc = [];\r\n      lc.className = \"Margin\";\r\n      lc.parse = xc;\r\n      lc.stringify = yc;\r\n      lc.ZeroMargin = Ec = new lc(0, 0, 0, 0).ia();\r\n      lc.TwoMargin = Fc = new lc(2, 2, 2, 2).ia();\r\n      lc.parse = xc;\r\n      lc.stringify = yc;\r\n\r\n      function M(a, b, c, d) {\r\n        void 0 === a\r\n          ? (this.Wd = this.Vd = this.H = this.G = 0)\r\n          : (void 0 === b && (b = 0),\r\n            void 0 === c && (c = 0),\r\n            void 0 === d && (d = 0),\r\n            (this.x = a),\r\n            (this.y = b),\r\n            (this.offsetX = c),\r\n            (this.offsetY = d));\r\n        this.s = !1;\r\n      }\r\n      var Gc,\r\n        Hc,\r\n        Ic,\r\n        Kc,\r\n        Lc,\r\n        Mc,\r\n        Nc,\r\n        Qc,\r\n        Rc,\r\n        Sc,\r\n        Tc,\r\n        Uc,\r\n        Vc,\r\n        Wc,\r\n        Xc,\r\n        Yc,\r\n        Zc,\r\n        ad,\r\n        bd,\r\n        cd,\r\n        dd,\r\n        ed,\r\n        fd,\r\n        id,\r\n        jd,\r\n        kd,\r\n        ld,\r\n        md,\r\n        nd,\r\n        od,\r\n        pd,\r\n        qd,\r\n        rd,\r\n        sd,\r\n        td,\r\n        ud;\r\n      M.prototype.assign = function (a) {\r\n        this.G = a.G;\r\n        this.H = a.H;\r\n        this.Vd = a.Vd;\r\n        this.Wd = a.Wd;\r\n        return this;\r\n      };\r\n      M.prototype.Og = function (a, b, c, d) {\r\n        F &&\r\n          (vd(a, \"setTo:x\"),\r\n          vd(b, \"setTo:y\"),\r\n          wd(c, \"setTo:offx\"),\r\n          wd(d, \"setTo:offy\"),\r\n          this.ha());\r\n        this.G = a;\r\n        this.H = b;\r\n        this.Vd = c;\r\n        this.Wd = d;\r\n        return this;\r\n      };\r\n      M.prototype.set = function (a) {\r\n        F && (w(a, M, M, \"set:s\"), this.ha());\r\n        this.G = a.G;\r\n        this.H = a.H;\r\n        this.Vd = a.Vd;\r\n        this.Wd = a.Wd;\r\n        return this;\r\n      };\r\n      M.prototype.copy = function () {\r\n        var a = new M();\r\n        a.G = this.G;\r\n        a.H = this.H;\r\n        a.Vd = this.Vd;\r\n        a.Wd = this.Wd;\r\n        return a;\r\n      };\r\n      t = M.prototype;\r\n      t.ia = function () {\r\n        this.s = !0;\r\n        Object.freeze(this);\r\n        return this;\r\n      };\r\n      t.J = function () {\r\n        return this.s || Object.isFrozen(this) ? this : this.copy().freeze();\r\n      };\r\n      t.freeze = function () {\r\n        this.s = !0;\r\n        return this;\r\n      };\r\n      t.ka = function () {\r\n        Object.isFrozen(this) && v(\"cannot thaw constant: \" + this);\r\n        this.s = !1;\r\n        return this;\r\n      };\r\n      t.ha = function (a) {\r\n        if (F && this.s) {\r\n          var b =\r\n            \"The Spot is frozen, so its properties cannot be set: \" +\r\n            this.toString();\r\n          void 0 !== a && (b += \"  to value: \" + a);\r\n          v(b);\r\n        }\r\n      };\r\n\r\n      function xd(a, b) {\r\n        a.G = NaN;\r\n        a.H = NaN;\r\n        a.Vd = b;\r\n        return a;\r\n      }\r\n\r\n      function vd(a, b) {\r\n        (isNaN(a) || 1 < a || 0 > a) && ya(a, \"0 <= \" + b + \" <= 1\", M, b);\r\n      }\r\n\r\n      function wd(a, b) {\r\n        (isNaN(a) || Infinity === a || -Infinity === a) &&\r\n          ya(a, \"real number, not NaN or Infinity\", M, b);\r\n      }\r\n\r\n      function yd(a) {\r\n        if (\"string\" === typeof a) {\r\n          a = a.trim();\r\n          if (\"None\" === a) return Gc;\r\n          if (\"TopLeft\" === a) return Hc;\r\n          if (\"Top\" === a || \"TopCenter\" === a || \"MiddleTop\" === a) return Ic;\r\n          if (\"TopRight\" === a) return Kc;\r\n          if (\"Left\" === a || \"LeftCenter\" === a || \"MiddleLeft\" === a)\r\n            return Lc;\r\n          if (\"Center\" === a) return Mc;\r\n          if (\"Right\" === a || \"RightCenter\" === a || \"MiddleRight\" === a)\r\n            return Nc;\r\n          if (\"BottomLeft\" === a) return Qc;\r\n          if (\"Bottom\" === a || \"BottomCenter\" === a || \"MiddleBottom\" === a)\r\n            return Rc;\r\n          if (\"BottomRight\" === a) return Sc;\r\n          if (\"TopSide\" === a) return Tc;\r\n          if (\"LeftSide\" === a) return Uc;\r\n          if (\"RightSide\" === a) return Vc;\r\n          if (\"BottomSide\" === a) return Wc;\r\n          if (\"TopBottomSides\" === a) return Xc;\r\n          if (\"LeftRightSides\" === a) return Yc;\r\n          if (\"TopLeftSides\" === a) return Zc;\r\n          if (\"TopRightSides\" === a) return ad;\r\n          if (\"BottomLeftSides\" === a) return bd;\r\n          if (\"BottomRightSides\" === a) return cd;\r\n          if (\"NotTopSide\" === a) return dd;\r\n          if (\"NotLeftSide\" === a) return ed;\r\n          if (\"NotRightSide\" === a) return fd;\r\n          if (\"NotBottomSide\" === a) return id;\r\n          if (\"AllSides\" === a) return jd;\r\n          if (\"Default\" === a) return kd;\r\n          a = a.split(\" \");\r\n          for (var b = 0, c = 0; \"\" === a[b]; ) b++;\r\n          var d = a[b++];\r\n          void 0 !== d && 0 < d.length && (c = parseFloat(d));\r\n          for (var e = 0; \"\" === a[b]; ) b++;\r\n          d = a[b++];\r\n          void 0 !== d && 0 < d.length && (e = parseFloat(d));\r\n          for (var f = 0; \"\" === a[b]; ) b++;\r\n          d = a[b++];\r\n          void 0 !== d && 0 < d.length && (f = parseFloat(d));\r\n          for (var g = 0; \"\" === a[b]; ) b++;\r\n          d = a[b++];\r\n          void 0 !== d && 0 < d.length && (g = parseFloat(d));\r\n          return new M(c, e, f, g);\r\n        }\r\n        return new M();\r\n      }\r\n\r\n      function Dd(a) {\r\n        F && w(a, M);\r\n        return a.$a()\r\n          ? a.x.toString() +\r\n              \" \" +\r\n              a.y.toString() +\r\n              \" \" +\r\n              a.offsetX.toString() +\r\n              \" \" +\r\n              a.offsetY.toString()\r\n          : a.toString();\r\n      }\r\n      t.toString = function () {\r\n        return this.$a()\r\n          ? 0 === this.Vd && 0 === this.Wd\r\n            ? \"Spot(\" + this.x + \",\" + this.y + \")\"\r\n            : \"Spot(\" +\r\n              this.x +\r\n              \",\" +\r\n              this.y +\r\n              \",\" +\r\n              this.offsetX +\r\n              \",\" +\r\n              this.offsetY +\r\n              \")\"\r\n          : this.B(Gc)\r\n          ? \"None\"\r\n          : this.B(Hc)\r\n          ? \"TopLeft\"\r\n          : this.B(Ic)\r\n          ? \"Top\"\r\n          : this.B(Kc)\r\n          ? \"TopRight\"\r\n          : this.B(Lc)\r\n          ? \"Left\"\r\n          : this.B(Mc)\r\n          ? \"Center\"\r\n          : this.B(Nc)\r\n          ? \"Right\"\r\n          : this.B(Qc)\r\n          ? \"BottomLeft\"\r\n          : this.B(Rc)\r\n          ? \"Bottom\"\r\n          : this.B(Sc)\r\n          ? \"BottomRight\"\r\n          : this.B(Tc)\r\n          ? \"TopSide\"\r\n          : this.B(Uc)\r\n          ? \"LeftSide\"\r\n          : this.B(Vc)\r\n          ? \"RightSide\"\r\n          : this.B(Wc)\r\n          ? \"BottomSide\"\r\n          : this.B(Xc)\r\n          ? \"TopBottomSides\"\r\n          : this.B(Yc)\r\n          ? \"LeftRightSides\"\r\n          : this.B(Zc)\r\n          ? \"TopLeftSides\"\r\n          : this.B(ad)\r\n          ? \"TopRightSides\"\r\n          : this.B(bd)\r\n          ? \"BottomLeftSides\"\r\n          : this.B(cd)\r\n          ? \"BottomRightSides\"\r\n          : this.B(dd)\r\n          ? \"NotTopSide\"\r\n          : this.B(ed)\r\n          ? \"NotLeftSide\"\r\n          : this.B(fd)\r\n          ? \"NotRightSide\"\r\n          : this.B(id)\r\n          ? \"NotBottomSide\"\r\n          : this.B(jd)\r\n          ? \"AllSides\"\r\n          : this.B(kd)\r\n          ? \"Default\"\r\n          : \"None\";\r\n      };\r\n      t.B = function (a) {\r\n        return a instanceof M\r\n          ? (this.G === a.x || (isNaN(this.G) && isNaN(a.x))) &&\r\n              (this.H === a.y || (isNaN(this.H) && isNaN(a.y))) &&\r\n              this.Vd === a.offsetX &&\r\n              this.Wd === a.offsetY\r\n          : !1;\r\n      };\r\n      t.Sv = function () {\r\n        return new M(\r\n          0.5 - (this.G - 0.5),\r\n          0.5 - (this.H - 0.5),\r\n          -this.Vd,\r\n          -this.Wd\r\n        );\r\n      };\r\n      t.Ff = function (a) {\r\n        if (!this.Hf()) return !1;\r\n        if (!a.Hf())\r\n          if (a.B(ld)) a = Uc;\r\n          else if (a.B(md)) a = Vc;\r\n          else if (a.B(nd)) a = Tc;\r\n          else if (a.B(od)) a = Wc;\r\n          else return !1;\r\n        a = a.offsetY;\r\n        return (this.Wd & a) === a;\r\n      };\r\n      t.$a = function () {\r\n        return !isNaN(this.x) && !isNaN(this.y);\r\n      };\r\n      t.Sb = function () {\r\n        return isNaN(this.x) || isNaN(this.y);\r\n      };\r\n      t.Hf = function () {\r\n        return (\r\n          isNaN(this.x) &&\r\n          isNaN(this.y) &&\r\n          1 === this.offsetX &&\r\n          0 !== this.offsetY\r\n        );\r\n      };\r\n      t.zq = function () {\r\n        return (\r\n          isNaN(this.x) &&\r\n          isNaN(this.y) &&\r\n          0 === this.offsetX &&\r\n          0 === this.offsetY\r\n        );\r\n      };\r\n      t.Gb = function () {\r\n        return (\r\n          isNaN(this.x) &&\r\n          isNaN(this.y) &&\r\n          -1 === this.offsetX &&\r\n          0 === this.offsetY\r\n        );\r\n      };\r\n      M.alloc = function () {\r\n        var a = Ed.pop();\r\n        return void 0 === a ? new M() : a;\r\n      };\r\n      M.free = function (a) {\r\n        Ed.push(a);\r\n      };\r\n      ma.Object.defineProperties(M.prototype, {\r\n        x: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.G;\r\n          },\r\n          set: function (a) {\r\n            F && (vd(a, \"x\"), this.ha(a));\r\n            this.G = a;\r\n          },\r\n        },\r\n        y: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.H;\r\n          },\r\n          set: function (a) {\r\n            F && (vd(a, \"y\"), this.ha(a));\r\n            this.H = a;\r\n          },\r\n        },\r\n        offsetX: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Vd;\r\n          },\r\n          set: function (a) {\r\n            F && (wd(a, \"offsetX\"), this.ha(a));\r\n            this.Vd = a;\r\n          },\r\n        },\r\n        offsetY: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Wd;\r\n          },\r\n          set: function (a) {\r\n            F && (wd(a, \"offsetY\"), this.ha(a));\r\n            this.Wd = a;\r\n          },\r\n        },\r\n      });\r\n      M.prototype.isDefault = M.prototype.Gb;\r\n      M.prototype.isNone = M.prototype.zq;\r\n      M.prototype.isSide = M.prototype.Hf;\r\n      M.prototype.isNoSpot = M.prototype.Sb;\r\n      M.prototype.isSpot = M.prototype.$a;\r\n      M.prototype.includesSide = M.prototype.Ff;\r\n      M.prototype.opposite = M.prototype.Sv;\r\n      M.prototype.equals = M.prototype.B;\r\n      M.prototype.set = M.prototype.set;\r\n      M.prototype.setTo = M.prototype.Og;\r\n      var Ed = [];\r\n      M.className = \"Spot\";\r\n      M.parse = yd;\r\n      M.stringify = Dd;\r\n      M.None = Gc = xd(new M(0, 0, 0, 0), 0).ia();\r\n      M.Default = kd = xd(new M(0, 0, -1, 0), -1).ia();\r\n      M.TopLeft = Hc = new M(0, 0, 0, 0).ia();\r\n      M.TopCenter = Ic = new M(0.5, 0, 0, 0).ia();\r\n      M.TopRight = Kc = new M(1, 0, 0, 0).ia();\r\n      M.LeftCenter = Lc = new M(0, 0.5, 0, 0).ia();\r\n      M.Center = Mc = new M(0.5, 0.5, 0, 0).ia();\r\n      M.RightCenter = Nc = new M(1, 0.5, 0, 0).ia();\r\n      M.BottomLeft = Qc = new M(0, 1, 0, 0).ia();\r\n      M.BottomCenter = Rc = new M(0.5, 1, 0, 0).ia();\r\n      M.BottomRight = Sc = new M(1, 1, 0, 0).ia();\r\n      M.MiddleTop = pd = Ic;\r\n      M.MiddleLeft = qd = Lc;\r\n      M.MiddleRight = rd = Nc;\r\n      M.MiddleBottom = sd = Rc;\r\n      M.Top = nd = Ic;\r\n      M.Left = ld = Lc;\r\n      M.Right = md = Nc;\r\n      M.Bottom = od = Rc;\r\n      M.TopSide = Tc = xd(new M(0, 0, 1, 1), 1).ia();\r\n      M.LeftSide = Uc = xd(new M(0, 0, 1, 2), 1).ia();\r\n      M.RightSide = Vc = xd(new M(0, 0, 1, 4), 1).ia();\r\n      M.BottomSide = Wc = xd(new M(0, 0, 1, 8), 1).ia();\r\n      M.TopBottomSides = Xc = xd(new M(0, 0, 1, 9), 1).ia();\r\n      M.LeftRightSides = Yc = xd(new M(0, 0, 1, 6), 1).ia();\r\n      M.TopLeftSides = Zc = xd(new M(0, 0, 1, 3), 1).ia();\r\n      M.TopRightSides = ad = xd(new M(0, 0, 1, 5), 1).ia();\r\n      M.BottomLeftSides = bd = xd(new M(0, 0, 1, 10), 1).ia();\r\n      M.BottomRightSides = cd = xd(new M(0, 0, 1, 12), 1).ia();\r\n      M.NotTopSide = dd = xd(new M(0, 0, 1, 14), 1).ia();\r\n      M.NotLeftSide = ed = xd(new M(0, 0, 1, 13), 1).ia();\r\n      M.NotRightSide = fd = xd(new M(0, 0, 1, 11), 1).ia();\r\n      M.NotBottomSide = id = xd(new M(0, 0, 1, 7), 1).ia();\r\n      M.AllSides = jd = xd(new M(0, 0, 1, 15), 1).ia();\r\n      td = new M(0.156, 0.156).ia();\r\n      ud = new M(0.844, 0.844).ia();\r\n      M.parse = yd;\r\n      M.stringify = Dd;\r\n\r\n      function Kb() {\r\n        this.m11 = 1;\r\n        this.m21 = this.m12 = 0;\r\n        this.m22 = 1;\r\n        this.dy = this.dx = 0;\r\n      }\r\n      Kb.prototype.set = function (a) {\r\n        this.m11 = a.m11;\r\n        this.m12 = a.m12;\r\n        this.m21 = a.m21;\r\n        this.m22 = a.m22;\r\n        this.dx = a.dx;\r\n        this.dy = a.dy;\r\n        return this;\r\n      };\r\n      Kb.prototype.copy = function () {\r\n        var a = new Kb();\r\n        a.m11 = this.m11;\r\n        a.m12 = this.m12;\r\n        a.m21 = this.m21;\r\n        a.m22 = this.m22;\r\n        a.dx = this.dx;\r\n        a.dy = this.dy;\r\n        return a;\r\n      };\r\n      t = Kb.prototype;\r\n      t.toString = function () {\r\n        return (\r\n          \"Transform(\" +\r\n          this.m11 +\r\n          \",\" +\r\n          this.m12 +\r\n          \",\" +\r\n          this.m21 +\r\n          \",\" +\r\n          this.m22 +\r\n          \",\" +\r\n          this.dx +\r\n          \",\" +\r\n          this.dy +\r\n          \")\"\r\n        );\r\n      };\r\n      t.B = function (a) {\r\n        return a instanceof Kb\r\n          ? this.m11 === a.m11 &&\r\n              this.m12 === a.m12 &&\r\n              this.m21 === a.m21 &&\r\n              this.m22 === a.m22 &&\r\n              this.dx === a.dx &&\r\n              this.dy === a.dy\r\n          : !1;\r\n      };\r\n      t.xt = function () {\r\n        return (\r\n          0 === this.dx &&\r\n          0 === this.dy &&\r\n          1 === this.m11 &&\r\n          0 === this.m12 &&\r\n          0 === this.m21 &&\r\n          1 === this.m22\r\n        );\r\n      };\r\n      t.reset = function () {\r\n        this.m11 = 1;\r\n        this.m21 = this.m12 = 0;\r\n        this.m22 = 1;\r\n        this.dy = this.dx = 0;\r\n        return this;\r\n      };\r\n      t.multiply = function (a) {\r\n        var b = this.m11 * a.m11 + this.m21 * a.m12,\r\n          c = this.m12 * a.m11 + this.m22 * a.m12,\r\n          d = this.m11 * a.m21 + this.m21 * a.m22,\r\n          e = this.m12 * a.m21 + this.m22 * a.m22;\r\n        this.dx = this.m11 * a.dx + this.m21 * a.dy + this.dx;\r\n        this.dy = this.m12 * a.dx + this.m22 * a.dy + this.dy;\r\n        this.m11 = b;\r\n        this.m12 = c;\r\n        this.m21 = d;\r\n        this.m22 = e;\r\n        return this;\r\n      };\r\n      t.Ov = function (a) {\r\n        var b = 1 / (a.m11 * a.m22 - a.m12 * a.m21),\r\n          c = a.m22 * b,\r\n          d = -a.m12 * b,\r\n          e = -a.m21 * b,\r\n          f = a.m11 * b,\r\n          g = b * (a.m21 * a.dy - a.m22 * a.dx);\r\n        a = b * (a.m12 * a.dx - a.m11 * a.dy);\r\n        b = this.m11 * c + this.m21 * d;\r\n        c = this.m12 * c + this.m22 * d;\r\n        d = this.m11 * e + this.m21 * f;\r\n        e = this.m12 * e + this.m22 * f;\r\n        this.dx = this.m11 * g + this.m21 * a + this.dx;\r\n        this.dy = this.m12 * g + this.m22 * a + this.dy;\r\n        this.m11 = b;\r\n        this.m12 = c;\r\n        this.m21 = d;\r\n        this.m22 = e;\r\n        return this;\r\n      };\r\n      t.vt = function () {\r\n        var a = 1 / (this.m11 * this.m22 - this.m12 * this.m21),\r\n          b = -this.m12 * a,\r\n          c = -this.m21 * a,\r\n          d = this.m11 * a,\r\n          e = a * (this.m21 * this.dy - this.m22 * this.dx),\r\n          f = a * (this.m12 * this.dx - this.m11 * this.dy);\r\n        this.m11 = this.m22 * a;\r\n        this.m12 = b;\r\n        this.m21 = c;\r\n        this.m22 = d;\r\n        this.dx = e;\r\n        this.dy = f;\r\n        return this;\r\n      };\r\n      Kb.prototype.rotate = function (a, b, c) {\r\n        F &&\r\n          (C(a, Kb, \"rotate:angle\"),\r\n          C(b, Kb, \"rotate:rx\"),\r\n          C(c, Kb, \"rotate:ry\"));\r\n        360 <= a ? (a -= 360) : 0 > a && (a += 360);\r\n        if (0 === a) return this;\r\n        this.translate(b, c);\r\n        if (90 === a) {\r\n          a = 0;\r\n          var d = 1;\r\n        } else\r\n          180 === a\r\n            ? ((a = -1), (d = 0))\r\n            : 270 === a\r\n            ? ((a = 0), (d = -1))\r\n            : ((d = (a * Math.PI) / 180), (a = Math.cos(d)), (d = Math.sin(d)));\r\n        var e = this.m12 * a + this.m22 * d,\r\n          f = this.m11 * -d + this.m21 * a,\r\n          g = this.m12 * -d + this.m22 * a;\r\n        this.m11 = this.m11 * a + this.m21 * d;\r\n        this.m12 = e;\r\n        this.m21 = f;\r\n        this.m22 = g;\r\n        this.translate(-b, -c);\r\n        return this;\r\n      };\r\n      t = Kb.prototype;\r\n      t.translate = function (a, b) {\r\n        F && (C(a, Kb, \"translate:x\"), C(b, Kb, \"translate:y\"));\r\n        this.dx += this.m11 * a + this.m21 * b;\r\n        this.dy += this.m12 * a + this.m22 * b;\r\n        return this;\r\n      };\r\n      t.scale = function (a, b) {\r\n        void 0 === b && (b = a);\r\n        F && (C(a, Kb, \"translate:sx\"), C(b, Kb, \"translate:sy\"));\r\n        this.m11 *= a;\r\n        this.m12 *= a;\r\n        this.m21 *= b;\r\n        this.m22 *= b;\r\n        return this;\r\n      };\r\n      t.xa = function (a) {\r\n        var b = a.x,\r\n          c = a.y;\r\n        return a.h(\r\n          b * this.m11 + c * this.m21 + this.dx,\r\n          b * this.m12 + c * this.m22 + this.dy\r\n        );\r\n      };\r\n      t.ae = function (a) {\r\n        var b = 1 / (this.m11 * this.m22 - this.m12 * this.m21),\r\n          c = a.x,\r\n          d = a.y;\r\n        return a.h(\r\n          c * this.m22 * b +\r\n            d * -this.m21 * b +\r\n            b * (this.m21 * this.dy - this.m22 * this.dx),\r\n          c * -this.m12 * b +\r\n            d * this.m11 * b +\r\n            b * (this.m12 * this.dx - this.m11 * this.dy)\r\n        );\r\n      };\r\n      t.tw = function (a) {\r\n        var b = a.x,\r\n          c = a.y,\r\n          d = b + a.width,\r\n          e = c + a.height,\r\n          f = this.m11,\r\n          g = this.m12,\r\n          h = this.m21,\r\n          k = this.m22,\r\n          l = this.dx,\r\n          m = this.dy,\r\n          n = b * f + c * h + l,\r\n          p = b * g + c * k + m,\r\n          r = d * f + c * h + l,\r\n          q = d * g + c * k + m;\r\n        c = b * f + e * h + l;\r\n        b = b * g + e * k + m;\r\n        f = d * f + e * h + l;\r\n        d = d * g + e * k + m;\r\n        e = Math.min(n, r);\r\n        n = Math.max(n, r);\r\n        r = Math.min(p, q);\r\n        p = Math.max(p, q);\r\n        e = Math.min(e, c);\r\n        n = Math.max(n, c);\r\n        r = Math.min(r, b);\r\n        p = Math.max(p, b);\r\n        e = Math.min(e, f);\r\n        n = Math.max(n, f);\r\n        r = Math.min(r, d);\r\n        p = Math.max(p, d);\r\n        a.h(e, r, n - e, p - r);\r\n        return a;\r\n      };\r\n      Kb.alloc = function () {\r\n        var a = Fd.pop();\r\n        return void 0 === a ? new Kb() : a;\r\n      };\r\n      Kb.free = function (a) {\r\n        Fd.push(a);\r\n      };\r\n      Kb.prototype.transformRect = Kb.prototype.tw;\r\n      Kb.prototype.invertedTransformPoint = Kb.prototype.ae;\r\n      Kb.prototype.transformPoint = Kb.prototype.xa;\r\n      Kb.prototype.scale = Kb.prototype.scale;\r\n      Kb.prototype.translate = Kb.prototype.translate;\r\n      Kb.prototype.rotate = Kb.prototype.rotate;\r\n      Kb.prototype.invert = Kb.prototype.vt;\r\n      Kb.prototype.multiplyInverted = Kb.prototype.Ov;\r\n      Kb.prototype.multiply = Kb.prototype.multiply;\r\n      Kb.prototype.reset = Kb.prototype.reset;\r\n      Kb.prototype.isIdentity = Kb.prototype.xt;\r\n      Kb.prototype.equals = Kb.prototype.B;\r\n      Kb.prototype.set = Kb.prototype.set;\r\n      var Fd = [];\r\n      Kb.className = \"Transform\";\r\n      Kb.xF = \"54a702f3e53909c447824c6706603faf4c\";\r\n      var K = {\r\n        PA: \"7da71ca0ad381e90\",\r\n        Rg: ((Math.sqrt(2) - 1) / 3) * 4,\r\n        Gw: null,\r\n        sqrt: function (a) {\r\n          if (0 >= a) return 0;\r\n          var b = K.Gw;\r\n          if (null === b) {\r\n            b = [];\r\n            for (var c = 0; 2e3 >= c; c++) b[c] = Math.sqrt(c);\r\n            K.Gw = b;\r\n          }\r\n          return 1 > a\r\n            ? ((c = 1 / a), 2e3 >= c ? 1 / b[c | 0] : Math.sqrt(a))\r\n            : 2e3 >= a\r\n            ? b[a | 0]\r\n            : Math.sqrt(a);\r\n        },\r\n        C: function (a, b) {\r\n          a -= b;\r\n          return 0.5 > a && -0.5 < a;\r\n        },\r\n        ba: function (a, b) {\r\n          a -= b;\r\n          return 5e-8 > a && -5e-8 < a;\r\n        },\r\n        bc: function (a, b, c, d, e, f, g) {\r\n          0 >= e && (e = 1e-6);\r\n          if (a < c) {\r\n            var h = a;\r\n            var k = c;\r\n          } else (h = c), (k = a);\r\n          if (b < d) {\r\n            var l = b;\r\n            var m = d;\r\n          } else (l = d), (m = b);\r\n          if (a === c) return l <= g && g <= m && a - e <= f && f <= a + e;\r\n          if (b === d) return h <= f && f <= k && b - e <= g && g <= b + e;\r\n          k += e;\r\n          h -= e;\r\n          if (h <= f && f <= k && ((m += e), (l -= e), l <= g && g <= m))\r\n            if (k - h > m - l)\r\n              if (a - c > e || c - a > e) {\r\n                if (\r\n                  ((f = ((d - b) / (c - a)) * (f - a) + b),\r\n                  f - e <= g && g <= f + e)\r\n                )\r\n                  return !0;\r\n              } else return !0;\r\n            else if (b - d > e || d - b > e) {\r\n              if (\r\n                ((g = ((c - a) / (d - b)) * (g - b) + a),\r\n                g - e <= f && f <= g + e)\r\n              )\r\n                return !0;\r\n            } else return !0;\r\n          return !1;\r\n        },\r\n        bt: function (a, b, c, d, e, f, g, h, k, l, m, n) {\r\n          if (K.bc(a, b, g, h, n, c, d) && K.bc(a, b, g, h, n, e, f))\r\n            return K.bc(a, b, g, h, n, l, m);\r\n          var p = (a + c) / 2,\r\n            r = (b + d) / 2,\r\n            q = (c + e) / 2,\r\n            u = (d + f) / 2;\r\n          e = (e + g) / 2;\r\n          f = (f + h) / 2;\r\n          d = (p + q) / 2;\r\n          c = (r + u) / 2;\r\n          q = (q + e) / 2;\r\n          u = (u + f) / 2;\r\n          var x = (d + q) / 2,\r\n            y = (c + u) / 2;\r\n          return (\r\n            K.bt(a, b, p, r, d, c, x, y, k, l, m, n) ||\r\n            K.bt(x, y, q, u, e, f, g, h, k, l, m, n)\r\n          );\r\n        },\r\n        Zy: function (a, b, c, d, e, f, g, h, k) {\r\n          var l = (c + e) / 2,\r\n            m = (d + f) / 2;\r\n          k.h(\r\n            (((a + c) / 2 + l) / 2 + (l + (e + g) / 2) / 2) / 2,\r\n            (((b + d) / 2 + m) / 2 + (m + (f + h) / 2) / 2) / 2\r\n          );\r\n          return k;\r\n        },\r\n        Yy: function (a, b, c, d, e, f, g, h) {\r\n          var k = (c + e) / 2,\r\n            l = (d + f) / 2;\r\n          return Ob(\r\n            ((a + c) / 2 + k) / 2,\r\n            ((b + d) / 2 + l) / 2,\r\n            (k + (e + g) / 2) / 2,\r\n            (l + (f + h) / 2) / 2\r\n          );\r\n        },\r\n        lm: function (a, b, c, d, e, f, g, h, k, l) {\r\n          if (K.bc(a, b, g, h, k, c, d) && K.bc(a, b, g, h, k, e, f))\r\n            pc(l, a, b, 0, 0), pc(l, g, h, 0, 0);\r\n          else {\r\n            var m = (a + c) / 2,\r\n              n = (b + d) / 2,\r\n              p = (c + e) / 2,\r\n              r = (d + f) / 2;\r\n            e = (e + g) / 2;\r\n            f = (f + h) / 2;\r\n            d = (m + p) / 2;\r\n            c = (n + r) / 2;\r\n            p = (p + e) / 2;\r\n            r = (r + f) / 2;\r\n            var q = (d + p) / 2,\r\n              u = (c + r) / 2;\r\n            K.lm(a, b, m, n, d, c, q, u, k, l);\r\n            K.lm(q, u, p, r, e, f, g, h, k, l);\r\n          }\r\n          return l;\r\n        },\r\n        Ie: function (a, b, c, d, e, f, g, h, k, l) {\r\n          if (K.bc(a, b, g, h, k, c, d) && K.bc(a, b, g, h, k, e, f))\r\n            0 === l.length && (l.push(a), l.push(b)), l.push(g), l.push(h);\r\n          else {\r\n            var m = (a + c) / 2,\r\n              n = (b + d) / 2,\r\n              p = (c + e) / 2,\r\n              r = (d + f) / 2;\r\n            e = (e + g) / 2;\r\n            f = (f + h) / 2;\r\n            d = (m + p) / 2;\r\n            c = (n + r) / 2;\r\n            p = (p + e) / 2;\r\n            r = (r + f) / 2;\r\n            var q = (d + p) / 2,\r\n              u = (c + r) / 2;\r\n            K.Ie(a, b, m, n, d, c, q, u, k, l);\r\n            K.Ie(q, u, p, r, e, f, g, h, k, l);\r\n          }\r\n          return l;\r\n        },\r\n        Vv: function (a, b, c, d, e, f, g, h, k, l) {\r\n          if (K.bc(a, b, e, f, l, c, d)) return K.bc(a, b, e, f, l, h, k);\r\n          var m = (a + c) / 2,\r\n            n = (b + d) / 2;\r\n          c = (c + e) / 2;\r\n          d = (d + f) / 2;\r\n          var p = (m + c) / 2,\r\n            r = (n + d) / 2;\r\n          return (\r\n            K.Vv(a, b, m, n, p, r, g, h, k, l) ||\r\n            K.Vv(p, r, c, d, e, f, g, h, k, l)\r\n          );\r\n        },\r\n        ZA: function (a, b, c, d, e, f, g) {\r\n          g.h(((a + c) / 2 + (c + e) / 2) / 2, ((b + d) / 2 + (d + f) / 2) / 2);\r\n          return g;\r\n        },\r\n        Uv: function (a, b, c, d, e, f, g, h) {\r\n          if (K.bc(a, b, e, f, g, c, d)) pc(h, a, b, 0, 0), pc(h, e, f, 0, 0);\r\n          else {\r\n            var k = (a + c) / 2,\r\n              l = (b + d) / 2;\r\n            c = (c + e) / 2;\r\n            d = (d + f) / 2;\r\n            var m = (k + c) / 2,\r\n              n = (l + d) / 2;\r\n            K.Uv(a, b, k, l, m, n, g, h);\r\n            K.Uv(m, n, c, d, e, f, g, h);\r\n          }\r\n          return h;\r\n        },\r\n        Iq: function (a, b, c, d, e, f, g, h) {\r\n          if (K.bc(a, b, e, f, g, c, d))\r\n            0 === h.length && (h.push(a), h.push(b)), h.push(e), h.push(f);\r\n          else {\r\n            var k = (a + c) / 2,\r\n              l = (b + d) / 2;\r\n            c = (c + e) / 2;\r\n            d = (d + f) / 2;\r\n            var m = (k + c) / 2,\r\n              n = (l + d) / 2;\r\n            K.Iq(a, b, k, l, m, n, g, h);\r\n            K.Iq(m, n, c, d, e, f, g, h);\r\n          }\r\n          return h;\r\n        },\r\n        jq: function (a, b, c, d, e, f, g, h, k, l, m, n, p, r) {\r\n          if (K.bc(a, b, g, h, p, c, d) && K.bc(a, b, g, h, p, e, f)) {\r\n            var q = (a - g) * (l - n) - (b - h) * (k - m);\r\n            if (0 === q) return !1;\r\n            p = ((a * h - b * g) * (k - m) - (a - g) * (k * n - l * m)) / q;\r\n            q = ((a * h - b * g) * (l - n) - (b - h) * (k * n - l * m)) / q;\r\n            if ((k > m ? k - m : m - k) < (l > n ? l - n : n - l)) {\r\n              if ((b < h ? (g = b) : ((g = h), (h = b)), q < g || q > h))\r\n                return !1;\r\n            } else if ((a < g ? (h = a) : ((h = g), (g = a)), p < h || p > g))\r\n              return !1;\r\n            r.h(p, q);\r\n            return !0;\r\n          }\r\n          q = (a + c) / 2;\r\n          var u = (b + d) / 2;\r\n          c = (c + e) / 2;\r\n          d = (d + f) / 2;\r\n          e = (e + g) / 2;\r\n          f = (f + h) / 2;\r\n          var x = (q + c) / 2,\r\n            y = (u + d) / 2;\r\n          c = (c + e) / 2;\r\n          d = (d + f) / 2;\r\n          var z = (x + c) / 2,\r\n            B = (y + d) / 2,\r\n            D = (m - k) * (m - k) + (n - l) * (n - l),\r\n            I = !1;\r\n          K.jq(a, b, q, u, x, y, z, B, k, l, m, n, p, r) &&\r\n            ((a = (r.x - k) * (r.x - k) + (r.y - l) * (r.y - l)),\r\n            a < D && ((D = a), (I = !0)));\r\n          a = r.x;\r\n          b = r.y;\r\n          K.jq(z, B, c, d, e, f, g, h, k, l, m, n, p, r) &&\r\n            ((r.x - k) * (r.x - k) + (r.y - l) * (r.y - l) < D\r\n              ? (I = !0)\r\n              : r.h(a, b));\r\n          return I;\r\n        },\r\n        kq: function (a, b, c, d, e, f, g, h, k, l, m, n, p) {\r\n          var r = 0;\r\n          if (K.bc(a, b, g, h, p, c, d) && K.bc(a, b, g, h, p, e, f)) {\r\n            p = (a - g) * (l - n) - (b - h) * (k - m);\r\n            if (0 === p) return r;\r\n            var q = ((a * h - b * g) * (k - m) - (a - g) * (k * n - l * m)) / p,\r\n              u = ((a * h - b * g) * (l - n) - (b - h) * (k * n - l * m)) / p;\r\n            if (q >= m) return r;\r\n            if ((k > m ? k - m : m - k) < (l > n ? l - n : n - l)) {\r\n              if ((b < h ? ((a = b), (b = h)) : (a = h), u < a || u > b))\r\n                return r;\r\n            } else if ((a < g ? ((b = a), (a = g)) : (b = g), q < b || q > a))\r\n              return r;\r\n            0 < p ? r++ : 0 > p && r--;\r\n          } else {\r\n            q = (a + c) / 2;\r\n            u = (b + d) / 2;\r\n            var x = (c + e) / 2,\r\n              y = (d + f) / 2;\r\n            e = (e + g) / 2;\r\n            f = (f + h) / 2;\r\n            d = (q + x) / 2;\r\n            c = (u + y) / 2;\r\n            x = (x + e) / 2;\r\n            y = (y + f) / 2;\r\n            var z = (d + x) / 2,\r\n              B = (c + y) / 2;\r\n            r += K.kq(a, b, q, u, d, c, z, B, k, l, m, n, p);\r\n            r += K.kq(z, B, x, y, e, f, g, h, k, l, m, n, p);\r\n          }\r\n          return r;\r\n        },\r\n        kj: function (a, b, c, d, e, f, g) {\r\n          if (K.ba(a, c)) {\r\n            b < d ? ((c = b), (b = d)) : (c = d);\r\n            if (f < c) return g.h(a, c), !1;\r\n            if (f > b) return g.h(a, b), !1;\r\n            g.h(a, f);\r\n            return !0;\r\n          }\r\n          if (K.ba(b, d)) {\r\n            a < c ? ((d = a), (a = c)) : (d = c);\r\n            if (e < d) return g.h(d, b), !1;\r\n            if (e > a) return g.h(a, b), !1;\r\n            g.h(e, b);\r\n            return !0;\r\n          }\r\n          e =\r\n            ((a - e) * (a - c) + (b - f) * (b - d)) /\r\n            ((c - a) * (c - a) + (d - b) * (d - b));\r\n          if (-5e-6 > e) return g.h(a, b), !1;\r\n          if (1.000005 < e) return g.h(c, d), !1;\r\n          g.h(a + e * (c - a), b + e * (d - b));\r\n          return !0;\r\n        },\r\n        Me: function (a, b, c, d, e, f, g, h, k) {\r\n          if (K.C(a, c) && K.C(b, d)) return k.h(a, b), !1;\r\n          if (K.ba(e, g))\r\n            return K.ba(a, c)\r\n              ? (K.kj(a, b, c, d, e, f, k), !1)\r\n              : K.kj(a, b, c, d, e, ((d - b) / (c - a)) * (e - a) + b, k);\r\n          h = (h - f) / (g - e);\r\n          if (K.ba(a, c)) {\r\n            c = h * (a - e) + f;\r\n            b < d ? ((e = b), (b = d)) : (e = d);\r\n            if (c < e) return k.h(a, e), !1;\r\n            if (c > b) return k.h(a, b), !1;\r\n            k.h(a, c);\r\n            return !0;\r\n          }\r\n          g = (d - b) / (c - a);\r\n          if (K.ba(h, g)) return K.kj(a, b, c, d, e, f, k), !1;\r\n          e = (g * a - h * e + f - b) / (g - h);\r\n          if (K.ba(g, 0)) {\r\n            a < c ? ((d = a), (a = c)) : (d = c);\r\n            if (e < d) return k.h(d, b), !1;\r\n            if (e > a) return k.h(a, b), !1;\r\n            k.h(e, b);\r\n            return !0;\r\n          }\r\n          return K.kj(a, b, c, d, e, g * (e - a) + b, k);\r\n        },\r\n        XA: function (a, b, c, d, e) {\r\n          return K.Me(c.x, c.y, d.x, d.y, a.x, a.y, b.x, b.y, e);\r\n        },\r\n        WA: function (a, b, c, d, e, f, g, h, k, l) {\r\n          function m(c, d) {\r\n            var e = (c - a) * (c - a) + (d - b) * (d - b);\r\n            e < n && ((n = e), k.h(c, d));\r\n          }\r\n          var n = Infinity;\r\n          m(k.x, k.y);\r\n          var p = 0,\r\n            r = 0,\r\n            q = 0,\r\n            u = 0;\r\n          e < g ? ((p = e), (r = g)) : ((p = g), (r = e));\r\n          f < h ? ((q = e), (u = g)) : ((q = g), (u = e));\r\n          p = (r - p) / 2 + l;\r\n          l = (u - q) / 2 + l;\r\n          e = (e + g) / 2;\r\n          f = (f + h) / 2;\r\n          if (0 === p || 0 === l) return k;\r\n          if (0.5 > (c > a ? c - a : a - c)) {\r\n            p = 1 - ((c - e) * (c - e)) / (p * p);\r\n            if (0 > p) return k;\r\n            p = Math.sqrt(p);\r\n            d = -l * p + f;\r\n            m(c, l * p + f);\r\n            m(c, d);\r\n          } else {\r\n            c = (d - b) / (c - a);\r\n            d = 1 / (p * p) + (c * c) / (l * l);\r\n            h =\r\n              (2 * c * (b - c * a)) / (l * l) -\r\n              (2 * c * f) / (l * l) -\r\n              (2 * e) / (p * p);\r\n            p =\r\n              h * h -\r\n              4 *\r\n                d *\r\n                ((2 * c * a * f) / (l * l) -\r\n                  (2 * b * f) / (l * l) +\r\n                  (f * f) / (l * l) +\r\n                  (e * e) / (p * p) -\r\n                  1 +\r\n                  ((b - c * a) * (b - c * a)) / (l * l));\r\n            if (0 > p) return k;\r\n            p = Math.sqrt(p);\r\n            l = (-h + p) / (2 * d);\r\n            m(l, c * l - c * a + b);\r\n            p = (-h - p) / (2 * d);\r\n            m(p, c * p - c * a + b);\r\n          }\r\n          return k;\r\n        },\r\n        Zc: function (a, b, c, d, e, f, g, h, k) {\r\n          var l = 1e21,\r\n            m = a,\r\n            n = b;\r\n          if (K.Me(a, b, a, d, e, f, g, h, k)) {\r\n            var p = (k.x - e) * (k.x - e) + (k.y - f) * (k.y - f);\r\n            p < l && ((l = p), (m = k.x), (n = k.y));\r\n          }\r\n          K.Me(c, b, c, d, e, f, g, h, k) &&\r\n            ((p = (k.x - e) * (k.x - e) + (k.y - f) * (k.y - f)),\r\n            p < l && ((l = p), (m = k.x), (n = k.y)));\r\n          K.Me(a, b, c, b, e, f, g, h, k) &&\r\n            ((b = (k.x - e) * (k.x - e) + (k.y - f) * (k.y - f)),\r\n            b < l && ((l = b), (m = k.x), (n = k.y)));\r\n          K.Me(a, d, c, d, e, f, g, h, k) &&\r\n            ((a = (k.x - e) * (k.x - e) + (k.y - f) * (k.y - f)),\r\n            a < l && ((l = a), (m = k.x), (n = k.y)));\r\n          k.h(m, n);\r\n          return 1e21 > l;\r\n        },\r\n        VA: function (a, b, c, d, e, f, g, h, k) {\r\n          c = a - c;\r\n          g = e - g;\r\n          0 === c || 0 === g\r\n            ? 0 === c\r\n              ? ((b = (f - h) / g), (h = a), (e = b * h + (f - b * e)))\r\n              : ((f = (b - d) / c), (h = e), (e = f * h + (b - f * a)))\r\n            : ((d = (b - d) / c),\r\n              (h = (f - h) / g),\r\n              (a = b - d * a),\r\n              (h = (f - h * e - a) / (d - h)),\r\n              (e = d * h + a));\r\n          k.h(h, e);\r\n          return k;\r\n        },\r\n        tt: function (a, b, c) {\r\n          var d = b.x,\r\n            e = b.y,\r\n            f = c.x,\r\n            g = c.y,\r\n            h = a.left,\r\n            k = a.right,\r\n            l = a.top,\r\n            m = a.bottom;\r\n          return d === f\r\n            ? (e < g ? ((f = e), (e = g)) : (f = g),\r\n              h <= d && d <= k && f <= m && e >= l)\r\n            : e === g\r\n            ? (d < f ? ((g = d), (d = f)) : (g = f),\r\n              l <= e && e <= m && g <= k && d >= h)\r\n            : a.ea(b) ||\r\n              a.ea(c) ||\r\n              K.st(h, l, k, l, d, e, f, g) ||\r\n              K.st(k, l, k, m, d, e, f, g) ||\r\n              K.st(k, m, h, m, d, e, f, g) ||\r\n              K.st(h, m, h, l, d, e, f, g)\r\n            ? !0\r\n            : !1;\r\n        },\r\n        st: function (a, b, c, d, e, f, g, h) {\r\n          return (\r\n            0 >= K.et(a, b, c, d, e, f) * K.et(a, b, c, d, g, h) &&\r\n            0 >= K.et(e, f, g, h, a, b) * K.et(e, f, g, h, c, d)\r\n          );\r\n        },\r\n        et: function (a, b, c, d, e, f) {\r\n          c -= a;\r\n          d -= b;\r\n          a = e - a;\r\n          b = f - b;\r\n          f = a * d - b * c;\r\n          0 === f &&\r\n            ((f = a * c + b * d),\r\n            0 < f && ((f = (a - c) * c + (b - d) * d), 0 > f && (f = 0)));\r\n          return 0 > f ? -1 : 0 < f ? 1 : 0;\r\n        },\r\n        Fq: function (a) {\r\n          0 > a && (a += 360);\r\n          360 <= a && (a -= 360);\r\n          return a;\r\n        },\r\n        Lx: function (a, b, c, d, e, f) {\r\n          var g = Math.PI;\r\n          f || ((d *= g / 180), (e *= g / 180));\r\n          var h = d > e ? -1 : 1;\r\n          f = [];\r\n          var k = g / 2,\r\n            l = d;\r\n          d = Math.min(2 * g, Math.abs(e - d));\r\n          if (1e-5 > d)\r\n            return (\r\n              (k = l + h * Math.min(d, k)),\r\n              (h = a + c * Math.cos(l)),\r\n              (l = b + c * Math.sin(l)),\r\n              (a += c * Math.cos(k)),\r\n              (b += c * Math.sin(k)),\r\n              (c = (h + a) / 2),\r\n              (k = (l + b) / 2),\r\n              f.push([h, l, c, k, c, k, a, b]),\r\n              f\r\n            );\r\n          for (; 1e-5 < d; )\r\n            (e = l + h * Math.min(d, k)),\r\n              f.push(K.fz(c, l, e, a, b)),\r\n              (d -= Math.abs(e - l)),\r\n              (l = e);\r\n          return f;\r\n        },\r\n        fz: function (a, b, c, d, e) {\r\n          var f = (c - b) / 2,\r\n            g = a * Math.cos(f),\r\n            h = a * Math.sin(f),\r\n            k = -h,\r\n            l = g * g + k * k,\r\n            m = l + g * g + k * h;\r\n          l = ((4 / 3) * (Math.sqrt(2 * l * m) - m)) / (g * h - k * g);\r\n          h = g - l * k;\r\n          g = k + l * g;\r\n          k = -g;\r\n          l = f + b;\r\n          f = Math.cos(l);\r\n          l = Math.sin(l);\r\n          return [\r\n            d + a * Math.cos(b),\r\n            e + a * Math.sin(b),\r\n            d + h * f - g * l,\r\n            e + h * l + g * f,\r\n            d + h * f - k * l,\r\n            e + h * l + k * f,\r\n            d + a * Math.cos(c),\r\n            e + a * Math.sin(c),\r\n          ];\r\n        },\r\n        rq: function (a, b, c, d, e, f, g) {\r\n          c = Math.floor((a - c) / e) * e + c;\r\n          d = Math.floor((b - d) / f) * f + d;\r\n          var h = c;\r\n          c + e - a < e / 2 && (h = c + e);\r\n          a = d;\r\n          d + f - b < f / 2 && (a = d + f);\r\n          g.h(h, a);\r\n          return g;\r\n        },\r\n        Ux: function (a, b) {\r\n          var c = Math.max(a, b);\r\n          a = Math.min(a, b);\r\n          var d;\r\n          do (b = c % a), (c = d = a), (a = b);\r\n          while (0 < b);\r\n          return d;\r\n        },\r\n        kz: function (a, b, c, d) {\r\n          var e = 0 > c,\r\n            f = 0 > d;\r\n          if (a < b) {\r\n            var g = 1;\r\n            var h = 0;\r\n          } else (g = 0), (h = 1);\r\n          var k = 0 === g ? a : b;\r\n          var l = 0 === g ? c : d;\r\n          if (0 === g ? e : f) l = -l;\r\n          g = h;\r\n          c = 0 === g ? c : d;\r\n          if (0 === g ? e : f) c = -c;\r\n          return K.lz(k, 0 === g ? a : b, l, c, 0, 0);\r\n        },\r\n        lz: function (a, b, c, d, e, f) {\r\n          if (0 < d)\r\n            if (0 < c) {\r\n              e = a * a;\r\n              f = b * b;\r\n              a *= c;\r\n              var g = b * d,\r\n                h = -f + g,\r\n                k = -f + Math.sqrt(a * a + g * g);\r\n              b = h;\r\n              for (var l = 0; 9999999999 > l; ++l) {\r\n                b = 0.5 * (h + k);\r\n                if (b === h || b === k) break;\r\n                var m = a / (b + e),\r\n                  n = g / (b + f);\r\n                m = m * m + n * n - 1;\r\n                if (0 < m) h = b;\r\n                else if (0 > m) k = b;\r\n                else break;\r\n              }\r\n              c = (e * c) / (b + e) - c;\r\n              d = (f * d) / (b + f) - d;\r\n              c = Math.sqrt(c * c + d * d);\r\n            } else c = Math.abs(d - b);\r\n          else\r\n            (d = a * a - b * b),\r\n              (f = a * c),\r\n              f < d\r\n                ? ((d = f / d),\r\n                  (f = b * Math.sqrt(Math.abs(1 - d * d))),\r\n                  (c = a * d - c),\r\n                  (c = Math.sqrt(c * c + f * f)))\r\n                : (c = Math.abs(c - a));\r\n          return c;\r\n        },\r\n        ge: new jb(),\r\n        Wm: new jb(),\r\n        Pf: new jb(),\r\n        Qf: 0,\r\n      };\r\n      K.za = K.PA;\r\n\r\n      function Gd(a) {\r\n        F &&\r\n          1 < arguments.length &&\r\n          v(\r\n            \"Geometry constructor can take at most one optional argument, the Geometry type.\"\r\n          );\r\n        fb(this);\r\n        this.s = !1;\r\n        void 0 === a ? (a = Hd) : F && hb(a, Gd, Gd, \"constructor:type\");\r\n        this.wa = a;\r\n        this.Gc = this.rc = this.gd = this.fd = 0;\r\n        this.yj = new G();\r\n        this.Hr = this.yj.u;\r\n        this.sr = new L().freeze();\r\n        this.va = !0;\r\n        this.fn = this.Ok = null;\r\n        this.gn = NaN;\r\n        this.rf = Hc;\r\n        this.sf = Sc;\r\n        this.vl = this.xl = NaN;\r\n        this.Zf = Id;\r\n      }\r\n      Gd.prototype.copy = function () {\r\n        var a = new Gd();\r\n        a.wa = this.wa;\r\n        a.fd = this.fd;\r\n        a.gd = this.gd;\r\n        a.rc = this.rc;\r\n        a.Gc = this.Gc;\r\n        for (var b = this.yj.j, c = b.length, d = a.yj, e = 0; e < c; e++) {\r\n          var f = b[e].copy();\r\n          d.add(f);\r\n        }\r\n        a.Hr = this.Hr;\r\n        a.sr.assign(this.sr);\r\n        a.va = this.va;\r\n        a.Ok = this.Ok;\r\n        a.fn = this.fn;\r\n        a.gn = this.gn;\r\n        a.rf = this.rf.J();\r\n        a.sf = this.sf.J();\r\n        a.xl = this.xl;\r\n        a.vl = this.vl;\r\n        a.Zf = this.Zf;\r\n        return a;\r\n      };\r\n      t = Gd.prototype;\r\n      t.ia = function () {\r\n        this.freeze();\r\n        Object.freeze(this);\r\n        return this;\r\n      };\r\n      t.freeze = function () {\r\n        this.s = !0;\r\n        var a = this.figures;\r\n        a.freeze();\r\n        a = a.j;\r\n        for (var b = a.length, c = 0; c < b; c++) a[c].freeze();\r\n        return this;\r\n      };\r\n      t.ka = function () {\r\n        Object.isFrozen(this) && v(\"cannot thaw constant: \" + this);\r\n        this.s = !1;\r\n        var a = this.figures;\r\n        a.ka();\r\n        a = a.j;\r\n        for (var b = a.length, c = 0; c < b; c++) a[c].ka();\r\n        return this;\r\n      };\r\n      t.Sa = function (a) {\r\n        if (!(a instanceof Gd)) return !1;\r\n        if (this.type !== a.type)\r\n          return this.type === Jd && a.type === Hd\r\n            ? Kd(this, a)\r\n            : a.type === Jd && this.type === Hd\r\n            ? Kd(a, this)\r\n            : !1;\r\n        if (this.type === Hd) {\r\n          var b = this.figures.j;\r\n          a = a.figures.j;\r\n          var c = b.length;\r\n          if (c !== a.length) return !1;\r\n          for (var d = 0; d < c; d++) if (!b[d].Sa(a[d])) return !1;\r\n          return !0;\r\n        }\r\n        return (\r\n          K.C(this.startX, a.startX) &&\r\n          K.C(this.startY, a.startY) &&\r\n          K.C(this.endX, a.endX) &&\r\n          K.C(this.endY, a.endY)\r\n        );\r\n      };\r\n\r\n      function Kd(a, b) {\r\n        return a.type !== Jd || b.type !== Hd\r\n          ? !1\r\n          : 1 === b.figures.count &&\r\n            ((b = b.figures.O(0)),\r\n            1 === b.segments.count &&\r\n              K.C(a.startX, b.startX) &&\r\n              K.C(a.startY, b.startY) &&\r\n              ((b = b.segments.O(0)),\r\n              b.type === Ld && K.C(a.endX, b.endX) && K.C(a.endY, b.endY)))\r\n          ? !0\r\n          : !1;\r\n      }\r\n\r\n      function Sd(a) {\r\n        return a.toString();\r\n      }\r\n      t.jb = function (a) {\r\n        a.classType === Gd ? (this.type = a) : Ba(this, a);\r\n      };\r\n      t.toString = function (a) {\r\n        void 0 === a && (a = -1);\r\n        switch (this.type) {\r\n          case Jd:\r\n            return 0 > a\r\n              ? \"M\" +\r\n                  this.startX.toString() +\r\n                  \" \" +\r\n                  this.startY.toString() +\r\n                  \"L\" +\r\n                  this.endX.toString() +\r\n                  \" \" +\r\n                  this.endY.toString()\r\n              : \"M\" +\r\n                  this.startX.toFixed(a) +\r\n                  \" \" +\r\n                  this.startY.toFixed(a) +\r\n                  \"L\" +\r\n                  this.endX.toFixed(a) +\r\n                  \" \" +\r\n                  this.endY.toFixed(a);\r\n          case Td:\r\n            var b = new L(this.startX, this.startY, 0, 0);\r\n            b.uw(this.endX, this.endY, 0, 0);\r\n            return 0 > a\r\n              ? \"M\" +\r\n                  b.x.toString() +\r\n                  \" \" +\r\n                  b.y.toString() +\r\n                  \"H\" +\r\n                  b.right.toString() +\r\n                  \"V\" +\r\n                  b.bottom.toString() +\r\n                  \"H\" +\r\n                  b.left.toString() +\r\n                  \"z\"\r\n              : \"M\" +\r\n                  b.x.toFixed(a) +\r\n                  \" \" +\r\n                  b.y.toFixed(a) +\r\n                  \"H\" +\r\n                  b.right.toFixed(a) +\r\n                  \"V\" +\r\n                  b.bottom.toFixed(a) +\r\n                  \"H\" +\r\n                  b.left.toFixed(a) +\r\n                  \"z\";\r\n          case Ud:\r\n            b = new L(this.startX, this.startY, 0, 0);\r\n            b.uw(this.endX, this.endY, 0, 0);\r\n            if (0 > a)\r\n              return (\r\n                (a = b.left.toString() + \" \" + (b.y + b.height / 2).toString()),\r\n                \"M\" +\r\n                  a +\r\n                  \"A\" +\r\n                  (b.width / 2).toString() +\r\n                  \" \" +\r\n                  (b.height / 2).toString() +\r\n                  \" 0 0 1 \" +\r\n                  (b.right.toString() + \" \" + (b.y + b.height / 2).toString()) +\r\n                  \"A\" +\r\n                  (b.width / 2).toString() +\r\n                  \" \" +\r\n                  (b.height / 2).toString() +\r\n                  \" 0 0 1 \" +\r\n                  a\r\n              );\r\n            var c = b.left.toFixed(a) + \" \" + (b.y + b.height / 2).toFixed(a);\r\n            return (\r\n              \"M\" +\r\n              c +\r\n              \"A\" +\r\n              (b.width / 2).toFixed(a) +\r\n              \" \" +\r\n              (b.height / 2).toFixed(a) +\r\n              \" 0 0 1 \" +\r\n              (b.right.toFixed(a) + \" \" + (b.y + b.height / 2).toFixed(a)) +\r\n              \"A\" +\r\n              (b.width / 2).toFixed(a) +\r\n              \" \" +\r\n              (b.height / 2).toFixed(a) +\r\n              \" 0 0 1 \" +\r\n              c\r\n            );\r\n          case Hd:\r\n            b = \"\";\r\n            c = this.figures.j;\r\n            for (var d = c.length, e = 0; e < d; e++) {\r\n              var f = c[e];\r\n              0 < e && (b += \" x \");\r\n              f.isFilled && (b += \"F \");\r\n              b += f.toString(a);\r\n            }\r\n            return b;\r\n          default:\r\n            return this.type.toString();\r\n        }\r\n      };\r\n\r\n      function Vd(a, b) {\r\n        function c() {\r\n          return u >= D - 1\r\n            ? !0\r\n            : null !== k[u + 1].match(/[UuBbMmZzLlHhVvCcSsQqTtAaFfXx]/);\r\n        }\r\n\r\n        function d() {\r\n          u++;\r\n          return k[u];\r\n        }\r\n\r\n        function e() {\r\n          var a = new J(parseFloat(d()), parseFloat(d()));\r\n          x === x.toLowerCase() && ((a.x = B.x + a.x), (a.y = B.y + a.y));\r\n          return a;\r\n        }\r\n\r\n        function f() {\r\n          return (B = e());\r\n        }\r\n\r\n        function g() {\r\n          return (z = e());\r\n        }\r\n\r\n        function h() {\r\n          var a = y.toLowerCase();\r\n          return \"c\" !== a && \"s\" !== a && \"q\" !== a && \"t\" !== a\r\n            ? B\r\n            : new J(2 * B.x - z.x, 2 * B.y - z.y);\r\n        }\r\n        void 0 === b && (b = !1);\r\n        \"string\" !== typeof a && xa(a, \"string\", Gd, \"parse:str\");\r\n        a = a.replace(/,/gm, \" \");\r\n        a = a.replace(\r\n          /([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])/gm,\r\n          \"$1 $2\"\r\n        );\r\n        a = a.replace(\r\n          /([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])/gm,\r\n          \"$1 $2\"\r\n        );\r\n        a = a.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])([^\\s])/gm, \"$1 $2\");\r\n        a = a.replace(/([^\\s])([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])/gm, \"$1 $2\");\r\n        a = a.replace(/([0-9])([+\\-])/gm, \"$1 $2\");\r\n        a = a.replace(/([Aa](\\s+[0-9]+){3})\\s+([01])\\s*([01])/gm, \"$1 $3 $4 \");\r\n        a = a.replace(/[\\s\\r\\t\\n]+/gm, \" \");\r\n        a = a.replace(/^\\s+|\\s+$/g, \"\");\r\n        var k = a.split(\" \");\r\n        for (a = 0; a < k.length; a++) {\r\n          var l = k[a];\r\n          if (null !== l.match(/(\\.[0-9]*)(\\.)/gm)) {\r\n            for (var m = La(), n = \"\", p = !1, r = 0; r < l.length; r++) {\r\n              var q = l[r];\r\n              \".\" !== q || p\r\n                ? \".\" === q\r\n                  ? (m.push(n), (n = \".\"))\r\n                  : (n += q)\r\n                : ((p = !0), (n += q));\r\n            }\r\n            m.push(n);\r\n            k.splice(a, 1);\r\n            for (l = 0; l < m.length; l++) k.splice(a + l, 0, m[l]);\r\n            a += m.length - 1;\r\n            Na(m);\r\n          }\r\n        }\r\n        var u = -1,\r\n          x = \"\",\r\n          y = \"\";\r\n        m = new J(0, 0);\r\n        var z = new J(0, 0),\r\n          B = new J(0, 0),\r\n          D = k.length;\r\n        a = Wd(null);\r\n        n = l = !1;\r\n        p = !0;\r\n        for (r = null; !(u >= D - 1); )\r\n          if (((y = x), (x = d()), \"\" !== x))\r\n            switch (x.toUpperCase()) {\r\n              case \"X\":\r\n                p = !0;\r\n                n = l = !1;\r\n                break;\r\n              case \"M\":\r\n                r = f();\r\n                null === a.kc || !0 === p\r\n                  ? (Xd(a, r.x, r.y, l, !n), (p = !1))\r\n                  : a.moveTo(r.x, r.y);\r\n                for (m = B; !c(); ) (r = f()), a.lineTo(r.x, r.y);\r\n                break;\r\n              case \"L\":\r\n                for (; !c(); ) (r = f()), a.lineTo(r.x, r.y);\r\n                break;\r\n              case \"H\":\r\n                for (; !c(); )\r\n                  (B = new J(\r\n                    (x === x.toLowerCase() ? B.x : 0) + parseFloat(d()),\r\n                    B.y\r\n                  )),\r\n                    a.lineTo(B.x, B.y);\r\n                break;\r\n              case \"V\":\r\n                for (; !c(); )\r\n                  (B = new J(\r\n                    B.x,\r\n                    (x === x.toLowerCase() ? B.y : 0) + parseFloat(d())\r\n                  )),\r\n                    a.lineTo(B.x, B.y);\r\n                break;\r\n              case \"C\":\r\n                for (; !c(); ) {\r\n                  r = e();\r\n                  q = g();\r\n                  var I = f();\r\n                  Yd(a, r.x, r.y, q.x, q.y, I.x, I.y);\r\n                }\r\n                break;\r\n              case \"S\":\r\n                for (; !c(); )\r\n                  (r = h()),\r\n                    (q = g()),\r\n                    (I = f()),\r\n                    Yd(a, r.x, r.y, q.x, q.y, I.x, I.y);\r\n                break;\r\n              case \"Q\":\r\n                for (; !c(); ) (r = g()), (q = f()), Zd(a, r.x, r.y, q.x, q.y);\r\n                break;\r\n              case \"T\":\r\n                for (; !c(); )\r\n                  (z = r = h()), (q = f()), Zd(a, r.x, r.y, q.x, q.y);\r\n                break;\r\n              case \"B\":\r\n                for (; !c(); ) {\r\n                  r = parseFloat(d());\r\n                  q = parseFloat(d());\r\n                  I = parseFloat(d());\r\n                  var O = parseFloat(d()),\r\n                    R = parseFloat(d()),\r\n                    T = R,\r\n                    ca = !1;\r\n                  c() ||\r\n                    ((T = parseFloat(d())),\r\n                    c() || (ca = 0 !== parseFloat(d())));\r\n                  x === x.toLowerCase() && ((I += B.x), (O += B.y));\r\n                  a.arcTo(r, q, I, O, R, T, ca);\r\n                }\r\n                break;\r\n              case \"A\":\r\n                for (; !c(); )\r\n                  (r = Math.abs(parseFloat(d()))),\r\n                    (q = Math.abs(parseFloat(d()))),\r\n                    (I = parseFloat(d())),\r\n                    (O = !!parseFloat(d())),\r\n                    (R = !!parseFloat(d())),\r\n                    (T = f()),\r\n                    $d(a, r, q, I, O, R, T.x, T.y);\r\n                break;\r\n              case \"Z\":\r\n                ee(a);\r\n                B = m;\r\n                break;\r\n              case \"F\":\r\n                r = \"\";\r\n                for (q = 1; k[u + q]; )\r\n                  if (null !== k[u + q].match(/[Uu]/)) q++;\r\n                  else if (\r\n                    null === k[u + q].match(/[UuBbMmZzLlHhVvCcSsQqTtAaFfXx]/)\r\n                  )\r\n                    q++;\r\n                  else {\r\n                    r = k[u + q];\r\n                    break;\r\n                  }\r\n                r.match(/[Mm]/)\r\n                  ? (l = !0)\r\n                  : 0 < a.kc.segments.length && (a.kc.isFilled = !0);\r\n                break;\r\n              case \"U\":\r\n                r = \"\";\r\n                for (q = 1; k[u + q]; )\r\n                  if (null !== k[u + q].match(/[Ff]/)) q++;\r\n                  else if (\r\n                    null === k[u + q].match(/[UuBbMmZzLlHhVvCcSsQqTtAaFfXx]/)\r\n                  )\r\n                    q++;\r\n                  else {\r\n                    r = k[u + q];\r\n                    break;\r\n                  }\r\n                r.match(/[Mm]/) ? (n = !0) : a.Rq(!1);\r\n            }\r\n        m = a.nt;\r\n        fe = a;\r\n        if (b) for (b = m.figures.iterator; b.next(); ) b.value.isFilled = !0;\r\n        return m;\r\n      }\r\n\r\n      function ge(a, b) {\r\n        for (var c = a.length, d = J.alloc(), e = 0; e < c; e++) {\r\n          var f = a[e];\r\n          d.x = f[0];\r\n          d.y = f[1];\r\n          b.xa(d);\r\n          f[0] = d.x;\r\n          f[1] = d.y;\r\n          d.x = f[2];\r\n          d.y = f[3];\r\n          b.xa(d);\r\n          f[2] = d.x;\r\n          f[3] = d.y;\r\n          d.x = f[4];\r\n          d.y = f[5];\r\n          b.xa(d);\r\n          f[4] = d.x;\r\n          f[5] = d.y;\r\n          d.x = f[6];\r\n          d.y = f[7];\r\n          b.xa(d);\r\n          f[6] = d.x;\r\n          f[7] = d.y;\r\n        }\r\n        J.free(d);\r\n      }\r\n      t.Mv = function () {\r\n        if (this.va || this.Hr !== this.figures.u) return !0;\r\n        for (var a = this.figures.j, b = a.length, c = 0; c < b; c++)\r\n          if (a[c].Mv()) return !0;\r\n        return !1;\r\n      };\r\n      Gd.prototype.computeBounds = function () {\r\n        this.va = !1;\r\n        this.fn = this.Ok = null;\r\n        this.gn = NaN;\r\n        this.Hr = this.figures.u;\r\n        for (var a = this.figures.j, b = a.length, c = 0; c < b; c++) {\r\n          var d = a[c];\r\n          d.va = !1;\r\n          var e = d.segments;\r\n          d.Ls = e.u;\r\n          d = e.j;\r\n          e = d.length;\r\n          for (var f = 0; f < e; f++) {\r\n            var g = d[f];\r\n            g.va = !1;\r\n            g.Se = null;\r\n          }\r\n        }\r\n        a = this.sr;\r\n        a.ka();\r\n        isNaN(this.xl) || isNaN(this.vl)\r\n          ? a.h(0, 0, 0, 0)\r\n          : a.h(0, 0, this.xl, this.vl);\r\n        he(this, a, !1);\r\n        pc(a, 0, 0, 0, 0);\r\n        a.freeze();\r\n      };\r\n      Gd.prototype.Kx = function () {\r\n        var a = new L();\r\n        he(this, a, !0);\r\n        return a;\r\n      };\r\n\r\n      function he(a, b, c) {\r\n        switch (a.type) {\r\n          case Jd:\r\n          case Td:\r\n          case Ud:\r\n            c ? b.h(a.fd, a.gd, 0, 0) : pc(b, a.fd, a.gd, 0, 0);\r\n            pc(b, a.rc, a.Gc, 0, 0);\r\n            break;\r\n          case Hd:\r\n            var d = a.figures;\r\n            a = d.j;\r\n            d = d.length;\r\n            for (var e = 0; e < d; e++) {\r\n              var f = a[e];\r\n              c && 0 === e\r\n                ? b.h(f.startX, f.startY, 0, 0)\r\n                : pc(b, f.startX, f.startY, 0, 0);\r\n              for (\r\n                var g = f.segments.j,\r\n                  h = g.length,\r\n                  k = f.startX,\r\n                  l = f.startY,\r\n                  m = 0;\r\n                m < h;\r\n                m++\r\n              ) {\r\n                var n = g[m];\r\n                switch (n.type) {\r\n                  case Ld:\r\n                  case ie:\r\n                    k = n.endX;\r\n                    l = n.endY;\r\n                    pc(b, k, l, 0, 0);\r\n                    break;\r\n                  case je:\r\n                    K.lm(\r\n                      k,\r\n                      l,\r\n                      n.point1X,\r\n                      n.point1Y,\r\n                      n.point2X,\r\n                      n.point2Y,\r\n                      n.endX,\r\n                      n.endY,\r\n                      0.5,\r\n                      b\r\n                    );\r\n                    k = n.endX;\r\n                    l = n.endY;\r\n                    break;\r\n                  case ke:\r\n                    K.Uv(k, l, n.point1X, n.point1Y, n.endX, n.endY, 0.5, b);\r\n                    k = n.endX;\r\n                    l = n.endY;\r\n                    break;\r\n                  case le:\r\n                  case me:\r\n                    var p = n.type === le ? ne(n, f) : oe(n, f, k, l),\r\n                      r = p.length;\r\n                    if (0 === r) {\r\n                      k = n.centerX;\r\n                      l = n.centerY;\r\n                      pc(b, k, l, 0, 0);\r\n                      break;\r\n                    }\r\n                    n = null;\r\n                    for (var q = 0; q < r; q++)\r\n                      (n = p[q]),\r\n                        K.lm(\r\n                          n[0],\r\n                          n[1],\r\n                          n[2],\r\n                          n[3],\r\n                          n[4],\r\n                          n[5],\r\n                          n[6],\r\n                          n[7],\r\n                          0.5,\r\n                          b\r\n                        );\r\n                    null !== n && ((k = n[6]), (l = n[7]));\r\n                    break;\r\n                  default:\r\n                    v(\"Unknown Segment type: \" + n.type);\r\n                }\r\n              }\r\n            }\r\n            break;\r\n          default:\r\n            v(\"Unknown Geometry type: \" + a.type);\r\n        }\r\n      }\r\n      Gd.prototype.normalize = function () {\r\n        this.s && va(this);\r\n        var a = this.Kx();\r\n        this.offset(-a.x, -a.y);\r\n        return new J(-a.x, -a.y);\r\n      };\r\n      Gd.prototype.offset = function (a, b) {\r\n        this.s && va(this);\r\n        F && (C(a, Gd, \"offset\"), C(b, Gd, \"offset\"));\r\n        this.transform(1, 0, 0, 1, a, b);\r\n        return this;\r\n      };\r\n      Gd.prototype.scale = function (a, b) {\r\n        this.s && va(this);\r\n        F &&\r\n          (C(a, Gd, \"scale:x\"),\r\n          C(b, Gd, \"scale:y\"),\r\n          0 === a && ya(a, \"scale must be non-zero\", Gd, \"scale:x\"),\r\n          0 === b && ya(b, \"scale must be non-zero\", Gd, \"scale:y\"));\r\n        this.transform(a, 0, 0, b, 0, 0);\r\n        return this;\r\n      };\r\n      Gd.prototype.rotate = function (a, b, c) {\r\n        this.s && va(this);\r\n        void 0 === b && (b = 0);\r\n        void 0 === c && (c = 0);\r\n        F &&\r\n          (C(a, Gd, \"rotate:angle\"),\r\n          C(b, Gd, \"rotate:x\"),\r\n          C(c, Gd, \"rotate:y\"));\r\n        var d = Kb.alloc();\r\n        d.reset();\r\n        d.rotate(a, b, c);\r\n        this.transform(d.m11, d.m12, d.m21, d.m22, d.dx, d.dy);\r\n        Kb.free(d);\r\n        return this;\r\n      };\r\n      t = Gd.prototype;\r\n      t.transform = function (a, b, c, d, e, f) {\r\n        switch (this.type) {\r\n          case Jd:\r\n          case Td:\r\n          case Ud:\r\n            var g = this.fd;\r\n            var h = this.gd;\r\n            this.fd = g * a + h * c + e;\r\n            this.gd = g * b + h * d + f;\r\n            g = this.rc;\r\n            h = this.Gc;\r\n            this.rc = g * a + h * c + e;\r\n            this.Gc = g * b + h * d + f;\r\n            break;\r\n          case Hd:\r\n            for (var k = this.figures.j, l = k.length, m = 0; m < l; m++) {\r\n              var n = k[m];\r\n              g = n.startX;\r\n              h = n.startY;\r\n              n.startX = g * a + h * c + e;\r\n              n.startY = g * b + h * d + f;\r\n              n = n.segments.j;\r\n              for (var p = n.length, r = 0; r < p; r++) {\r\n                var q = n[r];\r\n                switch (q.type) {\r\n                  case Ld:\r\n                  case ie:\r\n                    g = q.endX;\r\n                    h = q.endY;\r\n                    q.endX = g * a + h * c + e;\r\n                    q.endY = g * b + h * d + f;\r\n                    break;\r\n                  case je:\r\n                    g = q.point1X;\r\n                    h = q.point1Y;\r\n                    q.point1X = g * a + h * c + e;\r\n                    q.point1Y = g * b + h * d + f;\r\n                    g = q.point2X;\r\n                    h = q.point2Y;\r\n                    q.point2X = g * a + h * c + e;\r\n                    q.point2Y = g * b + h * d + f;\r\n                    g = q.endX;\r\n                    h = q.endY;\r\n                    q.endX = g * a + h * c + e;\r\n                    q.endY = g * b + h * d + f;\r\n                    break;\r\n                  case ke:\r\n                    g = q.point1X;\r\n                    h = q.point1Y;\r\n                    q.point1X = g * a + h * c + e;\r\n                    q.point1Y = g * b + h * d + f;\r\n                    g = q.endX;\r\n                    h = q.endY;\r\n                    q.endX = g * a + h * c + e;\r\n                    q.endY = g * b + h * d + f;\r\n                    break;\r\n                  case le:\r\n                    g = q.centerX;\r\n                    h = q.centerY;\r\n                    q.centerX = g * a + h * c + e;\r\n                    q.centerY = g * b + h * d + f;\r\n                    0 !== b &&\r\n                      ((g = (180 * Math.atan2(b, a)) / Math.PI),\r\n                      0 > g && (g += 360),\r\n                      (q.startAngle += g));\r\n                    0 > a &&\r\n                      ((q.startAngle = 180 - q.startAngle),\r\n                      (q.sweepAngle = -q.sweepAngle));\r\n                    0 > d &&\r\n                      ((q.startAngle = -q.startAngle),\r\n                      (q.sweepAngle = -q.sweepAngle));\r\n                    q.radiusX *= Math.sqrt(a * a + c * c);\r\n                    void 0 !== q.radiusY &&\r\n                      (q.radiusY *= Math.sqrt(b * b + d * d));\r\n                    break;\r\n                  case me:\r\n                    g = q.endX;\r\n                    h = q.endY;\r\n                    q.endX = g * a + h * c + e;\r\n                    q.endY = g * b + h * d + f;\r\n                    0 !== b &&\r\n                      ((g = (180 * Math.atan2(b, a)) / Math.PI),\r\n                      0 > g && (g += 360),\r\n                      (q.xAxisRotation += g));\r\n                    0 > a &&\r\n                      ((q.xAxisRotation = 180 - q.xAxisRotation),\r\n                      (q.isClockwiseArc = !q.isClockwiseArc));\r\n                    0 > d &&\r\n                      ((q.xAxisRotation = -q.xAxisRotation),\r\n                      (q.isClockwiseArc = !q.isClockwiseArc));\r\n                    q.radiusX *= Math.sqrt(a * a + c * c);\r\n                    q.radiusY *= Math.sqrt(b * b + d * d);\r\n                    break;\r\n                  default:\r\n                    v(\"Unknown Segment type: \" + q.type);\r\n                }\r\n              }\r\n            }\r\n        }\r\n        this.va = !0;\r\n        return this;\r\n      };\r\n      t.ea = function (a, b, c, d) {\r\n        var e = a.x;\r\n        a = a.y;\r\n        for (\r\n          var f = this.bounds.x - 20,\r\n            g = 0,\r\n            h,\r\n            k,\r\n            l,\r\n            m,\r\n            n,\r\n            p = this.figures.j,\r\n            r = p.length,\r\n            q = 0;\r\n          q < r;\r\n          q++\r\n        ) {\r\n          var u = p[q];\r\n          if (u.isFilled) {\r\n            if (c && u.ea(e, a, b)) return !0;\r\n            var x = u.segments;\r\n            h = u.startX;\r\n            k = u.startY;\r\n            for (var y = h, z = k, B = x.j, D = 0; D <= x.length; D++) {\r\n              var I = void 0;\r\n              if (D !== x.length) {\r\n                I = B[D];\r\n                var O = I.type;\r\n                m = I.endX;\r\n                n = I.endY;\r\n              } else (O = Ld), (m = y), (n = z);\r\n              switch (O) {\r\n                case ie:\r\n                  y = pe(e, a, f, a, h, k, y, z);\r\n                  if (isNaN(y)) return !0;\r\n                  g += y;\r\n                  y = m;\r\n                  z = n;\r\n                  break;\r\n                case Ld:\r\n                  h = pe(e, a, f, a, h, k, m, n);\r\n                  if (isNaN(h)) return !0;\r\n                  g += h;\r\n                  break;\r\n                case je:\r\n                  l = K.kq(\r\n                    h,\r\n                    k,\r\n                    I.point1X,\r\n                    I.point1Y,\r\n                    I.point2X,\r\n                    I.point2Y,\r\n                    m,\r\n                    n,\r\n                    f,\r\n                    a,\r\n                    e,\r\n                    a,\r\n                    0.5\r\n                  );\r\n                  g += l;\r\n                  break;\r\n                case ke:\r\n                  l = K.kq(\r\n                    h,\r\n                    k,\r\n                    (h + 2 * I.point1X) / 3,\r\n                    (k + 2 * I.point1Y) / 3,\r\n                    (2 * I.point1X + m) / 3,\r\n                    (2 * I.point1Y + n) / 3,\r\n                    m,\r\n                    n,\r\n                    f,\r\n                    a,\r\n                    e,\r\n                    a,\r\n                    0.5\r\n                  );\r\n                  g += l;\r\n                  break;\r\n                case le:\r\n                case me:\r\n                  O = I.type === le ? ne(I, u) : oe(I, u, h, k);\r\n                  var R = O.length;\r\n                  if (0 === R) {\r\n                    h = pe(e, a, f, a, h, k, I.centerX, I.centerY);\r\n                    if (isNaN(h)) return !0;\r\n                    g += h;\r\n                    break;\r\n                  }\r\n                  I = null;\r\n                  for (var T = 0; T < R; T++) {\r\n                    I = O[T];\r\n                    if (0 === T) {\r\n                      l = pe(e, a, f, a, h, k, I[0], I[1]);\r\n                      if (isNaN(l)) return !0;\r\n                      g += l;\r\n                    }\r\n                    l = K.kq(\r\n                      I[0],\r\n                      I[1],\r\n                      I[2],\r\n                      I[3],\r\n                      I[4],\r\n                      I[5],\r\n                      I[6],\r\n                      I[7],\r\n                      f,\r\n                      a,\r\n                      e,\r\n                      a,\r\n                      0.5\r\n                    );\r\n                    g += l;\r\n                  }\r\n                  null !== I && ((m = I[6]), (n = I[7]));\r\n                  break;\r\n                default:\r\n                  v(\"Unknown Segment type: \" + I.type);\r\n              }\r\n              h = m;\r\n              k = n;\r\n            }\r\n            if (0 !== g) return !0;\r\n            g = 0;\r\n          } else if (u.ea(e, a, d ? b : b + 2)) return !0;\r\n        }\r\n        return 0 !== g;\r\n      };\r\n\r\n      function pe(a, b, c, d, e, f, g, h) {\r\n        if (K.bc(e, f, g, h, 0.05, a, b)) return NaN;\r\n        var k = (a - c) * (f - h);\r\n        if (0 === k) return 0;\r\n        var l = ((a * d - b * c) * (e - g) - (a - c) * (e * h - f * g)) / k;\r\n        b = ((a * d - b * c) * (f - h)) / k;\r\n        if (l >= a) return 0;\r\n        if ((e > g ? e - g : g - e) < (f > h ? f - h : h - f))\r\n          if (f < h) {\r\n            if (b < f || b > h) return 0;\r\n          } else {\r\n            if (b < h || b > f) return 0;\r\n          }\r\n        else if (e < g) {\r\n          if (l < e || l > g) return 0;\r\n        } else if (l < g || l > e) return 0;\r\n        return 0 < k ? 1 : -1;\r\n      }\r\n\r\n      function qe(a, b, c, d) {\r\n        a = a.figures.j;\r\n        for (var e = a.length, f = 0; f < e; f++)\r\n          if (a[f].ea(b, c, d)) return !0;\r\n        return !1;\r\n      }\r\n      t.Ev = function (a, b) {\r\n        0 > a ? (a = 0) : 1 < a && (a = 1);\r\n        void 0 === b && (b = new J());\r\n        if (this.type === Jd)\r\n          return (\r\n            b.h(\r\n              this.startX + a * (this.endX - this.startX),\r\n              this.startY + a * (this.endY - this.startY)\r\n            ),\r\n            b\r\n          );\r\n        for (\r\n          var c = this.flattenedSegments,\r\n            d = this.flattenedLengths,\r\n            e = c.length,\r\n            f = this.flattenedTotalLength * a,\r\n            g = 0,\r\n            h = 0;\r\n          h < e;\r\n          h++\r\n        ) {\r\n          var k = d[h],\r\n            l = k.length;\r\n          for (a = 0; a < l; a++) {\r\n            var m = k[a];\r\n            if (g + m >= f)\r\n              return (\r\n                (d = f - g),\r\n                (d = 0 === m ? 0 : d / m),\r\n                (c = c[h]),\r\n                (h = c[2 * a]),\r\n                (e = c[2 * a + 1]),\r\n                b.h(h + (c[2 * a + 2] - h) * d, e + (c[2 * a + 3] - e) * d),\r\n                b\r\n              );\r\n            g += m;\r\n          }\r\n        }\r\n        return b;\r\n      };\r\n      t.Vx = function (a) {\r\n        if (this.type === Jd) {\r\n          var b = this.startX,\r\n            c = this.startY,\r\n            d = this.endX,\r\n            e = this.endY;\r\n          if (b !== d || c !== e) {\r\n            var f = a.x;\r\n            a = a.y;\r\n            if (b === d) {\r\n              if (c < e) {\r\n                var g = c;\r\n                d = e;\r\n              } else (g = e), (d = c);\r\n              return a <= g\r\n                ? g === c\r\n                  ? 0\r\n                  : 1\r\n                : a >= d\r\n                ? d === c\r\n                  ? 0\r\n                  : 1\r\n                : Math.abs(a - c) / (d - g);\r\n            }\r\n            return c === e\r\n              ? (b < d ? (g = b) : ((g = d), (d = b)),\r\n                f <= g\r\n                  ? g === b\r\n                    ? 0\r\n                    : 1\r\n                  : f >= d\r\n                  ? d === b\r\n                    ? 0\r\n                    : 1\r\n                  : Math.abs(f - b) / (d - g))\r\n              : ((f - b) * (f - b) + (a - c) * (a - c)) /\r\n                  ((d - b) * (d - b) + (e - c) * (e - c));\r\n          }\r\n        } else if (this.type === Td) {\r\n          g = this.startX;\r\n          var h = this.startY,\r\n            k = this.endX;\r\n          e = this.endY;\r\n          if (g !== k || h !== e) {\r\n            b = k - g;\r\n            c = e - h;\r\n            f = 2 * b + 2 * c;\r\n            d = a.x;\r\n            a = a.y;\r\n            d = Math.min(Math.max(d, g), k);\r\n            a = Math.min(Math.max(a, h), e);\r\n            g = Math.abs(d - g);\r\n            k = Math.abs(d - k);\r\n            h = Math.abs(a - h);\r\n            e = Math.abs(a - e);\r\n            var l = Math.min(g, k, h, e);\r\n            if (l === h) return d / f;\r\n            if (l === k) return (b + a) / f;\r\n            if (l === e) return (2 * b + c - d) / f;\r\n            if (l === g) return (2 * b + 2 * c - a) / f;\r\n          }\r\n        } else {\r\n          b = this.flattenedSegments;\r\n          c = this.flattenedLengths;\r\n          f = this.flattenedTotalLength;\r\n          d = J.alloc();\r\n          e = Infinity;\r\n          h = g = 0;\r\n          k = b.length;\r\n          for (var m = (l = 0), n = 0; n < k; n++)\r\n            for (var p = b[n], r = c[n], q = p.length, u = 0; u < q; u += 2) {\r\n              var x = p[u],\r\n                y = p[u + 1];\r\n              if (0 !== u) {\r\n                K.kj(l, m, x, y, a.x, a.y, d);\r\n                var z = (d.x - a.x) * (d.x - a.x) + (d.y - a.y) * (d.y - a.y);\r\n                z < e &&\r\n                  ((e = z),\r\n                  (g = h),\r\n                  (g += Math.sqrt(\r\n                    (d.x - l) * (d.x - l) + (d.y - m) * (d.y - m)\r\n                  )));\r\n                h += r[(u - 2) / 2];\r\n              }\r\n              l = x;\r\n              m = y;\r\n            }\r\n          J.free(d);\r\n          a = g / f;\r\n          return 0 > a ? 0 : 1 < a ? 1 : a;\r\n        }\r\n        return 0;\r\n      };\r\n\r\n      function re(a) {\r\n        if (null === a.Ok) {\r\n          var b = (a.Ok = []),\r\n            c = (a.fn = []),\r\n            d = [],\r\n            e = [];\r\n          if (a.type === Jd)\r\n            d.push(a.startX),\r\n              d.push(a.startY),\r\n              d.push(a.endX),\r\n              d.push(a.endY),\r\n              b.push(d),\r\n              e.push(\r\n                Math.sqrt(\r\n                  (a.startX - a.endX) * (a.startX - a.endX) +\r\n                    (a.startY - a.endY) * (a.startY - a.endY)\r\n                )\r\n              ),\r\n              c.push(e);\r\n          else if (a.type === Td)\r\n            d.push(a.startX),\r\n              d.push(a.startY),\r\n              d.push(a.endX),\r\n              d.push(a.startY),\r\n              d.push(a.endX),\r\n              d.push(a.endY),\r\n              d.push(a.startX),\r\n              d.push(a.endY),\r\n              d.push(a.startX),\r\n              d.push(a.startY),\r\n              b.push(d),\r\n              e.push(Math.abs(a.startX - a.endX)),\r\n              e.push(Math.abs(a.startY - a.endY)),\r\n              e.push(Math.abs(a.startX - a.endX)),\r\n              e.push(Math.abs(a.startY - a.endY)),\r\n              c.push(e);\r\n          else if (a.type === Ud) {\r\n            var f = new se();\r\n            f.startX = a.endX;\r\n            f.startY = (a.startY + a.endY) / 2;\r\n            var g = new te(le);\r\n            g.startAngle = 0;\r\n            g.sweepAngle = 360;\r\n            g.centerX = (a.startX + a.endX) / 2;\r\n            g.centerY = (a.startY + a.endY) / 2;\r\n            g.radiusX = Math.abs(a.startX - a.endX) / 2;\r\n            g.radiusY = Math.abs(a.startY - a.endY) / 2;\r\n            f.add(g);\r\n            a = ne(g, f);\r\n            e = a.length;\r\n            if (0 === e) d.push(g.centerX), d.push(g.centerY);\r\n            else {\r\n              g = f.startX;\r\n              f = f.startY;\r\n              for (var h = 0; h < e; h++) {\r\n                var k = a[h];\r\n                K.Ie(g, f, k[2], k[3], k[4], k[5], k[6], k[7], 0.5, d);\r\n                g = k[6];\r\n                f = k[7];\r\n              }\r\n            }\r\n            b.push(d);\r\n            c.push(ue(d));\r\n          } else\r\n            for (a = a.figures.iterator; a.next(); ) {\r\n              e = a.value;\r\n              d = [];\r\n              d.push(e.startX);\r\n              d.push(e.startY);\r\n              g = e.startX;\r\n              f = e.startY;\r\n              h = g;\r\n              k = f;\r\n              for (var l = e.segments.j, m = l.length, n = 0; n < m; n++) {\r\n                var p = l[n];\r\n                switch (p.type) {\r\n                  case ie:\r\n                    4 <= d.length && (b.push(d), c.push(ue(d)));\r\n                    d = [];\r\n                    d.push(p.endX);\r\n                    d.push(p.endY);\r\n                    g = p.endX;\r\n                    f = p.endY;\r\n                    h = g;\r\n                    k = f;\r\n                    break;\r\n                  case Ld:\r\n                    d.push(p.endX);\r\n                    d.push(p.endY);\r\n                    g = p.endX;\r\n                    f = p.endY;\r\n                    break;\r\n                  case je:\r\n                    K.Ie(\r\n                      g,\r\n                      f,\r\n                      p.point1X,\r\n                      p.point1Y,\r\n                      p.point2X,\r\n                      p.point2Y,\r\n                      p.endX,\r\n                      p.endY,\r\n                      0.5,\r\n                      d\r\n                    );\r\n                    g = p.endX;\r\n                    f = p.endY;\r\n                    break;\r\n                  case ke:\r\n                    K.Iq(g, f, p.point1X, p.point1Y, p.endX, p.endY, 0.5, d);\r\n                    g = p.endX;\r\n                    f = p.endY;\r\n                    break;\r\n                  case le:\r\n                    var r = ne(p, e),\r\n                      q = r.length;\r\n                    if (0 === q) {\r\n                      d.push(p.centerX);\r\n                      d.push(p.centerY);\r\n                      g = p.centerX;\r\n                      f = p.centerY;\r\n                      break;\r\n                    }\r\n                    for (var u = 0; u < q; u++) {\r\n                      var x = r[u];\r\n                      K.Ie(g, f, x[2], x[3], x[4], x[5], x[6], x[7], 0.5, d);\r\n                      g = x[6];\r\n                      f = x[7];\r\n                    }\r\n                    break;\r\n                  case me:\r\n                    r = oe(p, e, g, f);\r\n                    q = r.length;\r\n                    if (0 === q) {\r\n                      d.push(p.centerX);\r\n                      d.push(p.centerY);\r\n                      g = p.centerX;\r\n                      f = p.centerY;\r\n                      break;\r\n                    }\r\n                    for (u = 0; u < q; u++)\r\n                      (x = r[u]),\r\n                        K.Ie(g, f, x[2], x[3], x[4], x[5], x[6], x[7], 0.5, d),\r\n                        (g = x[6]),\r\n                        (f = x[7]);\r\n                    break;\r\n                  default:\r\n                    v(\"Segment not of valid type: \" + p.type);\r\n                }\r\n                p.isClosed && (d.push(h), d.push(k));\r\n              }\r\n              4 <= d.length && (b.push(d), c.push(ue(d)));\r\n            }\r\n        }\r\n      }\r\n\r\n      function ue(a) {\r\n        for (var b = [], c = 0, d = 0, e = a.length, f = 0; f < e; f += 2) {\r\n          var g = a[f],\r\n            h = a[f + 1];\r\n          0 !== f && ((c = Math.sqrt(Nb(c, d, g, h))), b.push(c));\r\n          c = g;\r\n          d = h;\r\n        }\r\n        return b;\r\n      }\r\n      t.add = function (a) {\r\n        this.yj.add(a);\r\n        return this;\r\n      };\r\n      t.Tm = function (a, b, c, d, e, f, g, h) {\r\n        this.s && va(this);\r\n        this.rf = new M(a, b, e, f).freeze();\r\n        this.sf = new M(c, d, g, h).freeze();\r\n        return this;\r\n      };\r\n      ma.Object.defineProperties(Gd.prototype, {\r\n        flattenedSegments: {\r\n          configurable: !0,\r\n          get: function () {\r\n            re(this);\r\n            return this.Ok;\r\n          },\r\n        },\r\n        flattenedLengths: {\r\n          configurable: !0,\r\n          get: function () {\r\n            re(this);\r\n            return this.fn;\r\n          },\r\n        },\r\n        flattenedTotalLength: {\r\n          configurable: !0,\r\n          get: function () {\r\n            var a = this.gn;\r\n            if (isNaN(a)) {\r\n              if (this.type === Jd) {\r\n                a = Math.abs(this.endX - this.startX);\r\n                var b = Math.abs(this.endY - this.startY);\r\n                a = Math.sqrt(a * a + b * b);\r\n              } else if (this.type === Td)\r\n                a =\r\n                  2 * Math.abs(this.endX - this.startX) +\r\n                  2 * Math.abs(this.endY - this.startY);\r\n              else {\r\n                b = this.flattenedLengths;\r\n                for (var c = b.length, d = (a = 0); d < c; d++)\r\n                  for (var e = b[d], f = e.length, g = 0; g < f; g++) a += e[g];\r\n              }\r\n              this.gn = a;\r\n            }\r\n            return a;\r\n          },\r\n        },\r\n        type: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.wa;\r\n          },\r\n          set: function (a) {\r\n            this.wa !== a &&\r\n              (F && hb(a, Gd, Gd, \"type\"),\r\n              this.s && va(this, a),\r\n              (this.wa = a),\r\n              (this.va = !0));\r\n          },\r\n        },\r\n        startX: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.fd;\r\n          },\r\n          set: function (a) {\r\n            this.fd !== a &&\r\n              (F && C(a, Gd, \"startX\"),\r\n              this.s && va(this, a),\r\n              (this.fd = a),\r\n              (this.va = !0));\r\n          },\r\n        },\r\n        startY: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.gd;\r\n          },\r\n          set: function (a) {\r\n            this.gd !== a &&\r\n              (F && C(a, Gd, \"startY\"),\r\n              this.s && va(this, a),\r\n              (this.gd = a),\r\n              (this.va = !0));\r\n          },\r\n        },\r\n        endX: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.rc;\r\n          },\r\n          set: function (a) {\r\n            this.rc !== a &&\r\n              (F && C(a, Gd, \"endX\"),\r\n              this.s && va(this, a),\r\n              (this.rc = a),\r\n              (this.va = !0));\r\n          },\r\n        },\r\n        endY: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Gc;\r\n          },\r\n          set: function (a) {\r\n            this.Gc !== a &&\r\n              (F && C(a, Gd, \"endY\"),\r\n              this.s && va(this, a),\r\n              (this.Gc = a),\r\n              (this.va = !0));\r\n          },\r\n        },\r\n        figures: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.yj;\r\n          },\r\n          set: function (a) {\r\n            this.yj !== a &&\r\n              (F && w(a, G, Gd, \"figures\"),\r\n              this.s && va(this, a),\r\n              (this.yj = a),\r\n              (this.va = !0));\r\n          },\r\n        },\r\n        spot1: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.rf;\r\n          },\r\n          set: function (a) {\r\n            F && w(a, M, Gd, \"spot1\");\r\n            this.s && va(this, a);\r\n            this.rf = a.J();\r\n          },\r\n        },\r\n        spot2: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.sf;\r\n          },\r\n          set: function (a) {\r\n            F && w(a, M, Gd, \"spot2\");\r\n            this.s && va(this, a);\r\n            this.sf = a.J();\r\n          },\r\n        },\r\n        defaultStretch: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Zf;\r\n          },\r\n          set: function (a) {\r\n            F && hb(a, N, Gd, \"stretch\");\r\n            this.s && va(this, a);\r\n            this.Zf = a;\r\n          },\r\n        },\r\n        bounds: {\r\n          configurable: !0,\r\n          get: function () {\r\n            this.Mv() && this.computeBounds();\r\n            return this.sr;\r\n          },\r\n        },\r\n      });\r\n      Gd.prototype.setSpots = Gd.prototype.Tm;\r\n      Gd.prototype.add = Gd.prototype.add;\r\n      Gd.prototype.getFractionForPoint = Gd.prototype.Vx;\r\n      Gd.prototype.getPointAlongPath = Gd.prototype.Ev;\r\n      Gd.prototype.transform = Gd.prototype.transform;\r\n      Gd.prototype.rotate = Gd.prototype.rotate;\r\n      Gd.prototype.scale = Gd.prototype.scale;\r\n      Gd.prototype.offset = Gd.prototype.offset;\r\n      Gd.prototype.normalize = Gd.prototype.normalize;\r\n      Gd.prototype.computeBoundsWithoutOrigin = Gd.prototype.Kx;\r\n      Gd.prototype.equalsApprox = Gd.prototype.Sa;\r\n      var Jd = new E(Gd, \"Line\", 0),\r\n        Td = new E(Gd, \"Rectangle\", 1),\r\n        Ud = new E(Gd, \"Ellipse\", 2),\r\n        Hd = new E(Gd, \"Path\", 3);\r\n      Gd.className = \"Geometry\";\r\n      Gd.stringify = Sd;\r\n      Gd.fillPath = function (a) {\r\n        \"string\" !== typeof a && xa(a, \"string\", Gd, \"fillPath:str\");\r\n        a = a.split(/[Xx]/);\r\n        for (var b = a.length, c = \"\", d = 0; d < b; d++) {\r\n          var e = a[d];\r\n          c =\r\n            null !== e.match(/[Ff]/)\r\n              ? 0 === d\r\n                ? c + e\r\n                : c + (\"X\" + (\" \" === e[0] ? \"\" : \" \") + e)\r\n              : c +\r\n                ((0 === d ? \"\" : \"X \") + \"F\" + (\" \" === e[0] ? \"\" : \" \") + e);\r\n        }\r\n        return c;\r\n      };\r\n      Gd.parse = Vd;\r\n      Gd.Line = Jd;\r\n      Gd.Rectangle = Td;\r\n      Gd.Ellipse = Ud;\r\n      Gd.Path = Hd;\r\n\r\n      function se(a, b, c, d) {\r\n        fb(this);\r\n        this.s = !1;\r\n        void 0 === c && (c = !0);\r\n        this.Vr = c;\r\n        void 0 === d && (d = !0);\r\n        this.Zr = d;\r\n        void 0 !== a ? (F && C(a, se, \"sx\"), (this.fd = a)) : (this.fd = 0);\r\n        void 0 !== b ? (F && C(b, se, \"sy\"), (this.gd = b)) : (this.gd = 0);\r\n        this.Vl = new G();\r\n        this.Ls = this.Vl.u;\r\n        this.va = !0;\r\n      }\r\n      se.prototype.copy = function () {\r\n        var a = new se();\r\n        a.Vr = this.Vr;\r\n        a.Zr = this.Zr;\r\n        a.fd = this.fd;\r\n        a.gd = this.gd;\r\n        for (var b = this.Vl.j, c = b.length, d = a.Vl, e = 0; e < c; e++) {\r\n          var f = b[e].copy();\r\n          d.add(f);\r\n        }\r\n        a.Ls = this.Ls;\r\n        a.va = this.va;\r\n        return a;\r\n      };\r\n      t = se.prototype;\r\n      t.Sa = function (a) {\r\n        if (\r\n          !(\r\n            a instanceof se &&\r\n            K.C(this.startX, a.startX) &&\r\n            K.C(this.startY, a.startY)\r\n          )\r\n        )\r\n          return !1;\r\n        var b = this.segments.j;\r\n        a = a.segments.j;\r\n        var c = b.length;\r\n        if (c !== a.length) return !1;\r\n        for (var d = 0; d < c; d++) if (!b[d].Sa(a[d])) return !1;\r\n        return !0;\r\n      };\r\n      t.toString = function (a) {\r\n        void 0 === a && (a = -1);\r\n        var b =\r\n          0 > a\r\n            ? \"M\" + this.startX.toString() + \" \" + this.startY.toString()\r\n            : \"M\" + this.startX.toFixed(a) + \" \" + this.startY.toFixed(a);\r\n        for (var c = this.segments.j, d = c.length, e = 0; e < d; e++)\r\n          b += \" \" + c[e].toString(a);\r\n        return b;\r\n      };\r\n      t.freeze = function () {\r\n        this.s = !0;\r\n        var a = this.segments;\r\n        a.freeze();\r\n        var b = a.j;\r\n        a = a.length;\r\n        for (var c = 0; c < a; c++) b[c].freeze();\r\n        return this;\r\n      };\r\n      t.ka = function () {\r\n        this.s = !1;\r\n        var a = this.segments;\r\n        a.ka();\r\n        a = a.j;\r\n        for (var b = a.length, c = 0; c < b; c++) a[c].ka();\r\n        return this;\r\n      };\r\n      t.Mv = function () {\r\n        if (this.va) return !0;\r\n        var a = this.segments;\r\n        if (this.Ls !== a.u) return !0;\r\n        a = a.j;\r\n        for (var b = a.length, c = 0; c < b; c++) if (a[c].va) return !0;\r\n        return !1;\r\n      };\r\n      t.add = function (a) {\r\n        this.Vl.add(a);\r\n        return this;\r\n      };\r\n      t.ea = function (a, b, c) {\r\n        for (\r\n          var d = this.startX,\r\n            e = this.startY,\r\n            f = d,\r\n            g = e,\r\n            h = this.segments.j,\r\n            k = h.length,\r\n            l = 0;\r\n          l < k;\r\n          l++\r\n        ) {\r\n          var m = h[l];\r\n          switch (m.type) {\r\n            case ie:\r\n              f = m.endX;\r\n              g = m.endY;\r\n              d = m.endX;\r\n              e = m.endY;\r\n              break;\r\n            case Ld:\r\n              if (K.bc(d, e, m.endX, m.endY, c, a, b)) return !0;\r\n              d = m.endX;\r\n              e = m.endY;\r\n              break;\r\n            case je:\r\n              if (\r\n                K.bt(\r\n                  d,\r\n                  e,\r\n                  m.point1X,\r\n                  m.point1Y,\r\n                  m.point2X,\r\n                  m.point2Y,\r\n                  m.endX,\r\n                  m.endY,\r\n                  0.5,\r\n                  a,\r\n                  b,\r\n                  c\r\n                )\r\n              )\r\n                return !0;\r\n              d = m.endX;\r\n              e = m.endY;\r\n              break;\r\n            case ke:\r\n              if (\r\n                K.Vv(d, e, m.point1X, m.point1Y, m.endX, m.endY, 0.5, a, b, c)\r\n              )\r\n                return !0;\r\n              d = m.endX;\r\n              e = m.endY;\r\n              break;\r\n            case le:\r\n            case me:\r\n              var n = m.type === le ? ne(m, this) : oe(m, this, d, e),\r\n                p = n.length;\r\n              if (0 === p) {\r\n                if (K.bc(d, e, m.centerX, m.centerY, c, a, b)) return !0;\r\n                d = m.centerX;\r\n                e = m.centerY;\r\n                break;\r\n              }\r\n              for (var r = null, q = 0; q < p; q++)\r\n                if (\r\n                  ((r = n[q]),\r\n                  (0 === q && K.bc(d, e, r[0], r[1], c, a, b)) ||\r\n                    K.bt(\r\n                      r[0],\r\n                      r[1],\r\n                      r[2],\r\n                      r[3],\r\n                      r[4],\r\n                      r[5],\r\n                      r[6],\r\n                      r[7],\r\n                      0.5,\r\n                      a,\r\n                      b,\r\n                      c\r\n                    ))\r\n                )\r\n                  return !0;\r\n              null !== r && ((d = r[6]), (e = r[7]));\r\n              break;\r\n            default:\r\n              v(\"Unknown Segment type: \" + m.type);\r\n          }\r\n          if (m.isClosed && (d !== f || e !== g) && K.bc(d, e, f, g, c, a, b))\r\n            return !0;\r\n        }\r\n        return !1;\r\n      };\r\n      ma.Object.defineProperties(se.prototype, {\r\n        isFilled: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Vr;\r\n          },\r\n          set: function (a) {\r\n            F && A(a, \"boolean\", se, \"isFilled\");\r\n            this.s && va(this, a);\r\n            this.Vr = a;\r\n          },\r\n        },\r\n        isShadowed: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Zr;\r\n          },\r\n          set: function (a) {\r\n            F && A(a, \"boolean\", se, \"isShadowed\");\r\n            this.s && va(this, a);\r\n            this.Zr = a;\r\n          },\r\n        },\r\n        startX: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.fd;\r\n          },\r\n          set: function (a) {\r\n            F && C(a, se, \"startX\");\r\n            this.s && va(this, a);\r\n            this.fd = a;\r\n            this.va = !0;\r\n          },\r\n        },\r\n        startY: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.gd;\r\n          },\r\n          set: function (a) {\r\n            F && C(a, se, \"startY\");\r\n            this.s && va(this, a);\r\n            this.gd = a;\r\n            this.va = !0;\r\n          },\r\n        },\r\n        segments: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Vl;\r\n          },\r\n          set: function (a) {\r\n            F && w(a, G, se, \"segments\");\r\n            this.s && va(this, a);\r\n            this.Vl = a;\r\n            this.va = !0;\r\n          },\r\n        },\r\n      });\r\n      se.prototype.add = se.prototype.add;\r\n      se.prototype.equalsApprox = se.prototype.Sa;\r\n      se.className = \"PathFigure\";\r\n\r\n      function te(a, b, c, d, e, f, g, h) {\r\n        fb(this);\r\n        this.s = !1;\r\n        void 0 === a ? (a = Ld) : F && hb(a, te, te, \"constructor:type\");\r\n        this.wa = a;\r\n        void 0 !== b ? (F && C(b, te, \"ex\"), (this.rc = b)) : (this.rc = 0);\r\n        void 0 !== c ? (F && C(c, te, \"ey\"), (this.Gc = c)) : (this.Gc = 0);\r\n        void 0 === d && (d = 0);\r\n        void 0 === e && (e = 0);\r\n        void 0 === f && (f = 0);\r\n        void 0 === g && (g = 0);\r\n        a === me\r\n          ? ((a = f % 360),\r\n            0 > a && (a += 360),\r\n            (this.Ce = a),\r\n            (this.Hi = 0),\r\n            F && C(d, te, \"x1\"),\r\n            (this.Ii = Math.max(d, 0)),\r\n            F && C(e, te, \"y1\"),\r\n            (this.sh = Math.max(e, 0)),\r\n            (this.Dl = \"boolean\" === typeof g ? !!g : !1),\r\n            (this.Tk = !!h))\r\n          : (F && C(d, te, \"x1\"),\r\n            (this.Ce = d),\r\n            F && C(e, te, \"y1\"),\r\n            (this.Hi = e),\r\n            F && C(f, te, \"x2\"),\r\n            a === le && (f = Math.max(f, 0)),\r\n            (this.Ii = f),\r\n            \"number\" === typeof g\r\n              ? (a === le && (g = Math.max(g, 0)), (this.sh = g))\r\n              : (this.sh = 0),\r\n            (this.Tk = this.Dl = !1));\r\n        this.Dj = !1;\r\n        this.va = !0;\r\n        this.Se = null;\r\n      }\r\n      te.prototype.copy = function () {\r\n        var a = new te();\r\n        a.wa = this.wa;\r\n        a.rc = this.rc;\r\n        a.Gc = this.Gc;\r\n        a.Ce = this.Ce;\r\n        a.Hi = this.Hi;\r\n        a.Ii = this.Ii;\r\n        a.sh = this.sh;\r\n        a.Dl = this.Dl;\r\n        a.Tk = this.Tk;\r\n        a.Dj = this.Dj;\r\n        a.va = this.va;\r\n        return a;\r\n      };\r\n      t = te.prototype;\r\n      t.Sa = function (a) {\r\n        if (\r\n          !(a instanceof te) ||\r\n          this.type !== a.type ||\r\n          this.isClosed !== a.isClosed\r\n        )\r\n          return !1;\r\n        switch (this.type) {\r\n          case ie:\r\n          case Ld:\r\n            return K.C(this.endX, a.endX) && K.C(this.endY, a.endY);\r\n          case je:\r\n            return (\r\n              K.C(this.endX, a.endX) &&\r\n              K.C(this.endY, a.endY) &&\r\n              K.C(this.point1X, a.point1X) &&\r\n              K.C(this.point1Y, a.point1Y) &&\r\n              K.C(this.point2X, a.point2X) &&\r\n              K.C(this.point2Y, a.point2Y)\r\n            );\r\n          case ke:\r\n            return (\r\n              K.C(this.endX, a.endX) &&\r\n              K.C(this.endY, a.endY) &&\r\n              K.C(this.point1X, a.point1X) &&\r\n              K.C(this.point1Y, a.point1Y)\r\n            );\r\n          case le:\r\n            return (\r\n              K.C(this.startAngle, a.startAngle) &&\r\n              K.C(this.sweepAngle, a.sweepAngle) &&\r\n              K.C(this.centerX, a.centerX) &&\r\n              K.C(this.centerY, a.centerY) &&\r\n              K.C(this.radiusX, a.radiusX) &&\r\n              K.C(this.radiusY, a.radiusY)\r\n            );\r\n          case me:\r\n            return (\r\n              this.isClockwiseArc === a.isClockwiseArc &&\r\n              this.isLargeArc === a.isLargeArc &&\r\n              K.C(this.xAxisRotation, a.xAxisRotation) &&\r\n              K.C(this.endX, a.endX) &&\r\n              K.C(this.endY, a.endY) &&\r\n              K.C(this.radiusX, a.radiusX) &&\r\n              K.C(this.radiusY, a.radiusY)\r\n            );\r\n          default:\r\n            return !1;\r\n        }\r\n      };\r\n      t.jb = function (a) {\r\n        a.classType === te ? (this.type = a) : Ba(this, a);\r\n      };\r\n      t.toString = function (a) {\r\n        void 0 === a && (a = -1);\r\n        switch (this.type) {\r\n          case ie:\r\n            a =\r\n              0 > a\r\n                ? \"M\" + this.endX.toString() + \" \" + this.endY.toString()\r\n                : \"M\" + this.endX.toFixed(a) + \" \" + this.endY.toFixed(a);\r\n            break;\r\n          case Ld:\r\n            a =\r\n              0 > a\r\n                ? \"L\" + this.endX.toString() + \" \" + this.endY.toString()\r\n                : \"L\" + this.endX.toFixed(a) + \" \" + this.endY.toFixed(a);\r\n            break;\r\n          case je:\r\n            a =\r\n              0 > a\r\n                ? \"C\" +\r\n                  this.point1X.toString() +\r\n                  \" \" +\r\n                  this.point1Y.toString() +\r\n                  \" \" +\r\n                  this.point2X.toString() +\r\n                  \" \" +\r\n                  this.point2Y.toString() +\r\n                  \" \" +\r\n                  this.endX.toString() +\r\n                  \" \" +\r\n                  this.endY.toString()\r\n                : \"C\" +\r\n                  this.point1X.toFixed(a) +\r\n                  \" \" +\r\n                  this.point1Y.toFixed(a) +\r\n                  \" \" +\r\n                  this.point2X.toFixed(a) +\r\n                  \" \" +\r\n                  this.point2Y.toFixed(a) +\r\n                  \" \" +\r\n                  this.endX.toFixed(a) +\r\n                  \" \" +\r\n                  this.endY.toFixed(a);\r\n            break;\r\n          case ke:\r\n            a =\r\n              0 > a\r\n                ? \"Q\" +\r\n                  this.point1X.toString() +\r\n                  \" \" +\r\n                  this.point1Y.toString() +\r\n                  \" \" +\r\n                  this.endX.toString() +\r\n                  \" \" +\r\n                  this.endY.toString()\r\n                : \"Q\" +\r\n                  this.point1X.toFixed(a) +\r\n                  \" \" +\r\n                  this.point1Y.toFixed(a) +\r\n                  \" \" +\r\n                  this.endX.toFixed(a) +\r\n                  \" \" +\r\n                  this.endY.toFixed(a);\r\n            break;\r\n          case le:\r\n            a =\r\n              0 > a\r\n                ? \"B\" +\r\n                  this.startAngle.toString() +\r\n                  \" \" +\r\n                  this.sweepAngle.toString() +\r\n                  \" \" +\r\n                  this.centerX.toString() +\r\n                  \" \" +\r\n                  this.centerY.toString() +\r\n                  \" \" +\r\n                  this.radiusX.toString() +\r\n                  \" \" +\r\n                  this.radiusY.toString()\r\n                : \"B\" +\r\n                  this.startAngle.toFixed(a) +\r\n                  \" \" +\r\n                  this.sweepAngle.toFixed(a) +\r\n                  \" \" +\r\n                  this.centerX.toFixed(a) +\r\n                  \" \" +\r\n                  this.centerY.toFixed(a) +\r\n                  \" \" +\r\n                  this.radiusX.toFixed(a) +\r\n                  \" \" +\r\n                  this.radiusY.toFixed(a);\r\n            break;\r\n          case me:\r\n            a =\r\n              0 > a\r\n                ? \"A\" +\r\n                  this.radiusX.toString() +\r\n                  \" \" +\r\n                  this.radiusY.toString() +\r\n                  \" \" +\r\n                  this.xAxisRotation.toString() +\r\n                  \" \" +\r\n                  (this.isLargeArc ? 1 : 0) +\r\n                  \" \" +\r\n                  (this.isClockwiseArc ? 1 : 0) +\r\n                  \" \" +\r\n                  this.endX.toString() +\r\n                  \" \" +\r\n                  this.endY.toString()\r\n                : \"A\" +\r\n                  this.radiusX.toFixed(a) +\r\n                  \" \" +\r\n                  this.radiusY.toFixed(a) +\r\n                  \" \" +\r\n                  this.xAxisRotation.toFixed(a) +\r\n                  \" \" +\r\n                  (this.isLargeArc ? 1 : 0) +\r\n                  \" \" +\r\n                  (this.isClockwiseArc ? 1 : 0) +\r\n                  \" \" +\r\n                  this.endX.toFixed(a) +\r\n                  \" \" +\r\n                  this.endY.toFixed(a);\r\n            break;\r\n          default:\r\n            a = this.type.toString();\r\n        }\r\n        return a + (this.Dj ? \"z\" : \"\");\r\n      };\r\n      t.freeze = function () {\r\n        this.s = !0;\r\n        return this;\r\n      };\r\n      t.ka = function () {\r\n        this.s = !1;\r\n        return this;\r\n      };\r\n      t.close = function () {\r\n        this.Dj = !0;\r\n        return this;\r\n      };\r\n\r\n      function ne(a, b) {\r\n        if (null !== a.Se && !1 === b.va) return a.Se;\r\n        var c = a.radiusX,\r\n          d = a.radiusY;\r\n        void 0 === d && (d = c);\r\n        if (0 === c || 0 === d) return (a.Se = []), a.Se;\r\n        b = a.Ce;\r\n        var e = a.Hi,\r\n          f = K.Lx(\r\n            0,\r\n            0,\r\n            c < d ? c : d,\r\n            a.startAngle,\r\n            a.startAngle + a.sweepAngle,\r\n            !1\r\n          );\r\n        if (c !== d) {\r\n          var g = Kb.alloc();\r\n          g.reset();\r\n          c < d ? g.scale(1, d / c) : g.scale(c / d, 1);\r\n          ge(f, g);\r\n          Kb.free(g);\r\n        }\r\n        c = f.length;\r\n        for (d = 0; d < c; d++)\r\n          (g = f[d]),\r\n            (g[0] += b),\r\n            (g[1] += e),\r\n            (g[2] += b),\r\n            (g[3] += e),\r\n            (g[4] += b),\r\n            (g[5] += e),\r\n            (g[6] += b),\r\n            (g[7] += e);\r\n        a.Se = f;\r\n        return a.Se;\r\n      }\r\n\r\n      function oe(a, b, c, d) {\r\n        function e(a, b, c, d) {\r\n          return (\r\n            (a * d < b * c ? -1 : 1) *\r\n            Math.acos(\r\n              (a * c + b * d) /\r\n                (Math.sqrt(a * a + b * b) * Math.sqrt(c * c + d * d))\r\n            )\r\n          );\r\n        }\r\n        if (null !== a.Se && !1 === b.va) return a.Se;\r\n        b = a.Ii;\r\n        var f = a.sh;\r\n        0 === b && (b = 1e-4);\r\n        0 === f && (f = 1e-4);\r\n        var g = (Math.PI / 180) * a.Ce,\r\n          h = a.Dl,\r\n          k = a.Tk,\r\n          l = a.rc,\r\n          m = a.Gc,\r\n          n = Math.cos(g),\r\n          p = Math.sin(g),\r\n          r = (n * (c - l)) / 2 + (p * (d - m)) / 2;\r\n        g = (-p * (c - l)) / 2 + (n * (d - m)) / 2;\r\n        var q = (r * r) / (b * b) + (g * g) / (f * f);\r\n        1 < q && ((b *= Math.sqrt(q)), (f *= Math.sqrt(q)));\r\n        q =\r\n          (h === k ? -1 : 1) *\r\n          Math.sqrt(\r\n            (b * b * f * f - b * b * g * g - f * f * r * r) /\r\n              (b * b * g * g + f * f * r * r)\r\n          );\r\n        isNaN(q) && (q = 0);\r\n        h = (q * b * g) / f;\r\n        q = (q * -f * r) / b;\r\n        isNaN(h) && (h = 0);\r\n        isNaN(q) && (q = 0);\r\n        c = (c + l) / 2 + n * h - p * q;\r\n        d = (d + m) / 2 + p * h + n * q;\r\n        m = e(1, 0, (r - h) / b, (g - q) / f);\r\n        n = (r - h) / b;\r\n        l = (g - q) / f;\r\n        r = (-r - h) / b;\r\n        h = (-g - q) / f;\r\n        g = e(n, l, r, h);\r\n        r =\r\n          (n * r + l * h) /\r\n          (Math.sqrt(n * n + l * l) * Math.sqrt(r * r + h * h));\r\n        -1 >= r ? (g = Math.PI) : 1 <= r && (g = 0);\r\n        !k && 0 < g && (g -= 2 * Math.PI);\r\n        k && 0 > g && (g += 2 * Math.PI);\r\n        k = b > f ? 1 : b / f;\r\n        r = b > f ? f / b : 1;\r\n        b = K.Lx(0, 0, b > f ? b : f, m, m + g, !0);\r\n        f = Kb.alloc();\r\n        f.reset();\r\n        f.translate(c, d);\r\n        f.rotate(a.Ce, 0, 0);\r\n        f.scale(k, r);\r\n        ge(b, f);\r\n        Kb.free(f);\r\n        a.Se = b;\r\n        return a.Se;\r\n      }\r\n      ma.Object.defineProperties(te.prototype, {\r\n        isClosed: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Dj;\r\n          },\r\n          set: function (a) {\r\n            this.Dj !== a && ((this.Dj = a), (this.va = !0));\r\n          },\r\n        },\r\n        type: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.wa;\r\n          },\r\n          set: function (a) {\r\n            F && hb(a, te, te, \"type\");\r\n            this.s && va(this, a);\r\n            this.wa = a;\r\n            this.va = !0;\r\n          },\r\n        },\r\n        endX: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.rc;\r\n          },\r\n          set: function (a) {\r\n            F && C(a, te, \"endX\");\r\n            this.s && va(this, a);\r\n            this.rc = a;\r\n            this.va = !0;\r\n          },\r\n        },\r\n        endY: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Gc;\r\n          },\r\n          set: function (a) {\r\n            F && C(a, te, \"endY\");\r\n            this.s && va(this, a);\r\n            this.Gc = a;\r\n            this.va = !0;\r\n          },\r\n        },\r\n        point1X: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ce;\r\n          },\r\n          set: function (a) {\r\n            F && C(a, te, \"point1X\");\r\n            this.s && va(this, a);\r\n            this.Ce = a;\r\n            this.va = !0;\r\n          },\r\n        },\r\n        point1Y: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Hi;\r\n          },\r\n          set: function (a) {\r\n            F && C(a, te, \"point1Y\");\r\n            this.s && va(this, a);\r\n            this.Hi = a;\r\n            this.va = !0;\r\n          },\r\n        },\r\n        point2X: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ii;\r\n          },\r\n          set: function (a) {\r\n            F && C(a, te, \"point2X\");\r\n            this.s && va(this, a);\r\n            this.Ii = a;\r\n            this.va = !0;\r\n          },\r\n        },\r\n        point2Y: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.sh;\r\n          },\r\n          set: function (a) {\r\n            F && C(a, te, \"point2Y\");\r\n            this.s && va(this, a);\r\n            this.sh = a;\r\n            this.va = !0;\r\n          },\r\n        },\r\n        centerX: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ce;\r\n          },\r\n          set: function (a) {\r\n            F && C(a, te, \"centerX\");\r\n            this.s && va(this, a);\r\n            this.Ce = a;\r\n            this.va = !0;\r\n          },\r\n        },\r\n        centerY: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Hi;\r\n          },\r\n          set: function (a) {\r\n            F && C(a, te, \"centerY\");\r\n            this.s && va(this, a);\r\n            this.Hi = a;\r\n            this.va = !0;\r\n          },\r\n        },\r\n        radiusX: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ii;\r\n          },\r\n          set: function (a) {\r\n            F && C(a, te, \"radiusX\");\r\n            0 > a && ya(a, \">= zero\", te, \"radiusX\");\r\n            this.s && va(this, a);\r\n            this.Ii = a;\r\n            this.va = !0;\r\n          },\r\n        },\r\n        radiusY: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.sh;\r\n          },\r\n          set: function (a) {\r\n            F && C(a, te, \"radiusY\");\r\n            0 > a && ya(a, \">= zero\", te, \"radiusY\");\r\n            this.s && va(this, a);\r\n            this.sh = a;\r\n            this.va = !0;\r\n          },\r\n        },\r\n        startAngle: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.rc;\r\n          },\r\n          set: function (a) {\r\n            this.rc !== a &&\r\n              (this.s && va(this, a),\r\n              F && C(a, te, \"startAngle\"),\r\n              (a %= 360),\r\n              0 > a && (a += 360),\r\n              (this.rc = a),\r\n              (this.va = !0));\r\n          },\r\n        },\r\n        sweepAngle: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Gc;\r\n          },\r\n          set: function (a) {\r\n            F && C(a, te, \"sweepAngle\");\r\n            this.s && va(this, a);\r\n            360 < a && (a = 360);\r\n            -360 > a && (a = -360);\r\n            this.Gc = a;\r\n            this.va = !0;\r\n          },\r\n        },\r\n        isClockwiseArc: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Tk;\r\n          },\r\n          set: function (a) {\r\n            this.s && va(this, a);\r\n            this.Tk = a;\r\n            this.va = !0;\r\n          },\r\n        },\r\n        isLargeArc: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Dl;\r\n          },\r\n          set: function (a) {\r\n            this.s && va(this, a);\r\n            this.Dl = a;\r\n            this.va = !0;\r\n          },\r\n        },\r\n        xAxisRotation: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ce;\r\n          },\r\n          set: function (a) {\r\n            F && C(a, te, \"xAxisRotation\");\r\n            a %= 360;\r\n            0 > a && (a += 360);\r\n            this.s && va(this, a);\r\n            this.Ce = a;\r\n            this.va = !0;\r\n          },\r\n        },\r\n      });\r\n      te.prototype.equalsApprox = te.prototype.Sa;\r\n      var ie = new E(te, \"Move\", 0),\r\n        Ld = new E(te, \"Line\", 1),\r\n        je = new E(te, \"Bezier\", 2),\r\n        ke = new E(te, \"QuadraticBezier\", 3),\r\n        le = new E(te, \"Arc\", 4),\r\n        me = new E(te, \"SvgArc\", 4);\r\n      te.className = \"PathSegment\";\r\n      te.Move = ie;\r\n      te.Line = Ld;\r\n      te.Bezier = je;\r\n      te.QuadraticBezier = ke;\r\n      te.Arc = le;\r\n      te.SvgArc = me;\r\n\r\n      function ve() {\r\n        this.A = null;\r\n        this.av = new J(0, 0).freeze();\r\n        this.ku = new J(0, 0).freeze();\r\n        this.kr = this.ps = 0;\r\n        this.lr = 1;\r\n        this.ds = \"\";\r\n        this.Xs = this.Ar = !1;\r\n        this.zr = this.nr = 0;\r\n        this.Wg = this.Or = this.Xr = !1;\r\n        this.Gr = null;\r\n        this.Us = 0;\r\n        this.hd = this.Ts = null;\r\n      }\r\n      ve.prototype.copy = function () {\r\n        var a = new ve();\r\n        return this.clone(a);\r\n      };\r\n      ve.prototype.clone = function (a) {\r\n        a.A = this.A;\r\n        a.av.assign(this.viewPoint);\r\n        a.ku.assign(this.documentPoint);\r\n        a.ps = this.ps;\r\n        a.kr = this.kr;\r\n        a.lr = this.lr;\r\n        a.ds = this.ds;\r\n        a.Ar = this.Ar;\r\n        a.Xs = this.Xs;\r\n        a.nr = this.nr;\r\n        a.zr = this.zr;\r\n        a.Xr = this.Xr;\r\n        a.Or = this.Or;\r\n        a.Wg = this.Wg;\r\n        a.Gr = this.Gr;\r\n        a.Us = this.Us;\r\n        a.Ts = this.Ts;\r\n        a.hd = this.hd;\r\n        return a;\r\n      };\r\n      ve.prototype.toString = function () {\r\n        var a = \"^\";\r\n        0 !== this.modifiers && (a += \"M:\" + this.modifiers);\r\n        0 !== this.button && (a += \"B:\" + this.button);\r\n        \"\" !== this.key && (a += \"K:\" + this.key);\r\n        0 !== this.clickCount && (a += \"C:\" + this.clickCount);\r\n        0 !== this.delta && (a += \"D:\" + this.delta);\r\n        this.handled && (a += \"h\");\r\n        this.bubbles && (a += \"b\");\r\n        null !== this.documentPoint &&\r\n          (a += \"@\" + this.documentPoint.toString());\r\n        return a;\r\n      };\r\n      ve.prototype.uq = function (a, b) {\r\n        var c = this.diagram;\r\n        if (null === c) return b;\r\n        we(c, this.event, a, b);\r\n        return b;\r\n      };\r\n      ve.prototype.Qz = function (a, b) {\r\n        var c = this.diagram;\r\n        if (null === c) return b;\r\n        we(c, this.event, a, b);\r\n        b.assign(c.Rt(b));\r\n        return b;\r\n      };\r\n      ma.Object.defineProperties(ve.prototype, {\r\n        diagram: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.A;\r\n          },\r\n          set: function (a) {\r\n            this.A = a;\r\n          },\r\n        },\r\n        viewPoint: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.av;\r\n          },\r\n          set: function (a) {\r\n            w(a, J, ve, \"viewPoint\");\r\n            this.av.assign(a);\r\n          },\r\n        },\r\n        documentPoint: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ku;\r\n          },\r\n          set: function (a) {\r\n            w(a, J, ve, \"documentPoint\");\r\n            this.ku.assign(a);\r\n          },\r\n        },\r\n        modifiers: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ps;\r\n          },\r\n          set: function (a) {\r\n            this.ps = a;\r\n          },\r\n        },\r\n        button: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.kr;\r\n          },\r\n          set: function (a) {\r\n            this.kr = a;\r\n            if (null === this.event)\r\n              switch (a) {\r\n                case 0:\r\n                  this.buttons = 1;\r\n                  break;\r\n                case 1:\r\n                  this.buttons = 4;\r\n                  break;\r\n                case 2:\r\n                  this.buttons = 2;\r\n              }\r\n          },\r\n        },\r\n        buttons: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.lr;\r\n          },\r\n          set: function (a) {\r\n            this.lr = a;\r\n          },\r\n        },\r\n        key: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ds;\r\n          },\r\n          set: function (a) {\r\n            this.ds = a;\r\n          },\r\n        },\r\n        down: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ar;\r\n          },\r\n          set: function (a) {\r\n            this.Ar = a;\r\n          },\r\n        },\r\n        up: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.Xs;\r\n          },\r\n          set: function (a) {\r\n            this.Xs = a;\r\n          },\r\n        },\r\n        clickCount: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.nr;\r\n          },\r\n          set: function (a) {\r\n            this.nr = a;\r\n          },\r\n        },\r\n        delta: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.zr;\r\n          },\r\n          set: function (a) {\r\n            this.zr = a;\r\n          },\r\n        },\r\n        isMultiTouch: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Xr;\r\n          },\r\n          set: function (a) {\r\n            this.Xr = a;\r\n          },\r\n        },\r\n        handled: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Or;\r\n          },\r\n          set: function (a) {\r\n            this.Or = a;\r\n          },\r\n        },\r\n        bubbles: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Wg;\r\n          },\r\n          set: function (a) {\r\n            this.Wg = a;\r\n          },\r\n        },\r\n        event: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Gr;\r\n          },\r\n          set: function (a) {\r\n            this.Gr = a;\r\n          },\r\n        },\r\n        isTouchEvent: {\r\n          configurable: !0,\r\n          get: function () {\r\n            var a = pa.TouchEvent,\r\n              b = this.event;\r\n            return a && b instanceof a\r\n              ? !0\r\n              : (a = pa.PointerEvent) &&\r\n                  b instanceof a &&\r\n                  (\"touch\" === b.pointerType || \"pen\" === b.pointerType);\r\n          },\r\n        },\r\n        timestamp: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Us;\r\n          },\r\n          set: function (a) {\r\n            this.Us = a;\r\n          },\r\n        },\r\n        targetDiagram: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ts;\r\n          },\r\n          set: function (a) {\r\n            this.Ts = a;\r\n          },\r\n        },\r\n        targetObject: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.hd;\r\n          },\r\n          set: function (a) {\r\n            this.hd = a;\r\n          },\r\n        },\r\n        control: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.modifiers & 1);\r\n          },\r\n          set: function (a) {\r\n            this.modifiers = a ? this.modifiers | 1 : this.modifiers & -2;\r\n          },\r\n        },\r\n        shift: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.modifiers & 4);\r\n          },\r\n          set: function (a) {\r\n            this.modifiers = a ? this.modifiers | 4 : this.modifiers & -5;\r\n          },\r\n        },\r\n        alt: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.modifiers & 2);\r\n          },\r\n          set: function (a) {\r\n            this.modifiers = a ? this.modifiers | 2 : this.modifiers & -3;\r\n          },\r\n        },\r\n        meta: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.modifiers & 8);\r\n          },\r\n          set: function (a) {\r\n            this.modifiers = a ? this.modifiers | 8 : this.modifiers & -9;\r\n          },\r\n        },\r\n        left: {\r\n          configurable: !0,\r\n          get: function () {\r\n            var a = this.event;\r\n            return null === a ||\r\n              (\"mousedown\" !== a.type &&\r\n                \"mouseup\" !== a.type &&\r\n                \"pointerdown\" !== a.type &&\r\n                \"pointerup\" !== a.type)\r\n              ? 0 !== (this.buttons & 1)\r\n              : 0 === this.button;\r\n          },\r\n          set: function (a) {\r\n            this.buttons = a ? this.buttons | 1 : this.buttons & -2;\r\n          },\r\n        },\r\n        right: {\r\n          configurable: !0,\r\n          get: function () {\r\n            var a = this.event;\r\n            return null === a ||\r\n              (\"mousedown\" !== a.type &&\r\n                \"mouseup\" !== a.type &&\r\n                \"pointerdown\" !== a.type &&\r\n                \"pointerup\" !== a.type)\r\n              ? 0 !== (this.buttons & 2)\r\n              : 2 === this.button;\r\n          },\r\n          set: function (a) {\r\n            this.buttons = a ? this.buttons | 2 : this.buttons & -3;\r\n          },\r\n        },\r\n        middle: {\r\n          configurable: !0,\r\n          get: function () {\r\n            var a = this.event;\r\n            return null === a ||\r\n              (\"mousedown\" !== a.type &&\r\n                \"mouseup\" !== a.type &&\r\n                \"pointerdown\" !== a.type &&\r\n                \"pointerup\" !== a.type)\r\n              ? 0 !== (this.buttons & 4)\r\n              : 1 === this.button;\r\n          },\r\n          set: function (a) {\r\n            this.buttons = a ? this.buttons | 4 : this.buttons & -5;\r\n          },\r\n        },\r\n      });\r\n      ve.prototype.getMultiTouchDocumentPoint = ve.prototype.Qz;\r\n      ve.prototype.getMultiTouchViewPoint = ve.prototype.uq;\r\n      ve.className = \"InputEvent\";\r\n\r\n      function xe() {\r\n        this.A = null;\r\n        this.Wa = \"\";\r\n        this.ys = this.Rs = null;\r\n      }\r\n      xe.prototype.copy = function () {\r\n        var a = new xe();\r\n        a.A = this.A;\r\n        a.Wa = this.Wa;\r\n        a.Rs = this.Rs;\r\n        a.ys = this.ys;\r\n        return a;\r\n      };\r\n      xe.prototype.toString = function () {\r\n        var a = \"*\" + this.name;\r\n        null !== this.subject && (a += \":\" + this.subject.toString());\r\n        null !== this.parameter && (a += \"(\" + this.parameter.toString() + \")\");\r\n        return a;\r\n      };\r\n      ma.Object.defineProperties(xe.prototype, {\r\n        diagram: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.A;\r\n          },\r\n          set: function (a) {\r\n            this.A = a;\r\n          },\r\n        },\r\n        name: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Wa;\r\n          },\r\n          set: function (a) {\r\n            this.Wa = a;\r\n          },\r\n        },\r\n        subject: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Rs;\r\n          },\r\n          set: function (a) {\r\n            this.Rs = a;\r\n          },\r\n        },\r\n        parameter: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ys;\r\n          },\r\n          set: function (a) {\r\n            this.ys = a;\r\n          },\r\n        },\r\n      });\r\n      xe.className = \"DiagramEvent\";\r\n\r\n      function Ce() {\r\n        this.on = De;\r\n        this.kf = this.os = \"\";\r\n        this.So =\r\n          this.To =\r\n          this.Yo =\r\n          this.Zo =\r\n          this.Xo =\r\n          this.A =\r\n          this.gc =\r\n            null;\r\n      }\r\n      Ce.prototype.clear = function () {\r\n        this.So =\r\n          this.To =\r\n          this.Yo =\r\n          this.Zo =\r\n          this.Xo =\r\n          this.A =\r\n          this.gc =\r\n            null;\r\n      };\r\n      Ce.prototype.copy = function () {\r\n        var a = new Ce();\r\n        a.on = this.on;\r\n        a.os = this.os;\r\n        a.kf = this.kf;\r\n        a.gc = this.gc;\r\n        a.A = this.A;\r\n        a.Xo = this.Xo;\r\n        var b = this.Zo;\r\n        a.Zo = Fa(b) && \"function\" === typeof b.J ? b.J() : b;\r\n        b = this.Yo;\r\n        a.Yo = Fa(b) && \"function\" === typeof b.J ? b.J() : b;\r\n        b = this.To;\r\n        a.To = Fa(b) && \"function\" === typeof b.J ? b.J() : b;\r\n        b = this.So;\r\n        a.So = Fa(b) && \"function\" === typeof b.J ? b.J() : b;\r\n        return a;\r\n      };\r\n      Ce.prototype.jb = function (a) {\r\n        a.classType === Ce ? (this.change = a) : Ba(this, a);\r\n      };\r\n      Ce.prototype.toString = function () {\r\n        var a = \"\";\r\n        a =\r\n          this.change === Ee\r\n            ? a + \"* \"\r\n            : this.change === De\r\n            ? a + (null !== this.model ? \"!m\" : \"!d\")\r\n            : a + ((null !== this.model ? \"!m\" : \"!d\") + this.change);\r\n        this.propertyName &&\r\n          \"string\" === typeof this.propertyName &&\r\n          (a += \" \" + this.propertyName);\r\n        this.modelChange &&\r\n          this.modelChange !== this.propertyName &&\r\n          (a += \" \" + this.modelChange);\r\n        a += \": \";\r\n        this.change === Ee\r\n          ? null !== this.oldValue && (a += \" \" + this.oldValue)\r\n          : (null !== this.object && (a += Pa(this.object)),\r\n            null !== this.oldValue && (a += \"  old: \" + Pa(this.oldValue)),\r\n            null !== this.oldParam && (a += \" \" + this.oldParam),\r\n            null !== this.newValue && (a += \"  new: \" + Pa(this.newValue)),\r\n            null !== this.newParam && (a += \" \" + this.newParam));\r\n        return a;\r\n      };\r\n      Ce.prototype.K = function (a) {\r\n        return a ? this.oldValue : this.newValue;\r\n      };\r\n      Ce.prototype.Sz = function (a) {\r\n        return a ? this.oldParam : this.newParam;\r\n      };\r\n      Ce.prototype.canUndo = function () {\r\n        return null !== this.model || null !== this.diagram ? !0 : !1;\r\n      };\r\n      Ce.prototype.undo = function () {\r\n        this.canUndo() &&\r\n          (null !== this.model\r\n            ? this.model.ek(this, !0)\r\n            : null !== this.diagram && this.diagram.ek(this, !0));\r\n      };\r\n      Ce.prototype.canRedo = function () {\r\n        return null !== this.model || null !== this.diagram ? !0 : !1;\r\n      };\r\n      Ce.prototype.redo = function () {\r\n        this.canRedo() &&\r\n          (null !== this.model\r\n            ? this.model.ek(this, !1)\r\n            : null !== this.diagram && this.diagram.ek(this, !1));\r\n      };\r\n      ma.Object.defineProperties(Ce.prototype, {\r\n        model: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.gc;\r\n          },\r\n          set: function (a) {\r\n            this.gc = a;\r\n          },\r\n        },\r\n        diagram: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.A;\r\n          },\r\n          set: function (a) {\r\n            this.A = a;\r\n          },\r\n        },\r\n        change: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.on;\r\n          },\r\n          set: function (a) {\r\n            F && hb(a, Ce, Ce, \"change\");\r\n            this.on = a;\r\n          },\r\n        },\r\n        modelChange: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.os;\r\n          },\r\n          set: function (a) {\r\n            F && A(a, \"string\", Ce, \"modelChange\");\r\n            this.os = a;\r\n          },\r\n        },\r\n        propertyName: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.kf;\r\n          },\r\n          set: function (a) {\r\n            F && \"string\" !== typeof a && A(a, \"function\", Ce, \"propertyName\");\r\n            this.kf = a;\r\n          },\r\n        },\r\n        isTransactionFinished: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return (\r\n              this.on === Ee &&\r\n              (\"CommittedTransaction\" === this.kf ||\r\n                \"FinishedUndo\" === this.kf ||\r\n                \"FinishedRedo\" === this.kf)\r\n            );\r\n          },\r\n        },\r\n        object: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Xo;\r\n          },\r\n          set: function (a) {\r\n            this.Xo = a;\r\n          },\r\n        },\r\n        oldValue: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Zo;\r\n          },\r\n          set: function (a) {\r\n            this.Zo = a;\r\n          },\r\n        },\r\n        oldParam: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Yo;\r\n          },\r\n          set: function (a) {\r\n            this.Yo = a;\r\n          },\r\n        },\r\n        newValue: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.To;\r\n          },\r\n          set: function (a) {\r\n            this.To = a;\r\n          },\r\n        },\r\n        newParam: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.So;\r\n          },\r\n          set: function (a) {\r\n            this.So = a;\r\n          },\r\n        },\r\n      });\r\n      Ce.prototype.redo = Ce.prototype.redo;\r\n      Ce.prototype.canRedo = Ce.prototype.canRedo;\r\n      Ce.prototype.undo = Ce.prototype.undo;\r\n      Ce.prototype.canUndo = Ce.prototype.canUndo;\r\n      Ce.prototype.getParam = Ce.prototype.Sz;\r\n      Ce.prototype.getValue = Ce.prototype.K;\r\n      Ce.prototype.clear = Ce.prototype.clear;\r\n      var Ee = new E(Ce, \"Transaction\", -1),\r\n        De = new E(Ce, \"Property\", 0),\r\n        Fe = new E(Ce, \"Insert\", 1),\r\n        Ge = new E(Ce, \"Remove\", 2);\r\n      Ce.className = \"ChangedEvent\";\r\n      Ce.Transaction = Ee;\r\n      Ce.Property = De;\r\n      Ce.Insert = Fe;\r\n      Ce.Remove = Ge;\r\n\r\n      function He() {\r\n        this.w = new G().freeze();\r\n        this.Wa = \"\";\r\n        this.l = !1;\r\n      }\r\n      He.prototype.toString = function (a) {\r\n        var b =\r\n          \"Transaction: \" +\r\n          this.name +\r\n          \" \" +\r\n          this.changes.count.toString() +\r\n          (this.isComplete ? \"\" : \", incomplete\");\r\n        if (void 0 !== a && 0 < a) {\r\n          a = this.changes.count;\r\n          for (var c = 0; c < a; c++) {\r\n            var d = this.changes.O(c);\r\n            null !== d && (b += \"\\n  \" + d.toString());\r\n          }\r\n        }\r\n        return b;\r\n      };\r\n      He.prototype.clear = function () {\r\n        var a = this.changes;\r\n        a.ka();\r\n        for (var b = a.count - 1; 0 <= b; b--) {\r\n          var c = a.O(b);\r\n          null !== c && c.clear();\r\n        }\r\n        a.clear();\r\n        a.freeze();\r\n      };\r\n      He.prototype.canUndo = function () {\r\n        return this.isComplete;\r\n      };\r\n      He.prototype.undo = function () {\r\n        if (this.canUndo())\r\n          for (var a = this.changes.count - 1; 0 <= a; a--) {\r\n            var b = this.changes.O(a);\r\n            null !== b && b.undo();\r\n          }\r\n      };\r\n      He.prototype.canRedo = function () {\r\n        return this.isComplete;\r\n      };\r\n      He.prototype.redo = function () {\r\n        if (this.canRedo())\r\n          for (var a = this.changes.count, b = 0; b < a; b++) {\r\n            var c = this.changes.O(b);\r\n            null !== c && c.redo();\r\n          }\r\n      };\r\n      ma.Object.defineProperties(He.prototype, {\r\n        changes: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.w;\r\n          },\r\n        },\r\n        name: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Wa;\r\n          },\r\n          set: function (a) {\r\n            this.Wa = a;\r\n          },\r\n        },\r\n        isComplete: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.l;\r\n          },\r\n          set: function (a) {\r\n            this.l = a;\r\n          },\r\n        },\r\n      });\r\n      He.prototype.redo = He.prototype.redo;\r\n      He.prototype.canRedo = He.prototype.canRedo;\r\n      He.prototype.undo = He.prototype.undo;\r\n      He.prototype.canUndo = He.prototype.canUndo;\r\n      He.prototype.clear = He.prototype.clear;\r\n      He.className = \"Transaction\";\r\n\r\n      function Ie() {\r\n        this.Cu = new H();\r\n        this.Sc = !1;\r\n        this.L = new G().freeze();\r\n        this.pe = -1;\r\n        this.w = 999;\r\n        this.qe = !1;\r\n        this.xr = null;\r\n        this.Si = 0;\r\n        this.l = !1;\r\n        F && (this.l = !0);\r\n        this.ye = new G().freeze();\r\n        this.Ml = new G();\r\n        this.ru = !0;\r\n        this.wu = !1;\r\n      }\r\n      Ie.prototype.toString = function (a) {\r\n        var b =\r\n          \"UndoManager \" +\r\n          this.historyIndex +\r\n          \"<\" +\r\n          this.history.count +\r\n          \"<=\" +\r\n          this.maxHistoryLength;\r\n        b += \"[\";\r\n        for (var c = this.nestedTransactionNames.count, d = 0; d < c; d++)\r\n          0 < d && (b += \" \"), (b += this.nestedTransactionNames.O(d));\r\n        b += \"]\";\r\n        if (void 0 !== a && 0 < a)\r\n          for (c = this.history.count, d = 0; d < c; d++)\r\n            b += \"\\n \" + this.history.O(d).toString(a - 1);\r\n        return b;\r\n      };\r\n      Ie.prototype.clear = function () {\r\n        var a = this.history;\r\n        a.ka();\r\n        for (var b = a.count - 1; 0 <= b; b--) {\r\n          var c = a.O(b);\r\n          null !== c && c.clear();\r\n        }\r\n        a.clear();\r\n        this.pe = -1;\r\n        a.freeze();\r\n        this.qe = !1;\r\n        this.xr = null;\r\n        this.Si = 0;\r\n        this.ye.ka();\r\n        this.ye.clear();\r\n        this.ye.freeze();\r\n        this.Ml.clear();\r\n      };\r\n      Ie.prototype.copyProperties = function (a) {\r\n        this.isEnabled = a.isEnabled;\r\n        this.maxHistoryLength = a.maxHistoryLength;\r\n        this.checksTransactionLevel = a.checksTransactionLevel;\r\n      };\r\n      t = Ie.prototype;\r\n      t.Bx = function (a) {\r\n        this.Cu.add(a);\r\n      };\r\n      t.ly = function (a) {\r\n        this.Cu.remove(a);\r\n      };\r\n      t.Aa = function (a) {\r\n        void 0 === a && (a = \"\");\r\n        null === a && (a = \"\");\r\n        if (this.isUndoingRedoing) return !1;\r\n        !0 === this.ru &&\r\n          ((this.ru = !1),\r\n          this.Si++,\r\n          this.Db(\"StartingFirstTransaction\", a, this.currentTransaction),\r\n          0 < this.Si && this.Si--);\r\n        this.isEnabled &&\r\n          (this.ye.ka(),\r\n          this.ye.add(a),\r\n          this.ye.freeze(),\r\n          null === this.currentTransaction\r\n            ? this.Ml.add(0)\r\n            : this.Ml.add(this.currentTransaction.changes.count));\r\n        this.Si++;\r\n        var b = 1 === this.transactionLevel;\r\n        b && this.Db(\"StartedTransaction\", a, this.currentTransaction);\r\n        return b;\r\n      };\r\n      t.Za = function (a) {\r\n        void 0 === a && (a = \"\");\r\n        return Je(this, !0, a);\r\n      };\r\n      t.Lf = function () {\r\n        return Je(this, !1, \"\");\r\n      };\r\n\r\n      function Je(a, b, c) {\r\n        if (a.isUndoingRedoing) return !1;\r\n        a.checksTransactionLevel &&\r\n          1 > a.transactionLevel &&\r\n          Ca(\"Ending transaction without having started a transaction: \" + c);\r\n        var d = 1 === a.transactionLevel;\r\n        d && b && a.Db(\"CommittingTransaction\", c, a.currentTransaction);\r\n        var e = 0;\r\n        if (0 < a.transactionLevel && (a.Si--, a.isEnabled)) {\r\n          var f = a.ye.count;\r\n          0 < f &&\r\n            (\"\" === c && (c = a.ye.O(0)),\r\n            a.ye.ka(),\r\n            a.ye.pb(f - 1),\r\n            a.ye.freeze());\r\n          f = a.Ml.count;\r\n          0 < f && ((e = a.Ml.O(f - 1)), a.Ml.pb(f - 1));\r\n        }\r\n        f = a.currentTransaction;\r\n        if (d) {\r\n          if (b) {\r\n            a.wu = !1;\r\n            if (a.isEnabled && null !== f) {\r\n              b = f;\r\n              b.isComplete = !0;\r\n              b.name = c;\r\n              d = a.history;\r\n              d.ka();\r\n              for (e = d.count - 1; e > a.historyIndex; e--)\r\n                (f = d.O(e)), null !== f && f.clear(), d.pb(e), (a.wu = !0);\r\n              e = a.maxHistoryLength;\r\n              0 <= e &&\r\n                (0 === e\r\n                  ? d.clear()\r\n                  : d.count >= e &&\r\n                    ((f = d.O(0)), null !== f && f.clear(), d.pb(0), a.pe--));\r\n              0 !== e && (d.add(b), a.pe++);\r\n              d.freeze();\r\n              f = b;\r\n            }\r\n            a.Db(\"CommittedTransaction\", c, f);\r\n          } else {\r\n            a.qe = !0;\r\n            try {\r\n              a.isEnabled && null !== f && ((f.isComplete = !0), f.undo());\r\n            } finally {\r\n              a.Db(\"RolledBackTransaction\", c, f), (a.qe = !1);\r\n            }\r\n            null !== f && f.clear();\r\n          }\r\n          a.xr = null;\r\n          return !0;\r\n        }\r\n        if (a.isEnabled && !b && null !== f) {\r\n          a = e;\r\n          c = f.changes;\r\n          for (b = c.count - 1; b >= a; b--)\r\n            (d = c.O(b)), null !== d && d.undo(), c.ka(), c.pb(b);\r\n          c.freeze();\r\n        }\r\n        return !1;\r\n      }\r\n      Ie.prototype.canUndo = function () {\r\n        if (!this.isEnabled || 0 < this.transactionLevel) return !1;\r\n        var a = this.transactionToUndo;\r\n        return null !== a && a.canUndo() ? !0 : !1;\r\n      };\r\n      Ie.prototype.undo = function () {\r\n        if (this.canUndo()) {\r\n          var a = this.transactionToUndo;\r\n          try {\r\n            (this.qe = !0),\r\n              this.Db(\"StartingUndo\", \"Undo\", a),\r\n              this.pe--,\r\n              a.undo();\r\n          } catch (b) {\r\n            Ca(\"undo error: \" + b.toString());\r\n          } finally {\r\n            this.Db(\"FinishedUndo\", \"Undo\", a), (this.qe = !1);\r\n          }\r\n        }\r\n      };\r\n      Ie.prototype.canRedo = function () {\r\n        if (!this.isEnabled || 0 < this.transactionLevel) return !1;\r\n        var a = this.transactionToRedo;\r\n        return null !== a && a.canRedo() ? !0 : !1;\r\n      };\r\n      Ie.prototype.redo = function () {\r\n        if (this.canRedo()) {\r\n          var a = this.transactionToRedo;\r\n          try {\r\n            (this.qe = !0),\r\n              this.Db(\"StartingRedo\", \"Redo\", a),\r\n              this.pe++,\r\n              a.redo();\r\n          } catch (b) {\r\n            Ca(\"redo error: \" + b.toString());\r\n          } finally {\r\n            this.Db(\"FinishedRedo\", \"Redo\", a), (this.qe = !1);\r\n          }\r\n        }\r\n      };\r\n      Ie.prototype.Db = function (a, b, c) {\r\n        void 0 === c && (c = null);\r\n        var d = new Ce();\r\n        d.change = Ee;\r\n        d.propertyName = a;\r\n        d.object = c;\r\n        d.oldValue = b;\r\n        for (a = this.models; a.next(); ) (b = a.value), (d.model = b), b.ct(d);\r\n      };\r\n      Ie.prototype.Hv = function (a) {\r\n        if (this.isEnabled && !this.isUndoingRedoing && !this.skipsEvent(a)) {\r\n          var b = this.currentTransaction;\r\n          null === b && (this.xr = b = new He());\r\n          var c = a.copy();\r\n          b = b.changes;\r\n          b.ka();\r\n          b.add(c);\r\n          b.freeze();\r\n          this.checksTransactionLevel &&\r\n            0 >= this.transactionLevel &&\r\n            !this.ru &&\r\n            ((a = a.diagram),\r\n            (null !== a && !1 === a.tk) ||\r\n              Ca(\"Change not within a transaction: \" + c.toString()));\r\n        }\r\n      };\r\n      Ie.prototype.skipsEvent = function (a) {\r\n        if (null === a || 0 > a.change.value) return !0;\r\n        a = a.object;\r\n        if (void 0 !== a.layer) {\r\n          if (((a = a.layer), null !== a && a.isTemporary)) return !0;\r\n        } else if (a.isTemporary) return !0;\r\n        return !1;\r\n      };\r\n      ma.Object.defineProperties(Ie.prototype, {\r\n        models: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Cu.iterator;\r\n          },\r\n        },\r\n        isEnabled: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Sc;\r\n          },\r\n          set: function (a) {\r\n            this.Sc = a;\r\n          },\r\n        },\r\n        transactionToUndo: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 <= this.historyIndex &&\r\n              this.historyIndex <= this.history.count - 1\r\n              ? this.history.O(this.historyIndex)\r\n              : null;\r\n          },\r\n        },\r\n        transactionToRedo: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.historyIndex < this.history.count - 1\r\n              ? this.history.O(this.historyIndex + 1)\r\n              : null;\r\n          },\r\n        },\r\n        isUndoingRedoing: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.qe;\r\n          },\r\n        },\r\n        history: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.L;\r\n          },\r\n        },\r\n        maxHistoryLength: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.w;\r\n          },\r\n          set: function (a) {\r\n            this.w = a;\r\n          },\r\n        },\r\n        historyIndex: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.pe;\r\n          },\r\n        },\r\n        currentTransaction: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.xr;\r\n          },\r\n        },\r\n        transactionLevel: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Si;\r\n          },\r\n        },\r\n        isInTransaction: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 < this.Si;\r\n          },\r\n        },\r\n        checksTransactionLevel: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.l;\r\n          },\r\n          set: function (a) {\r\n            this.l = a;\r\n          },\r\n        },\r\n        nestedTransactionNames: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ye;\r\n          },\r\n        },\r\n      });\r\n      Ie.prototype.handleChanged = Ie.prototype.Hv;\r\n      Ie.prototype.redo = Ie.prototype.redo;\r\n      Ie.prototype.undo = Ie.prototype.undo;\r\n      Ie.prototype.canUndo = Ie.prototype.canUndo;\r\n      Ie.prototype.rollbackTransaction = Ie.prototype.Lf;\r\n      Ie.prototype.commitTransaction = Ie.prototype.Za;\r\n      Ie.prototype.startTransaction = Ie.prototype.Aa;\r\n      Ie.prototype.removeModel = Ie.prototype.ly;\r\n      Ie.prototype.addModel = Ie.prototype.Bx;\r\n      Ie.prototype.clear = Ie.prototype.clear;\r\n      Ie.className = \"UndoManager\";\r\n\r\n      function Ke() {\r\n        0 < arguments.length && za(Ke);\r\n        fb(this);\r\n        this.A = Le;\r\n        this.Wa = \"\";\r\n        this.Sc = !0;\r\n        this.qd = !1;\r\n        this.Fw = null;\r\n        this.My = new ve();\r\n        this.$s = -1;\r\n      }\r\n      Ke.prototype.toString = function () {\r\n        return \"\" !== this.name ? this.name + \" Tool\" : Oa(this.constructor);\r\n      };\r\n      Ke.prototype.updateAdornments = function () {};\r\n      Ke.prototype.canStart = function () {\r\n        return this.isEnabled;\r\n      };\r\n      Ke.prototype.doStart = function () {};\r\n      Ke.prototype.doActivate = function () {\r\n        this.isActive = !0;\r\n      };\r\n      Ke.prototype.doDeactivate = function () {\r\n        this.isActive = !1;\r\n      };\r\n      Ke.prototype.doStop = function () {};\r\n      Ke.prototype.doCancel = function () {\r\n        this.transactionResult = null;\r\n        this.stopTool();\r\n      };\r\n      Ke.prototype.stopTool = function () {\r\n        var a = this.diagram;\r\n        a.currentTool === this &&\r\n          ((a.currentTool = null), (a.currentCursor = \"\"));\r\n      };\r\n      Ke.prototype.doMouseDown = function () {\r\n        !this.isActive && this.canStart() && this.doActivate();\r\n      };\r\n      Ke.prototype.doMouseMove = function () {};\r\n      Ke.prototype.doMouseUp = function () {\r\n        this.stopTool();\r\n      };\r\n      Ke.prototype.doMouseWheel = function () {};\r\n      Ke.prototype.canStartMultiTouch = function () {\r\n        return !0;\r\n      };\r\n      Ke.prototype.standardPinchZoomStart = function () {\r\n        var a = this.diagram,\r\n          b = a.lastInput,\r\n          c = b.uq(0, J.allocAt(NaN, NaN)),\r\n          d = b.uq(1, J.allocAt(NaN, NaN));\r\n        if (c.o() && d.o() && (this.doCancel(), a.vm(\"hasGestureZoom\"))) {\r\n          a.$o = a.scale;\r\n          var e = d.x - c.x,\r\n            f = d.y - c.y;\r\n          a.ox = Math.sqrt(e * e + f * f);\r\n          b.bubbles = !1;\r\n        }\r\n        J.free(c);\r\n        J.free(d);\r\n      };\r\n      Ke.prototype.standardPinchZoomMove = function () {\r\n        var a = this.diagram,\r\n          b = a.lastInput,\r\n          c = b.uq(0, J.allocAt(NaN, NaN)),\r\n          d = b.uq(1, J.allocAt(NaN, NaN));\r\n        if (c.o() && d.o() && (this.doCancel(), a.vm(\"hasGestureZoom\"))) {\r\n          var e = d.x - c.x,\r\n            f = d.y - c.y;\r\n          f = Math.sqrt(e * e + f * f) / a.ox;\r\n          e = new J(\r\n            (Math.min(d.x, c.x) + Math.max(d.x, c.x)) / 2,\r\n            (Math.min(d.y, c.y) + Math.max(d.y, c.y)) / 2\r\n          );\r\n          f *= a.$o;\r\n          var g = a.commandHandler;\r\n          if (f !== a.scale && g.canResetZoom(f)) {\r\n            var h = a.zoomPoint;\r\n            a.zoomPoint = e;\r\n            g.resetZoom(f);\r\n            a.zoomPoint = h;\r\n          }\r\n          b.bubbles = !1;\r\n        }\r\n        J.free(c);\r\n        J.free(d);\r\n      };\r\n      Ke.prototype.doKeyDown = function () {\r\n        \"Esc\" === this.diagram.lastInput.key && this.doCancel();\r\n      };\r\n      Ke.prototype.doKeyUp = function () {};\r\n      Ke.prototype.Aa = function (a) {\r\n        void 0 === a && (a = this.name);\r\n        this.transactionResult = null;\r\n        return this.diagram.Aa(a);\r\n      };\r\n      Ke.prototype.Qg = function () {\r\n        var a = this.diagram;\r\n        return null === this.transactionResult\r\n          ? a.Lf()\r\n          : a.Za(this.transactionResult);\r\n      };\r\n      Ke.prototype.standardMouseSelect = function () {\r\n        var a = this.diagram;\r\n        if (a.allowSelect) {\r\n          var b = a.lastInput,\r\n            c = a.tm(b.documentPoint, !1);\r\n          if (null !== c)\r\n            if (db ? b.meta : b.control) {\r\n              a.U(\"ChangingSelection\", a.selection);\r\n              for (b = c; null !== b && !b.canSelect(); ) b = b.containingGroup;\r\n              null !== b && (b.isSelected = !b.isSelected);\r\n              a.U(\"ChangedSelection\", a.selection);\r\n            } else if (b.shift) {\r\n              if (!c.isSelected) {\r\n                a.U(\"ChangingSelection\", a.selection);\r\n                for (b = c; null !== b && !b.canSelect(); )\r\n                  b = b.containingGroup;\r\n                null !== b && (b.isSelected = !0);\r\n                a.U(\"ChangedSelection\", a.selection);\r\n              }\r\n            } else {\r\n              if (!c.isSelected) {\r\n                for (b = c; null !== b && !b.canSelect(); )\r\n                  b = b.containingGroup;\r\n                null !== b && a.select(b);\r\n              }\r\n            }\r\n          else !b.left || (db ? b.meta : b.control) || b.shift || a.iv();\r\n        }\r\n      };\r\n      Ke.prototype.standardMouseClick = function (a, b) {\r\n        void 0 === a && (a = null);\r\n        void 0 === b &&\r\n          (b = function (a) {\r\n            return !a.layer.isTemporary;\r\n          });\r\n        var c = this.diagram,\r\n          d = c.lastInput;\r\n        a = c.Yb(d.documentPoint, a, b);\r\n        d.targetObject = a;\r\n        Me(a, d, c);\r\n        return d.handled;\r\n      };\r\n\r\n      function Me(a, b, c) {\r\n        b.handled = !1;\r\n        if (null === a || a.Ng()) {\r\n          var d = 0;\r\n          b.left\r\n            ? (d = 1 === b.clickCount ? 1 : 2 === b.clickCount ? 2 : 1)\r\n            : b.right && 1 === b.clickCount && (d = 3);\r\n          var e = \"ObjectSingleClicked\";\r\n          if (null !== a) {\r\n            switch (d) {\r\n              case 1:\r\n                e = \"ObjectSingleClicked\";\r\n                break;\r\n              case 2:\r\n                e = \"ObjectDoubleClicked\";\r\n                break;\r\n              case 3:\r\n                e = \"ObjectContextClicked\";\r\n            }\r\n            0 !== d && c.U(e, a);\r\n          } else {\r\n            switch (d) {\r\n              case 1:\r\n                e = \"BackgroundSingleClicked\";\r\n                break;\r\n              case 2:\r\n                e = \"BackgroundDoubleClicked\";\r\n                break;\r\n              case 3:\r\n                e = \"BackgroundContextClicked\";\r\n            }\r\n            0 !== d && c.U(e);\r\n          }\r\n          if (null !== a)\r\n            for (; null !== a; ) {\r\n              c = null;\r\n              switch (d) {\r\n                case 1:\r\n                  c = a.click;\r\n                  break;\r\n                case 2:\r\n                  c = a.doubleClick ? a.doubleClick : a.click;\r\n                  break;\r\n                case 3:\r\n                  c = a.contextClick;\r\n              }\r\n              if (null !== c && (c(b, a), b.handled)) break;\r\n              a = a.panel;\r\n            }\r\n          else {\r\n            a = null;\r\n            switch (d) {\r\n              case 1:\r\n                a = c.click;\r\n                break;\r\n              case 2:\r\n                a = c.doubleClick ? c.doubleClick : c.click;\r\n                break;\r\n              case 3:\r\n                a = c.contextClick;\r\n            }\r\n            null !== a && a(b);\r\n          }\r\n        }\r\n      }\r\n      Ke.prototype.standardMouseOver = function () {\r\n        var a = this.diagram,\r\n          b = a.lastInput;\r\n        if (!0 !== a.animationManager.oc) {\r\n          var c = a.skipsUndoManager;\r\n          a.skipsUndoManager = !0;\r\n          var d = a.viewportBounds.ea(b.documentPoint)\r\n            ? a.Yb(b.documentPoint, null, null)\r\n            : null;\r\n          b.targetObject = d;\r\n          var e = !1;\r\n          if (d !== a.Yk) {\r\n            var f = a.Yk,\r\n              g = f;\r\n            a.Yk = d;\r\n            this.doCurrentObjectChanged(f, d);\r\n            for (b.handled = !1; null !== f; ) {\r\n              var h = f.mouseLeave;\r\n              if (null !== h) {\r\n                if (d === f) break;\r\n                if (null !== d && d.Mg(f)) break;\r\n                h(b, f, d);\r\n                e = !0;\r\n                if (b.handled) break;\r\n              }\r\n              f = f.panel;\r\n            }\r\n            f = g;\r\n            for (b.handled = !1; null !== d; ) {\r\n              g = d.mouseEnter;\r\n              if (null !== g) {\r\n                if (f === d) break;\r\n                if (null !== f && f.Mg(d)) break;\r\n                g(b, d, f);\r\n                e = !0;\r\n                if (b.handled) break;\r\n              }\r\n              d = d.panel;\r\n            }\r\n            d = a.Yk;\r\n          }\r\n          if (null !== d) {\r\n            f = d;\r\n            for (g = \"\"; null !== f; ) {\r\n              g = f.cursor;\r\n              if (\"\" !== g) break;\r\n              f = f.panel;\r\n            }\r\n            a.currentCursor = g;\r\n            b.handled = !1;\r\n            for (f = d; null !== f; ) {\r\n              d = f.mouseOver;\r\n              if (null !== d && (d(b, f), (e = !0), b.handled)) break;\r\n              f = f.panel;\r\n            }\r\n          } else\r\n            (a.currentCursor = \"\"),\r\n              (d = a.mouseOver),\r\n              null !== d && (d(b), (e = !0));\r\n          e && a.cc();\r\n          a.skipsUndoManager = c;\r\n        }\r\n      };\r\n      Ke.prototype.doCurrentObjectChanged = function () {};\r\n      Ke.prototype.standardMouseWheel = function () {\r\n        var a = this.diagram,\r\n          b = a.lastInput,\r\n          c = b.delta;\r\n        if (0 !== c && a.documentBounds.o()) {\r\n          var d = a.commandHandler,\r\n            e = a.toolManager.mouseWheelBehavior;\r\n          if (\r\n            null !== d &&\r\n            ((e === Ne && !b.shift) || (e === Oe && b.control))\r\n          ) {\r\n            if (0 < c ? d.canIncreaseZoom() : d.canDecreaseZoom())\r\n              (e = a.zoomPoint),\r\n                (a.zoomPoint = b.viewPoint),\r\n                0 < c ? d.increaseZoom() : d.decreaseZoom(),\r\n                (a.zoomPoint = e);\r\n            b.bubbles = !1;\r\n          } else if ((e === Ne && b.shift) || (e === Oe && !b.control)) {\r\n            d = a.position.copy();\r\n            var f = 0 < c ? c : -c,\r\n              g = b.event,\r\n              h = g.deltaMode;\r\n            e = g.deltaX;\r\n            g = g.deltaY;\r\n            if (Za || bb || cb)\r\n              (h = 1),\r\n                0 < e && (e = 3),\r\n                0 > e && (e = -3),\r\n                0 < g && (g = 3),\r\n                0 > g && (g = -3);\r\n            if (\r\n              void 0 === h ||\r\n              void 0 === e ||\r\n              void 0 === g ||\r\n              (0 === e && 0 === g) ||\r\n              b.shift\r\n            )\r\n              !b.shift && a.allowVerticalScroll\r\n                ? ((f = 3 * f * a.scrollVerticalLineChange),\r\n                  0 < c\r\n                    ? a.scroll(\"pixel\", \"up\", f)\r\n                    : a.scroll(\"pixel\", \"down\", f))\r\n                : b.shift &&\r\n                  a.allowHorizontalScroll &&\r\n                  ((f = 3 * f * a.scrollHorizontalLineChange),\r\n                  0 < c\r\n                    ? a.scroll(\"pixel\", \"left\", f)\r\n                    : a.scroll(\"pixel\", \"right\", f));\r\n            else {\r\n              switch (h) {\r\n                case 0:\r\n                  c = \"pixel\";\r\n                  break;\r\n                case 1:\r\n                  c = \"line\";\r\n                  break;\r\n                case 2:\r\n                  c = \"page\";\r\n                  break;\r\n                default:\r\n                  c = \"pixel\";\r\n              }\r\n              0 !== e &&\r\n                a.allowHorizontalScroll &&\r\n                ((e *= a.scrollHorizontalLineChange / 16),\r\n                0 < e ? a.scroll(c, \"left\", -e) : a.scroll(c, \"right\", e));\r\n              0 !== g &&\r\n                a.allowVerticalScroll &&\r\n                ((g *= a.scrollVerticalLineChange / 16),\r\n                0 < g ? a.scroll(c, \"up\", -g) : a.scroll(c, \"down\", g));\r\n            }\r\n            a.position.B(d) || (b.bubbles = !1);\r\n          }\r\n        }\r\n      };\r\n      Ke.prototype.standardWaitAfter = function (a, b) {\r\n        F && A(a, \"number\", Ke, \"standardWaitAfter:delay\");\r\n        void 0 === b && (b = this.diagram.lastInput);\r\n        this.cancelWaitAfter();\r\n        var c = this,\r\n          d = b.clone(this.My);\r\n        this.$s = ta(function () {\r\n          c.doWaitAfter(d);\r\n        }, a);\r\n      };\r\n      Ke.prototype.cancelWaitAfter = function () {\r\n        -1 !== this.$s && pa.clearTimeout(this.$s);\r\n        this.$s = -1;\r\n      };\r\n      Ke.prototype.doWaitAfter = function () {};\r\n      Ke.prototype.findToolHandleAt = function (a, b) {\r\n        a = this.diagram.Yb(a, function (a) {\r\n          for (; null !== a && !(a.panel instanceof Pe); ) a = a.panel;\r\n          return a;\r\n        });\r\n        return null === a ? null : a.part.category === b ? a : null;\r\n      };\r\n      Ke.prototype.isBeyondDragSize = function (a, b) {\r\n        var c = this.diagram;\r\n        void 0 === a && (a = c.firstInput.viewPoint);\r\n        void 0 === b && (b = c.lastInput.viewPoint);\r\n        var d = c.toolManager.dragSize,\r\n          e = d.width;\r\n        d = d.height;\r\n        c.firstInput.isTouchEvent && ((e += 6), (d += 6));\r\n        return Math.abs(b.x - a.x) > e || Math.abs(b.y - a.y) > d;\r\n      };\r\n      ma.Object.defineProperties(Ke.prototype, {\r\n        diagram: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.A;\r\n          },\r\n          set: function (a) {\r\n            a instanceof P && (this.A = a);\r\n          },\r\n        },\r\n        name: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Wa;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"string\", Ke, \"name\");\r\n            this.Wa = a;\r\n          },\r\n        },\r\n        isEnabled: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Sc;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"boolean\", Ke, \"isEnabled\");\r\n            this.Sc = a;\r\n          },\r\n        },\r\n        isActive: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.qd;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"boolean\", Ke, \"isActive\");\r\n            this.qd = a;\r\n          },\r\n        },\r\n        transactionResult: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Fw;\r\n          },\r\n          set: function (a) {\r\n            null !== a && A(a, \"string\", Ke, \"transactionResult\");\r\n            this.Fw = a;\r\n          },\r\n        },\r\n      });\r\n      Ke.prototype.stopTransaction = Ke.prototype.Qg;\r\n      Ke.prototype.startTransaction = Ke.prototype.Aa;\r\n      Ke.className = \"Tool\";\r\n\r\n      function Sa() {\r\n        Ke.call(this);\r\n        this.name = \"ToolManager\";\r\n        this.Oc = new G();\r\n        this.Pc = new G();\r\n        this.Of = new G();\r\n        this.aa = this.Oa = 850;\r\n        this.w = new Jb(2, 2).ia();\r\n        this.fb = 5e3;\r\n        this.Pa = Oe;\r\n        this.L = Qe;\r\n        this.wr = this.l = null;\r\n        this.Xj = -1;\r\n      }\r\n      la(Sa, Ke);\r\n      Sa.prototype.initializeStandardTools = function () {};\r\n      Sa.prototype.updateAdornments = function (a) {\r\n        var b = this.currentToolTip;\r\n        if (b instanceof Pe && this.wr === a) {\r\n          var c = b.adornedObject;\r\n          (null !== a ? c.part === a : null === c)\r\n            ? this.showToolTip(b, c)\r\n            : this.hideToolTip();\r\n        }\r\n      };\r\n      Sa.prototype.doMouseDown = function () {\r\n        var a = this.diagram,\r\n          b = a.lastInput;\r\n        b.isTouchEvent && this.gestureBehavior === Re && (b.bubbles = !1);\r\n        if (b.isMultiTouch) {\r\n          this.cancelWaitAfter();\r\n          if (this.gestureBehavior === Se) {\r\n            b.bubbles = !0;\r\n            return;\r\n          }\r\n          if (this.gestureBehavior === Re) return;\r\n          if (a.currentTool.canStartMultiTouch()) {\r\n            a.currentTool.standardPinchZoomStart();\r\n            return;\r\n          }\r\n        }\r\n        var c = a.undoManager;\r\n        F &&\r\n          c.checksTransactionLevel &&\r\n          0 !== c.transactionLevel &&\r\n          Ca(\r\n            \"WARNING: In ToolManager.doMouseDown: UndoManager.transactionLevel is not zero\"\r\n          );\r\n        c = this.mouseDownTools.length;\r\n        for (var d = 0; d < c; d++) {\r\n          var e = this.mouseDownTools.O(d);\r\n          e.diagram = this.diagram;\r\n          if (e.canStart()) {\r\n            a.doFocus();\r\n            a.currentTool = e;\r\n            a.currentTool === e &&\r\n              (e.isActive || e.doActivate(), e.doMouseDown());\r\n            return;\r\n          }\r\n        }\r\n        1 === a.lastInput.button &&\r\n          (this.mouseWheelBehavior === Oe\r\n            ? (this.mouseWheelBehavior = Ne)\r\n            : this.mouseWheelBehavior === Ne && (this.mouseWheelBehavior = Oe));\r\n        this.doActivate();\r\n        this.standardWaitAfter(this.holdDelay, b);\r\n      };\r\n      Sa.prototype.doMouseMove = function () {\r\n        var a = this.diagram,\r\n          b = a.lastInput;\r\n        if (b.isMultiTouch) {\r\n          if (this.gestureBehavior === Se) {\r\n            b.bubbles = !0;\r\n            return;\r\n          }\r\n          if (this.gestureBehavior === Re) return;\r\n          if (a.currentTool.canStartMultiTouch()) {\r\n            a.currentTool.standardPinchZoomMove();\r\n            return;\r\n          }\r\n        }\r\n        if (this.isActive)\r\n          for (var c = this.mouseMoveTools.length, d = 0; d < c; d++) {\r\n            var e = this.mouseMoveTools.O(d);\r\n            e.diagram = this.diagram;\r\n            if (e.canStart()) {\r\n              a.doFocus();\r\n              a.currentTool = e;\r\n              a.currentTool === e &&\r\n                (e.isActive || e.doActivate(), e.doMouseMove());\r\n              return;\r\n            }\r\n          }\r\n        Ze(this, a);\r\n        a = b.event;\r\n        null === a ||\r\n          (\"mousemove\" !== a.type &&\r\n            \"pointermove\" !== a.type &&\r\n            a.cancelable) ||\r\n          (b.bubbles = !0);\r\n      };\r\n\r\n      function Ze(a, b) {\r\n        a.standardMouseOver();\r\n        a.isBeyondDragSize() &&\r\n          a.standardWaitAfter(\r\n            a.isActive ? a.holdDelay : a.hoverDelay,\r\n            b.lastInput\r\n          );\r\n      }\r\n      Sa.prototype.doCurrentObjectChanged = function (a, b) {\r\n        a = this.currentToolTip;\r\n        null === a ||\r\n          (null !== b && a instanceof Pe && (b === a || b.Mg(a))) ||\r\n          this.hideToolTip();\r\n      };\r\n      Sa.prototype.doWaitAfter = function (a) {\r\n        var b = this.diagram;\r\n        b.Ga &&\r\n          (this.doMouseHover(),\r\n          this.isActive || this.doToolTip(),\r\n          a.isTouchEvent &&\r\n            !b.lastInput.handled &&\r\n            ((a = a.copy()),\r\n            (a.button = 2),\r\n            (a.buttons = 2),\r\n            (b.lastInput = a),\r\n            (b.em = !0),\r\n            b.doMouseUp()));\r\n      };\r\n      Sa.prototype.doMouseHover = function () {\r\n        var a = this.diagram,\r\n          b = a.lastInput;\r\n        null === b.targetObject &&\r\n          (b.targetObject = a.Yb(b.documentPoint, null, null));\r\n        var c = b.targetObject;\r\n        if (null !== c)\r\n          for (b.handled = !1; null !== c; ) {\r\n            a = this.isActive ? c.mouseHold : c.mouseHover;\r\n            if (null !== a && (a(b, c), b.handled)) break;\r\n            c = c.panel;\r\n          }\r\n        else\r\n          (c = this.isActive ? a.mouseHold : a.mouseHover), null !== c && c(b);\r\n      };\r\n      Sa.prototype.doToolTip = function () {\r\n        var a = this.diagram,\r\n          b = a.lastInput;\r\n        null === b.targetObject &&\r\n          (b.targetObject = a.Yb(b.documentPoint, null, null));\r\n        b = b.targetObject;\r\n        if (null !== b) {\r\n          if (\r\n            ((a = this.currentToolTip),\r\n            !(a instanceof Pe) || (b !== a && !b.Mg(a)))\r\n          ) {\r\n            for (; null !== b; ) {\r\n              a = b.toolTip;\r\n              if (null !== a) {\r\n                this.showToolTip(a, b);\r\n                return;\r\n              }\r\n              b = b.panel;\r\n            }\r\n            this.hideToolTip();\r\n          }\r\n        } else\r\n          (b = a.toolTip),\r\n            null !== b ? this.showToolTip(b, null) : this.hideToolTip();\r\n      };\r\n      Sa.prototype.showToolTip = function (a, b) {\r\n        !F ||\r\n          a instanceof Pe ||\r\n          a instanceof $e ||\r\n          v(\"showToolTip:tooltip must be an Adornment or HTMLInfo.\");\r\n        null !== b && w(b, N, Sa, \"showToolTip:obj\");\r\n        var c = this.diagram;\r\n        a !== this.currentToolTip && this.hideToolTip();\r\n        if (a instanceof Pe) {\r\n          a.layerName = \"Tool\";\r\n          a.selectable = !1;\r\n          a.scale = 1 / c.scale;\r\n          a.category = \"ToolTip\";\r\n          null !== a.placeholder && (a.placeholder.scale = c.scale);\r\n          var d = a.diagram;\r\n          null !== d && d !== c && d.remove(a);\r\n          c.add(a);\r\n          null !== b ? (a.adornedObject = b) : (a.data = c.model);\r\n          a.Eb();\r\n          this.positionToolTip(a, b);\r\n        } else\r\n          a instanceof $e && a !== this.currentToolTip && a.show(b, c, this);\r\n        this.currentToolTip = a;\r\n        -1 !== this.Xj && (pa.clearTimeout(this.Xj), (this.Xj = -1));\r\n        a = this.toolTipDuration;\r\n        if (0 < a && Infinity !== a) {\r\n          var e = this;\r\n          this.Xj = ta(function () {\r\n            e.hideToolTip();\r\n          }, a);\r\n        }\r\n      };\r\n      Sa.prototype.positionToolTip = function (a) {\r\n        if (null === a.placeholder) {\r\n          var b = this.diagram,\r\n            c = b.lastInput.documentPoint.copy(),\r\n            d = a.measuredBounds,\r\n            e = b.viewportBounds;\r\n          b.lastInput.isTouchEvent && (c.x -= d.width);\r\n          c.x + d.width > e.right && (c.x -= d.width + 5 / b.scale);\r\n          c.x < e.x && (c.x = e.x);\r\n          c.y =\r\n            c.y + 20 / b.scale + d.height > e.bottom\r\n              ? c.y - (d.height + 5 / b.scale)\r\n              : c.y + 20 / b.scale;\r\n          c.y < e.y && (c.y = e.y);\r\n          a.position = c;\r\n        }\r\n      };\r\n      Sa.prototype.hideToolTip = function () {\r\n        -1 !== this.Xj && (pa.clearTimeout(this.Xj), (this.Xj = -1));\r\n        var a = this.diagram,\r\n          b = this.currentToolTip;\r\n        null !== b &&\r\n          (b instanceof Pe\r\n            ? (a.remove(b),\r\n              null !== this.wr && this.wr.Kf(b.category),\r\n              (b.data = null),\r\n              (b.adornedObject = null))\r\n            : b instanceof $e && null !== b.hide && b.hide(a, this),\r\n          (this.currentToolTip = null));\r\n      };\r\n      Sa.prototype.doMouseUp = function () {\r\n        this.cancelWaitAfter();\r\n        var a = this.diagram;\r\n        if (this.isActive)\r\n          for (var b = this.mouseUpTools.length, c = 0; c < b; c++) {\r\n            var d = this.mouseUpTools.O(c);\r\n            d.diagram = this.diagram;\r\n            if (d.canStart()) {\r\n              a.doFocus();\r\n              a.currentTool = d;\r\n              a.currentTool === d &&\r\n                (d.isActive || d.doActivate(), d.doMouseUp());\r\n              return;\r\n            }\r\n          }\r\n        a.doFocus();\r\n        this.doDeactivate();\r\n      };\r\n      Sa.prototype.doMouseWheel = function () {\r\n        this.standardMouseWheel();\r\n      };\r\n      Sa.prototype.doKeyDown = function () {\r\n        var a = this.diagram;\r\n        null !== a.commandHandler && a.commandHandler.doKeyDown();\r\n      };\r\n      Sa.prototype.doKeyUp = function () {\r\n        var a = this.diagram;\r\n        null !== a.commandHandler && a.commandHandler.doKeyUp();\r\n      };\r\n      Sa.prototype.findTool = function (a) {\r\n        A(a, \"string\", Sa, \"findTool:name\");\r\n        for (var b = this.mouseDownTools.length, c = 0; c < b; c++) {\r\n          var d = this.mouseDownTools.O(c);\r\n          if (d.name === a) return d;\r\n        }\r\n        b = this.mouseMoveTools.length;\r\n        for (c = 0; c < b; c++)\r\n          if (((d = this.mouseMoveTools.O(c)), d.name === a)) return d;\r\n        b = this.mouseUpTools.length;\r\n        for (c = 0; c < b; c++)\r\n          if (((d = this.mouseUpTools.O(c)), d.name === a)) return d;\r\n        return null;\r\n      };\r\n      Sa.prototype.replaceTool = function (a, b) {\r\n        A(a, \"string\", Sa, \"replaceTool:name\");\r\n        null !== b &&\r\n          (w(b, Ke, Sa, \"replaceTool:newtool\"), (b.diagram = this.diagram));\r\n        for (var c = this.mouseDownTools.length, d = 0; d < c; d++) {\r\n          var e = this.mouseDownTools.O(d);\r\n          if (e.name === a)\r\n            return (\r\n              null !== b\r\n                ? this.mouseDownTools.od(d, b)\r\n                : this.mouseDownTools.pb(d),\r\n              e\r\n            );\r\n        }\r\n        c = this.mouseMoveTools.length;\r\n        for (d = 0; d < c; d++)\r\n          if (((e = this.mouseMoveTools.O(d)), e.name === a))\r\n            return (\r\n              null !== b\r\n                ? this.mouseMoveTools.od(d, b)\r\n                : this.mouseMoveTools.pb(d),\r\n              e\r\n            );\r\n        c = this.mouseUpTools.length;\r\n        for (d = 0; d < c; d++)\r\n          if (((e = this.mouseUpTools.O(d)), e.name === a))\r\n            return (\r\n              null !== b ? this.mouseUpTools.od(d, b) : this.mouseUpTools.pb(d),\r\n              e\r\n            );\r\n        return null;\r\n      };\r\n      Sa.prototype.ab = function (a, b, c) {\r\n        A(a, \"string\", Sa, \"replaceStandardTool:name\");\r\n        w(c, G, Sa, \"replaceStandardTool:list\");\r\n        null !== b &&\r\n          (w(b, Ke, Sa, \"replaceStandardTool:newtool\"),\r\n          (b.name = a),\r\n          (b.diagram = this.diagram));\r\n        this.findTool(a) ? this.replaceTool(a, b) : null !== b && c.add(b);\r\n      };\r\n      ma.Object.defineProperties(Sa.prototype, {\r\n        mouseWheelBehavior: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Pa;\r\n          },\r\n          set: function (a) {\r\n            hb(a, Sa, Sa, \"mouseWheelBehavior\");\r\n            this.Pa = a;\r\n          },\r\n        },\r\n        gestureBehavior: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.L;\r\n          },\r\n          set: function (a) {\r\n            hb(a, Sa, Sa, \"gestureBehavior\");\r\n            this.L = a;\r\n          },\r\n        },\r\n        currentToolTip: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.l;\r\n          },\r\n          set: function (a) {\r\n            !F ||\r\n              null === a ||\r\n              a instanceof Pe ||\r\n              a instanceof $e ||\r\n              v(\"ToolManager.currentToolTip must be an Adornment or HTMLInfo.\");\r\n            this.l = a;\r\n            this.wr = null !== a && a instanceof Pe ? a.adornedPart : null;\r\n          },\r\n        },\r\n        mouseDownTools: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Oc;\r\n          },\r\n        },\r\n        mouseMoveTools: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Pc;\r\n          },\r\n        },\r\n        mouseUpTools: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Of;\r\n          },\r\n        },\r\n        hoverDelay: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Oa;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"number\", Sa, \"hoverDelay\");\r\n            this.Oa = a;\r\n          },\r\n        },\r\n        holdDelay: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.aa;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"number\", Sa, \"holdDelay\");\r\n            this.aa = a;\r\n          },\r\n        },\r\n        dragSize: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.w;\r\n          },\r\n          set: function (a) {\r\n            w(a, Jb, Sa, \"dragSize\");\r\n            this.w = a.J();\r\n          },\r\n        },\r\n        toolTipDuration: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.fb;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"number\", Sa, \"toolTipDuration\");\r\n            this.fb = a;\r\n          },\r\n        },\r\n      });\r\n      Sa.prototype.replaceStandardTool = Sa.prototype.ab;\r\n      var Oe = new E(Sa, \"WheelScroll\", 0),\r\n        Ne = new E(Sa, \"WheelZoom\", 1),\r\n        af = new E(Sa, \"WheelNone\", 2),\r\n        Qe = new E(Sa, \"GestureZoom\", 3),\r\n        Re = new E(Sa, \"GestureCancel\", 4),\r\n        Se = new E(Sa, \"GestureNone\", 5);\r\n      Sa.className = \"ToolManager\";\r\n      Sa.WheelScroll = Oe;\r\n      Sa.WheelZoom = Ne;\r\n      Sa.WheelNone = af;\r\n      Sa.GestureZoom = Qe;\r\n      Sa.GestureCancel = Re;\r\n      Sa.GestureNone = Se;\r\n\r\n      function bf() {\r\n        Ke.call(this);\r\n        0 < arguments.length && za(bf);\r\n        this.name = \"Dragging\";\r\n        this.L = this.Pc = !0;\r\n        this.w = this.fb = this.Oa = this.xg = null;\r\n        this.Ln = this.Of = !1;\r\n        this.$l = new J(NaN, NaN);\r\n        this.Ps = new J();\r\n        this.Oc = !0;\r\n        this.el = 100;\r\n        this.bh = [];\r\n        this.rj = new H().freeze();\r\n        this.Pa = new cf();\r\n        this.ro = null;\r\n        this.aa = \"copy\";\r\n        this.Th = \"\";\r\n        this.Qe = \"no-drop\";\r\n      }\r\n      la(bf, Ke);\r\n      bf.prototype.canStart = function () {\r\n        if (!this.isEnabled) return !1;\r\n        var a = this.diagram;\r\n        if (\r\n          (a.isReadOnly && !a.allowDragOut) ||\r\n          (!a.allowMove && !a.allowCopy && !a.allowDragOut) ||\r\n          !a.allowSelect\r\n        )\r\n          return !1;\r\n        var b = a.lastInput;\r\n        return !b.left ||\r\n          (a.currentTool !== this &&\r\n            (!this.isBeyondDragSize() ||\r\n              (b.isTouchEvent &&\r\n                b.timestamp - a.firstInput.timestamp < this.el)))\r\n          ? !1\r\n          : null !== this.findDraggablePart();\r\n      };\r\n      bf.prototype.findDraggablePart = function () {\r\n        var a = this.diagram;\r\n        a = a.tm(a.firstInput.documentPoint, !1);\r\n        if (null === a) return null;\r\n        for (; null !== a && !a.canSelect(); ) a = a.containingGroup;\r\n        return null !== a && (a.canMove() || a.canCopy()) ? a : null;\r\n      };\r\n      bf.prototype.standardMouseSelect = function () {\r\n        var a = this.diagram;\r\n        if (a.allowSelect) {\r\n          var b = a.tm(a.firstInput.documentPoint, !1);\r\n          if (null !== b) {\r\n            for (; null !== b && !b.canSelect(); ) b = b.containingGroup;\r\n            this.currentPart = b;\r\n            null === this.currentPart ||\r\n              this.currentPart.isSelected ||\r\n              (a.U(\"ChangingSelection\", a.selection),\r\n              (b = a.lastInput),\r\n              (db ? b.meta : b.control) || b.shift || df(a),\r\n              (this.currentPart.isSelected = !0),\r\n              a.U(\"ChangedSelection\", a.selection));\r\n          }\r\n        }\r\n      };\r\n      bf.prototype.doActivate = function () {\r\n        var a = this.diagram;\r\n        this.ro = null;\r\n        null === this.currentPart && this.standardMouseSelect();\r\n        var b = this.currentPart;\r\n        null !== b &&\r\n          (b.canMove() || b.canCopy()) &&\r\n          ((ef = null),\r\n          (this.isActive = !0),\r\n          this.$l.set(a.position),\r\n          ff(this, a.selection),\r\n          (this.bh.length = 0),\r\n          (this.draggedParts = this.computeEffectiveCollection(\r\n            a.selection,\r\n            this.dragOptions\r\n          )),\r\n          (a.Qt = !0),\r\n          !0 === a.Ke(\"temporaryPixelRatio\") && 30 < a.Fx && gf(a),\r\n          hf(a, this.draggedParts),\r\n          this.Aa(\"Drag\"),\r\n          (this.startPoint = a.firstInput.documentPoint),\r\n          (a.isMouseCaptured = !0),\r\n          a.allowDragOut &&\r\n            ((this.isDragOutStarted = !0),\r\n            (this.Ln = !1),\r\n            (ef = this),\r\n            (jf = this.diagram),\r\n            this.doSimulatedDragOut()));\r\n      };\r\n\r\n      function ff(a, b) {\r\n        if (a.dragsLink) {\r\n          var c = a.diagram;\r\n          c.allowRelink &&\r\n            (c.model.sk() && 1 === b.count && b.first() instanceof Q\r\n              ? ((a.draggedLink = b.first()),\r\n                a.draggedLink.canRelinkFrom() &&\r\n                  a.draggedLink.canRelinkTo() &&\r\n                  a.draggedLink.fk(),\r\n                (a.xg = c.toolManager.findTool(\"Relinking\")),\r\n                null === a.xg && ((a.xg = new kf()), (a.xg.diagram = c)))\r\n              : ((a.draggedLink = null), (a.xg = null)));\r\n        }\r\n      }\r\n      bf.prototype.computeEffectiveCollection = function (a, b) {\r\n        return this.diagram.commandHandler.computeEffectiveCollection(a, b);\r\n      };\r\n      bf.prototype.wd = function (a) {\r\n        return void 0 === a\r\n          ? new lf(Qb)\r\n          : this.isGridSnapEnabled\r\n          ? new lf(new J(Math.round(a.x), Math.round(a.y)))\r\n          : new lf(a.copy());\r\n      };\r\n      bf.prototype.doDeactivate = function () {\r\n        this.isActive = !1;\r\n        var a = this.diagram;\r\n        a.Mf();\r\n        mf(this);\r\n        nf(a, this.draggedParts);\r\n        this.draggedParts = this.currentPart = this.ro = null;\r\n        this.Ln = this.isDragOutStarted = !1;\r\n        if (0 < of.count) {\r\n          for (var b = of, c = b.length, d = 0; d < c; d++) {\r\n            var e = b.O(d);\r\n            vf(e);\r\n            wf(e);\r\n            mf(e);\r\n            e.diagram.Mf();\r\n          }\r\n          b.clear();\r\n        }\r\n        vf(this);\r\n        this.$l.h(NaN, NaN);\r\n        ef = jf = null;\r\n        wf(this);\r\n        a.isMouseCaptured = !1;\r\n        a.currentCursor = \"\";\r\n        a.Qt = !1;\r\n        this.Qg();\r\n        xf(a, !0);\r\n      };\r\n\r\n      function mf(a) {\r\n        var b = a.diagram,\r\n          c = b.skipsUndoManager;\r\n        b.skipsUndoManager = !0;\r\n        yf(a, b.lastInput, null);\r\n        b.skipsUndoManager = c;\r\n        a.bh.length = 0;\r\n      }\r\n\r\n      function zf() {\r\n        var a = ef;\r\n        wf(a);\r\n        Af(a);\r\n        var b = a.diagram;\r\n        a.$l.o() && (b.position = a.$l);\r\n        b.Mf();\r\n      }\r\n      bf.prototype.doCancel = function () {\r\n        wf(this);\r\n        Af(this);\r\n        var a = this.diagram;\r\n        this.$l.o() && (a.position = this.$l);\r\n        this.stopTool();\r\n      };\r\n      bf.prototype.doKeyDown = function () {\r\n        this.isActive &&\r\n          (\"Esc\" === this.diagram.lastInput.key\r\n            ? this.doCancel()\r\n            : this.doMouseMove());\r\n      };\r\n      bf.prototype.doKeyUp = function () {\r\n        this.isActive && this.doMouseMove();\r\n      };\r\n\r\n      function Bf(a, b) {\r\n        var c = Infinity,\r\n          d = Infinity,\r\n          e = -Infinity,\r\n          f = -Infinity;\r\n        for (a = a.iterator; a.next(); ) {\r\n          var g = a.value;\r\n          if (g.$b() && g.isVisible()) {\r\n            var h = g.location;\r\n            g = h.x;\r\n            h = h.y;\r\n            isNaN(g) ||\r\n              isNaN(h) ||\r\n              (g < c && (c = g),\r\n              h < d && (d = h),\r\n              g > e && (e = g),\r\n              h > f && (f = h));\r\n          }\r\n        }\r\n        Infinity === c ? b.h(0, 0, 0, 0) : b.h(c, d, e - c, f - d);\r\n      }\r\n\r\n      function Cf(a, b) {\r\n        if (null === a.copiedParts) {\r\n          var c = a.diagram;\r\n          if (\r\n            (!b || (!c.isReadOnly && !c.isModelReadOnly)) &&\r\n            null !== a.draggedParts\r\n          ) {\r\n            var d = c.undoManager;\r\n            d.isEnabled && d.isInTransaction\r\n              ? null !== d.currentTransaction &&\r\n                0 < d.currentTransaction.changes.count &&\r\n                (c.undoManager.Lf(), c.Aa(\"Drag\"))\r\n              : Af(a);\r\n            c.skipsUndoManager = !b;\r\n            c.partManager.addsToTemporaryLayer = !b;\r\n            a.startPoint = c.firstInput.documentPoint;\r\n            b = a.copiesEffectiveCollection ? a.draggedParts.Nf() : c.selection;\r\n            c = c.kk(b, c, !0);\r\n            for (b = c.iterator; b.next(); ) b.value.location = b.key.location;\r\n            b = L.alloc();\r\n            Bf(c, b);\r\n            L.free(b);\r\n            b = new Db();\r\n            for (d = a.draggedParts.iterator; d.next(); ) {\r\n              var e = d.key;\r\n              e.$b() &&\r\n                e.canCopy() &&\r\n                ((e = c.K(e)),\r\n                null !== e && (e.Eb(), b.add(e, a.wd(e.location))));\r\n            }\r\n            for (c = c.iterator; c.next(); )\r\n              (d = c.value), d instanceof Q && d.canCopy() && b.add(d, a.wd());\r\n            a.copiedParts = b;\r\n            ff(a, b.Nf());\r\n            null !== a.draggedLink &&\r\n              ((c = a.draggedLink),\r\n              (b = c.routeBounds),\r\n              Df(\r\n                c,\r\n                a.startPoint.x - (b.x + b.width / 2),\r\n                a.startPoint.y - (b.y + b.height / 2)\r\n              ));\r\n          }\r\n        }\r\n      }\r\n\r\n      function wf(a) {\r\n        var b = a.diagram;\r\n        if (\r\n          null !== a.copiedParts &&\r\n          (b.Lt(a.copiedParts.Nf(), !1),\r\n          (a.copiedParts = null),\r\n          null !== a.draggedParts)\r\n        )\r\n          for (var c = a.draggedParts.iterator; c.next(); )\r\n            c.key instanceof Q && (c.value.point = new J(0, 0));\r\n        b.skipsUndoManager = !1;\r\n        b.partManager.addsToTemporaryLayer = !1;\r\n        a.startPoint = b.firstInput.documentPoint;\r\n      }\r\n\r\n      function vf(a) {\r\n        if (null !== a.draggedLink) {\r\n          if (a.dragsLink && null !== a.xg) {\r\n            var b = a.xg;\r\n            b.diagram.remove(b.temporaryFromNode);\r\n            b.diagram.remove(b.temporaryToNode);\r\n          }\r\n          a.draggedLink = null;\r\n          a.xg = null;\r\n        }\r\n      }\r\n\r\n      function Ef(a, b, c) {\r\n        var d = a.diagram,\r\n          e = a.startPoint,\r\n          f = J.alloc();\r\n        f.assign(d.lastInput.documentPoint);\r\n        a.moveParts(b, f.ee(e), c);\r\n        J.free(f);\r\n        !0 === d.Ke(\"temporaryPixelRatio\") &&\r\n          null === d.Bh &&\r\n          30 < d.Fx &&\r\n          (gf(d), d.Jt());\r\n      }\r\n      bf.prototype.moveParts = function (a, b, c) {\r\n        var d = this.diagram;\r\n        null !== d && Ff(d, a, b, this.dragOptions, c);\r\n      };\r\n\r\n      function Af(a) {\r\n        if (null !== a.draggedParts) {\r\n          for (var b = a.diagram, c = a.draggedParts.iterator; c.next(); ) {\r\n            var d = c.key;\r\n            d.$b() && (d.location = c.value.point);\r\n          }\r\n          for (c = a.draggedParts.iterator; c.next(); )\r\n            if (((d = c.key), d instanceof Q && d.suspendsRouting)) {\r\n              var e = c.value.point;\r\n              a.draggedParts.add(d, a.wd());\r\n              Df(d, -e.x, -e.y);\r\n            }\r\n          b.Ad();\r\n        }\r\n      }\r\n\r\n      function Gf(a, b) {\r\n        if (null === b) return !0;\r\n        b = b.part;\r\n        return null === b ||\r\n          b instanceof Pe ||\r\n          b.layer.isTemporary ||\r\n          (a.draggedParts && a.draggedParts.contains(b)) ||\r\n          (a.copiedParts && a.copiedParts.contains(b))\r\n          ? !0\r\n          : !1;\r\n      }\r\n\r\n      function Hf(a, b) {\r\n        var c = a.diagram;\r\n        a.dragsLink &&\r\n          (null !== a.draggedLink &&\r\n            ((a.draggedLink.fromNode = null), (a.draggedLink.toNode = null)),\r\n          If(a, !1));\r\n        var d = Jf(c, b, null, function (b) {\r\n            return !Gf(a, b);\r\n          }),\r\n          e = c.lastInput;\r\n        e.targetObject = d;\r\n        a.doUpdateCursor(d);\r\n        var f = c.skipsUndoManager,\r\n          g = !1;\r\n        try {\r\n          c.skipsUndoManager = !0;\r\n          g = yf(a, e, d);\r\n          if (!a.isActive && null === ef) return;\r\n          var h = null !== d ? d.part : null;\r\n          if (\r\n            null === h ||\r\n            (c.handlesDragDropForTopLevelParts &&\r\n              h.isTopLevel &&\r\n              !(h instanceof Kf))\r\n          ) {\r\n            var k = c.mouseDragOver;\r\n            null !== k && (k(e), (g = !0));\r\n          }\r\n          if (!a.isActive && null === ef) return;\r\n          a.doDragOver(b, d);\r\n          if (!a.isActive && null === ef) return;\r\n        } finally {\r\n          (c.skipsUndoManager = f), g && c.Ad();\r\n        }\r\n        a.ro = d;\r\n        c.isReadOnly ||\r\n          (!c.allowMove && !c.allowCopy) ||\r\n          (!c.allowHorizontalScroll && !c.allowVerticalScroll) ||\r\n          c.ht(e.viewPoint);\r\n      }\r\n      bf.prototype.doUpdateCursor = function (a) {\r\n        var b = this.diagram;\r\n        this.ro !== a &&\r\n          (!this.diagram.currentTool.isActive || this.mayCopy()\r\n            ? (b.currentCursor = this.copyCursor)\r\n            : this.mayMove()\r\n            ? (b.currentCursor = this.moveCursor)\r\n            : this.mayDragOut() && (b.currentCursor = this.nodropCursor));\r\n      };\r\n\r\n      function yf(a, b, c) {\r\n        var d = !1,\r\n          e = a.bh.length,\r\n          f = 0 < e ? a.bh[0] : null;\r\n        if (c === f) return !1;\r\n        b.handled = !1;\r\n        for (var g = 0; g < e; g++) {\r\n          var h = a.bh[g],\r\n            k = h.mouseDragLeave;\r\n          if (null !== k && (k(b, h, c), (d = !0), b.handled)) break;\r\n        }\r\n        a.bh.length = 0;\r\n        if ((!a.isActive && null === ef) || null === c) return d;\r\n        b.handled = !1;\r\n        for (e = c; null !== e; ) a.bh.push(e), (e = Lf(e));\r\n        e = a.bh.length;\r\n        for (\r\n          c = 0;\r\n          c < e &&\r\n          ((g = a.bh[c]),\r\n          (h = g.mouseDragEnter),\r\n          null === h || (h(b, g, f), (d = !0), !b.handled));\r\n          c++\r\n        );\r\n        return d;\r\n      }\r\n\r\n      function Lf(a) {\r\n        var b = a.panel;\r\n        return null !== b\r\n          ? b\r\n          : a instanceof S &&\r\n            !(a instanceof Kf) &&\r\n            ((a = a.containingGroup), null !== a && a.handlesDragDropForMembers)\r\n          ? a\r\n          : null;\r\n      }\r\n\r\n      function Mf(a, b, c) {\r\n        var d = a.xg;\r\n        if (null === d) return null;\r\n        var e = a.diagram.Jg(b, d.portGravity, function (a) {\r\n          return d.findValidLinkablePort(a, c);\r\n        });\r\n        a = J.alloc();\r\n        var f = Infinity,\r\n          g = null;\r\n        for (e = e.iterator; e.next(); ) {\r\n          var h = e.value;\r\n          if (null !== h.part) {\r\n            var k = h.ma(Mc, a);\r\n            k = b.Je(k);\r\n            k < f && ((g = h), (f = k));\r\n          }\r\n        }\r\n        J.free(a);\r\n        return g;\r\n      }\r\n\r\n      function If(a, b) {\r\n        var c = a.draggedLink;\r\n        if (null !== c && !(2 > c.pointsCount)) {\r\n          var d = a.diagram;\r\n          if (!d.isReadOnly) {\r\n            var e = a.xg;\r\n            if (null !== e) {\r\n              var f = null,\r\n                g = null;\r\n              null === c.fromNode &&\r\n                ((f = Mf(a, c.i(0), !1)), null !== f && (g = f.part));\r\n              var h = null,\r\n                k = null;\r\n              null === c.toNode &&\r\n                ((h = Mf(a, c.i(c.pointsCount - 1), !0)),\r\n                null !== h && (k = h.part));\r\n              e.isValidLink(g, f, k, h)\r\n                ? b\r\n                  ? ((c.defaultFromPoint = c.i(0)),\r\n                    (c.defaultToPoint = c.i(c.pointsCount - 1)),\r\n                    (c.suspendsRouting = !1),\r\n                    (c.fromNode = g),\r\n                    null !== f && (c.fromPortId = f.portId),\r\n                    (c.toNode = k),\r\n                    null !== h && (c.toPortId = h.portId),\r\n                    c.fromPort !== d.gy && d.U(\"LinkRelinked\", c, d.gy),\r\n                    c.toPort !== d.hy && d.U(\"LinkRelinked\", c, d.hy))\r\n                  : Nf(e, g, f, k, h)\r\n                : Nf(e, null, null, null, null);\r\n            }\r\n          }\r\n        }\r\n      }\r\n      bf.prototype.doDragOver = function () {};\r\n\r\n      function Tf(a, b) {\r\n        var c = a.diagram;\r\n        a.dragsLink && If(a, !0);\r\n        mf(a);\r\n        var d = Jf(c, b, null, function (b) {\r\n            return !Gf(a, b);\r\n          }),\r\n          e = c.lastInput;\r\n        e.targetObject = d;\r\n        if (null !== d) {\r\n          e.handled = !1;\r\n          for (var f = d; null !== f; ) {\r\n            var g = f.mouseDrop;\r\n            if (null !== g && (g(e, f), e.handled)) break;\r\n            Uf(a, e, f);\r\n            f = Lf(f);\r\n          }\r\n        } else (f = c.mouseDrop), null !== f && f(e);\r\n        if (a.isActive || null !== ef) {\r\n          for (e = (a.copiedParts || a.draggedParts).iterator; e.next(); )\r\n            (f = e.key),\r\n              f instanceof U &&\r\n                f.linksConnected.each(function (a) {\r\n                  a.suspendsRouting = !1;\r\n                });\r\n          a.doDropOnto(b, d);\r\n          if (a.isActive || null !== ef) {\r\n            b = L.alloc();\r\n            for (d = c.selection.iterator; d.next(); )\r\n              (e = d.value), e instanceof U && Vf(c, e, b);\r\n            L.free(b);\r\n          }\r\n        }\r\n      }\r\n\r\n      function Uf(a, b, c) {\r\n        a = a.diagram;\r\n        c = c.part;\r\n        !a.handlesDragDropForTopLevelParts ||\r\n          !c.isTopLevel ||\r\n          c instanceof Kf ||\r\n          ((c = a.mouseDrop), null !== c && c(b));\r\n      }\r\n\r\n      function Vf(a, b, c) {\r\n        var d = !1;\r\n        b.getAvoidableRect(c);\r\n        a.viewportBounds.Af(c) && (d = !0);\r\n        a = a.Av(\r\n          c,\r\n          function (a) {\r\n            return a.part;\r\n          },\r\n          function (a) {\r\n            return a instanceof Q;\r\n          },\r\n          !0,\r\n          function (a) {\r\n            return a instanceof Q;\r\n          },\r\n          d\r\n        );\r\n        if (0 !== a.count)\r\n          for (a = a.iterator; a.next(); )\r\n            (c = a.value), !c.be(b) && c.isAvoiding && c.Ta();\r\n      }\r\n      bf.prototype.doDropOnto = function () {};\r\n      bf.prototype.doMouseMove = function () {\r\n        if (this.isActive) {\r\n          var a = this.diagram,\r\n            b = a.lastInput;\r\n          this.simulatedMouseMove(b.event, b.documentPoint, b.targetDiagram) ||\r\n            null === this.currentPart ||\r\n            null === this.draggedParts ||\r\n            (this.mayCopy()\r\n              ? (Cf(this, !1),\r\n                hf(a, this.copiedParts),\r\n                Ef(this, this.copiedParts, !1),\r\n                nf(a, this.copiedParts))\r\n              : this.mayMove()\r\n              ? (wf(this), Ef(this, this.draggedParts, !0))\r\n              : this.mayDragOut()\r\n              ? (Cf(this, !1), Ef(this, this.copiedParts, !1))\r\n              : wf(this),\r\n            Hf(this, a.lastInput.documentPoint));\r\n        }\r\n      };\r\n      bf.prototype.doMouseUp = function () {\r\n        if (this.isActive) {\r\n          var a = this.diagram,\r\n            b = a.lastInput;\r\n          if (\r\n            !this.simulatedMouseUp(b.event, b.documentPoint, b.targetDiagram)\r\n          ) {\r\n            b = !1;\r\n            var c = this.mayCopy();\r\n            c && null !== this.copiedParts\r\n              ? (wf(this),\r\n                Cf(this, !0),\r\n                hf(a, this.copiedParts),\r\n                Ef(this, this.copiedParts, !1),\r\n                nf(a, this.copiedParts),\r\n                null !== this.copiedParts &&\r\n                  (a.U(\"ChangingSelection\", a.selection),\r\n                  df(a),\r\n                  this.copiedParts.iteratorKeys.each(function (a) {\r\n                    a.isSelected = !0;\r\n                  })))\r\n              : ((b = !0),\r\n                wf(this),\r\n                this.mayMove() &&\r\n                  (Ef(this, this.draggedParts, !0),\r\n                  Hf(this, a.lastInput.documentPoint)));\r\n            this.Ln = !0;\r\n            Tf(this, a.lastInput.documentPoint);\r\n            if (this.isActive) {\r\n              var d = c ? this.copiedParts.Nf() : this.draggedParts.Nf();\r\n              this.copiedParts = null;\r\n              b && Wf(this);\r\n              a.Ya();\r\n              nf(a, this.draggedParts);\r\n              this.transactionResult = c ? \"Copy\" : \"Move\";\r\n              a.U(c ? \"SelectionCopied\" : \"SelectionMoved\", d);\r\n            }\r\n            this.stopTool();\r\n            c && a.U(\"ChangedSelection\", a.selection);\r\n          }\r\n        }\r\n      };\r\n      bf.prototype.simulatedMouseMove = function (a, b, c) {\r\n        if (null === ef) return !1;\r\n        var d = ef.diagram;\r\n        c instanceof P || (c = null);\r\n        var e = jf;\r\n        c !== e &&\r\n          (null !== e &&\r\n            e !== d &&\r\n            (e.Mf(),\r\n            (ef.isDragOutStarted = !1),\r\n            (e = e.toolManager.findTool(\"Dragging\")),\r\n            null !== e && e.doSimulatedDragLeave()),\r\n          (jf = c),\r\n          null !== c &&\r\n            c !== d &&\r\n            (zf(),\r\n            (e = c.toolManager.findTool(\"Dragging\")),\r\n            null !== e &&\r\n              (of.contains(e) || of.add(e), e.doSimulatedDragEnter())));\r\n        if (\r\n          null === c ||\r\n          c === d ||\r\n          !c.allowDrop ||\r\n          c.isReadOnly ||\r\n          !c.allowInsert\r\n        )\r\n          return !1;\r\n        d = c.toolManager.findTool(\"Dragging\");\r\n        null !== d &&\r\n          (null !== a &&\r\n            (void 0 !== a.targetTouches &&\r\n              (0 < a.targetTouches.length\r\n                ? (a = a.targetTouches[0])\r\n                : 0 < a.changedTouches.length && (a = a.changedTouches[0])),\r\n            (b = c.getMouse(a))),\r\n          (c.lastInput.documentPoint = b),\r\n          (c.lastInput.viewPoint = c.Tq(b)),\r\n          (c.lastInput.down = !1),\r\n          (c.lastInput.up = !1),\r\n          d.doSimulatedDragOver());\r\n        return !0;\r\n      };\r\n      bf.prototype.simulatedMouseUp = function (a, b, c) {\r\n        if (null === ef) return !1;\r\n        var d = jf,\r\n          e = ef.diagram;\r\n        if (null === c) return ef.doCancel(), !0;\r\n        if (c !== d) {\r\n          var f = d.toolManager.findTool(\"Dragging\");\r\n          if (null !== d && d !== e && null !== f)\r\n            return (\r\n              d.Mf(), (ef.isDragOutStarted = !1), f.doSimulatedDragLeave(), !1\r\n            );\r\n          jf = c;\r\n          d = c.toolManager.findTool(\"Dragging\");\r\n          null !== d &&\r\n            (zf(), of.contains(d) || of.add(d), d.doSimulatedDragEnter());\r\n        }\r\n        return c !== this.diagram\r\n          ? (null !== a\r\n              ? (void 0 !== a.targetTouches &&\r\n                  (0 < a.targetTouches.length\r\n                    ? (a = a.targetTouches[0])\r\n                    : 0 < a.changedTouches.length && (a = a.changedTouches[0])),\r\n                (b = c.getMouse(a)))\r\n              : null === b && (b = new J()),\r\n            (c.lastInput.documentPoint = b),\r\n            (c.lastInput.viewPoint = c.Tq(b)),\r\n            (c.lastInput.down = !1),\r\n            (c.lastInput.up = !0),\r\n            (a = c.toolManager.findTool(\"Dragging\")),\r\n            null !== a && a.doSimulatedDrop(),\r\n            (a = ef),\r\n            null !== a &&\r\n              ((c = a.mayCopy()),\r\n              (a.transactionResult = c ? \"Copy\" : \"Move\"),\r\n              a.stopTool()),\r\n            !0)\r\n          : !1;\r\n      };\r\n\r\n      function Wf(a) {\r\n        if (null !== a.draggedParts)\r\n          for (var b = a.draggedParts.iterator; b.next(); ) {\r\n            var c = b.key;\r\n            c instanceof U &&\r\n              ((c = c.containingGroup),\r\n              null === c ||\r\n                null === c.placeholder ||\r\n                a.draggedParts.contains(c) ||\r\n                c.placeholder.v());\r\n          }\r\n      }\r\n      bf.prototype.mayCopy = function () {\r\n        if (!this.isCopyEnabled) return !1;\r\n        var a = this.diagram;\r\n        if (\r\n          a.isReadOnly ||\r\n          a.isModelReadOnly ||\r\n          !a.allowInsert ||\r\n          !a.allowCopy ||\r\n          (db ? !a.lastInput.alt : !a.lastInput.control)\r\n        )\r\n          return !1;\r\n        for (a = a.selection.iterator; a.next(); ) {\r\n          var b = a.value;\r\n          if (b.$b() && b.canCopy()) return !0;\r\n        }\r\n        return null !== this.draggedLink &&\r\n          this.dragsLink &&\r\n          this.draggedLink.canCopy()\r\n          ? !0\r\n          : !1;\r\n      };\r\n      bf.prototype.mayDragOut = function () {\r\n        if (!this.isCopyEnabled) return !1;\r\n        var a = this.diagram;\r\n        if (!a.allowDragOut || !a.allowCopy || a.allowMove) return !1;\r\n        for (a = a.selection.iterator; a.next(); ) {\r\n          var b = a.value;\r\n          if (b.$b() && b.canCopy()) return !0;\r\n        }\r\n        return null !== this.draggedLink &&\r\n          this.dragsLink &&\r\n          this.draggedLink.canCopy()\r\n          ? !0\r\n          : !1;\r\n      };\r\n      bf.prototype.mayMove = function () {\r\n        var a = this.diagram;\r\n        if (a.isReadOnly || !a.allowMove) return !1;\r\n        for (a = a.selection.iterator; a.next(); ) {\r\n          var b = a.value;\r\n          if (b.$b() && b.canMove()) return !0;\r\n        }\r\n        return null !== this.draggedLink &&\r\n          this.dragsLink &&\r\n          this.draggedLink.canMove()\r\n          ? !0\r\n          : !1;\r\n      };\r\n      bf.prototype.computeBorder = function (a, b, c) {\r\n        return this.Ln ||\r\n          null === this.draggedParts ||\r\n          this.draggedParts.contains(a)\r\n          ? null\r\n          : c.assign(b);\r\n      };\r\n      bf.prototype.Nz = function () {\r\n        return ef;\r\n      };\r\n      bf.prototype.mayDragIn = function () {\r\n        var a = this.diagram;\r\n        if (!a.allowDrop || a.isReadOnly || a.isModelReadOnly || !a.allowInsert)\r\n          return !1;\r\n        var b = ef;\r\n        return null === b || b.diagram.model.dataFormat !== a.model.dataFormat\r\n          ? !1\r\n          : !0;\r\n      };\r\n      bf.prototype.doSimulatedDragEnter = function () {\r\n        if (this.mayDragIn()) {\r\n          var a = this.diagram;\r\n          a.animationManager.ad();\r\n          Xf(a);\r\n          a.animationManager.ad();\r\n          var b = ef;\r\n          null !== b && (b.diagram.Qt = !1);\r\n          this.doUpdateCursor(a.grid);\r\n        }\r\n      };\r\n      bf.prototype.doSimulatedDragLeave = function () {\r\n        var a = ef;\r\n        null !== a && a.doSimulatedDragOut();\r\n        this.doCancel();\r\n      };\r\n      bf.prototype.doSimulatedDragOver = function () {\r\n        var a = this.diagram,\r\n          b = ef;\r\n        null !== b &&\r\n          null !== b.draggedParts &&\r\n          this.mayDragIn() &&\r\n          (Yf(this, b.draggedParts.Nf(), !1, a.firstInput),\r\n          Ef(this, this.copiedParts, !1),\r\n          Hf(this, a.lastInput.documentPoint));\r\n      };\r\n      bf.prototype.doSimulatedDrop = function () {\r\n        var a = this.diagram,\r\n          b = ef;\r\n        if (null !== b) {\r\n          var c = b.diagram;\r\n          b.Ln = !0;\r\n          wf(this);\r\n          this.mayDragIn() &&\r\n            (a.U(\"ChangingSelection\", a.selection),\r\n            this.Aa(\"Drop\"),\r\n            Yf(this, b.draggedParts.Nf(), !0, a.lastInput),\r\n            Ef(this, this.copiedParts, !1),\r\n            null !== this.copiedParts &&\r\n              (df(a),\r\n              this.copiedParts.iteratorKeys.each(function (a) {\r\n                a.isSelected = !0;\r\n              })),\r\n            Tf(this, a.lastInput.documentPoint),\r\n            a.Ya(),\r\n            (b = a.selection),\r\n            null !== this.copiedParts\r\n              ? (this.transactionResult = \"ExternalCopy\")\r\n              : (b = new H()),\r\n            (this.copiedParts = null),\r\n            a.doFocus(),\r\n            a.U(\"ExternalObjectsDropped\", b, c),\r\n            this.Qg(),\r\n            a.U(\"ChangedSelection\", a.selection));\r\n        }\r\n      };\r\n\r\n      function Yf(a, b, c, d) {\r\n        if (null === a.copiedParts) {\r\n          var e = a.diagram;\r\n          if (!e.isReadOnly && !e.isModelReadOnly) {\r\n            e.skipsUndoManager = !c;\r\n            e.partManager.addsToTemporaryLayer = !c;\r\n            a.startPoint = d.documentPoint;\r\n            c = e.kk(b, e, !0);\r\n            var f = L.alloc();\r\n            Bf(b, f);\r\n            d = f.x + f.width / 2;\r\n            e = f.y + f.height / 2;\r\n            L.free(f);\r\n            f = a.Ps;\r\n            var g = new Db(),\r\n              h = J.alloc();\r\n            for (b = b.iterator; b.next(); ) {\r\n              var k = b.value,\r\n                l = c.K(k);\r\n              k.$b() && k.canCopy()\r\n                ? ((k = k.location),\r\n                  h.h(f.x - (d - k.x), f.y - (e - k.y)),\r\n                  (l.location = h),\r\n                  l.Eb(),\r\n                  g.add(l, a.wd(h)))\r\n                : l instanceof Q &&\r\n                  k.canCopy() &&\r\n                  (Df(l, f.x - d, f.y - e), g.add(l, a.wd()));\r\n            }\r\n            J.free(h);\r\n            a.copiedParts = g;\r\n            ff(a, g.Nf());\r\n            null !== a.draggedLink &&\r\n              ((c = a.draggedLink),\r\n              (d = c.routeBounds),\r\n              Df(\r\n                c,\r\n                a.startPoint.x - (d.x + d.width / 2),\r\n                a.startPoint.y - (d.y + d.height / 2)\r\n              ));\r\n          }\r\n        }\r\n      }\r\n      bf.prototype.doSimulatedDragOut = function () {\r\n        var a = this.diagram;\r\n        a.Qt = !1;\r\n        this.mayCopy() || this.mayMove()\r\n          ? (a.currentCursor = \"\")\r\n          : (a.currentCursor = this.nodropCursor);\r\n        this.ro = null;\r\n      };\r\n      bf.prototype.computeMove = function (a, b, c, d) {\r\n        c = this.diagram;\r\n        return null !== c ? c.computeMove(a, b, this.dragOptions, d) : new J();\r\n      };\r\n      ma.Object.defineProperties(bf.prototype, {\r\n        isCopyEnabled: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Pc;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"boolean\", bf, \"isCopyEnabled\");\r\n            this.Pc = a;\r\n          },\r\n        },\r\n        copiesEffectiveCollection: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.L;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"boolean\", bf, \"copiesEffectiveCollection\");\r\n            this.L = a;\r\n          },\r\n        },\r\n        dragOptions: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Pa;\r\n          },\r\n          set: function (a) {\r\n            w(a, cf, bf, \"dragOptions\");\r\n            this.Pa = a;\r\n          },\r\n        },\r\n        isGridSnapEnabled: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.dragOptions.isGridSnapEnabled;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"boolean\", bf, \"isGridSnapEnabled\");\r\n            this.dragOptions.isGridSnapEnabled = a;\r\n          },\r\n        },\r\n        isComplexRoutingRealtime: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Oc;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"boolean\", bf, \"isComplexRoutingRealtime\");\r\n            this.Oc = a;\r\n          },\r\n        },\r\n        isGridSnapRealtime: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.dragOptions.isGridSnapRealtime;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"boolean\", bf, \"isGridSnapRealtime\");\r\n            this.dragOptions.isGridSnapRealtime = a;\r\n          },\r\n        },\r\n        gridSnapCellSize: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.dragOptions.gridSnapCellSize;\r\n          },\r\n          set: function (a) {\r\n            w(a, Jb, bf, \"gridSnapCellSize\");\r\n            this.dragOptions.gridSnapCellSize.B(a) ||\r\n              ((a = a.J()), (this.dragOptions.gridSnapCellSize = a));\r\n          },\r\n        },\r\n        gridSnapCellSpot: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.dragOptions.gridSnapCellSpot;\r\n          },\r\n          set: function (a) {\r\n            w(a, M, bf, \"gridSnapCellSpot\");\r\n            this.dragOptions.gridSnapCellSpot.B(a) ||\r\n              ((a = a.J()), (this.dragOptions.gridSnapCellSpot = a));\r\n          },\r\n        },\r\n        gridSnapOrigin: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.dragOptions.gridSnapOrigin;\r\n          },\r\n          set: function (a) {\r\n            w(a, J, bf, \"gridSnapOrigin\");\r\n            this.dragOptions.gridSnapOrigin.B(a) ||\r\n              ((a = a.J()), (this.dragOptions.gridSnapOrigin = a));\r\n          },\r\n        },\r\n        dragsLink: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.dragOptions.dragsLink;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"boolean\", bf, \"dragsLink\");\r\n            this.dragOptions.dragsLink = a;\r\n          },\r\n        },\r\n        dragsTree: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.dragOptions.dragsTree;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"boolean\", bf, \"dragsTree\");\r\n            this.dragOptions.dragsTree = a;\r\n          },\r\n        },\r\n        copyCursor: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.aa;\r\n          },\r\n          set: function (a) {\r\n            this.aa = a;\r\n          },\r\n        },\r\n        moveCursor: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Th;\r\n          },\r\n          set: function (a) {\r\n            this.Th = a;\r\n          },\r\n        },\r\n        nodropCursor: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Qe;\r\n          },\r\n          set: function (a) {\r\n            this.Qe = a;\r\n          },\r\n        },\r\n        currentPart: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Oa;\r\n          },\r\n          set: function (a) {\r\n            null !== a && w(a, S, bf, \"currentPart\");\r\n            this.Oa = a;\r\n          },\r\n        },\r\n        copiedParts: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.w;\r\n          },\r\n          set: function (a) {\r\n            this.w = a;\r\n          },\r\n        },\r\n        draggedParts: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.fb;\r\n          },\r\n          set: function (a) {\r\n            this.fb = a;\r\n          },\r\n        },\r\n        draggingParts: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.copiedParts\r\n              ? this.copiedParts.Nf()\r\n              : null !== this.draggedParts\r\n              ? this.draggedParts.Nf()\r\n              : this.rj;\r\n          },\r\n        },\r\n        draggedLink: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.diagram.draggedLink;\r\n          },\r\n          set: function (a) {\r\n            null !== a && w(a, Q, bf, \"draggedLink\");\r\n            this.diagram.draggedLink = a;\r\n          },\r\n        },\r\n        isDragOutStarted: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Of;\r\n          },\r\n          set: function (a) {\r\n            this.Of = a;\r\n          },\r\n        },\r\n        startPoint: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ps;\r\n          },\r\n          set: function (a) {\r\n            w(a, J, bf, \"startPoint\");\r\n            this.Ps.B(a) || this.Ps.assign(a);\r\n          },\r\n        },\r\n        delay: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.el;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"number\", bf, \"delay\");\r\n            this.el = a;\r\n          },\r\n        },\r\n      });\r\n      bf.prototype.getDraggingSource = bf.prototype.Nz;\r\n      var of = null,\r\n        ef = null,\r\n        jf = null;\r\n      bf.className = \"DraggingTool\";\r\n      of = new G();\r\n      Ra(\r\n        \"draggingTool\",\r\n        function () {\r\n          return this.findTool(\"Dragging\");\r\n        },\r\n        function (a) {\r\n          this.ab(\"Dragging\", a, this.mouseMoveTools);\r\n        }\r\n      );\r\n      Sa.prototype.doCancel = function () {\r\n        null !== ef && ef.doCancel();\r\n        Ke.prototype.doCancel.call(this);\r\n      };\r\n\r\n      function Zf() {\r\n        0 < arguments.length && za(Zf);\r\n        Ke.call(this);\r\n        this.Of = 100;\r\n        this.aa = !1;\r\n        this.ki = \"pointer\";\r\n        var a = new Q(),\r\n          b = new $f();\r\n        b.isPanelMain = !0;\r\n        b.stroke = \"blue\";\r\n        a.add(b);\r\n        b = new $f();\r\n        b.toArrow = \"Standard\";\r\n        b.fill = \"blue\";\r\n        b.stroke = \"blue\";\r\n        a.add(b);\r\n        a.layerName = \"Tool\";\r\n        this.Zm = a;\r\n        a = new U();\r\n        b = new $f();\r\n        b.portId = \"\";\r\n        b.figure = \"Rectangle\";\r\n        b.fill = null;\r\n        b.stroke = \"magenta\";\r\n        b.strokeWidth = 2;\r\n        b.desiredSize = Xb;\r\n        a.add(b);\r\n        a.selectable = !1;\r\n        a.layerName = \"Tool\";\r\n        this.Xm = a;\r\n        this.Ym = b;\r\n        a = new U();\r\n        b = new $f();\r\n        b.portId = \"\";\r\n        b.figure = \"Rectangle\";\r\n        b.fill = null;\r\n        b.stroke = \"magenta\";\r\n        b.strokeWidth = 2;\r\n        b.desiredSize = Xb;\r\n        a.add(b);\r\n        a.selectable = !1;\r\n        a.layerName = \"Tool\";\r\n        this.Yq = a;\r\n        this.Ew = b;\r\n        this.Pc = this.Oc = this.Pa = this.Oa = this.fb = null;\r\n        this.L = !0;\r\n        this.Cy = new Db();\r\n        this.Th = this.Ci = this.rj = null;\r\n      }\r\n      la(Zf, Ke);\r\n      Zf.prototype.doStop = function () {\r\n        this.diagram.Mf();\r\n        this.originalToPort =\r\n          this.originalToNode =\r\n          this.originalFromPort =\r\n          this.originalFromNode =\r\n          this.originalLink =\r\n            null;\r\n        this.validPortsCache.clear();\r\n        this.targetPort = null;\r\n      };\r\n      Zf.prototype.copyPortProperties = function (a, b, c, d, e) {\r\n        if (null !== a && null !== b && null !== c && null !== d) {\r\n          var f = b.Df(),\r\n            g = Jb.alloc();\r\n          g.width = b.naturalBounds.width * f;\r\n          g.height = b.naturalBounds.height * f;\r\n          d.desiredSize = g;\r\n          Jb.free(g);\r\n          e\r\n            ? ((d.toSpot = b.toSpot),\r\n              (d.toEndSegmentLength = b.toEndSegmentLength))\r\n            : ((d.fromSpot = b.fromSpot),\r\n              (d.fromEndSegmentLength = b.fromEndSegmentLength));\r\n          c.locationSpot = Mc;\r\n          f = J.alloc();\r\n          c.location = b.ma(Mc, f);\r\n          J.free(f);\r\n          d.angle = b.dj();\r\n          null !== this.portTargeted && this.portTargeted(a, b, c, d, e);\r\n        }\r\n      };\r\n      Zf.prototype.setNoTargetPortProperties = function (a, b, c) {\r\n        null !== b &&\r\n          ((b.desiredSize = Xb), (b.fromSpot = Gc), (b.toSpot = Gc));\r\n        null !== a && (a.location = this.diagram.lastInput.documentPoint);\r\n        null !== this.portTargeted && this.portTargeted(null, null, a, b, c);\r\n      };\r\n      Zf.prototype.doMouseDown = function () {\r\n        this.isActive && this.doMouseMove();\r\n      };\r\n      Zf.prototype.doMouseMove = function () {\r\n        if (this.isActive) {\r\n          var a = this.diagram;\r\n          this.targetPort = this.findTargetPort(this.isForwards);\r\n          if (null !== this.targetPort && this.targetPort.part instanceof U) {\r\n            var b = this.targetPort.part;\r\n            this.isForwards\r\n              ? this.copyPortProperties(\r\n                  b,\r\n                  this.targetPort,\r\n                  this.temporaryToNode,\r\n                  this.temporaryToPort,\r\n                  !0\r\n                )\r\n              : this.copyPortProperties(\r\n                  b,\r\n                  this.targetPort,\r\n                  this.temporaryFromNode,\r\n                  this.temporaryFromPort,\r\n                  !1\r\n                );\r\n          } else\r\n            this.isForwards\r\n              ? this.setNoTargetPortProperties(\r\n                  this.temporaryToNode,\r\n                  this.temporaryToPort,\r\n                  !0\r\n                )\r\n              : this.setNoTargetPortProperties(\r\n                  this.temporaryFromNode,\r\n                  this.temporaryFromPort,\r\n                  !1\r\n                );\r\n          (a.allowHorizontalScroll || a.allowVerticalScroll) &&\r\n            a.ht(a.lastInput.viewPoint);\r\n        }\r\n      };\r\n      Zf.prototype.findValidLinkablePort = function (a, b) {\r\n        if (null === a) return null;\r\n        var c = a.part;\r\n        if (!(c instanceof U)) return null;\r\n        for (; null !== a; ) {\r\n          var d = b ? a.toLinkable : a.fromLinkable;\r\n          if (\r\n            !0 === d &&\r\n            (null !== a.portId || a instanceof U) &&\r\n            (b ? this.isValidTo(c, a) : this.isValidFrom(c, a))\r\n          )\r\n            return a;\r\n          if (!1 === d) break;\r\n          a = a.panel;\r\n        }\r\n        return null;\r\n      };\r\n      Zf.prototype.findTargetPort = function (a) {\r\n        var b = this.diagram,\r\n          c = b.lastInput.documentPoint,\r\n          d = this.portGravity;\r\n        0 >= d && (d = 0.1);\r\n        var e = this,\r\n          f = b.Jg(\r\n            c,\r\n            d,\r\n            function (b) {\r\n              return e.findValidLinkablePort(b, a);\r\n            },\r\n            null,\r\n            !0\r\n          );\r\n        d = Infinity;\r\n        b = null;\r\n        for (f = f.iterator; f.next(); ) {\r\n          var g = f.value,\r\n            h = g.part;\r\n          if (h instanceof U) {\r\n            var k = g.ma(Mc, J.alloc()),\r\n              l = c.x - k.x,\r\n              m = c.y - k.y;\r\n            J.free(k);\r\n            k = l * l + m * m;\r\n            k < d &&\r\n              ((l = this.validPortsCache.K(g)),\r\n              null !== l\r\n                ? l && ((b = g), (d = k))\r\n                : (a &&\r\n                    this.isValidLink(\r\n                      this.originalFromNode,\r\n                      this.originalFromPort,\r\n                      h,\r\n                      g\r\n                    )) ||\r\n                  (!a &&\r\n                    this.isValidLink(\r\n                      h,\r\n                      g,\r\n                      this.originalToNode,\r\n                      this.originalToPort\r\n                    ))\r\n                ? (this.validPortsCache.add(g, !0), (b = g), (d = k))\r\n                : this.validPortsCache.add(g, !1));\r\n          }\r\n        }\r\n        return null !== b &&\r\n          ((c = b.part),\r\n          c instanceof U && (null === c.layer || c.layer.allowLink))\r\n          ? b\r\n          : null;\r\n      };\r\n      Zf.prototype.isValidFrom = function (a, b) {\r\n        if (null === a || null === b) return this.isUnconnectedLinkValid;\r\n        if (\r\n          this.diagram.currentTool === this &&\r\n          ((null !== a.layer && !a.layer.allowLink) || !0 !== b.fromLinkable)\r\n        )\r\n          return !1;\r\n        var c = b.fromMaxLinks;\r\n        if (Infinity > c) {\r\n          if (\r\n            null !== this.originalLink &&\r\n            a === this.originalFromNode &&\r\n            b === this.originalFromPort\r\n          )\r\n            return !0;\r\n          b = b.portId;\r\n          null === b && (b = \"\");\r\n          if (a.qq(b).count >= c) return !1;\r\n        }\r\n        return !0;\r\n      };\r\n      Zf.prototype.isValidTo = function (a, b) {\r\n        if (null === a || null === b) return this.isUnconnectedLinkValid;\r\n        if (\r\n          this.diagram.currentTool === this &&\r\n          ((null !== a.layer && !a.layer.allowLink) || !0 !== b.toLinkable)\r\n        )\r\n          return !1;\r\n        var c = b.toMaxLinks;\r\n        if (Infinity > c) {\r\n          if (\r\n            null !== this.originalLink &&\r\n            a === this.originalToNode &&\r\n            b === this.originalToPort\r\n          )\r\n            return !0;\r\n          b = b.portId;\r\n          null === b && (b = \"\");\r\n          if (a.zd(b).count >= c) return !1;\r\n        }\r\n        return !0;\r\n      };\r\n      Zf.prototype.isInSameNode = function (a, b) {\r\n        if (null === a || null === b) return !1;\r\n        if (a === b) return !0;\r\n        a = a.part;\r\n        b = b.part;\r\n        return null !== a && a === b;\r\n      };\r\n      Zf.prototype.isLinked = function (a, b) {\r\n        if (null === a || null === b) return !1;\r\n        var c = a.part;\r\n        if (!(c instanceof U)) return !1;\r\n        a = a.portId;\r\n        null === a && (a = \"\");\r\n        var d = b.part;\r\n        if (!(d instanceof U)) return !1;\r\n        b = b.portId;\r\n        null === b && (b = \"\");\r\n        for (b = d.zd(b); b.next(); )\r\n          if (((d = b.value), d.fromNode === c && d.fromPortId === a))\r\n            return !0;\r\n        return !1;\r\n      };\r\n      Zf.prototype.isValidLink = function (a, b, c, d) {\r\n        if (\r\n          !this.isValidFrom(a, b) ||\r\n          !this.isValidTo(c, d) ||\r\n          !(\r\n            null === b ||\r\n            null === d ||\r\n            (((b.fromLinkableSelfNode && d.toLinkableSelfNode) ||\r\n              !this.isInSameNode(b, d)) &&\r\n              ((b.fromLinkableDuplicates && d.toLinkableDuplicates) ||\r\n                !this.isLinked(b, d)))\r\n          ) ||\r\n          (null !== this.originalLink &&\r\n            ((null !== a &&\r\n              this.isLabelDependentOnLink(a, this.originalLink)) ||\r\n              (null !== c &&\r\n                this.isLabelDependentOnLink(c, this.originalLink)))) ||\r\n          (null !== a &&\r\n            null !== c &&\r\n            ((null === a.data && null !== c.data) ||\r\n              (null !== a.data && null === c.data))) ||\r\n          !this.isValidCycle(a, c, this.originalLink)\r\n        )\r\n          return !1;\r\n        if (null !== a) {\r\n          var e = a.linkValidation;\r\n          if (null !== e && !e(a, b, c, d, this.originalLink)) return !1;\r\n        }\r\n        if (\r\n          null !== c &&\r\n          ((e = c.linkValidation),\r\n          null !== e && !e(a, b, c, d, this.originalLink))\r\n        )\r\n          return !1;\r\n        e = this.linkValidation;\r\n        return null !== e ? e(a, b, c, d, this.originalLink) : !0;\r\n      };\r\n      Zf.prototype.isLabelDependentOnLink = function (a, b) {\r\n        if (null === a) return !1;\r\n        var c = a.labeledLink;\r\n        if (null === c) return !1;\r\n        if (c === b) return !0;\r\n        var d = new H();\r\n        d.add(a);\r\n        return ag(this, c, b, d);\r\n      };\r\n\r\n      function ag(a, b, c, d) {\r\n        if (b === c) return !0;\r\n        var e = b.fromNode;\r\n        if (\r\n          null !== e &&\r\n          e.isLinkLabel &&\r\n          (d.add(e), ag(a, e.labeledLink, c, d))\r\n        )\r\n          return !0;\r\n        b = b.toNode;\r\n        return null !== b &&\r\n          b.isLinkLabel &&\r\n          (d.add(b), ag(a, b.labeledLink, c, d))\r\n          ? !0\r\n          : !1;\r\n      }\r\n      Zf.prototype.isValidCycle = function (a, b, c) {\r\n        void 0 === c && (c = null);\r\n        if (null === a || null === b) return this.isUnconnectedLinkValid;\r\n        var d = this.diagram.validCycle;\r\n        if (d !== bg) {\r\n          if (d === cg) {\r\n            d = c || this.temporaryLink;\r\n            if (null !== d && !d.isTreeLink) return !0;\r\n            for (d = b.linksConnected; d.next(); ) {\r\n              var e = d.value;\r\n              if (e !== c && e.isTreeLink && e.toNode === b) return !1;\r\n            }\r\n            return !dg(this, a, b, c, !0);\r\n          }\r\n          if (d === eg) {\r\n            d = c || this.temporaryLink;\r\n            if (null !== d && !d.isTreeLink) return !0;\r\n            for (d = a.linksConnected; d.next(); )\r\n              if (((e = d.value), e !== c && e.isTreeLink && e.fromNode === a))\r\n                return !1;\r\n            return !dg(this, a, b, c, !0);\r\n          }\r\n          if (d === fg)\r\n            return (\r\n              a === b\r\n                ? (a = !0)\r\n                : ((d = new H()), d.add(b), (a = gg(this, d, a, b, c))),\r\n              !a\r\n            );\r\n          if (d === hg) return !dg(this, a, b, c, !1);\r\n          if (d === ig)\r\n            return (\r\n              a === b\r\n                ? (a = !0)\r\n                : ((d = new H()), d.add(b), (a = jg(this, d, a, b, c))),\r\n              !a\r\n            );\r\n        }\r\n        return !0;\r\n      };\r\n\r\n      function dg(a, b, c, d, e) {\r\n        if (b === c) return !0;\r\n        if (null === b || null === c) return !1;\r\n        for (var f = b.linksConnected; f.next(); ) {\r\n          var g = f.value;\r\n          if (\r\n            g !== d &&\r\n            (!e || g.isTreeLink) &&\r\n            g.toNode === b &&\r\n            ((g = g.fromNode), g !== b && dg(a, g, c, d, e))\r\n          )\r\n            return !0;\r\n        }\r\n        return !1;\r\n      }\r\n\r\n      function gg(a, b, c, d, e) {\r\n        if (c === d) return !0;\r\n        if (null === c || null === d || b.contains(c)) return !1;\r\n        b.add(c);\r\n        for (var f = c.linksConnected; f.next(); ) {\r\n          var g = f.value;\r\n          if (\r\n            g !== e &&\r\n            g.toNode === c &&\r\n            ((g = g.fromNode), g !== c && gg(a, b, g, d, e))\r\n          )\r\n            return !0;\r\n        }\r\n        return !1;\r\n      }\r\n\r\n      function jg(a, b, c, d, e) {\r\n        if (c === d) return !0;\r\n        if (null === c || null === d || b.contains(c)) return !1;\r\n        b.add(c);\r\n        for (var f = c.linksConnected; f.next(); ) {\r\n          var g = f.value;\r\n          if (g !== e) {\r\n            var h = g.fromNode;\r\n            g = g.toNode;\r\n            h = h === c ? g : h;\r\n            if (h !== c && jg(a, b, h, d, e)) return !0;\r\n          }\r\n        }\r\n        return !1;\r\n      }\r\n      ma.Object.defineProperties(Zf.prototype, {\r\n        portGravity: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Of;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"number\", Zf, \"portGravity\");\r\n            0 <= a && (this.Of = a);\r\n          },\r\n        },\r\n        isUnconnectedLinkValid: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.aa;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"boolean\", Zf, \"isUnconnectedLinkValid\");\r\n            this.aa = a;\r\n          },\r\n        },\r\n        linkingCursor: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ki;\r\n          },\r\n          set: function (a) {\r\n            this.ki = a;\r\n          },\r\n        },\r\n        temporaryLink: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Zm;\r\n          },\r\n          set: function (a) {\r\n            w(a, Q, Zf, \"temporaryLink\");\r\n            this.Zm = a;\r\n          },\r\n        },\r\n        temporaryFromNode: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Xm;\r\n          },\r\n          set: function (a) {\r\n            w(a, U, Zf, \"temporaryFromNode\");\r\n            this.Xm = a;\r\n          },\r\n        },\r\n        temporaryFromPort: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ym;\r\n          },\r\n          set: function (a) {\r\n            w(a, N, Zf, \"temporaryFromPort\");\r\n            this.Ym = a;\r\n          },\r\n        },\r\n        temporaryToNode: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Yq;\r\n          },\r\n          set: function (a) {\r\n            w(a, U, Zf, \"temporaryToNode\");\r\n            this.Yq = a;\r\n          },\r\n        },\r\n        temporaryToPort: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ew;\r\n          },\r\n          set: function (a) {\r\n            w(a, N, Zf, \"temporaryToPort\");\r\n            this.Ew = a;\r\n          },\r\n        },\r\n        originalLink: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.fb;\r\n          },\r\n          set: function (a) {\r\n            null !== a && w(a, Q, Zf, \"originalLink\");\r\n            this.fb = a;\r\n          },\r\n        },\r\n        originalFromNode: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Oa;\r\n          },\r\n          set: function (a) {\r\n            null !== a && w(a, U, Zf, \"originalFromNode\");\r\n            this.Oa = a;\r\n          },\r\n        },\r\n        originalFromPort: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Pa;\r\n          },\r\n          set: function (a) {\r\n            null !== a && w(a, N, Zf, \"originalFromPort\");\r\n            this.Pa = a;\r\n          },\r\n        },\r\n        originalToNode: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Oc;\r\n          },\r\n          set: function (a) {\r\n            null !== a && w(a, U, Zf, \"originalToNode\");\r\n            this.Oc = a;\r\n          },\r\n        },\r\n        originalToPort: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Pc;\r\n          },\r\n          set: function (a) {\r\n            null !== a && w(a, N, Zf, \"originalToPort\");\r\n            this.Pc = a;\r\n          },\r\n        },\r\n        isForwards: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.L;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"boolean\", Zf, \"isForwards\");\r\n            this.L = a;\r\n          },\r\n        },\r\n        validPortsCache: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Cy;\r\n          },\r\n        },\r\n        targetPort: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.rj;\r\n          },\r\n          set: function (a) {\r\n            null !== a && w(a, N, Zf, \"targetPort\");\r\n            this.rj = a;\r\n          },\r\n        },\r\n        linkValidation: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ci;\r\n          },\r\n          set: function (a) {\r\n            null !== a && A(a, \"function\", Zf, \"linkValidation\");\r\n            this.Ci = a;\r\n          },\r\n        },\r\n        portTargeted: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Th;\r\n          },\r\n          set: function (a) {\r\n            null !== a && A(a, \"function\", Zf, \"portTargeted\");\r\n            this.Th = a;\r\n          },\r\n        },\r\n      });\r\n      Zf.className = \"LinkingBaseTool\";\r\n\r\n      function kg() {\r\n        0 < arguments.length && za(kg);\r\n        Zf.call(this);\r\n        this.name = \"Linking\";\r\n        this.w = {};\r\n        this.l = null;\r\n        this.M = lg;\r\n        this.Qe = null;\r\n      }\r\n      la(kg, Zf);\r\n      kg.prototype.canStart = function () {\r\n        if (!this.isEnabled) return !1;\r\n        var a = this.diagram;\r\n        return a.isReadOnly ||\r\n          a.isModelReadOnly ||\r\n          !a.allowLink ||\r\n          !a.model.yt() ||\r\n          !a.lastInput.left ||\r\n          (a.currentTool !== this && !this.isBeyondDragSize())\r\n          ? !1\r\n          : null !== this.findLinkablePort();\r\n      };\r\n      kg.prototype.findLinkablePort = function () {\r\n        var a = this.diagram,\r\n          b = this.startObject;\r\n        null === b && (b = a.Yb(a.firstInput.documentPoint, null, null));\r\n        if (null === b || !(b.part instanceof U)) return null;\r\n        a = this.direction;\r\n        if (a === lg || a === mg) {\r\n          var c = this.findValidLinkablePort(b, !1);\r\n          if (null !== c) return (this.isForwards = !0), c;\r\n        }\r\n        if (a === lg || a === ng)\r\n          if (((b = this.findValidLinkablePort(b, !0)), null !== b))\r\n            return (this.isForwards = !1), b;\r\n        return null;\r\n      };\r\n      kg.prototype.doActivate = function () {\r\n        var a = this.diagram,\r\n          b = this.findLinkablePort();\r\n        null !== b &&\r\n          (this.Aa(this.name),\r\n          (a.isMouseCaptured = !0),\r\n          (a.currentCursor = this.linkingCursor),\r\n          this.isForwards\r\n            ? (null === this.temporaryToNode ||\r\n                this.temporaryToNode.location.o() ||\r\n                (this.temporaryToNode.location = a.lastInput.documentPoint),\r\n              (this.originalFromPort = b),\r\n              (b = this.originalFromPort.part),\r\n              b instanceof U && (this.originalFromNode = b),\r\n              this.copyPortProperties(\r\n                this.originalFromNode,\r\n                this.originalFromPort,\r\n                this.temporaryFromNode,\r\n                this.temporaryFromPort,\r\n                !1\r\n              ))\r\n            : (null === this.temporaryFromNode ||\r\n                this.temporaryFromNode.location.o() ||\r\n                (this.temporaryFromNode.location = a.lastInput.documentPoint),\r\n              (this.originalToPort = b),\r\n              (b = this.originalToPort.part),\r\n              b instanceof U && (this.originalToNode = b),\r\n              this.copyPortProperties(\r\n                this.originalToNode,\r\n                this.originalToPort,\r\n                this.temporaryToNode,\r\n                this.temporaryToPort,\r\n                !0\r\n              )),\r\n          a.add(this.temporaryFromNode),\r\n          a.add(this.temporaryToNode),\r\n          null !== this.temporaryLink &&\r\n            (null !== this.temporaryFromNode &&\r\n              (this.temporaryLink.fromNode = this.temporaryFromNode),\r\n            null !== this.temporaryToNode &&\r\n              (this.temporaryLink.toNode = this.temporaryToNode),\r\n            (this.temporaryLink.isTreeLink = this.isNewTreeLink()),\r\n            this.temporaryLink.Ta(),\r\n            a.add(this.temporaryLink)),\r\n          (this.isActive = !0));\r\n      };\r\n      kg.prototype.doDeactivate = function () {\r\n        this.isActive = !1;\r\n        var a = this.diagram;\r\n        a.remove(this.temporaryLink);\r\n        a.remove(this.temporaryFromNode);\r\n        a.remove(this.temporaryToNode);\r\n        a.isMouseCaptured = !1;\r\n        a.currentCursor = \"\";\r\n        this.Qg();\r\n      };\r\n      kg.prototype.doStop = function () {\r\n        Zf.prototype.doStop.call(this);\r\n        this.startObject = null;\r\n      };\r\n      kg.prototype.doMouseUp = function () {\r\n        var a = this.diagram;\r\n        if (this.isActive) {\r\n          var b = (this.transactionResult = null),\r\n            c = null,\r\n            d = null,\r\n            e = null,\r\n            f = null;\r\n          try {\r\n            var g = (this.targetPort = this.findTargetPort(this.isForwards));\r\n            if (null !== g) {\r\n              var h = g.part;\r\n              h instanceof U &&\r\n                (this.isForwards\r\n                  ? (null !== this.originalFromNode &&\r\n                      ((b = this.originalFromNode),\r\n                      (c = this.originalFromPort)),\r\n                    (d = h),\r\n                    (e = g))\r\n                  : ((b = h),\r\n                    (c = g),\r\n                    null !== this.originalToNode &&\r\n                      ((d = this.originalToNode), (e = this.originalToPort))));\r\n            } else\r\n              this.isForwards\r\n                ? null !== this.originalFromNode &&\r\n                  this.isUnconnectedLinkValid &&\r\n                  ((b = this.originalFromNode), (c = this.originalFromPort))\r\n                : null !== this.originalToNode &&\r\n                  this.isUnconnectedLinkValid &&\r\n                  ((d = this.originalToNode), (e = this.originalToPort));\r\n            null !== b || null !== d\r\n              ? ((f = this.insertLink(b, c, d, e)),\r\n                null !== f\r\n                  ? (null === g &&\r\n                      (this.isForwards\r\n                        ? (f.defaultToPoint = a.lastInput.documentPoint)\r\n                        : (f.defaultFromPoint = a.lastInput.documentPoint)),\r\n                    a.allowSelect &&\r\n                      (a.U(\"ChangingSelection\", a.selection),\r\n                      (f.isSelected = !0)),\r\n                    (this.transactionResult = this.name),\r\n                    a.U(\"LinkDrawn\", f))\r\n                  : (a.model.jv(), this.doNoLink(b, c, d, e)))\r\n              : this.isForwards\r\n              ? this.doNoLink(\r\n                  this.originalFromNode,\r\n                  this.originalFromPort,\r\n                  null,\r\n                  null\r\n                )\r\n              : this.doNoLink(\r\n                  null,\r\n                  null,\r\n                  this.originalToNode,\r\n                  this.originalToPort\r\n                );\r\n          } finally {\r\n            this.stopTool(),\r\n              f && a.allowSelect && a.U(\"ChangedSelection\", a.selection);\r\n          }\r\n        }\r\n      };\r\n      kg.prototype.isNewTreeLink = function () {\r\n        var a = this.archetypeLinkData;\r\n        if (null === a) return !0;\r\n        if (a instanceof Q) return a.isTreeLink;\r\n        var b = this.diagram;\r\n        if (null === b) return !0;\r\n        a = b.partManager.getLinkCategoryForData(a);\r\n        b = b.partManager.findLinkTemplateForCategory(a);\r\n        return null !== b ? b.isTreeLink : !0;\r\n      };\r\n      kg.prototype.insertLink = function (a, b, c, d) {\r\n        return this.diagram.partManager.insertLink(a, b, c, d);\r\n      };\r\n      kg.prototype.doNoLink = function () {};\r\n      ma.Object.defineProperties(kg.prototype, {\r\n        archetypeLinkData: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.w;\r\n          },\r\n          set: function (a) {\r\n            null !== a && A(a, \"object\", kg, \"archetypeLinkData\");\r\n            a instanceof N && w(a, Q, kg, \"archetypeLinkData\");\r\n            this.w = a;\r\n          },\r\n        },\r\n        archetypeLabelNodeData: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.l;\r\n          },\r\n          set: function (a) {\r\n            null !== a && A(a, \"object\", kg, \"archetypeLabelNodeData\");\r\n            a instanceof N && w(a, U, kg, \"archetypeLabelNodeData\");\r\n            this.l = a;\r\n          },\r\n        },\r\n        direction: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.M;\r\n          },\r\n          set: function (a) {\r\n            hb(a, kg, kg, \"direction\");\r\n            this.M = a;\r\n          },\r\n        },\r\n        startObject: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Qe;\r\n          },\r\n          set: function (a) {\r\n            null !== a && w(a, N, kg, \"startObject\");\r\n            this.Qe = a;\r\n          },\r\n        },\r\n      });\r\n      var lg = new E(kg, \"Either\", 0),\r\n        mg = new E(kg, \"ForwardsOnly\", 0),\r\n        ng = new E(kg, \"BackwardsOnly\", 0);\r\n      kg.className = \"LinkingTool\";\r\n      kg.Either = lg;\r\n      kg.ForwardsOnly = mg;\r\n      kg.BackwardsOnly = ng;\r\n\r\n      function kf() {\r\n        0 < arguments.length && za(kf);\r\n        Zf.call(this);\r\n        this.name = \"Relinking\";\r\n        var a = new $f();\r\n        a.figure = \"Diamond\";\r\n        a.desiredSize = Zb;\r\n        a.fill = \"lightblue\";\r\n        a.stroke = \"dodgerblue\";\r\n        a.cursor = this.linkingCursor;\r\n        a.segmentIndex = 0;\r\n        this.w = a;\r\n        a = new $f();\r\n        a.figure = \"Diamond\";\r\n        a.desiredSize = Zb;\r\n        a.fill = \"lightblue\";\r\n        a.stroke = \"dodgerblue\";\r\n        a.cursor = this.linkingCursor;\r\n        a.segmentIndex = -1;\r\n        this.Qe = a;\r\n        this.l = null;\r\n        this.jx = new L();\r\n      }\r\n      la(kf, Zf);\r\n      kf.prototype.updateAdornments = function (a) {\r\n        if (null !== a && a instanceof Q) {\r\n          var b = \"RelinkFrom\",\r\n            c = null;\r\n          if (a.isSelected && !this.diagram.isReadOnly) {\r\n            var d = a.selectionObject;\r\n            null !== d &&\r\n              a.canRelinkFrom() &&\r\n              a.actualBounds.o() &&\r\n              a.isVisible() &&\r\n              d.actualBounds.o() &&\r\n              d.If() &&\r\n              ((c = a.nk(b)),\r\n              null === c && ((c = this.makeAdornment(d, !1)), a.Ih(b, c)));\r\n          }\r\n          null === c && a.Kf(b);\r\n          b = \"RelinkTo\";\r\n          c = null;\r\n          a.isSelected &&\r\n            !this.diagram.isReadOnly &&\r\n            ((d = a.selectionObject),\r\n            null !== d &&\r\n              a.canRelinkTo() &&\r\n              a.actualBounds.o() &&\r\n              a.isVisible() &&\r\n              d.actualBounds.o() &&\r\n              d.If() &&\r\n              ((c = a.nk(b)),\r\n              null === c\r\n                ? ((c = this.makeAdornment(d, !0)), a.Ih(b, c))\r\n                : c.v()));\r\n          null === c && a.Kf(b);\r\n        }\r\n      };\r\n      kf.prototype.makeAdornment = function (a, b) {\r\n        var c = new Pe();\r\n        c.type = V.Link;\r\n        b = b ? this.toHandleArchetype : this.fromHandleArchetype;\r\n        null !== b && c.add(b.copy());\r\n        c.adornedObject = a;\r\n        return c;\r\n      };\r\n      kf.prototype.canStart = function () {\r\n        if (!this.isEnabled) return !1;\r\n        var a = this.diagram;\r\n        if (\r\n          a.isReadOnly ||\r\n          a.isModelReadOnly ||\r\n          !a.allowRelink ||\r\n          !a.model.yt() ||\r\n          !a.lastInput.left\r\n        )\r\n          return !1;\r\n        var b = this.findToolHandleAt(a.firstInput.documentPoint, \"RelinkFrom\");\r\n        null === b &&\r\n          (b = this.findToolHandleAt(a.firstInput.documentPoint, \"RelinkTo\"));\r\n        return null !== b;\r\n      };\r\n      kf.prototype.doActivate = function () {\r\n        var a = this.diagram;\r\n        if (null === this.originalLink) {\r\n          var b = this.handle;\r\n          null === b &&\r\n            ((b = this.findToolHandleAt(\r\n              a.firstInput.documentPoint,\r\n              \"RelinkFrom\"\r\n            )),\r\n            null === b &&\r\n              (b = this.findToolHandleAt(\r\n                a.firstInput.documentPoint,\r\n                \"RelinkTo\"\r\n              )));\r\n          if (null === b) return;\r\n          var c = b.part;\r\n          if (!(c instanceof Pe && c.adornedPart instanceof Q)) return;\r\n          this.handle = b;\r\n          this.isForwards = null === c || \"RelinkTo\" === c.category;\r\n          this.originalLink = c.adornedPart;\r\n        }\r\n        this.Aa(this.name);\r\n        a.isMouseCaptured = !0;\r\n        a.currentCursor = this.linkingCursor;\r\n        this.originalFromPort = this.originalLink.fromPort;\r\n        this.originalFromNode = this.originalLink.fromNode;\r\n        this.originalToPort = this.originalLink.toPort;\r\n        this.originalToNode = this.originalLink.toNode;\r\n        this.jx.set(this.originalLink.actualBounds);\r\n        null !== this.originalLink &&\r\n          0 < this.originalLink.pointsCount &&\r\n          (null === this.originalLink.fromNode &&\r\n            (null !== this.temporaryFromPort &&\r\n              (this.temporaryFromPort.desiredSize = Wb),\r\n            null !== this.temporaryFromNode &&\r\n              (this.temporaryFromNode.location = this.originalLink.i(0))),\r\n          null === this.originalLink.toNode &&\r\n            (null !== this.temporaryToPort &&\r\n              (this.temporaryToPort.desiredSize = Wb),\r\n            null !== this.temporaryToNode &&\r\n              (this.temporaryToNode.location = this.originalLink.i(\r\n                this.originalLink.pointsCount - 1\r\n              ))));\r\n        this.copyPortProperties(\r\n          this.originalFromNode,\r\n          this.originalFromPort,\r\n          this.temporaryFromNode,\r\n          this.temporaryFromPort,\r\n          !1\r\n        );\r\n        this.copyPortProperties(\r\n          this.originalToNode,\r\n          this.originalToPort,\r\n          this.temporaryToNode,\r\n          this.temporaryToPort,\r\n          !0\r\n        );\r\n        a.add(this.temporaryFromNode);\r\n        a.add(this.temporaryToNode);\r\n        null !== this.temporaryLink &&\r\n          (null !== this.temporaryFromNode &&\r\n            (this.temporaryLink.fromNode = this.temporaryFromNode),\r\n          null !== this.temporaryToNode &&\r\n            (this.temporaryLink.toNode = this.temporaryToNode),\r\n          this.copyLinkProperties(this.originalLink, this.temporaryLink),\r\n          this.temporaryLink.Ta(),\r\n          a.add(this.temporaryLink));\r\n        this.isActive = !0;\r\n      };\r\n      kf.prototype.copyLinkProperties = function (a, b) {\r\n        if (null !== a && null !== b) {\r\n          b.adjusting = a.adjusting;\r\n          b.corner = a.corner;\r\n          var c = a.curve;\r\n          if (c === og || c === pg) c = qg;\r\n          b.curve = c;\r\n          b.curviness = a.curviness;\r\n          b.isTreeLink = a.isTreeLink;\r\n          b.points = a.points;\r\n          b.routing = a.routing;\r\n          b.smoothness = a.smoothness;\r\n          b.fromSpot = a.fromSpot;\r\n          b.fromEndSegmentLength = a.fromEndSegmentLength;\r\n          b.fromShortLength = a.fromShortLength;\r\n          b.toSpot = a.toSpot;\r\n          b.toEndSegmentLength = a.toEndSegmentLength;\r\n          b.toShortLength = a.toShortLength;\r\n        }\r\n      };\r\n      kf.prototype.doDeactivate = function () {\r\n        this.isActive = !1;\r\n        var a = this.diagram;\r\n        a.remove(this.temporaryLink);\r\n        a.remove(this.temporaryFromNode);\r\n        a.remove(this.temporaryToNode);\r\n        a.isMouseCaptured = !1;\r\n        a.currentCursor = \"\";\r\n        this.Qg();\r\n      };\r\n      kf.prototype.doStop = function () {\r\n        Zf.prototype.doStop.call(this);\r\n        this.handle = null;\r\n      };\r\n      kf.prototype.doMouseUp = function () {\r\n        if (this.isActive) {\r\n          var a = this.diagram;\r\n          this.transactionResult = null;\r\n          var b = this.originalFromNode,\r\n            c = this.originalFromPort,\r\n            d = this.originalToNode,\r\n            e = this.originalToPort,\r\n            f = this.originalLink;\r\n          this.targetPort = this.findTargetPort(this.isForwards);\r\n          if (null !== this.targetPort) {\r\n            var g = this.targetPort.part;\r\n            g instanceof U &&\r\n              (this.isForwards\r\n                ? ((d = g), (e = this.targetPort))\r\n                : ((b = g), (c = this.targetPort)));\r\n          } else\r\n            this.isUnconnectedLinkValid\r\n              ? this.isForwards\r\n                ? (e = d = null)\r\n                : (c = b = null)\r\n              : (f = null);\r\n          null !== f\r\n            ? (this.reconnectLink(\r\n                f,\r\n                this.isForwards ? d : b,\r\n                this.isForwards ? e : c,\r\n                this.isForwards\r\n              ),\r\n              null === this.targetPort &&\r\n                (this.isForwards\r\n                  ? (f.defaultToPoint = a.lastInput.documentPoint)\r\n                  : (f.defaultFromPoint = a.lastInput.documentPoint),\r\n                f.Ta()),\r\n              a.allowSelect && (f.isSelected = !0),\r\n              (this.transactionResult = this.name),\r\n              a.U(\r\n                \"LinkRelinked\",\r\n                f,\r\n                this.isForwards ? this.originalToPort : this.originalFromPort\r\n              ))\r\n            : this.doNoRelink(this.originalLink, this.isForwards);\r\n          this.originalLink.yq(this.jx);\r\n        }\r\n        this.stopTool();\r\n      };\r\n      kf.prototype.reconnectLink = function (a, b, c, d) {\r\n        c = null !== c && null !== c.portId ? c.portId : \"\";\r\n        d\r\n          ? ((a.toNode = b), (a.toPortId = c))\r\n          : ((a.fromNode = b), (a.fromPortId = c));\r\n        return !0;\r\n      };\r\n      kf.prototype.doNoRelink = function () {};\r\n\r\n      function Nf(a, b, c, d, e) {\r\n        null !== b\r\n          ? (a.copyPortProperties(\r\n              b,\r\n              c,\r\n              a.temporaryFromNode,\r\n              a.temporaryFromPort,\r\n              !1\r\n            ),\r\n            a.diagram.add(a.temporaryFromNode))\r\n          : a.diagram.remove(a.temporaryFromNode);\r\n        null !== d\r\n          ? (a.copyPortProperties(\r\n              d,\r\n              e,\r\n              a.temporaryToNode,\r\n              a.temporaryToPort,\r\n              !0\r\n            ),\r\n            a.diagram.add(a.temporaryToNode))\r\n          : a.diagram.remove(a.temporaryToNode);\r\n      }\r\n      ma.Object.defineProperties(kf.prototype, {\r\n        fromHandleArchetype: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.w;\r\n          },\r\n          set: function (a) {\r\n            null !== a && w(a, N, kf, \"fromHandleArchetype\");\r\n            this.w = a;\r\n          },\r\n        },\r\n        toHandleArchetype: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Qe;\r\n          },\r\n          set: function (a) {\r\n            null !== a && w(a, N, kf, \"toHandleArchetype\");\r\n            this.Qe = a;\r\n          },\r\n        },\r\n        handle: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.l;\r\n          },\r\n          set: function (a) {\r\n            if (null !== a && (w(a, N, kf, \"handle\"), !(a.part instanceof Pe)))\r\n              throw Error(\"new handle is not in an Adornment: \" + a);\r\n            this.l = a;\r\n          },\r\n        },\r\n      });\r\n      kf.className = \"RelinkingTool\";\r\n      Ra(\r\n        \"linkingTool\",\r\n        function () {\r\n          return this.findTool(\"Linking\");\r\n        },\r\n        function (a) {\r\n          this.ab(\"Linking\", a, this.mouseMoveTools);\r\n        }\r\n      );\r\n      Ra(\r\n        \"relinkingTool\",\r\n        function () {\r\n          return this.findTool(\"Relinking\");\r\n        },\r\n        function (a) {\r\n          this.ab(\"Relinking\", a, this.mouseDownTools);\r\n        }\r\n      );\r\n\r\n      function rg() {\r\n        0 < arguments.length && za(rg);\r\n        Ke.call(this);\r\n        this.name = \"LinkReshaping\";\r\n        var a = new $f();\r\n        a.figure = \"Rectangle\";\r\n        a.desiredSize = Yb;\r\n        a.fill = \"lightblue\";\r\n        a.stroke = \"dodgerblue\";\r\n        this.w = a;\r\n        a = new $f();\r\n        a.figure = \"Diamond\";\r\n        a.desiredSize = Zb;\r\n        a.fill = \"lightblue\";\r\n        a.stroke = \"dodgerblue\";\r\n        a.cursor = \"move\";\r\n        this.L = a;\r\n        this.aa = 3;\r\n        this.Zt = this.l = null;\r\n        this.Ol = new J();\r\n        this.xs = new G();\r\n      }\r\n      la(rg, Ke);\r\n      rg.prototype.Fv = function (a) {\r\n        return a && a.Cs && 0 !== a.Cs.value ? a.Cs : sg;\r\n      };\r\n      rg.prototype.Sm = function (a, b) {\r\n        w(a, N, rg, \"setReshapingBehavior:obj\");\r\n        hb(b, rg, rg, \"setReshapingBehavior:behavior\");\r\n        a.Cs = b;\r\n      };\r\n      rg.prototype.updateAdornments = function (a) {\r\n        if (null !== a && a instanceof Q) {\r\n          var b = null;\r\n          if (a.isSelected && !this.diagram.isReadOnly) {\r\n            var c = a.path;\r\n            null !== c &&\r\n              a.canReshape() &&\r\n              a.actualBounds.o() &&\r\n              a.isVisible() &&\r\n              c.actualBounds.o() &&\r\n              c.If() &&\r\n              ((b = a.nk(this.name)),\r\n              null === b ||\r\n                b.gx !== a.pointsCount ||\r\n                b.yx !== a.resegmentable) &&\r\n              ((b = this.makeAdornment(c)),\r\n              null !== b &&\r\n                ((b.gx = a.pointsCount),\r\n                (b.yx = a.resegmentable),\r\n                a.Ih(this.name, b)));\r\n          }\r\n          null === b && a.Kf(this.name);\r\n        }\r\n      };\r\n      rg.prototype.makeAdornment = function (a) {\r\n        var b = a.part,\r\n          c = b.pointsCount,\r\n          d = b.isOrthogonal,\r\n          e = null;\r\n        if (null !== b.points && 1 < c) {\r\n          e = new Pe();\r\n          e.type = V.Link;\r\n          c = b.firstPickIndex;\r\n          var f = b.lastPickIndex,\r\n            g = d ? 1 : 0;\r\n          if (b.resegmentable && b.computeCurve() !== Fg)\r\n            for (var h = c + g; h < f - g; h++) {\r\n              var k = this.makeResegmentHandle(a, h);\r\n              null !== k &&\r\n                ((k.segmentIndex = h),\r\n                (k.segmentFraction = 0.5),\r\n                (k.fromMaxLinks = 999),\r\n                e.add(k));\r\n            }\r\n          for (g = c + 1; g < f; g++)\r\n            if (((h = this.makeHandle(a, g)), null !== h)) {\r\n              h.segmentIndex = g;\r\n              if (g !== c)\r\n                if (g === c + 1 && d) {\r\n                  k = b.i(c);\r\n                  var l = b.i(c + 1);\r\n                  K.C(k.x, l.x) && K.C(k.y, l.y) && (l = b.i(c - 1));\r\n                  K.C(k.x, l.x)\r\n                    ? (this.Sm(h, Gg), (h.cursor = \"n-resize\"))\r\n                    : K.C(k.y, l.y) &&\r\n                      (this.Sm(h, Hg), (h.cursor = \"w-resize\"));\r\n                } else\r\n                  g === f - 1 && d\r\n                    ? ((k = b.i(f - 1)),\r\n                      (l = b.i(f)),\r\n                      K.C(k.x, l.x) && K.C(k.y, l.y) && (k = b.i(f + 1)),\r\n                      K.C(k.x, l.x)\r\n                        ? (this.Sm(h, Gg), (h.cursor = \"n-resize\"))\r\n                        : K.C(k.y, l.y) &&\r\n                          (this.Sm(h, Hg), (h.cursor = \"w-resize\")))\r\n                    : g !== f && (this.Sm(h, Ig), (h.cursor = \"move\"));\r\n              e.add(h);\r\n            }\r\n          e.adornedObject = a;\r\n        }\r\n        return e;\r\n      };\r\n      rg.prototype.makeHandle = function () {\r\n        var a = this.handleArchetype;\r\n        return null === a ? null : a.copy();\r\n      };\r\n      rg.prototype.makeResegmentHandle = function () {\r\n        var a = this.midHandleArchetype;\r\n        return null === a ? null : a.copy();\r\n      };\r\n      rg.prototype.canStart = function () {\r\n        if (!this.isEnabled) return !1;\r\n        var a = this.diagram;\r\n        return !a.isReadOnly && a.allowReshape && a.lastInput.left\r\n          ? null !==\r\n              this.findToolHandleAt(a.firstInput.documentPoint, this.name)\r\n          : !1;\r\n      };\r\n      rg.prototype.doActivate = function () {\r\n        var a = this.diagram;\r\n        null === this.handle &&\r\n          (this.handle = this.findToolHandleAt(\r\n            a.firstInput.documentPoint,\r\n            this.name\r\n          ));\r\n        if (null !== this.handle) {\r\n          var b = this.handle.part.adornedPart;\r\n          if (b instanceof Q) {\r\n            this.Zt = b;\r\n            a.isMouseCaptured = !0;\r\n            this.Aa(this.name);\r\n            if (b.resegmentable && 999 === this.handle.fromMaxLinks) {\r\n              var c = b.points.copy(),\r\n                d = this.getResegmentingPoint();\r\n              c.Qb(this.handle.segmentIndex + 1, d);\r\n              b.isOrthogonal && c.Qb(this.handle.segmentIndex + 1, d);\r\n              b.points = c;\r\n              b.Rb();\r\n              b.updateAdornments();\r\n              this.handle = this.findToolHandleAt(\r\n                a.firstInput.documentPoint,\r\n                this.name\r\n              );\r\n              if (null === this.handle) {\r\n                this.doDeactivate();\r\n                return;\r\n              }\r\n            }\r\n            this.Ol = b.i(this.handle.segmentIndex);\r\n            this.xs = b.points.copy();\r\n            this.isActive = !0;\r\n          }\r\n        }\r\n      };\r\n      rg.prototype.doDeactivate = function () {\r\n        this.Qg();\r\n        this.Zt = this.handle = null;\r\n        this.isActive = this.diagram.isMouseCaptured = !1;\r\n      };\r\n      rg.prototype.doCancel = function () {\r\n        var a = this.adornedLink;\r\n        null !== a && (a.points = this.xs);\r\n        this.stopTool();\r\n      };\r\n      rg.prototype.getResegmentingPoint = function () {\r\n        return this.handle.ma(Mc);\r\n      };\r\n      rg.prototype.doMouseMove = function () {\r\n        var a = this.diagram;\r\n        this.isActive &&\r\n          ((a = this.computeReshape(a.lastInput.documentPoint)),\r\n          this.reshape(a));\r\n      };\r\n      rg.prototype.doMouseUp = function () {\r\n        var a = this.diagram;\r\n        if (this.isActive) {\r\n          var b = this.computeReshape(a.lastInput.documentPoint);\r\n          this.reshape(b);\r\n          b = this.adornedLink;\r\n          if (null !== b && b.resegmentable) {\r\n            var c = this.handle.segmentIndex,\r\n              d = b.i(c - 1),\r\n              e = b.i(c),\r\n              f = b.i(c + 1);\r\n            if (b.isOrthogonal) {\r\n              if (c > b.firstPickIndex + 1 && c < b.lastPickIndex - 1) {\r\n                var g = b.i(c - 2);\r\n                if (\r\n                  Math.abs(d.x - e.x) < this.resegmentingDistance &&\r\n                  Math.abs(d.y - e.y) < this.resegmentingDistance &&\r\n                  (Jg(this, g, d, e, f, !0) || Jg(this, g, d, e, f, !1))\r\n                ) {\r\n                  var h = b.points.copy();\r\n                  Jg(this, g, d, e, f, !0)\r\n                    ? (h.od(c - 2, new J(g.x, (f.y + g.y) / 2)),\r\n                      h.od(c + 1, new J(f.x, (f.y + g.y) / 2)))\r\n                    : (h.od(c - 2, new J((f.x + g.x) / 2, g.y)),\r\n                      h.od(c + 1, new J((f.x + g.x) / 2, f.y)));\r\n                  h.pb(c);\r\n                  h.pb(c - 1);\r\n                  b.points = h;\r\n                  b.Rb();\r\n                } else\r\n                  (g = b.i(c + 2)),\r\n                    Math.abs(e.x - f.x) < this.resegmentingDistance &&\r\n                      Math.abs(e.y - f.y) < this.resegmentingDistance &&\r\n                      (Jg(this, d, e, f, g, !0) || Jg(this, d, e, f, g, !1)) &&\r\n                      ((h = b.points.copy()),\r\n                      Jg(this, d, e, f, g, !0)\r\n                        ? (h.od(c - 1, new J(d.x, (d.y + g.y) / 2)),\r\n                          h.od(c + 2, new J(g.x, (d.y + g.y) / 2)))\r\n                        : (h.od(c - 1, new J((d.x + g.x) / 2, d.y)),\r\n                          h.od(c + 2, new J((d.x + g.x) / 2, g.y))),\r\n                      h.pb(c + 1),\r\n                      h.pb(c),\r\n                      (b.points = h),\r\n                      b.Rb());\r\n              }\r\n            } else\r\n              (g = J.alloc()),\r\n                K.kj(d.x, d.y, f.x, f.y, e.x, e.y, g) &&\r\n                  g.Je(e) <\r\n                    this.resegmentingDistance * this.resegmentingDistance &&\r\n                  ((d = b.points.copy()), d.pb(c), (b.points = d), b.Rb()),\r\n                J.free(g);\r\n          }\r\n          a.Ya();\r\n          this.transactionResult = this.name;\r\n          a.U(\"LinkReshaped\", this.adornedLink, this.xs);\r\n        }\r\n        this.stopTool();\r\n      };\r\n\r\n      function Jg(a, b, c, d, e, f) {\r\n        return f\r\n          ? Math.abs(b.y - c.y) < a.resegmentingDistance &&\r\n              Math.abs(c.y - d.y) < a.resegmentingDistance &&\r\n              Math.abs(d.y - e.y) < a.resegmentingDistance\r\n          : Math.abs(b.x - c.x) < a.resegmentingDistance &&\r\n              Math.abs(c.x - d.x) < a.resegmentingDistance &&\r\n              Math.abs(d.x - e.x) < a.resegmentingDistance;\r\n      }\r\n      rg.prototype.reshape = function (a) {\r\n        var b = this.adornedLink;\r\n        b.Sh();\r\n        var c = this.handle.segmentIndex,\r\n          d = this.Fv(this.handle);\r\n        if (b.isOrthogonal)\r\n          if (c === b.firstPickIndex + 1)\r\n            (c = b.firstPickIndex + 1),\r\n              d === Gg\r\n                ? (b.N(c, b.i(c - 1).x, a.y), b.N(c + 1, b.i(c + 2).x, a.y))\r\n                : d === Hg &&\r\n                  (b.N(c, a.x, b.i(c - 1).y), b.N(c + 1, a.x, b.i(c + 2).y));\r\n          else if (c === b.lastPickIndex - 1)\r\n            (c = b.lastPickIndex - 1),\r\n              d === Gg\r\n                ? (b.N(c - 1, b.i(c - 2).x, a.y), b.N(c, b.i(c + 1).x, a.y))\r\n                : d === Hg &&\r\n                  (b.N(c - 1, a.x, b.i(c - 2).y), b.N(c, a.x, b.i(c + 1).y));\r\n          else {\r\n            d = c;\r\n            var e = b.i(d),\r\n              f = b.i(d - 1),\r\n              g = b.i(d + 1);\r\n            K.C(f.x, e.x) && K.C(e.y, g.y)\r\n              ? (K.C(f.x, b.i(d - 2).x) && !K.C(f.y, b.i(d - 2).y)\r\n                  ? (b.m(d, a.x, f.y), c++, d++)\r\n                  : b.N(d - 1, a.x, f.y),\r\n                K.C(g.y, b.i(d + 2).y) && !K.C(g.x, b.i(d + 2).x)\r\n                  ? b.m(d + 1, g.x, a.y)\r\n                  : b.N(d + 1, g.x, a.y))\r\n              : K.C(f.y, e.y) && K.C(e.x, g.x)\r\n              ? (K.C(f.y, b.i(d - 2).y) && !K.C(f.x, b.i(d - 2).x)\r\n                  ? (b.m(d, f.x, a.y), c++, d++)\r\n                  : b.N(d - 1, f.x, a.y),\r\n                K.C(g.x, b.i(d + 2).x) && !K.C(g.y, b.i(d + 2).y)\r\n                  ? b.m(d + 1, a.x, g.y)\r\n                  : b.N(d + 1, a.x, g.y))\r\n              : K.C(f.x, e.x) && K.C(e.x, g.x)\r\n              ? (K.C(f.x, b.i(d - 2).x) && !K.C(f.y, b.i(d - 2).y)\r\n                  ? (b.m(d, a.x, f.y), c++, d++)\r\n                  : b.N(d - 1, a.x, f.y),\r\n                K.C(g.x, b.i(d + 2).x) && !K.C(g.y, b.i(d + 2).y)\r\n                  ? b.m(d + 1, a.x, g.y)\r\n                  : b.N(d + 1, a.x, g.y))\r\n              : K.C(f.y, e.y) &&\r\n                K.C(e.y, g.y) &&\r\n                (K.C(f.y, b.i(d - 2).y) && !K.C(f.x, b.i(d - 2).x)\r\n                  ? (b.m(d, f.x, a.y), c++, d++)\r\n                  : b.N(d - 1, f.x, a.y),\r\n                K.C(g.y, b.i(d + 2).y) && !K.C(g.x, b.i(d + 2).x)\r\n                  ? b.m(d + 1, g.x, a.y)\r\n                  : b.N(d + 1, g.x, a.y));\r\n            b.N(c, a.x, a.y);\r\n          }\r\n        else\r\n          b.N(c, a.x, a.y),\r\n            (d = b.fromNode),\r\n            (e = b.fromPort),\r\n            null !== d &&\r\n              ((f = d.findVisibleNode()),\r\n              null !== f && f !== d && ((d = f), (e = d.port))),\r\n            1 === c &&\r\n              b.computeSpot(!0, e).Sb() &&\r\n              ((f = e.ma(Mc, J.alloc())),\r\n              (d = b.getLinkPointFromPoint(d, e, f, a, !0, J.alloc())),\r\n              b.N(0, d.x, d.y),\r\n              J.free(f),\r\n              J.free(d)),\r\n            (d = b.toNode),\r\n            (e = b.toPort),\r\n            null !== d &&\r\n              ((f = d.findVisibleNode()),\r\n              null !== f && f !== d && ((d = f), (e = d.port))),\r\n            c === b.pointsCount - 2 &&\r\n              b.computeSpot(!1, e).Sb() &&\r\n              ((c = e.ma(Mc, J.alloc())),\r\n              (a = b.getLinkPointFromPoint(d, e, c, a, !1, J.alloc())),\r\n              b.N(b.pointsCount - 1, a.x, a.y),\r\n              J.free(c),\r\n              J.free(a));\r\n        b.zf();\r\n      };\r\n      rg.prototype.computeReshape = function (a) {\r\n        var b = this.adornedLink,\r\n          c = this.handle.segmentIndex;\r\n        switch (this.Fv(this.handle)) {\r\n          case Ig:\r\n            return a;\r\n          case Gg:\r\n            return new J(b.i(c).x, a.y);\r\n          case Hg:\r\n            return new J(a.x, b.i(c).y);\r\n          default:\r\n          case sg:\r\n            return b.i(c);\r\n        }\r\n      };\r\n      ma.Object.defineProperties(rg.prototype, {\r\n        handleArchetype: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.w;\r\n          },\r\n          set: function (a) {\r\n            null !== a && w(a, N, rg, \"handleArchetype\");\r\n            this.w = a;\r\n          },\r\n        },\r\n        midHandleArchetype: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.L;\r\n          },\r\n          set: function (a) {\r\n            null !== a && w(a, N, rg, \"midHandleArchetype\");\r\n            this.L = a;\r\n          },\r\n        },\r\n        handle: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.l;\r\n          },\r\n          set: function (a) {\r\n            if (null !== a && (w(a, N, rg, \"handle\"), !(a.part instanceof Pe)))\r\n              throw Error(\"new handle is not in an Adornment: \" + a);\r\n            this.l = a;\r\n          },\r\n        },\r\n        adornedLink: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Zt;\r\n          },\r\n        },\r\n        resegmentingDistance: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.aa;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"number\", rg, \"resegmentingDistance\");\r\n            this.aa = a;\r\n          },\r\n        },\r\n        originalPoint: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ol;\r\n          },\r\n        },\r\n        originalPoints: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.xs;\r\n          },\r\n        },\r\n      });\r\n      rg.prototype.setReshapingBehavior = rg.prototype.Sm;\r\n      rg.prototype.getReshapingBehavior = rg.prototype.Fv;\r\n      var sg = new E(rg, \"None\", 0),\r\n        Hg = new E(rg, \"Horizontal\", 1),\r\n        Gg = new E(rg, \"Vertical\", 2),\r\n        Ig = new E(rg, \"All\", 3);\r\n      rg.className = \"LinkReshapingTool\";\r\n      rg.None = sg;\r\n      rg.Horizontal = Hg;\r\n      rg.Vertical = Gg;\r\n      rg.All = Ig;\r\n      Ra(\r\n        \"linkReshapingTool\",\r\n        function () {\r\n          return this.findTool(\"LinkReshaping\");\r\n        },\r\n        function (a) {\r\n          this.ab(\"LinkReshaping\", a, this.mouseDownTools);\r\n        }\r\n      );\r\n\r\n      function Kg() {\r\n        0 < arguments.length && za(Kg);\r\n        Ke.call(this);\r\n        this.name = \"Resizing\";\r\n        this.lg = new Jb(1, 1).freeze();\r\n        this.kg = new Jb(9999, 9999).freeze();\r\n        this.Xg = new Jb(NaN, NaN).freeze();\r\n        this.L = !1;\r\n        this.he = null;\r\n        var a = new $f();\r\n        a.alignmentFocus = Mc;\r\n        a.figure = \"Rectangle\";\r\n        a.desiredSize = Yb;\r\n        a.fill = \"lightblue\";\r\n        a.stroke = \"dodgerblue\";\r\n        a.strokeWidth = 1;\r\n        a.cursor = \"pointer\";\r\n        this.w = a;\r\n        this.l = null;\r\n        this.Ol = new J();\r\n        this.ix = new Jb();\r\n        this.ap = new J();\r\n        this.pu = new Jb(0, 0);\r\n        this.ou = new Jb(Infinity, Infinity);\r\n        this.nu = new Jb(1, 1);\r\n        this.ex = !0;\r\n      }\r\n      la(Kg, Ke);\r\n      Kg.prototype.updateAdornments = function (a) {\r\n        if (!(null === a || a instanceof Q)) {\r\n          if (a.isSelected && !this.diagram.isReadOnly) {\r\n            var b = a.resizeObject,\r\n              c = a.nk(this.name);\r\n            if (\r\n              null !== b &&\r\n              a.canResize() &&\r\n              a.actualBounds.o() &&\r\n              a.isVisible() &&\r\n              b.actualBounds.o() &&\r\n              b.If()\r\n            ) {\r\n              if (null === c || c.adornedObject !== b)\r\n                c = this.makeAdornment(b);\r\n              if (null !== c) {\r\n                b = b.dj();\r\n                Lg(a) && this.updateResizeHandles(c, b);\r\n                a.Ih(this.name, c);\r\n                return;\r\n              }\r\n            }\r\n          }\r\n          a.Kf(this.name);\r\n        }\r\n      };\r\n      Kg.prototype.makeAdornment = function (a) {\r\n        var b = a.part.resizeAdornmentTemplate;\r\n        if (null === b) {\r\n          b = new Pe();\r\n          b.type = V.Spot;\r\n          b.locationSpot = Mc;\r\n          var c = new Mg();\r\n          c.isPanelMain = !0;\r\n          b.add(c);\r\n          b.add(this.makeHandle(a, Hc));\r\n          b.add(this.makeHandle(a, Kc));\r\n          b.add(this.makeHandle(a, Sc));\r\n          b.add(this.makeHandle(a, Qc));\r\n          b.add(this.makeHandle(a, pd));\r\n          b.add(this.makeHandle(a, rd));\r\n          b.add(this.makeHandle(a, sd));\r\n          b.add(this.makeHandle(a, qd));\r\n        } else if ((Ng(b), (b = b.copy()), null === b)) return null;\r\n        b.adornedObject = a;\r\n        return b;\r\n      };\r\n      Kg.prototype.makeHandle = function (a, b) {\r\n        a = this.handleArchetype;\r\n        if (null === a) return null;\r\n        a = a.copy();\r\n        a.alignment = b;\r\n        return a;\r\n      };\r\n      Kg.prototype.updateResizeHandles = function (a, b) {\r\n        if (null !== a)\r\n          if (\r\n            !a.alignment.Gb() &&\r\n            (\"pointer\" === a.cursor || 0 < a.cursor.indexOf(\"resize\"))\r\n          )\r\n            a: {\r\n              var c = a.alignment;\r\n              c.Sb() && (c = Mc);\r\n              if (0 >= c.x)\r\n                b = 0 >= c.y ? b + 225 : 1 <= c.y ? b + 135 : b + 180;\r\n              else if (1 <= c.x) 0 >= c.y ? (b += 315) : 1 <= c.y && (b += 45);\r\n              else if (0 >= c.y) b += 270;\r\n              else if (1 <= c.y) b += 90;\r\n              else break a;\r\n              0 > b ? (b += 360) : 360 <= b && (b -= 360);\r\n              a.cursor =\r\n                22.5 > b\r\n                  ? \"e-resize\"\r\n                  : 67.5 > b\r\n                  ? \"se-resize\"\r\n                  : 112.5 > b\r\n                  ? \"s-resize\"\r\n                  : 157.5 > b\r\n                  ? \"sw-resize\"\r\n                  : 202.5 > b\r\n                  ? \"w-resize\"\r\n                  : 247.5 > b\r\n                  ? \"nw-resize\"\r\n                  : 292.5 > b\r\n                  ? \"n-resize\"\r\n                  : 337.5 > b\r\n                  ? \"ne-resize\"\r\n                  : \"e-resize\";\r\n            }\r\n          else if (a instanceof V)\r\n            for (a = a.elements; a.next(); )\r\n              this.updateResizeHandles(a.value, b);\r\n      };\r\n      Kg.prototype.canStart = function () {\r\n        if (!this.isEnabled) return !1;\r\n        var a = this.diagram;\r\n        return !a.isReadOnly && a.allowResize && a.lastInput.left\r\n          ? null !==\r\n              this.findToolHandleAt(a.firstInput.documentPoint, this.name)\r\n          : !1;\r\n      };\r\n      Kg.prototype.doActivate = function () {\r\n        var a = this.diagram;\r\n        null === this.handle &&\r\n          (this.handle = this.findToolHandleAt(\r\n            a.firstInput.documentPoint,\r\n            this.name\r\n          ));\r\n        null !== this.handle &&\r\n          ((this.adornedObject = this.handle.part.adornedObject),\r\n          null !== this.adornedObject &&\r\n            (this.Ol.set(this.adornedObject.ma(this.handle.alignment.Sv())),\r\n            this.ap.set(this.adornedObject.part.location),\r\n            this.ix.set(this.adornedObject.desiredSize),\r\n            (this.nu = this.computeCellSize()),\r\n            (this.pu = this.computeMinSize()),\r\n            (this.ou = this.computeMaxSize()),\r\n            (a.isMouseCaptured = !0),\r\n            (this.ex = a.animationManager.isEnabled),\r\n            (a.animationManager.isEnabled = !1),\r\n            this.Aa(this.name),\r\n            (this.isActive = !0)));\r\n      };\r\n      Kg.prototype.doDeactivate = function () {\r\n        var a = this.diagram;\r\n        this.Qg();\r\n        this.he = this.handle = null;\r\n        this.isActive = a.isMouseCaptured = !1;\r\n        a.animationManager.isEnabled = this.ex;\r\n      };\r\n      Kg.prototype.doCancel = function () {\r\n        null !== this.adornedObject &&\r\n          ((this.adornedObject.desiredSize = this.originalDesiredSize),\r\n          (this.adornedObject.part.location = this.originalLocation));\r\n        this.stopTool();\r\n      };\r\n      Kg.prototype.doMouseMove = function () {\r\n        var a = this.diagram;\r\n        if (this.isActive) {\r\n          var b = this.pu,\r\n            c = this.ou,\r\n            d = this.nu,\r\n            e = this.adornedObject.pt(a.lastInput.documentPoint, J.alloc()),\r\n            f = this.computeReshape();\r\n          b = this.computeResize(e, this.handle.alignment, b, c, d, f);\r\n          this.resize(b);\r\n          a.Ad();\r\n          J.free(e);\r\n        }\r\n      };\r\n      Kg.prototype.doMouseUp = function () {\r\n        var a = this.diagram;\r\n        if (this.isActive) {\r\n          var b = this.pu,\r\n            c = this.ou,\r\n            d = this.nu,\r\n            e = this.adornedObject.pt(a.lastInput.documentPoint, J.alloc()),\r\n            f = this.computeReshape();\r\n          b = this.computeResize(e, this.handle.alignment, b, c, d, f);\r\n          this.resize(b);\r\n          J.free(e);\r\n          a.Ya();\r\n          this.transactionResult = this.name;\r\n          a.U(\"PartResized\", this.adornedObject, this.originalDesiredSize);\r\n        }\r\n        this.stopTool();\r\n      };\r\n      Kg.prototype.resize = function (a) {\r\n        var b = this.diagram,\r\n          c = this.adornedObject,\r\n          d = c.part;\r\n        c.desiredSize = a.size;\r\n        d.Eb();\r\n        a = this.adornedObject.ma(this.handle.alignment.Sv());\r\n        d instanceof Kf\r\n          ? ((c = new G()), c.add(d), b.moveParts(c, this.Ol.copy().ee(a), !0))\r\n          : (d.location = d.location.copy().ee(a).add(this.Ol));\r\n      };\r\n      Kg.prototype.computeResize = function (a, b, c, d, e, f) {\r\n        b.Sb() && (b = Mc);\r\n        var g = this.adornedObject.naturalBounds,\r\n          h = g.x,\r\n          k = g.y,\r\n          l = g.x + g.width,\r\n          m = g.y + g.height,\r\n          n = 1;\r\n        if (!f) {\r\n          n = g.width;\r\n          var p = g.height;\r\n          0 >= n && (n = 1);\r\n          0 >= p && (p = 1);\r\n          n = p / n;\r\n        }\r\n        p = J.alloc();\r\n        K.rq(a.x, a.y, h, k, e.width, e.height, p);\r\n        a = g.copy();\r\n        0 >= b.x\r\n          ? 0 >= b.y\r\n            ? ((a.x = Math.max(p.x, l - d.width)),\r\n              (a.x = Math.min(a.x, l - c.width)),\r\n              (a.width = Math.max(l - a.x, c.width)),\r\n              (a.y = Math.max(p.y, m - d.height)),\r\n              (a.y = Math.min(a.y, m - c.height)),\r\n              (a.height = Math.max(m - a.y, c.height)),\r\n              f ||\r\n                (1 <= a.height / a.width\r\n                  ? ((a.height = Math.max(\r\n                      Math.min(n * a.width, d.height),\r\n                      c.height\r\n                    )),\r\n                    (a.width = a.height / n))\r\n                  : ((a.width = Math.max(\r\n                      Math.min(a.height / n, d.width),\r\n                      c.width\r\n                    )),\r\n                    (a.height = n * a.width)),\r\n                (a.x = l - a.width),\r\n                (a.y = m - a.height)))\r\n            : 1 <= b.y\r\n            ? ((a.x = Math.max(p.x, l - d.width)),\r\n              (a.x = Math.min(a.x, l - c.width)),\r\n              (a.width = Math.max(l - a.x, c.width)),\r\n              (a.height = Math.max(Math.min(p.y - k, d.height), c.height)),\r\n              f ||\r\n                (1 <= a.height / a.width\r\n                  ? ((a.height = Math.max(\r\n                      Math.min(n * a.width, d.height),\r\n                      c.height\r\n                    )),\r\n                    (a.width = a.height / n))\r\n                  : ((a.width = Math.max(\r\n                      Math.min(a.height / n, d.width),\r\n                      c.width\r\n                    )),\r\n                    (a.height = n * a.width)),\r\n                (a.x = l - a.width)))\r\n            : ((a.x = Math.max(p.x, l - d.width)),\r\n              (a.x = Math.min(a.x, l - c.width)),\r\n              (a.width = l - a.x),\r\n              f ||\r\n                ((a.height = Math.max(\r\n                  Math.min(n * a.width, d.height),\r\n                  c.height\r\n                )),\r\n                (a.width = a.height / n),\r\n                (a.y = k + 0.5 * (m - k - a.height))))\r\n          : 1 <= b.x\r\n          ? 0 >= b.y\r\n            ? ((a.width = Math.max(Math.min(p.x - h, d.width), c.width)),\r\n              (a.y = Math.max(p.y, m - d.height)),\r\n              (a.y = Math.min(a.y, m - c.height)),\r\n              (a.height = Math.max(m - a.y, c.height)),\r\n              f ||\r\n                (1 <= a.height / a.width\r\n                  ? ((a.height = Math.max(\r\n                      Math.min(n * a.width, d.height),\r\n                      c.height\r\n                    )),\r\n                    (a.width = a.height / n))\r\n                  : ((a.width = Math.max(\r\n                      Math.min(a.height / n, d.width),\r\n                      c.width\r\n                    )),\r\n                    (a.height = n * a.width)),\r\n                (a.y = m - a.height)))\r\n            : 1 <= b.y\r\n            ? ((a.width = Math.max(Math.min(p.x - h, d.width), c.width)),\r\n              (a.height = Math.max(Math.min(p.y - k, d.height), c.height)),\r\n              f ||\r\n                (1 <= a.height / a.width\r\n                  ? ((a.height = Math.max(\r\n                      Math.min(n * a.width, d.height),\r\n                      c.height\r\n                    )),\r\n                    (a.width = a.height / n))\r\n                  : ((a.width = Math.max(\r\n                      Math.min(a.height / n, d.width),\r\n                      c.width\r\n                    )),\r\n                    (a.height = n * a.width))))\r\n            : ((a.width = Math.max(Math.min(p.x - h, d.width), c.width)),\r\n              f ||\r\n                ((a.height = Math.max(\r\n                  Math.min(n * a.width, d.height),\r\n                  c.height\r\n                )),\r\n                (a.width = a.height / n),\r\n                (a.y = k + 0.5 * (m - k - a.height))))\r\n          : 0 >= b.y\r\n          ? ((a.y = Math.max(p.y, m - d.height)),\r\n            (a.y = Math.min(a.y, m - c.height)),\r\n            (a.height = m - a.y),\r\n            f ||\r\n              ((a.width = Math.max(Math.min(a.height / n, d.width), c.width)),\r\n              (a.height = n * a.width),\r\n              (a.x = h + 0.5 * (l - h - a.width))))\r\n          : 1 <= b.y &&\r\n            ((a.height = Math.max(Math.min(p.y - k, d.height), c.height)),\r\n            f ||\r\n              ((a.width = Math.max(Math.min(a.height / n, d.width), c.width)),\r\n              (a.height = n * a.width),\r\n              (a.x = h + 0.5 * (l - h - a.width))));\r\n        J.free(p);\r\n        return a;\r\n      };\r\n      Kg.prototype.computeReshape = function () {\r\n        var a = Og;\r\n        this.adornedObject instanceof $f && (a = Pg(this.adornedObject));\r\n        return !(a === Qg || this.diagram.lastInput.shift);\r\n      };\r\n      Kg.prototype.computeMinSize = function () {\r\n        var a = this.adornedObject.minSize.copy(),\r\n          b = this.minSize;\r\n        !isNaN(b.width) && b.width > a.width && (a.width = b.width);\r\n        !isNaN(b.height) && b.height > a.height && (a.height = b.height);\r\n        return a;\r\n      };\r\n      Kg.prototype.computeMaxSize = function () {\r\n        var a = this.adornedObject.maxSize.copy(),\r\n          b = this.maxSize;\r\n        !isNaN(b.width) && b.width < a.width && (a.width = b.width);\r\n        !isNaN(b.height) && b.height < a.height && (a.height = b.height);\r\n        return a;\r\n      };\r\n      Kg.prototype.computeCellSize = function () {\r\n        var a = new Jb(NaN, NaN),\r\n          b = this.adornedObject.part;\r\n        null !== b &&\r\n          ((b = b.resizeCellSize),\r\n          !isNaN(b.width) && 0 < b.width && (a.width = b.width),\r\n          !isNaN(b.height) && 0 < b.height && (a.height = b.height));\r\n        b = this.cellSize;\r\n        isNaN(a.width) && !isNaN(b.width) && 0 < b.width && (a.width = b.width);\r\n        isNaN(a.height) &&\r\n          !isNaN(b.height) &&\r\n          0 < b.height &&\r\n          (a.height = b.height);\r\n        b = this.diagram;\r\n        (isNaN(a.width) || isNaN(a.height)) &&\r\n          b &&\r\n          ((b = b.grid),\r\n          null !== b &&\r\n            b.visible &&\r\n            this.isGridSnapEnabled &&\r\n            ((b = b.gridCellSize),\r\n            isNaN(a.width) &&\r\n              !isNaN(b.width) &&\r\n              0 < b.width &&\r\n              (a.width = b.width),\r\n            isNaN(a.height) &&\r\n              !isNaN(b.height) &&\r\n              0 < b.height &&\r\n              (a.height = b.height)));\r\n        if (isNaN(a.width) || 0 === a.width || Infinity === a.width)\r\n          a.width = 1;\r\n        if (isNaN(a.height) || 0 === a.height || Infinity === a.height)\r\n          a.height = 1;\r\n        return a;\r\n      };\r\n      ma.Object.defineProperties(Kg.prototype, {\r\n        handleArchetype: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.w;\r\n          },\r\n          set: function (a) {\r\n            null !== a && w(a, N, Kg, \"handleArchetype\");\r\n            this.w = a;\r\n          },\r\n        },\r\n        handle: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.l;\r\n          },\r\n          set: function (a) {\r\n            if (null !== a && (w(a, N, Kg, \"handle\"), !(a.part instanceof Pe)))\r\n              throw Error(\"new handle is not in an Adornment: \" + a);\r\n            this.l = a;\r\n          },\r\n        },\r\n        adornedObject: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.he;\r\n          },\r\n          set: function (a) {\r\n            if (null !== a && (w(a, N, Kg, \"handle\"), a.part instanceof Pe))\r\n              throw Error(\"new handle must not be in an Adornment: \" + a);\r\n            this.he = a;\r\n          },\r\n        },\r\n        minSize: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.lg;\r\n          },\r\n          set: function (a) {\r\n            w(a, Jb, Kg, \"minSize\");\r\n            if (!this.lg.B(a)) {\r\n              var b = a.width;\r\n              isNaN(b) && (b = 0);\r\n              a = a.height;\r\n              isNaN(a) && (a = 0);\r\n              this.lg.h(b, a);\r\n            }\r\n          },\r\n        },\r\n        maxSize: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.kg;\r\n          },\r\n          set: function (a) {\r\n            w(a, Jb, Kg, \"maxSize\");\r\n            if (!this.kg.B(a)) {\r\n              var b = a.width;\r\n              isNaN(b) && (b = Infinity);\r\n              a = a.height;\r\n              isNaN(a) && (a = Infinity);\r\n              this.kg.h(b, a);\r\n            }\r\n          },\r\n        },\r\n        cellSize: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Xg;\r\n          },\r\n          set: function (a) {\r\n            w(a, Jb, Kg, \"cellSize\");\r\n            this.Xg.B(a) || this.Xg.assign(a);\r\n          },\r\n        },\r\n        isGridSnapEnabled: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.L;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"boolean\", Kg, \"isGridSnapEnabled\");\r\n            this.L = a;\r\n          },\r\n        },\r\n        originalDesiredSize: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ix;\r\n          },\r\n        },\r\n        originalLocation: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ap;\r\n          },\r\n        },\r\n      });\r\n      Kg.className = \"ResizingTool\";\r\n      Ra(\r\n        \"resizingTool\",\r\n        function () {\r\n          return this.findTool(\"Resizing\");\r\n        },\r\n        function (a) {\r\n          this.ab(\"Resizing\", a, this.mouseDownTools);\r\n        }\r\n      );\r\n\r\n      function Rg() {\r\n        0 < arguments.length && za(Rg);\r\n        Ke.call(this);\r\n        this.name = \"Rotating\";\r\n        this.Pa = 45;\r\n        this.Oa = 2;\r\n        this.ap = new J();\r\n        this.he = null;\r\n        var a = new $f();\r\n        a.figure = \"Ellipse\";\r\n        a.desiredSize = Zb;\r\n        a.fill = \"lightblue\";\r\n        a.stroke = \"dodgerblue\";\r\n        a.strokeWidth = 1;\r\n        a.cursor = \"pointer\";\r\n        this.w = a;\r\n        this.l = null;\r\n        this.hx = 0;\r\n        this.Mu = new J(NaN, NaN);\r\n        this.L = 0;\r\n        this.aa = 50;\r\n      }\r\n      la(Rg, Ke);\r\n      Rg.prototype.updateAdornments = function (a) {\r\n        if (null !== a) {\r\n          if (a.Qh()) {\r\n            var b = a.rotateObject;\r\n            if (b === a || b === a.path || b.isPanelMain) return;\r\n          }\r\n          if (\r\n            a.isSelected &&\r\n            !this.diagram.isReadOnly &&\r\n            ((b = a.rotateObject),\r\n            null !== b &&\r\n              a.canRotate() &&\r\n              a.actualBounds.o() &&\r\n              a.isVisible() &&\r\n              b.actualBounds.o() &&\r\n              b.If())\r\n          ) {\r\n            var c = a.nk(this.name);\r\n            if (null === c || c.adornedObject !== b) c = this.makeAdornment(b);\r\n            if (null !== c) {\r\n              c.angle = b.dj();\r\n              null === c.placeholder &&\r\n                (c.location = this.computeAdornmentLocation(b));\r\n              a.Ih(this.name, c);\r\n              return;\r\n            }\r\n          }\r\n          a.Kf(this.name);\r\n        }\r\n      };\r\n      Rg.prototype.makeAdornment = function (a) {\r\n        var b = a.part.rotateAdornmentTemplate;\r\n        if (null === b) {\r\n          b = new Pe();\r\n          b.type = V.Position;\r\n          b.locationSpot = Mc;\r\n          var c = this.handleArchetype;\r\n          null !== c && b.add(c.copy());\r\n        } else if ((Ng(b), (b = b.copy()), null === b)) return null;\r\n        b.adornedObject = a;\r\n        return b;\r\n      };\r\n      Rg.prototype.canStart = function () {\r\n        if (!this.isEnabled) return !1;\r\n        var a = this.diagram;\r\n        return !a.isReadOnly && a.allowRotate && a.lastInput.left\r\n          ? null !==\r\n              this.findToolHandleAt(a.firstInput.documentPoint, this.name)\r\n          : !1;\r\n      };\r\n      Rg.prototype.doActivate = function () {\r\n        var a = this.diagram;\r\n        if (null === this.adornedObject) {\r\n          null === this.handle &&\r\n            (this.handle = this.findToolHandleAt(\r\n              a.firstInput.documentPoint,\r\n              this.name\r\n            ));\r\n          if (null === this.handle) return;\r\n          this.adornedObject = this.handle.part.adornedObject;\r\n        }\r\n        null !== this.adornedObject &&\r\n          ((this.hx = this.adornedObject.angle),\r\n          (this.Mu = this.computeRotationPoint(this.adornedObject)),\r\n          (this.ap = this.adornedObject.part.location.copy()),\r\n          (a.isMouseCaptured = !0),\r\n          (a.delaysLayout = !0),\r\n          this.Aa(this.name),\r\n          (this.isActive = !0));\r\n      };\r\n      Rg.prototype.computeRotationPoint = function (a) {\r\n        var b = a.part,\r\n          c = b.locationObject;\r\n        return b.rotationSpot.$a()\r\n          ? a.ma(b.rotationSpot)\r\n          : a === b || a === c\r\n          ? c.ma(b.locationSpot)\r\n          : a.ma(Mc);\r\n      };\r\n      Rg.prototype.computeAdornmentLocation = function (a) {\r\n        var b = this.rotationPoint;\r\n        b.o() || (b = this.computeRotationPoint(a));\r\n        b = a.pt(b);\r\n        var c = this.handleAngle;\r\n        0 > c ? (c += 360) : 360 <= c && (c -= 360);\r\n        c = Math.round(45 * Math.round(c / 45));\r\n        var d = this.handleDistance;\r\n        0 === c\r\n          ? (b.x = a.naturalBounds.width + d)\r\n          : 45 === c\r\n          ? ((b.x = a.naturalBounds.width + d),\r\n            (b.y = a.naturalBounds.height + d))\r\n          : 90 === c\r\n          ? (b.y = a.naturalBounds.height + d)\r\n          : 135 === c\r\n          ? ((b.x = -d), (b.y = a.naturalBounds.height + d))\r\n          : 180 === c\r\n          ? (b.x = -d)\r\n          : 225 === c\r\n          ? ((b.x = -d), (b.y = -d))\r\n          : 270 === c\r\n          ? (b.y = -d)\r\n          : 315 === c && ((b.x = a.naturalBounds.width + d), (b.y = -d));\r\n        return a.ma(b);\r\n      };\r\n      Rg.prototype.doDeactivate = function () {\r\n        var a = this.diagram;\r\n        this.Qg();\r\n        this.he = this.handle = null;\r\n        this.Mu = new J(NaN, NaN);\r\n        this.isActive = a.isMouseCaptured = !1;\r\n      };\r\n      Rg.prototype.doCancel = function () {\r\n        this.diagram.delaysLayout = !1;\r\n        this.rotate(this.originalAngle);\r\n        this.stopTool();\r\n      };\r\n      Rg.prototype.doMouseMove = function () {\r\n        var a = this.diagram;\r\n        this.isActive &&\r\n          ((a = this.computeRotate(a.lastInput.documentPoint)), this.rotate(a));\r\n      };\r\n      Rg.prototype.doMouseUp = function () {\r\n        var a = this.diagram;\r\n        if (this.isActive) {\r\n          a.delaysLayout = !1;\r\n          var b = this.computeRotate(a.lastInput.documentPoint);\r\n          this.rotate(b);\r\n          a.Ya();\r\n          this.transactionResult = this.name;\r\n          a.U(\"PartRotated\", this.adornedObject, this.originalAngle);\r\n        }\r\n        this.stopTool();\r\n      };\r\n      Rg.prototype.rotate = function (a) {\r\n        F && C(a, Rg, \"rotate:newangle\");\r\n        var b = this.adornedObject;\r\n        if (null !== b) {\r\n          b.angle = a;\r\n          b = b.part;\r\n          b.Eb();\r\n          var c = b.locationObject,\r\n            d = b.rotateObject;\r\n          if (c === d || c.Mg(d))\r\n            (c = this.ap.copy()),\r\n              (b.location = c\r\n                .ee(this.rotationPoint)\r\n                .rotate(a - this.originalAngle)\r\n                .add(this.rotationPoint));\r\n        }\r\n      };\r\n      Rg.prototype.computeRotate = function (a) {\r\n        a = this.rotationPoint.Xa(a) - this.handleAngle;\r\n        var b = this.adornedObject.panel;\r\n        null !== b && (a -= b.dj());\r\n        360 <= a ? (a -= 360) : 0 > a && (a += 360);\r\n        b = Math.min(Math.abs(this.snapAngleMultiple), 180);\r\n        var c = Math.min(Math.abs(this.snapAngleEpsilon), b / 2);\r\n        !this.diagram.lastInput.shift &&\r\n          0 < b &&\r\n          0 < c &&\r\n          (a % b < c\r\n            ? (a = Math.floor(a / b) * b)\r\n            : a % b > b - c && (a = (Math.floor(a / b) + 1) * b));\r\n        360 <= a ? (a -= 360) : 0 > a && (a += 360);\r\n        return a;\r\n      };\r\n      ma.Object.defineProperties(Rg.prototype, {\r\n        handleArchetype: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.w;\r\n          },\r\n          set: function (a) {\r\n            null !== a && w(a, N, Rg, \"handleArchetype\");\r\n            this.w = a;\r\n          },\r\n        },\r\n        handle: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.l;\r\n          },\r\n          set: function (a) {\r\n            if (null !== a && (w(a, N, Rg, \"handle\"), !(a.part instanceof Pe)))\r\n              throw Error(\"new handle is not in an Adornment: \" + a);\r\n            this.l = a;\r\n          },\r\n        },\r\n        adornedObject: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.he;\r\n          },\r\n          set: function (a) {\r\n            if (null !== a && (w(a, N, Rg, \"handle\"), a.part instanceof Pe))\r\n              throw Error(\"new handle must not be in an Adornment: \" + a);\r\n            this.he = a;\r\n          },\r\n        },\r\n        snapAngleMultiple: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Pa;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"number\", Rg, \"snapAngleMultiple\");\r\n            this.Pa = a;\r\n          },\r\n        },\r\n        snapAngleEpsilon: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Oa;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"number\", Rg, \"snapAngleEpsilon\");\r\n            this.Oa = a;\r\n          },\r\n        },\r\n        originalAngle: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.hx;\r\n          },\r\n        },\r\n        rotationPoint: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.Mu;\r\n          },\r\n        },\r\n        handleAngle: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.L;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"number\", Rg, \"handleAngle\");\r\n            this.L = a;\r\n          },\r\n        },\r\n        handleDistance: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.aa;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"number\", Rg, \"handleDistance\");\r\n            this.aa = a;\r\n          },\r\n        },\r\n      });\r\n      Rg.className = \"RotatingTool\";\r\n      Ra(\r\n        \"rotatingTool\",\r\n        function () {\r\n          return this.findTool(\"Rotating\");\r\n        },\r\n        function (a) {\r\n          this.ab(\"Rotating\", a, this.mouseDownTools);\r\n        }\r\n      );\r\n\r\n      function Sg() {\r\n        Ke.call(this);\r\n        0 < arguments.length && za(Sg);\r\n        this.name = \"ClickSelecting\";\r\n      }\r\n      la(Sg, Ke);\r\n      Sg.prototype.canStart = function () {\r\n        return !this.isEnabled || this.isBeyondDragSize() ? !1 : !0;\r\n      };\r\n      Sg.prototype.doMouseUp = function () {\r\n        this.isActive &&\r\n          (this.standardMouseSelect(),\r\n          !this.standardMouseClick() &&\r\n            this.diagram.lastInput.isTouchEvent &&\r\n            this.diagram.toolManager.doToolTip());\r\n        this.stopTool();\r\n      };\r\n      Sg.className = \"ClickSelectingTool\";\r\n\r\n      function Tg() {\r\n        Ke.call(this);\r\n        0 < arguments.length && za(Tg);\r\n        this.name = \"Action\";\r\n        this.Kk = null;\r\n      }\r\n      la(Tg, Ke);\r\n      Tg.prototype.canStart = function () {\r\n        if (!this.isEnabled) return !1;\r\n        var a = this.diagram,\r\n          b = a.lastInput,\r\n          c = a.Yb(b.documentPoint, function (a) {\r\n            for (; null !== a.panel && !a.isActionable; ) a = a.panel;\r\n            return a;\r\n          });\r\n        if (null !== c) {\r\n          if (!c.isActionable) return !1;\r\n          this.Kk = c;\r\n          a.Yk = a.Yb(b.documentPoint, null, null);\r\n          return !0;\r\n        }\r\n        return !1;\r\n      };\r\n      Tg.prototype.doMouseDown = function () {\r\n        if (this.isActive) {\r\n          var a = this.diagram.lastInput,\r\n            b = this.Kk;\r\n          null !== b &&\r\n            ((a.targetObject = b), null !== b.actionDown && b.actionDown(a, b));\r\n        } else this.canStart() && this.doActivate();\r\n      };\r\n      Tg.prototype.doMouseMove = function () {\r\n        if (this.isActive) {\r\n          var a = this.diagram.lastInput,\r\n            b = this.Kk;\r\n          null !== b &&\r\n            ((a.targetObject = b), null !== b.actionMove && b.actionMove(a, b));\r\n        }\r\n      };\r\n      Tg.prototype.doMouseUp = function () {\r\n        if (this.isActive) {\r\n          var a = this.diagram.lastInput,\r\n            b = this.Kk;\r\n          if (null === b) return;\r\n          a.targetObject = b;\r\n          null !== b.actionUp && b.actionUp(a, b);\r\n          this.standardMouseClick(\r\n            function (a) {\r\n              for (; null !== a.panel && (!a.isActionable || a !== b); )\r\n                a = a.panel;\r\n              return a;\r\n            },\r\n            function (a) {\r\n              return a === b;\r\n            }\r\n          );\r\n        }\r\n        this.stopTool();\r\n      };\r\n      Tg.prototype.doCancel = function () {\r\n        var a = this.diagram.lastInput,\r\n          b = this.Kk;\r\n        null !== b &&\r\n          ((a.targetObject = b),\r\n          null !== b.actionCancel && b.actionCancel(a, b),\r\n          this.stopTool());\r\n      };\r\n      Tg.prototype.doStop = function () {\r\n        this.Kk = null;\r\n      };\r\n      Tg.className = \"ActionTool\";\r\n\r\n      function Ug() {\r\n        Ke.call(this);\r\n        0 < arguments.length && za(Ug);\r\n        this.name = \"ClickCreating\";\r\n        this.sj = null;\r\n        this.w = !0;\r\n        this.l = !1;\r\n        this.Ww = new J(0, 0);\r\n      }\r\n      la(Ug, Ke);\r\n      Ug.prototype.canStart = function () {\r\n        if (!this.isEnabled || null === this.archetypeNodeData) return !1;\r\n        var a = this.diagram;\r\n        if (\r\n          a.isReadOnly ||\r\n          a.isModelReadOnly ||\r\n          !a.allowInsert ||\r\n          !a.lastInput.left ||\r\n          this.isBeyondDragSize()\r\n        )\r\n          return !1;\r\n        if (this.isDoubleClick) {\r\n          if (\r\n            (1 === a.lastInput.clickCount &&\r\n              (this.Ww = a.lastInput.viewPoint.copy()),\r\n            2 !== a.lastInput.clickCount || this.isBeyondDragSize(this.Ww))\r\n          )\r\n            return !1;\r\n        } else if (1 !== a.lastInput.clickCount) return !1;\r\n        return a.currentTool !== this &&\r\n          null !== a.tm(a.lastInput.documentPoint, !0)\r\n          ? !1\r\n          : !0;\r\n      };\r\n      Ug.prototype.doMouseUp = function () {\r\n        var a = this.diagram;\r\n        this.isActive && this.insertPart(a.lastInput.documentPoint);\r\n        this.stopTool();\r\n      };\r\n      Ug.prototype.insertPart = function (a) {\r\n        var b = this.diagram,\r\n          c = this.archetypeNodeData;\r\n        if (null === c) return null;\r\n        var d = null;\r\n        try {\r\n          b.U(\"ChangingSelection\", b.selection);\r\n          this.Aa(this.name);\r\n          if (c instanceof S)\r\n            c.$b() && (Ng(c), (d = c.copy()), null !== d && b.add(d));\r\n          else if (null !== c) {\r\n            var e = b.model.copyNodeData(c);\r\n            Fa(e) && (b.model.xf(e), (d = b.Bc(e)));\r\n          }\r\n          if (null !== d) {\r\n            var f = J.allocAt(a.x, a.y);\r\n            this.isGridSnapEnabled && Vg(this.diagram, d, a, f);\r\n            d.location = f;\r\n            b.allowSelect && (df(b), (d.isSelected = !0));\r\n            J.free(f);\r\n          }\r\n          b.Ya();\r\n          this.transactionResult = this.name;\r\n          b.U(\"PartCreated\", d);\r\n        } finally {\r\n          this.Qg(), b.U(\"ChangedSelection\", b.selection);\r\n        }\r\n        return d;\r\n      };\r\n      ma.Object.defineProperties(Ug.prototype, {\r\n        archetypeNodeData: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.sj;\r\n          },\r\n          set: function (a) {\r\n            null !== a && A(a, \"object\", Ug, \"archetypeNodeData\");\r\n            this.sj = a;\r\n          },\r\n        },\r\n        isDoubleClick: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.w;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"boolean\", Ug, \"isDoubleClick\");\r\n            this.w = a;\r\n          },\r\n        },\r\n        isGridSnapEnabled: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.l;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"boolean\", Ug, \"isGridSnapEnabled\");\r\n            this.l = a;\r\n          },\r\n        },\r\n      });\r\n      Ug.className = \"ClickCreatingTool\";\r\n\r\n      function Wg() {\r\n        Ke.call(this);\r\n        0 < arguments.length && za(Wg);\r\n        this.name = \"DragSelecting\";\r\n        this.el = 175;\r\n        this.w = !1;\r\n        var a = new S();\r\n        a.layerName = \"Tool\";\r\n        a.selectable = !1;\r\n        var b = new $f();\r\n        b.name = \"SHAPE\";\r\n        b.figure = \"Rectangle\";\r\n        b.fill = null;\r\n        b.stroke = \"magenta\";\r\n        a.add(b);\r\n        this.l = a;\r\n      }\r\n      la(Wg, Ke);\r\n      Wg.prototype.canStart = function () {\r\n        if (!this.isEnabled) return !1;\r\n        var a = this.diagram;\r\n        if (!a.allowSelect) return !1;\r\n        var b = a.lastInput;\r\n        return !b.left ||\r\n          (a.currentTool !== this &&\r\n            (!this.isBeyondDragSize() ||\r\n              b.timestamp - a.firstInput.timestamp < this.delay ||\r\n              null !== a.tm(b.documentPoint, !0)))\r\n          ? !1\r\n          : !0;\r\n      };\r\n      Wg.prototype.doActivate = function () {\r\n        var a = this.diagram;\r\n        this.isActive = !0;\r\n        a.isMouseCaptured = !0;\r\n        a.skipsUndoManager = !0;\r\n        a.add(this.box);\r\n        this.doMouseMove();\r\n      };\r\n      Wg.prototype.doDeactivate = function () {\r\n        var a = this.diagram;\r\n        a.Mf();\r\n        a.remove(this.box);\r\n        a.skipsUndoManager = !1;\r\n        this.isActive = a.isMouseCaptured = !1;\r\n      };\r\n      Wg.prototype.doMouseMove = function () {\r\n        var a = this.diagram;\r\n        if (this.isActive && null !== this.box) {\r\n          var b = this.computeBoxBounds(),\r\n            c = this.box.cb(\"SHAPE\");\r\n          null === c && (c = this.box.Fb());\r\n          var d = Jb.alloc().h(b.width, b.height);\r\n          b = J.allocAt(b.x, b.y);\r\n          c.desiredSize = d;\r\n          this.box.position = b;\r\n          Jb.free(d);\r\n          J.free(b);\r\n          (a.allowHorizontalScroll || a.allowVerticalScroll) &&\r\n            a.ht(a.lastInput.viewPoint);\r\n        }\r\n      };\r\n      Wg.prototype.doMouseUp = function () {\r\n        if (this.isActive) {\r\n          var a = this.diagram;\r\n          a.remove(this.box);\r\n          try {\r\n            (a.currentCursor = \"wait\"),\r\n              a.U(\"ChangingSelection\", a.selection),\r\n              this.selectInRect(this.computeBoxBounds()),\r\n              a.U(\"ChangedSelection\", a.selection);\r\n          } finally {\r\n            a.currentCursor = \"\";\r\n          }\r\n        }\r\n        this.stopTool();\r\n      };\r\n      Wg.prototype.computeBoxBounds = function () {\r\n        var a = this.diagram;\r\n        return new L(a.firstInput.documentPoint, a.lastInput.documentPoint);\r\n      };\r\n      Wg.prototype.selectInRect = function (a) {\r\n        var b = this.diagram,\r\n          c = b.lastInput;\r\n        a = b.Tx(a, this.isPartialInclusion);\r\n        if (db ? c.meta : c.control)\r\n          if (c.shift)\r\n            for (a = a.iterator; a.next(); )\r\n              (b = a.value), b.isSelected && (b.isSelected = !1);\r\n          else\r\n            for (a = a.iterator; a.next(); )\r\n              (b = a.value), (b.isSelected = !b.isSelected);\r\n        else if (c.shift)\r\n          for (a = a.iterator; a.next(); )\r\n            (b = a.value), b.isSelected || (b.isSelected = !0);\r\n        else {\r\n          c = new G();\r\n          for (b = b.selection.iterator; b.next(); ) {\r\n            var d = b.value;\r\n            a.contains(d) || c.add(d);\r\n          }\r\n          for (b = c.iterator; b.next(); ) b.value.isSelected = !1;\r\n          for (a = a.iterator; a.next(); )\r\n            (b = a.value), b.isSelected || (b.isSelected = !0);\r\n        }\r\n      };\r\n      ma.Object.defineProperties(Wg.prototype, {\r\n        delay: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.el;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"number\", Wg, \"delay\");\r\n            this.el = a;\r\n          },\r\n        },\r\n        isPartialInclusion: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.w;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"boolean\", Wg, \"isPartialInclusion\");\r\n            this.w = a;\r\n          },\r\n        },\r\n        box: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.l;\r\n          },\r\n          set: function (a) {\r\n            null !== a && w(a, S, Wg, \"box\");\r\n            this.l = a;\r\n          },\r\n        },\r\n      });\r\n      Wg.className = \"DragSelectingTool\";\r\n\r\n      function Xg() {\r\n        Ke.call(this);\r\n        0 < arguments.length && za(Xg);\r\n        this.name = \"Panning\";\r\n        this.Gu = new J();\r\n        this.Ly = new J();\r\n        this.Wg = !1;\r\n        var a = this;\r\n        this.px = function () {\r\n          var b = a.diagram;\r\n          null !== b && b.removeEventListener(pa.document, \"scroll\", a.px, !1);\r\n          a.stopTool();\r\n        };\r\n      }\r\n      la(Xg, Ke);\r\n      Xg.prototype.canStart = function () {\r\n        if (!this.isEnabled) return !1;\r\n        var a = this.diagram;\r\n        return (!a.allowHorizontalScroll && !a.allowVerticalScroll) ||\r\n          !a.lastInput.left ||\r\n          (a.currentTool !== this && !this.isBeyondDragSize())\r\n          ? !1\r\n          : !0;\r\n      };\r\n      Xg.prototype.doActivate = function () {\r\n        var a = this.diagram;\r\n        this.Wg\r\n          ? ((a.lastInput.bubbles = !0),\r\n            a.addEventListener(pa.document, \"scroll\", this.px, !1))\r\n          : ((a.currentCursor = \"move\"),\r\n            (a.isMouseCaptured = !0),\r\n            this.Gu.assign(a.position));\r\n        this.isActive = !0;\r\n      };\r\n      Xg.prototype.doDeactivate = function () {\r\n        var a = this.diagram;\r\n        a.currentCursor = \"\";\r\n        this.isActive = a.isMouseCaptured = !1;\r\n      };\r\n      Xg.prototype.doCancel = function () {\r\n        var a = this.diagram;\r\n        a.position = this.Gu;\r\n        a.isMouseCaptured = !1;\r\n        this.stopTool();\r\n      };\r\n      Xg.prototype.doMouseMove = function () {\r\n        this.move();\r\n      };\r\n      Xg.prototype.doMouseUp = function () {\r\n        this.move();\r\n        this.stopTool();\r\n      };\r\n      Xg.prototype.move = function () {\r\n        var a = this.diagram;\r\n        if (this.isActive && a)\r\n          if (this.Wg) a.lastInput.bubbles = !0;\r\n          else {\r\n            var b = a.position,\r\n              c = a.firstInput.documentPoint,\r\n              d = a.lastInput.documentPoint,\r\n              e = b.x + c.x - d.x;\r\n            c = b.y + c.y - d.y;\r\n            a.allowHorizontalScroll || (e = b.x);\r\n            a.allowVerticalScroll || (c = b.y);\r\n            a.position = this.Ly.h(e, c);\r\n          }\r\n      };\r\n      ma.Object.defineProperties(Xg.prototype, {\r\n        bubbles: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Wg;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"boolean\", Xg, \"bubbles\");\r\n            this.Wg = a;\r\n          },\r\n        },\r\n        originalPosition: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Gu;\r\n          },\r\n        },\r\n      });\r\n      Xg.className = \"PanningTool\";\r\n      Ra(\r\n        \"clickCreatingTool\",\r\n        function () {\r\n          return this.findTool(\"ClickCreating\");\r\n        },\r\n        function (a) {\r\n          this.ab(\"ClickCreating\", a, this.mouseUpTools);\r\n        }\r\n      );\r\n      Ra(\r\n        \"clickSelectingTool\",\r\n        function () {\r\n          return this.findTool(\"ClickSelecting\");\r\n        },\r\n        function (a) {\r\n          this.ab(\"ClickSelecting\", a, this.mouseUpTools);\r\n        }\r\n      );\r\n      Ra(\r\n        \"panningTool\",\r\n        function () {\r\n          return this.findTool(\"Panning\");\r\n        },\r\n        function (a) {\r\n          this.ab(\"Panning\", a, this.mouseMoveTools);\r\n        }\r\n      );\r\n      Ra(\r\n        \"dragSelectingTool\",\r\n        function () {\r\n          return this.findTool(\"DragSelecting\");\r\n        },\r\n        function (a) {\r\n          this.ab(\"DragSelecting\", a, this.mouseMoveTools);\r\n        }\r\n      );\r\n      Ra(\r\n        \"actionTool\",\r\n        function () {\r\n          return this.findTool(\"Action\");\r\n        },\r\n        function (a) {\r\n          this.ab(\"Action\", a, this.mouseDownTools);\r\n        }\r\n      );\r\n\r\n      function $e() {\r\n        this.aa = this.L = this.l = this.w = null;\r\n      }\r\n      ma.Object.defineProperties($e.prototype, {\r\n        mainElement: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.L;\r\n          },\r\n          set: function (a) {\r\n            null !== a && w(a, HTMLElement, $e, \"mainElement\");\r\n            this.L = a;\r\n          },\r\n        },\r\n        show: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.w;\r\n          },\r\n          set: function (a) {\r\n            this.w !== a &&\r\n              (null !== a && A(a, \"function\", $e, \"show\"), (this.w = a));\r\n          },\r\n        },\r\n        hide: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.l;\r\n          },\r\n          set: function (a) {\r\n            this.l !== a &&\r\n              (null !== a && A(a, \"function\", $e, \"hide\"), (this.l = a));\r\n          },\r\n        },\r\n        valueFunction: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.aa;\r\n          },\r\n          set: function (a) {\r\n            this.aa = a;\r\n          },\r\n        },\r\n      });\r\n      $e.className = \"HTMLInfo\";\r\n\r\n      function Yg(a, b, c) {\r\n        this.text = a;\r\n        this.Jx = b;\r\n        this.visible = c;\r\n      }\r\n      Yg.className = \"ContextMenuButtonInfo\";\r\n\r\n      function Zg() {\r\n        Ke.call(this);\r\n        0 < arguments.length && za(Zg);\r\n        this.name = \"ContextMenu\";\r\n        this.w = this.eu = this.l = null;\r\n        this.bx = new J();\r\n        this.fu = null;\r\n        this.vu = !1;\r\n        var a = this;\r\n        this.Yu = function () {\r\n          a.stopTool();\r\n        };\r\n      }\r\n      la(Zg, Ke);\r\n\r\n      function $g(a) {\r\n        var b = new $e();\r\n        b.show = function (a, b, c) {\r\n          c.showDefaultContextMenu();\r\n        };\r\n        b.hide = function (a, b) {\r\n          b.hideDefaultContextMenu();\r\n        };\r\n        ah = b;\r\n        a.Yu = function () {\r\n          a.stopTool();\r\n        };\r\n        b = ua(\"div\");\r\n        var c = ua(\"div\");\r\n        b.style.cssText =\r\n          \"top: 0px;z-index:10002;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px\";\r\n        c.style.cssText =\r\n          \"z-index:10001;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;opacity: 0.8;\";\r\n        var d = ua(\"style\");\r\n        pa.document.getElementsByTagName(\"head\")[0].appendChild(d);\r\n        d.sheet.insertRule(\".goCXul { list-style: none; }\", 0);\r\n        d.sheet.insertRule(\r\n          \".goCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }\",\r\n          0\r\n        );\r\n        d.sheet.insertRule(\r\n          \".goCXa {color: #444;display: inline-block;padding: 4px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }\",\r\n          0\r\n        );\r\n        d = a.diagram;\r\n        null !== d &&\r\n          (d.addEventListener(b, \"contextmenu\", bh, !1),\r\n          d.addEventListener(b, \"selectstart\", bh, !1),\r\n          d.addEventListener(c, \"contextmenu\", bh, !1));\r\n        b.className = \"goCXforeground\";\r\n        c.className = \"goCXbackground\";\r\n        pa.document.body &&\r\n          (pa.document.body.appendChild(b), pa.document.body.appendChild(c));\r\n        ch = b;\r\n        dh = c;\r\n        eh = !0;\r\n      }\r\n\r\n      function bh(a) {\r\n        a.preventDefault();\r\n        return !1;\r\n      }\r\n      Zg.prototype.canStart = function () {\r\n        if (!this.isEnabled) return !1;\r\n        var a = this.diagram;\r\n        return this.isBeyondDragSize() || !a.lastInput.right\r\n          ? !1\r\n          : (a.lastInput.isTouchEvent &&\r\n              null !== this.defaultTouchContextMenu) ||\r\n            null !== this.findObjectWithContextMenu()\r\n          ? !0\r\n          : !1;\r\n      };\r\n      Zg.prototype.doStart = function () {\r\n        this.bx.set(this.diagram.firstInput.documentPoint);\r\n      };\r\n      Zg.prototype.doStop = function () {\r\n        this.hideContextMenu();\r\n        this.currentObject = null;\r\n      };\r\n      Zg.prototype.findObjectWithContextMenu = function (a) {\r\n        void 0 === a && (a = null);\r\n        var b = this.diagram,\r\n          c = b.lastInput,\r\n          d = null;\r\n        a instanceof P ||\r\n          (a instanceof N\r\n            ? (d = a)\r\n            : (d = b.Yb(c.documentPoint, null, function (a) {\r\n                return !a.layer.isTemporary;\r\n              })));\r\n        if (null !== d) {\r\n          for (a = d; null !== a; ) {\r\n            if (null !== a.contextMenu) return a;\r\n            a = a.panel;\r\n          }\r\n          if (b.lastInput.isTouchEvent && this.defaultTouchContextMenu)\r\n            return d.part;\r\n        } else if (null !== b.contextMenu) return b;\r\n        return null;\r\n      };\r\n      Zg.prototype.doActivate = function () {};\r\n      Zg.prototype.doMouseDown = function () {\r\n        Ke.prototype.doMouseDown.call(this);\r\n        if (this.isActive && this.currentContextMenu instanceof Pe) {\r\n          var a = this.diagram.toolManager.findTool(\"Action\");\r\n          null !== a &&\r\n            a.canStart() &&\r\n            (a.doActivate(), a.doMouseDown(), a.doDeactivate());\r\n        }\r\n        this.diagram.toolManager.mouseDownTools.contains(this) && fh(this);\r\n      };\r\n      Zg.prototype.doMouseUp = function () {\r\n        if (this.isActive && this.currentContextMenu instanceof Pe) {\r\n          var a = this.diagram.toolManager.findTool(\"Action\");\r\n          null !== a &&\r\n            a.canStart() &&\r\n            (a.doActivate(), a.doCancel(), a.doDeactivate());\r\n        }\r\n        fh(this);\r\n      };\r\n\r\n      function fh(a) {\r\n        var b = a.diagram;\r\n        if (a.isActive) {\r\n          var c = a.currentContextMenu;\r\n          if (null !== c) {\r\n            if (!(c instanceof $e)) {\r\n              var d = b.Yb(b.lastInput.documentPoint, null, null);\r\n              null !== d && d.Mg(c) && a.standardMouseClick(null, null);\r\n            }\r\n            a.stopTool();\r\n            a.canStart() && ((b.currentTool = a), a.doMouseUp());\r\n          }\r\n        } else a.canStart() && (gh(a, !0), a.isActive || a.stopTool());\r\n      }\r\n\r\n      function gh(a, b, c) {\r\n        void 0 === c && (c = null);\r\n        if (\r\n          !a.vu &&\r\n          ((a.vu = !0),\r\n          b && a.standardMouseSelect(),\r\n          (b = a.standardMouseClick()),\r\n          (a.vu = !1),\r\n          !b)\r\n        )\r\n          if (\r\n            ((a.isActive = !0),\r\n            (b = ah),\r\n            null === c && (c = a.findObjectWithContextMenu()),\r\n            null !== c)\r\n          ) {\r\n            var d = c.contextMenu;\r\n            null !== d\r\n              ? ((a.currentObject = c instanceof N ? c : null),\r\n                a.showContextMenu(d, a.currentObject))\r\n              : null !== b && a.showContextMenu(b, a.currentObject);\r\n          } else null !== b && a.showContextMenu(b, null);\r\n      }\r\n      Zg.prototype.doMouseMove = function () {\r\n        var a = this.diagram.toolManager.findTool(\"Action\");\r\n        null !== a && a.doMouseMove();\r\n        this.isActive && this.diagram.toolManager.doMouseMove();\r\n      };\r\n      Zg.prototype.showContextMenu = function (a, b) {\r\n        !F ||\r\n          a instanceof Pe ||\r\n          a instanceof $e ||\r\n          v(\"showContextMenu:contextMenu must be an Adornment or HTMLInfo.\");\r\n        null !== b && w(b, N, Zg, \"showContextMenu:obj\");\r\n        var c = this.diagram;\r\n        a !== this.currentContextMenu && this.hideContextMenu();\r\n        if (a instanceof Pe) {\r\n          a.layerName = \"Tool\";\r\n          a.selectable = !1;\r\n          a.scale = 1 / c.scale;\r\n          a.category = this.name;\r\n          null !== a.placeholder && (a.placeholder.scale = c.scale);\r\n          var d = a.diagram;\r\n          null !== d && d !== c && d.remove(a);\r\n          c.add(a);\r\n          null !== b ? (a.adornedObject = b) : (a.data = c.model);\r\n          a.Eb();\r\n          this.positionContextMenu(a, b);\r\n        } else a instanceof $e && a.show(b, c, this);\r\n        this.currentContextMenu = a;\r\n      };\r\n      Zg.prototype.positionContextMenu = function (a) {\r\n        if (null === a.placeholder) {\r\n          var b = this.diagram,\r\n            c = b.lastInput.documentPoint.copy(),\r\n            d = a.measuredBounds,\r\n            e = b.viewportBounds;\r\n          b.lastInput.isTouchEvent && (c.x -= d.width);\r\n          c.x + d.width > e.right && (c.x -= d.width + 5 / b.scale);\r\n          c.x < e.x && (c.x = e.x);\r\n          c.y + d.height > e.bottom && (c.y -= d.height + 5 / b.scale);\r\n          c.y < e.y && (c.y = e.y);\r\n          a.position = c;\r\n        }\r\n      };\r\n      Zg.prototype.hideContextMenu = function () {\r\n        var a = this.diagram,\r\n          b = this.currentContextMenu;\r\n        null !== b &&\r\n          (b instanceof Pe\r\n            ? (a.remove(b),\r\n              null !== this.eu && this.eu.Kf(b.category),\r\n              (b.data = null),\r\n              (b.adornedObject = null))\r\n            : b instanceof $e &&\r\n              (null !== b.hide\r\n                ? b.hide(a, this)\r\n                : null !== b.mainElement &&\r\n                  (b.mainElement.style.display = \"none\")),\r\n          (this.currentContextMenu = null),\r\n          this.standardMouseOver());\r\n      };\r\n\r\n      function hh(a) {\r\n        var b = new G();\r\n        b.add(\r\n          new Yg(\r\n            \"Copy\",\r\n            function (a) {\r\n              a.commandHandler.copySelection();\r\n            },\r\n            function (a) {\r\n              return a.commandHandler.canCopySelection();\r\n            }\r\n          )\r\n        );\r\n        b.add(\r\n          new Yg(\r\n            \"Cut\",\r\n            function (a) {\r\n              a.commandHandler.cutSelection();\r\n            },\r\n            function (a) {\r\n              return a.commandHandler.canCutSelection();\r\n            }\r\n          )\r\n        );\r\n        b.add(\r\n          new Yg(\r\n            \"Delete\",\r\n            function (a) {\r\n              a.commandHandler.deleteSelection();\r\n            },\r\n            function (a) {\r\n              return a.commandHandler.canDeleteSelection();\r\n            }\r\n          )\r\n        );\r\n        b.add(\r\n          new Yg(\r\n            \"Paste\",\r\n            function (b) {\r\n              b.commandHandler.pasteSelection(a.mouseDownPoint);\r\n            },\r\n            function (b) {\r\n              return b.commandHandler.canPasteSelection(a.mouseDownPoint);\r\n            }\r\n          )\r\n        );\r\n        b.add(\r\n          new Yg(\r\n            \"Select All\",\r\n            function (a) {\r\n              a.commandHandler.selectAll();\r\n            },\r\n            function (a) {\r\n              return a.commandHandler.canSelectAll();\r\n            }\r\n          )\r\n        );\r\n        b.add(\r\n          new Yg(\r\n            \"Undo\",\r\n            function (a) {\r\n              a.commandHandler.undo();\r\n            },\r\n            function (a) {\r\n              return a.commandHandler.canUndo();\r\n            }\r\n          )\r\n        );\r\n        b.add(\r\n          new Yg(\r\n            \"Redo\",\r\n            function (a) {\r\n              a.commandHandler.redo();\r\n            },\r\n            function (a) {\r\n              return a.commandHandler.canRedo();\r\n            }\r\n          )\r\n        );\r\n        b.add(\r\n          new Yg(\r\n            \"Scroll To Part\",\r\n            function (a) {\r\n              a.commandHandler.scrollToPart();\r\n            },\r\n            function (a) {\r\n              return a.commandHandler.canScrollToPart();\r\n            }\r\n          )\r\n        );\r\n        b.add(\r\n          new Yg(\r\n            \"Zoom To Fit\",\r\n            function (a) {\r\n              a.commandHandler.zoomToFit();\r\n            },\r\n            function (a) {\r\n              return a.commandHandler.canZoomToFit();\r\n            }\r\n          )\r\n        );\r\n        b.add(\r\n          new Yg(\r\n            \"Reset Zoom\",\r\n            function (a) {\r\n              a.commandHandler.resetZoom();\r\n            },\r\n            function (a) {\r\n              return a.commandHandler.canResetZoom();\r\n            }\r\n          )\r\n        );\r\n        b.add(\r\n          new Yg(\r\n            \"Group Selection\",\r\n            function (a) {\r\n              a.commandHandler.groupSelection();\r\n            },\r\n            function (a) {\r\n              return a.commandHandler.canGroupSelection();\r\n            }\r\n          )\r\n        );\r\n        b.add(\r\n          new Yg(\r\n            \"Ungroup Selection\",\r\n            function (a) {\r\n              a.commandHandler.ungroupSelection();\r\n            },\r\n            function (a) {\r\n              return a.commandHandler.canUngroupSelection();\r\n            }\r\n          )\r\n        );\r\n        b.add(\r\n          new Yg(\r\n            \"Edit Text\",\r\n            function (a) {\r\n              a.commandHandler.editTextBlock();\r\n            },\r\n            function (a) {\r\n              return a.commandHandler.canEditTextBlock();\r\n            }\r\n          )\r\n        );\r\n        return b;\r\n      }\r\n      Zg.prototype.showDefaultContextMenu = function () {\r\n        var a = this.diagram;\r\n        null === this.fu && (this.fu = hh(this));\r\n        ch.innerHTML = \"\";\r\n        dh.addEventListener(\"click\", this.Yu, !1);\r\n        var b = this,\r\n          c = ua(\"ul\");\r\n        c.className = \"goCXul\";\r\n        ch.appendChild(c);\r\n        c.innerHTML = \"\";\r\n        for (var d = this.fu.iterator; d.next(); ) {\r\n          var e = d.value,\r\n            f = e.visible;\r\n          if (\"function\" === typeof e.Jx && (\"function\" !== typeof f || f(a))) {\r\n            f = ua(\"li\");\r\n            f.className = \"goCXli\";\r\n            var g = ua(\"a\");\r\n            g.className = \"goCXa\";\r\n            g.href = \"#\";\r\n            g.Ey = e.Jx;\r\n            g.addEventListener(\r\n              \"click\",\r\n              function (c) {\r\n                this.Ey(a);\r\n                b.stopTool();\r\n                c.preventDefault();\r\n                return !1;\r\n              },\r\n              !1\r\n            );\r\n            g.textContent = e.text;\r\n            f.appendChild(g);\r\n            c.appendChild(f);\r\n          }\r\n        }\r\n        ch.style.display = \"block\";\r\n        dh.style.display = \"block\";\r\n      };\r\n      Zg.prototype.hideDefaultContextMenu = function () {\r\n        if (\r\n          null !== this.currentContextMenu &&\r\n          this.currentContextMenu === ah\r\n        ) {\r\n          ch.style.display = \"none\";\r\n          dh.style.display = \"none\";\r\n          var a = this.diagram;\r\n          null !== a && a.removeEventListener(dh, \"click\", this.Yu, !1);\r\n          this.currentContextMenu = null;\r\n        }\r\n      };\r\n      ma.Object.defineProperties(Zg.prototype, {\r\n        currentContextMenu: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.l;\r\n          },\r\n          set: function (a) {\r\n            !F ||\r\n              null === a ||\r\n              a instanceof Pe ||\r\n              a instanceof $e ||\r\n              v(\r\n                \"ContextMenuTool.currentContextMenu must be an Adornment or HTMLInfo.\"\r\n              );\r\n            this.l = a;\r\n            this.eu = a instanceof Pe ? a.adornedPart : null;\r\n          },\r\n        },\r\n        defaultTouchContextMenu: {\r\n          configurable: !0,\r\n          get: function () {\r\n            !1 === eh && null === ah && ih && $g(this);\r\n            return ah;\r\n          },\r\n          set: function (a) {\r\n            !F ||\r\n              null === a ||\r\n              a instanceof Pe ||\r\n              a instanceof $e ||\r\n              v(\r\n                \"ContextMenuTool.defaultTouchContextMenu must be an Adornment or HTMLInfo.\"\r\n              );\r\n            null === a && (eh = !0);\r\n            ah = a;\r\n          },\r\n        },\r\n        currentObject: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.w;\r\n          },\r\n          set: function (a) {\r\n            null !== a && w(a, N, Zg, \"currentObject\");\r\n            this.w = a;\r\n          },\r\n        },\r\n        mouseDownPoint: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.bx;\r\n          },\r\n        },\r\n      });\r\n      var ah = null,\r\n        eh = !1,\r\n        dh = null,\r\n        ch = null;\r\n      Zg.className = \"ContextMenuTool\";\r\n      Ra(\r\n        \"contextMenuTool\",\r\n        function () {\r\n          return this.findTool(\"ContextMenu\");\r\n        },\r\n        function (a) {\r\n          this.ab(\"ContextMenu\", a, this.mouseUpTools);\r\n        }\r\n      );\r\n\r\n      function jh() {\r\n        0 < arguments.length && za(jh);\r\n        Ke.call(this);\r\n        this.name = \"TextEditing\";\r\n        this.Ch = new kh();\r\n        this.Pa = null;\r\n        this.Oa = lh;\r\n        this.Pi = null;\r\n        this.oa = mh;\r\n        this.L = 1;\r\n        this.aa = !0;\r\n        this.w = null;\r\n        this.l = new $e();\r\n        this.gu = null;\r\n        nh(this, this.l);\r\n      }\r\n      la(jh, Ke);\r\n\r\n      function nh(a, b) {\r\n        if (ih) {\r\n          var c = ua(\"textarea\");\r\n          a.gu = c;\r\n          c.addEventListener(\r\n            \"input\",\r\n            function () {\r\n              if (null !== a.textBlock) {\r\n                var b = a.ey(this.value);\r\n                this.style.width = 20 + b.measuredBounds.width * this.KA + \"px\";\r\n                this.rows = b.lineCount;\r\n              }\r\n            },\r\n            !1\r\n          );\r\n          c.addEventListener(\r\n            \"keydown\",\r\n            function (b) {\r\n              if (null !== a.textBlock) {\r\n                var c = b.which;\r\n                13 === c\r\n                  ? (!1 === a.textBlock.isMultiline && b.preventDefault(),\r\n                    a.acceptText(oh))\r\n                  : 9 === c\r\n                  ? (a.acceptText(ph), b.preventDefault())\r\n                  : 27 === c &&\r\n                    (a.doCancel(), null !== a.diagram && a.diagram.doFocus());\r\n              }\r\n            },\r\n            !1\r\n          );\r\n          c.addEventListener(\r\n            \"focus\",\r\n            function () {\r\n              if (null !== a.currentTextEditor && a.state !== mh) {\r\n                var b = a.gu;\r\n                a.oa === qh && (a.oa = rh);\r\n                \"function\" === typeof b.select &&\r\n                  a.selectsTextOnActivate &&\r\n                  (b.select(), b.setSelectionRange(0, 9999));\r\n              }\r\n            },\r\n            !1\r\n          );\r\n          c.addEventListener(\r\n            \"blur\",\r\n            function () {\r\n              if (null !== a.currentTextEditor && a.state !== mh) {\r\n                var b = a.gu;\r\n                \"function\" === typeof b.focus && b.focus();\r\n                \"function\" === typeof b.select &&\r\n                  a.selectsTextOnActivate &&\r\n                  (b.select(), b.setSelectionRange(0, 9999));\r\n              }\r\n            },\r\n            !1\r\n          );\r\n          b.valueFunction = function () {\r\n            return c.value;\r\n          };\r\n          b.mainElement = c;\r\n          b.show = function (a, b, f) {\r\n            if (a instanceof kh && f instanceof jh)\r\n              if (f.state === sh) (c.style.border = \"3px solid red\"), c.focus();\r\n              else {\r\n                var d = a.ma(Mc),\r\n                  e = b.position,\r\n                  k = b.scale,\r\n                  l = a.Df() * k;\r\n                l < f.minimumEditorScale && (l = f.minimumEditorScale);\r\n                var m = a.naturalBounds.width * l + 6,\r\n                  n = a.naturalBounds.height * l + 2,\r\n                  p = (d.x - e.x) * k;\r\n                d = (d.y - e.y) * k;\r\n                c.value = a.text;\r\n                b.div.style.font = a.font;\r\n                c.style.position = \"absolute\";\r\n                c.style.zIndex = \"100\";\r\n                c.style.font = \"inherit\";\r\n                c.style.fontSize = 100 * l + \"%\";\r\n                c.style.lineHeight = \"normal\";\r\n                c.style.width = m + \"px\";\r\n                c.style.left = ((p - m / 2) | 0) - 1 + \"px\";\r\n                c.style.top = ((d - n / 2) | 0) - 1 + \"px\";\r\n                c.style.textAlign = a.textAlign;\r\n                c.style.margin = \"0\";\r\n                c.style.padding = \"1px\";\r\n                c.style.border = \"0\";\r\n                c.style.outline = \"none\";\r\n                c.style.whiteSpace = \"pre-wrap\";\r\n                c.style.overflow = \"hidden\";\r\n                c.rows = a.lineCount;\r\n                c.KA = l;\r\n                c.className = \"goTXarea\";\r\n                b.div.appendChild(c);\r\n                c.focus();\r\n                f.selectsTextOnActivate &&\r\n                  (c.select(), c.setSelectionRange(0, 9999));\r\n              }\r\n          };\r\n          b.hide = function (a) {\r\n            a.div.removeChild(c);\r\n          };\r\n        }\r\n      }\r\n      jh.prototype.canStart = function () {\r\n        if (!this.isEnabled) return !1;\r\n        var a = this.diagram;\r\n        if (\r\n          null === a ||\r\n          a.isReadOnly ||\r\n          !a.lastInput.left ||\r\n          this.isBeyondDragSize()\r\n        )\r\n          return !1;\r\n        var b = a.Yb(a.lastInput.documentPoint);\r\n        if (!(null !== b && b instanceof kh && b.editable && b.part.canEdit()))\r\n          return !1;\r\n        b = b.part;\r\n        return null === b ||\r\n          (this.starting === lh && !b.isSelected) ||\r\n          (this.starting === th && 2 > a.lastInput.clickCount)\r\n          ? !1\r\n          : !0;\r\n      };\r\n      jh.prototype.doStart = function () {\r\n        this.isActive || null === this.textBlock || this.doActivate();\r\n      };\r\n      jh.prototype.doActivate = function () {\r\n        if (!this.isActive) {\r\n          var a = this.diagram;\r\n          if (null !== a) {\r\n            var b = this.textBlock;\r\n            null === b && (b = a.Yb(a.lastInput.documentPoint));\r\n            if (\r\n              null !== b &&\r\n              b instanceof kh &&\r\n              ((this.textBlock = b), null !== b.part)\r\n            ) {\r\n              this.isActive = !0;\r\n              this.oa = qh;\r\n              var c = this.defaultTextEditor;\r\n              null !== b.textEditor && (c = b.textEditor);\r\n              this.Ch = this.textBlock.copy();\r\n              var d = new L(this.textBlock.ma(Hc), this.textBlock.ma(Sc));\r\n              a.fw(d);\r\n              c.show(b, a, this);\r\n              this.currentTextEditor = c;\r\n            }\r\n          }\r\n        }\r\n      };\r\n      jh.prototype.doCancel = function () {\r\n        this.stopTool();\r\n      };\r\n      jh.prototype.doMouseUp = function () {\r\n        !this.isActive && this.canStart() && this.doActivate();\r\n      };\r\n      jh.prototype.doMouseDown = function () {\r\n        this.isActive && this.acceptText(uh);\r\n      };\r\n      jh.prototype.acceptText = function (a) {\r\n        switch (a) {\r\n          case uh:\r\n            if (this.oa === vh)\r\n              this.currentTextEditor instanceof HTMLElement &&\r\n                this.currentTextEditor.focus();\r\n            else if (this.oa === qh || this.oa === sh || this.oa === rh)\r\n              (this.oa = wh), xh(this);\r\n            break;\r\n          case yh:\r\n          case oh:\r\n          case ph:\r\n            if (oh !== a || !0 !== this.textBlock.isMultiline)\r\n              if (this.oa === qh || this.oa === sh || this.oa === rh)\r\n                (this.oa = wh), xh(this);\r\n        }\r\n      };\r\n\r\n      function xh(a) {\r\n        var b = a.textBlock,\r\n          c = a.diagram,\r\n          d = a.currentTextEditor;\r\n        if (null !== b && null !== d) {\r\n          var e = b.text,\r\n            f = \"\";\r\n          null !== d.valueFunction && (f = d.valueFunction());\r\n          if (a.isValidText(b, e, f))\r\n            a.Aa(a.name),\r\n              (a.oa = vh),\r\n              (a.transactionResult = a.name),\r\n              (b.text = f),\r\n              (d = a.textBlock),\r\n              null !== d.textEdited && d.textEdited(d, e, f),\r\n              null !== c && c.U(\"TextEdited\", b, e),\r\n              a.Qg(),\r\n              a.stopTool(),\r\n              null !== c && c.doFocus();\r\n          else {\r\n            a.oa = sh;\r\n            var g = a.textBlock;\r\n            null !== g.errorFunction && g.errorFunction(a, e, f);\r\n            d.show(b, c, a);\r\n          }\r\n        }\r\n      }\r\n      jh.prototype.doDeactivate = function () {\r\n        var a = this.diagram;\r\n        null !== a &&\r\n          ((this.oa = mh),\r\n          (this.textBlock = null),\r\n          null !== this.currentTextEditor &&\r\n            this.currentTextEditor.hide(a, this),\r\n          (this.isActive = !1));\r\n      };\r\n      jh.prototype.isValidText = function (a, b, c) {\r\n        w(a, kh, jh, \"isValidText:textblock\");\r\n        var d = this.textValidation;\r\n        if (null !== d && !d(a, b, c)) return !1;\r\n        d = a.textValidation;\r\n        return null === d || d(a, b, c) ? !0 : !1;\r\n      };\r\n      jh.prototype.ey = function (a) {\r\n        var b = this.Ch;\r\n        b.text = a;\r\n        b.measure(this.textBlock.yi, Infinity);\r\n        return b;\r\n      };\r\n      ma.Object.defineProperties(jh.prototype, {\r\n        textBlock: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Pa;\r\n          },\r\n          set: function (a) {\r\n            null !== a && w(a, kh, jh, \"textBlock\");\r\n            this.Pa = a;\r\n          },\r\n        },\r\n        currentTextEditor: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.w;\r\n          },\r\n          set: function (a) {\r\n            this.w = a;\r\n          },\r\n        },\r\n        defaultTextEditor: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.l;\r\n          },\r\n          set: function (a) {\r\n            !F ||\r\n              a instanceof $e ||\r\n              v(\"TextEditingTool.defaultTextEditor must be an HTMLInfo.\");\r\n            this.l = a;\r\n          },\r\n        },\r\n        starting: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Oa;\r\n          },\r\n          set: function (a) {\r\n            hb(a, jh, jh, \"starting\");\r\n            this.Oa = a;\r\n          },\r\n        },\r\n        textValidation: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Pi;\r\n          },\r\n          set: function (a) {\r\n            null !== a && A(a, \"function\", jh, \"textValidation\");\r\n            this.Pi = a;\r\n          },\r\n        },\r\n        minimumEditorScale: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.L;\r\n          },\r\n          set: function (a) {\r\n            null !== a && A(a, \"number\", jh, \"minimumEditorScale\");\r\n            this.L = a;\r\n          },\r\n        },\r\n        selectsTextOnActivate: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.aa;\r\n          },\r\n          set: function (a) {\r\n            null !== a && A(a, \"boolean\", jh, \"selectsTextOnActivate\");\r\n            this.aa = a;\r\n          },\r\n        },\r\n        state: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.oa;\r\n          },\r\n          set: function (a) {\r\n            this.oa !== a && (hb(a, jh, jh, \"starting\"), (this.oa = a));\r\n          },\r\n        },\r\n      });\r\n      jh.prototype.measureTemporaryTextBlock = jh.prototype.ey;\r\n      var yh = new E(jh, \"LostFocus\", 0),\r\n        uh = new E(jh, \"MouseDown\", 1),\r\n        ph = new E(jh, \"Tab\", 2),\r\n        oh = new E(jh, \"Enter\", 3),\r\n        zh = new E(jh, \"SingleClick\", 0),\r\n        lh = new E(jh, \"SingleClickSelected\", 1),\r\n        th = new E(jh, \"DoubleClick\", 2),\r\n        mh = new E(jh, \"StateNone\", 0),\r\n        qh = new E(jh, \"StateActive\", 1),\r\n        rh = new E(jh, \"StateEditing\", 2),\r\n        wh = new E(jh, \"StateValidating\", 3),\r\n        sh = new E(jh, \"StateInvalid\", 4),\r\n        vh = new E(jh, \"StateValidated\", 5);\r\n      jh.className = \"TextEditingTool\";\r\n      jh.LostFocus = yh;\r\n      jh.MouseDown = uh;\r\n      jh.Tab = ph;\r\n      jh.Enter = oh;\r\n      jh.SingleClick = zh;\r\n      jh.SingleClickSelected = lh;\r\n      jh.DoubleClick = th;\r\n      jh.StateNone = mh;\r\n      jh.StateActive = qh;\r\n      jh.StateEditing = rh;\r\n      jh.StateValidating = wh;\r\n      jh.StateInvalid = sh;\r\n      jh.StateValidated = vh;\r\n      Ra(\r\n        \"textEditingTool\",\r\n        function () {\r\n          return this.findTool(\"TextEditing\");\r\n        },\r\n        function (a) {\r\n          this.ab(\"TextEditing\", a, this.mouseUpTools);\r\n        }\r\n      );\r\n\r\n      function Ah() {\r\n        Bh || (Ch(), (Bh = !0));\r\n        this.A = Le;\r\n        this.sl = this.gf = this.oc = this.$r = this.mc = !1;\r\n        this.vx = !0;\r\n        this.tl = Dh;\r\n        this.ui = this.Sc = !0;\r\n        this.dh = 600;\r\n        this.Lw = this.ux = !1;\r\n        this.Re = new H();\r\n        this.Fd = new Mh();\r\n        this.Fd.Fc = this;\r\n        this.Lk = new H();\r\n        this.Uu = new H();\r\n        this.Vs = new H();\r\n      }\r\n      Ah.prototype.de = function (a) {\r\n        this.A = a;\r\n      };\r\n      Ah.prototype.canStart = function () {\r\n        return !0;\r\n      };\r\n\r\n      function Nh(a, b) {\r\n        Oh(a, b) && (a.gf = !0);\r\n      }\r\n\r\n      function Oh(a, b) {\r\n        if (!a.Sc || !a.canStart(b)) return !1;\r\n        a.Re.add(b);\r\n        a.defaultAnimation.isAnimating && a.ad();\r\n        return (a.oc = !0);\r\n      }\r\n\r\n      function Ph(a) {\r\n        if (a.Sc && a.oc) {\r\n          var b = a.Fd,\r\n            c = a.A,\r\n            d = a.Re.contains(\"Model\");\r\n          d &&\r\n            ((a.sl = !0),\r\n            a.tl === Dh\r\n              ? ((b.isViewportUnconstrained = !0),\r\n                b.wc.clear(),\r\n                b.add(\r\n                  c,\r\n                  \"position\",\r\n                  c.position.copy().offset(0, -200),\r\n                  c.position\r\n                ),\r\n                b.add(c, \"opacity\", 0, 1))\r\n              : a.tl === Qh && b.wc.clear(),\r\n            c.U(\"InitialAnimationStarting\", a));\r\n          (d && !a.ui) || 0 === b.wc.count\r\n            ? (a.Re.clear(),\r\n              (a.oc = !1),\r\n              (a.gf = !1),\r\n              b.wc.clear(),\r\n              Rh(b),\r\n              (a.sl = !1),\r\n              c.R())\r\n            : (a.Re.clear(),\r\n              (c.jd = !1),\r\n              pa.requestAnimationFrame(function () {\r\n                !1 === a.oc ||\r\n                  b.mc ||\r\n                  (c.Ke(\"temporaryPixelRatio\") && gf(c),\r\n                  Sh(c),\r\n                  (a.oc = !1),\r\n                  (a.gf = !1),\r\n                  (a.vx = d && a.tl === Th && c.lx.B(c.ra) ? !0 : !1),\r\n                  b.start(),\r\n                  Uh(a),\r\n                  c.Ya(),\r\n                  Vh(b, 0),\r\n                  Xf(c, !0),\r\n                  Wh(a),\r\n                  c.U(\"AnimationStarting\", a));\r\n              }));\r\n        }\r\n      }\r\n\r\n      function Xh(a, b, c, d) {\r\n        (b instanceof Q && (null !== b.fromNode || null !== b.toNode)) ||\r\n          a.Fd.add(b, \"position\", c, d, !1);\r\n      }\r\n      t = Ah.prototype;\r\n      t.Ft = function (a) {\r\n        return this.Fd.Ft(a);\r\n      };\r\n      t.Lv = function (a) {\r\n        return this.Fd.Lv(a);\r\n      };\r\n\r\n      function Yh(a, b) {\r\n        function c() {\r\n          0 < e.Vs.count && (d.addAll(e.Vs), e.Vs.clear(), (e.mc = !0));\r\n          if (!1 !== e.mc && 0 !== d.count) {\r\n            e.Uu.addAll(d);\r\n            for (var a = e.Uu.iterator; a.next(); ) {\r\n              var b = a.value;\r\n              if (!1 !== b.mc) {\r\n                a: if (0 < b.hm.count) var h = !0;\r\n                else {\r\n                  for (h = b.wc.iterator; h.next(); ) {\r\n                    var k = h.key;\r\n                    if (\r\n                      (k instanceof N && null !== k.diagram) ||\r\n                      k instanceof P\r\n                    ) {\r\n                      h = !0;\r\n                      break a;\r\n                    }\r\n                  }\r\n                  h = !1;\r\n                }\r\n                h ? Zh(b, !1) : (b.Al = !0);\r\n              }\r\n            }\r\n            e.Uu.clear();\r\n            Uh(e);\r\n            Xf(e.A);\r\n            Wh(e);\r\n            pa.requestAnimationFrame(c);\r\n          }\r\n        }\r\n        var d = a.Lk,\r\n          e = a;\r\n        a.mc\r\n          ? a.Vs.add(b)\r\n          : ((a.mc = !0),\r\n            d.add(b),\r\n            pa.requestAnimationFrame(function () {\r\n              c();\r\n            }));\r\n      }\r\n\r\n      function $h(a) {\r\n        for (a = a.Lk.iterator; a.next(); ) a.value.Al = !1;\r\n      }\r\n\r\n      function Uh(a) {\r\n        if (!a.$r) {\r\n          var b = a.A;\r\n          a.ux = b.skipsUndoManager;\r\n          a.Lw = b.skipsModelSourceBindings;\r\n          b.skipsUndoManager = !0;\r\n          b.skipsModelSourceBindings = !0;\r\n          a.$r = !0;\r\n        }\r\n      }\r\n\r\n      function Wh(a) {\r\n        var b = a.A;\r\n        b.skipsUndoManager = a.ux;\r\n        b.skipsModelSourceBindings = a.Lw;\r\n        a.$r = !1;\r\n      }\r\n      t.ad = function (a) {\r\n        var b = this.Fd;\r\n        !0 === this.oc &&\r\n          ((this.sl = this.gf = this.oc = !1),\r\n          this.Re.clear(),\r\n          0 < b.wc.count && this.A.cc());\r\n        if (this.mc && this.Sc) {\r\n          if ((b.qm(!0), b.wc.clear(), Rh(b), !0 === a))\r\n            for (a = this.Lk.sa(), b = 0; b < a.length; b++) a[b].qm(!0);\r\n        } else b.wc.clear(), Rh(b);\r\n      };\r\n      t.qm = function (a) {\r\n        a === this.defaultAnimation && this.defaultAnimation.wc.clear();\r\n        this.Lk.remove(a);\r\n        0 === this.Lk.count && ((this.mc = !1), this.A.cc());\r\n        a === this.defaultAnimation &&\r\n          (this.defaultAnimation.wc.clear(),\r\n          this.A.U(\"AnimationFinished\", this));\r\n      };\r\n      t.bk = function (a, b) {\r\n        this.gf &&\r\n          (this.Re.contains(\"Expand Tree\") ||\r\n            this.Re.contains(\"Expand SubGraph\")) &&\r\n          this.Fd.bk(a, b);\r\n      };\r\n      t.$j = function (a, b) {\r\n        this.gf &&\r\n          (this.Re.contains(\"Collapse Tree\") ||\r\n            this.Re.contains(\"Collapse SubGraph\")) &&\r\n          (this.Fd.$j(a, b),\r\n          ai(this.Fd, b, \"position\", b.position, b.position));\r\n      };\r\n\r\n      function bi(a, b, c) {\r\n        a.gf &&\r\n          !b.B(c) &&\r\n          (a.A.tk || (b = c.copy()), ai(a.Fd, a.A, \"position\", b, c));\r\n      }\r\n\r\n      function ci(a, b, c, d, e) {\r\n        null === a && (a = \"rgba(0,0,0,0)\");\r\n        null === b && (b = \"rgba(0,0,0,0)\");\r\n        di(a);\r\n        ei();\r\n        var f = fi.l,\r\n          g = fi.L,\r\n          h = fi.w;\r\n        a = fi.aa;\r\n        di(b);\r\n        ei();\r\n        var k = fi.L,\r\n          l = fi.w;\r\n        b = fi.aa;\r\n        f = e(c, f, fi.l - f, d);\r\n        g = e(c, g, k - g, d);\r\n        h = e(c, h, l - h, d);\r\n        c = e(c, a, b - a, d);\r\n        return \"hsla(\" + f + \", \" + g + \"%, \" + h + \"%, \" + c + \")\";\r\n      }\r\n\r\n      function Ch() {\r\n        var a = new Db();\r\n        a.add(\"position:diagram\", function (a, c, d, e, f, g) {\r\n          a.position = new J(e(f, c.x, d.x - c.x, g), e(f, c.y, d.y - c.y, g));\r\n        });\r\n        a.add(\"position\", function (a, c, d, e, f, g) {\r\n          f !== g\r\n            ? a.Qq(e(f, c.x, d.x - c.x, g), e(f, c.y, d.y - c.y, g), !1)\r\n            : (a.position = new J(\r\n                e(f, c.x, d.x - c.x, g),\r\n                e(f, c.y, d.y - c.y, g)\r\n              ));\r\n        });\r\n        a.add(\"location\", function (a, c, d, e, f, g) {\r\n          f !== g\r\n            ? a.Qq(e(f, c.x, d.x - c.x, g), e(f, c.y, d.y - c.y, g), !0)\r\n            : (a.location = new J(\r\n                e(f, c.x, d.x - c.x, g),\r\n                e(f, c.y, d.y - c.y, g)\r\n              ));\r\n        });\r\n        a.add(\"position:placeholder\", function (a, c, d, e, f, g) {\r\n          f !== g\r\n            ? a.Qq(e(f, c.x, d.x - c.x, g), e(f, c.y, d.y - c.y, g), !1)\r\n            : (a.position = new J(\r\n                e(f, c.x, d.x - c.x, g),\r\n                e(f, c.y, d.y - c.y, g)\r\n              ));\r\n        });\r\n        a.add(\"position:node\", function (a, c, d, e, f, g) {\r\n          var b = a.actualBounds,\r\n            k = d.actualBounds;\r\n          d = k.x + k.width / 2 - b.width / 2;\r\n          b = k.y + k.height / 2 - b.height / 2;\r\n          f !== g\r\n            ? a.Qq(e(f, c.x, d - c.x, g), e(f, c.y, b - c.y, g), !1)\r\n            : (a.position = new J(\r\n                e(f, c.x, d - c.x, g),\r\n                e(f, c.y, b - c.y, g)\r\n              ));\r\n        });\r\n        a.add(\"desiredSize\", function (a, c, d, e, f, g) {\r\n          a.desiredSize = new L(\r\n            e(f, c.width, d.width - c.width, g),\r\n            e(f, c.height, d.height - c.height, g)\r\n          );\r\n        });\r\n        a.add(\"width\", function (a, c, d, e, f, g) {\r\n          a.width = e(f, c, d - c, g);\r\n        });\r\n        a.add(\"height\", function (a, c, d, e, f, g) {\r\n          a.height = e(f, c, d - c, g);\r\n        });\r\n        a.add(\"fill\", function (a, c, d, e, f, g) {\r\n          a.fill = ci(c, d, f, g, e);\r\n        });\r\n        a.add(\"stroke\", function (a, c, d, e, f, g) {\r\n          a.stroke = ci(c, d, f, g, e);\r\n        });\r\n        a.add(\"strokeWidth\", function (a, c, d, e, f, g) {\r\n          a.strokeWidth = e(f, c, d - c, g);\r\n        });\r\n        a.add(\"strokeDashOffset\", function (a, c, d, e, f, g) {\r\n          a.strokeDashOffset = e(f, c, d - c, g);\r\n        });\r\n        a.add(\"background\", function (a, c, d, e, f, g) {\r\n          a.background = ci(c, d, f, g, e);\r\n        });\r\n        a.add(\"areaBackground\", function (a, c, d, e, f, g) {\r\n          a.areaBackground = ci(c, d, f, g, e);\r\n        });\r\n        a.add(\"opacity\", function (a, c, d, e, f, g) {\r\n          a.opacity = e(f, c, d - c, g);\r\n        });\r\n        a.add(\"scale\", function (a, c, d, e, f, g) {\r\n          a.scale = e(f, c, d - c, g);\r\n        });\r\n        a.add(\"angle\", function (a, c, d, e, f, g) {\r\n          a.angle = e(f, c, d - c, g);\r\n        });\r\n        gi = a;\r\n      }\r\n      ma.Object.defineProperties(Ah.prototype, {\r\n        animationReasons: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Re;\r\n          },\r\n        },\r\n        isEnabled: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Sc;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"boolean\", Ah, \"isEnabled\");\r\n            this.Sc = a;\r\n          },\r\n        },\r\n        duration: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.dh;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"number\", Ah, \"duration\");\r\n            1 > a && ya(a, \">= 1\", Ah, \"duration\");\r\n            this.dh = a;\r\n          },\r\n        },\r\n        isAnimating: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.mc;\r\n          },\r\n        },\r\n        isTicking: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.$r;\r\n          },\r\n        },\r\n        isInitial: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ui;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"boolean\", Ah, \"isInitial\");\r\n            this.ui = a;\r\n          },\r\n        },\r\n        defaultAnimation: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Fd;\r\n          },\r\n        },\r\n        activeAnimations: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Lk;\r\n          },\r\n        },\r\n        initialAnimationStyle: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.tl;\r\n          },\r\n          set: function (a) {\r\n            F && hb(a, Ah, Ah, \"initialAnimationStyle\");\r\n            this.tl = a;\r\n          },\r\n        },\r\n      });\r\n      Ah.prototype.stopAnimation = Ah.prototype.ad;\r\n      var gi = null,\r\n        Bh = !1,\r\n        Dh = new E(Ah, \"Default\", 1),\r\n        Th = new E(Ah, \"AnimateLocations\", 2),\r\n        Qh = new E(Ah, \"None\", 3);\r\n      Ah.className = \"AnimationManager\";\r\n      Ah.defineAnimationEffect = function (a, b) {\r\n        Bh || (Ch(), (Bh = !0));\r\n        gi.add(a, b);\r\n      };\r\n      Ah.Default = Dh;\r\n      Ah.AnimateLocations = Th;\r\n      Ah.None = Qh;\r\n\r\n      function Mh() {\r\n        this.$u = this.tx = this.Fc = this.A = null;\r\n        this.Al = this.mc = this.l = !1;\r\n        this.Qn = this.xd = 0;\r\n        this.vr = this.mu = hi;\r\n        this.zl = this.pp = !1;\r\n        this.Ou = 1;\r\n        this.Lu = 0;\r\n        this.sd = this.dh = NaN;\r\n        this.Ow = 0;\r\n        this.Rn = null;\r\n        this.w = Qb;\r\n        this.wc = new Db();\r\n        this.Eu = new Db();\r\n        this.hm = new H();\r\n        this.Fu = new H();\r\n        this.Mw = ii;\r\n      }\r\n      Mh.prototype.suspend = function () {\r\n        this.Al = !0;\r\n      };\r\n      Mh.prototype.advanceTo = function (a, b) {\r\n        b && (this.Al = !1);\r\n        this.pp && a >= this.sd && ((this.zl = !0), (a -= this.sd));\r\n        this.Ow = a;\r\n        Zh(this, !0);\r\n        Uh(this.Fc);\r\n        Xf(this.A);\r\n        Wh(this.Fc);\r\n        this.A.Jf();\r\n      };\r\n\r\n      function Rh(a) {\r\n        a.Eu.clear();\r\n        a.zl = !1;\r\n        a.Lu = 0;\r\n        a.sd = NaN;\r\n        0 < a.hm.count && a.hm.clear();\r\n        0 < a.Fu.count && a.Fu.clear();\r\n      }\r\n      t = Mh.prototype;\r\n      t.start = function () {\r\n        if (0 !== this.wc.count && !this.mc) {\r\n          for (var a = this.A, b = this.wc.iterator; b.next(); ) {\r\n            var c = b.value.end,\r\n              d = b.key;\r\n            if (c[\"position:placeholder\"]) {\r\n              var e = d.findVisibleNode();\r\n              if (e instanceof Kf && null !== e.placeholder) {\r\n                var f = e.placeholder;\r\n                e = f.ma(Hc);\r\n                f = f.padding;\r\n                e.x += f.left;\r\n                e.y += f.top;\r\n                c[\"position:placeholder\"] = e;\r\n              }\r\n            }\r\n            null === a &&\r\n              (d instanceof P ? (a = d) : d instanceof N && (a = d.diagram));\r\n          }\r\n          null !== a &&\r\n            ((this.A = a),\r\n            (b = this.Fc = a.animationManager),\r\n            (this.sd = isNaN(this.dh) ? b.duration : this.dh),\r\n            (this.vr = this.mu),\r\n            b.sl &&\r\n              b.tl === Dh &&\r\n              this === b.defaultAnimation &&\r\n              ((this.vr = ji),\r\n              (this.sd = isNaN(this.dh)\r\n                ? 600 === b.duration\r\n                  ? 900\r\n                  : b.duration\r\n                : this.dh)),\r\n            (this.Mw = a.scrollMode),\r\n            this.isViewportUnconstrained && (a.Mi = ki),\r\n            Uh(b),\r\n            this.hm.each(function (b) {\r\n              b.data = null;\r\n              a.add(b);\r\n            }),\r\n            Wh(b),\r\n            (this.mc = !0),\r\n            (this.xd = +new Date()),\r\n            (this.Qn = this.xd + this.sd),\r\n            Yh(b, this));\r\n        }\r\n      };\r\n      t.Ty = function (a, b) {\r\n        a.$b() &&\r\n          (F &&\r\n            (void 0 === b &&\r\n              v(\"addTemporaryPart: Required Diagram argument missing\"),\r\n            a.diagram === b &&\r\n              v(\r\n                \"addTemporaryPart: Part already in Diagram, did you mean to pass in a copy?\"\r\n              ),\r\n            null !== this.A &&\r\n              this.A !== b &&\r\n              v(\r\n                \"addTemporaryPart: A different Diagram is already associated with this Animation: \" +\r\n                  this.A.toString()\r\n              )),\r\n          this.hm.add(a),\r\n          (this.A = b));\r\n      };\r\n      t.add = function (a, b, c, d, e) {\r\n        (\"position\" === b && c.B(d)) ||\r\n          (null === this.A &&\r\n            (a instanceof P\r\n              ? (this.A = a)\r\n              : a instanceof N && null !== a.diagram && (this.A = a.diagram)),\r\n          (a instanceof S && !a.isAnimated) || ai(this, a, b, c, d, e));\r\n      };\r\n\r\n      function ai(a, b, c, d, e, f) {\r\n        var g = a.wc;\r\n        b instanceof P && \"position\" === c && (c = \"position:diagram\");\r\n        if (g.contains(b)) {\r\n          var h = g.K(b);\r\n          var k = h.start;\r\n          var l = h.end;\r\n          void 0 === k[c] && (k[c] = li(d));\r\n          l[c] = li(e);\r\n        } else\r\n          (k = {}),\r\n            (l = {}),\r\n            (k[c] = li(d)),\r\n            (l[c] = li(e)),\r\n            (h = k.position),\r\n            b instanceof N &&\r\n              h instanceof J &&\r\n              !h.o() &&\r\n              b.diagram.animationManager.Re.contains(\"Expand SubGraph\") &&\r\n              h.assign(l.position),\r\n            (h = new mi(k, l, f)),\r\n            g.add(b, h);\r\n        g = k[c];\r\n        g instanceof J && !g.o() && g.assign(a.w);\r\n        f && 0 === c.indexOf(\"position:\") && b instanceof S\r\n          ? (h.uv.location = li(b.location))\r\n          : f && (h.uv[c] = li(d));\r\n      }\r\n\r\n      function li(a) {\r\n        return a instanceof J ? a.copy() : a instanceof Jb ? a.copy() : a;\r\n      }\r\n      t.Ft = function (a) {\r\n        if (!this.mc) return !1;\r\n        a = this.wc.K(a);\r\n        return null !== a && a.Xv;\r\n      };\r\n      t.Lv = function (a) {\r\n        if (!this.mc) return !1;\r\n        a = this.wc.K(a);\r\n        return null !== a && (a.start.position || a.start.location);\r\n      };\r\n\r\n      function Zh(a, b) {\r\n        if (!a.Al || b) {\r\n          var c = a.Fc;\r\n          if (!1 !== a.mc) {\r\n            var d = +new Date(),\r\n              e = d > a.Qn ? a.sd : d - a.xd;\r\n            b &&\r\n              ((e = a.Ow),\r\n              e < a.sd\r\n                ? ((a.xd = +new Date() - e), (a.Qn = a.xd + a.sd))\r\n                : (e = a.sd));\r\n            Uh(c);\r\n            Vh(a, e);\r\n            Xf(a.A, !0);\r\n            Wh(c);\r\n            d > a.Qn &&\r\n              (a.pp && !a.zl\r\n                ? ((a.xd = +new Date()), (a.Qn = a.xd + a.sd), (a.zl = !0))\r\n                : a.qm(!1));\r\n          }\r\n        }\r\n      }\r\n\r\n      function Vh(a, b) {\r\n        for (var c = a.sd, d = a.wc.iterator, e = a.zl; d.next(); ) {\r\n          var f = d.key;\r\n          if (!(f instanceof N && null === f.diagram)) {\r\n            var g = d.value,\r\n              h = e ? g.end : g.start;\r\n            g = e ? g.start : g.end;\r\n            var k = gi,\r\n              l;\r\n            for (l in g)\r\n              (\"position\" === l &&\r\n                (g[\"position:placeholder\"] || g[\"position:node\"])) ||\r\n                null === k.get(l) ||\r\n                k.get(l)(f, h[l], g[l], a.vr, b, c, a);\r\n          }\r\n        }\r\n      }\r\n      t.stop = function () {\r\n        this.mc && this.qm(!0);\r\n      };\r\n      t.qm = function (a) {\r\n        null !== this.$u && this.$u.zp.remove(this.tx);\r\n        if (this.mc) {\r\n          var b = this.A,\r\n            c = this.Fc;\r\n          this.Al = this.mc = c.sl = !1;\r\n          Uh(c);\r\n          for (var d = this.wc, e = this.hm.iterator; e.next(); )\r\n            b.remove(e.value);\r\n          for (e = this.Fu.iterator; e.next(); ) e.value.v();\r\n          e = this.pp;\r\n          d = d.iterator;\r\n          for (var f = gi; d.next(); ) {\r\n            var g = d.key,\r\n              h = d.value,\r\n              k = e ? h.end : h.start,\r\n              l = e ? h.start : h.end,\r\n              m = h.uv,\r\n              n;\r\n            for (n in l)\r\n              if (null !== f.get(n)) {\r\n                var p = n;\r\n                !h.nv ||\r\n                  (\"position:node\" !== p && \"position:placeholder\" !== p) ||\r\n                  (p = \"position\");\r\n                f.get(p)(\r\n                  g,\r\n                  k[n],\r\n                  void 0 !== m[n] ? m[n] : h.nv ? k[n] : l[n],\r\n                  this.vr,\r\n                  this.sd,\r\n                  this.sd,\r\n                  this\r\n                );\r\n              }\r\n            h.nv &&\r\n              void 0 !== m.location &&\r\n              g instanceof S &&\r\n              (g.location = m.location);\r\n            h.Xv && g instanceof S && g.Tb(!1);\r\n          }\r\n          if (c.defaultAnimation === this)\r\n            for (n = this.A.links; n.next(); )\r\n              (e = n.value),\r\n                null === e.uh\r\n                  ? ((d = e.path), null !== d && ((e.Ec = !1), e.v(), d.v()))\r\n                  : ((e.points = e.uh), (e.uh = null));\r\n          b.At.clear();\r\n          xf(b, !1);\r\n          b.Ya();\r\n          b.R();\r\n          Xf(b, !0);\r\n          this.isViewportUnconstrained && (b.scrollMode = this.Mw);\r\n          Wh(c);\r\n          this.Lu++;\r\n          !a && this.Ou > this.Lu\r\n            ? ((this.zl = !1), this.start())\r\n            : (this.Rn && this.Rn(this), Rh(this), c.qm(this), b.cc());\r\n        }\r\n      };\r\n      t.bk = function (a, b) {\r\n        var c = b.actualBounds,\r\n          d = null;\r\n        b instanceof Kf && (d = b.placeholder);\r\n        null !== d\r\n          ? ((c = d.ma(Hc)),\r\n            (d = d.padding),\r\n            (c.x += d.left),\r\n            (c.y += d.top),\r\n            this.add(a, \"position\", c, a.position, !1))\r\n          : this.add(\r\n              a,\r\n              \"position\",\r\n              new J(c.x + c.width / 2, c.y + c.height / 2),\r\n              a.position,\r\n              !1\r\n            );\r\n        this.add(a, \"scale\", 0.01, a.scale, !1);\r\n        if (a instanceof Kf)\r\n          for (a = a.memberParts; a.next(); )\r\n            (d = a.value), d instanceof U && this.bk(d, b);\r\n      };\r\n      t.$j = function (a, b) {\r\n        if (a.isVisible()) {\r\n          var c = null;\r\n          b instanceof Kf && (c = b.placeholder);\r\n          null !== c\r\n            ? this.add(a, \"position:placeholder\", a.position, c, !0)\r\n            : this.add(a, \"position:node\", a.position, b, !0);\r\n          this.add(a, \"scale\", a.scale, 0.01, !0);\r\n          c = this.wc;\r\n          c.contains(a) && (c.K(a).Xv = !0);\r\n          if (a instanceof Kf)\r\n            for (a = a.memberParts; a.next(); )\r\n              (c = a.value), c instanceof U && this.$j(c, b);\r\n        }\r\n      };\r\n      t.Tz = function (a) {\r\n        var b = this.Eu.get(a);\r\n        null === b && ((b = {}), this.Eu.add(a, b));\r\n        return b;\r\n      };\r\n      ma.Object.defineProperties(Mh.prototype, {\r\n        duration: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.dh;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"number\", Mh, \"duration\");\r\n            1 > a && ya(a, \">= 1\", Mh, \"duration\");\r\n            this.dh = a;\r\n          },\r\n        },\r\n        reversible: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.pp;\r\n          },\r\n          set: function (a) {\r\n            this.pp = a;\r\n          },\r\n        },\r\n        runCount: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ou;\r\n          },\r\n          set: function (a) {\r\n            0 < a\r\n              ? (this.Ou = a)\r\n              : v(\"Animation.runCount value must be a positive integer.\");\r\n          },\r\n        },\r\n        finished: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Rn;\r\n          },\r\n          set: function (a) {\r\n            this.Rn !== a &&\r\n              (null !== a && A(a, \"function\", P, \"click\"), (this.Rn = a));\r\n          },\r\n        },\r\n        easing: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.mu;\r\n          },\r\n          set: function (a) {\r\n            this.mu = a;\r\n          },\r\n        },\r\n        isViewportUnconstrained: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.l;\r\n          },\r\n          set: function (a) {\r\n            this.l = a;\r\n          },\r\n        },\r\n        isAnimating: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.mc;\r\n          },\r\n        },\r\n      });\r\n      Mh.prototype.getTemporaryState = Mh.prototype.Tz;\r\n      Mh.prototype.stop = Mh.prototype.stop;\r\n      Mh.prototype.add = Mh.prototype.add;\r\n      Mh.prototype.addTemporaryPart = Mh.prototype.Ty;\r\n\r\n      function hi(a, b, c, d) {\r\n        a /= d / 2;\r\n        return 1 > a ? (c / 2) * a * a + b : (-c / 2) * (--a * (a - 2) - 1) + b;\r\n      }\r\n\r\n      function ji(a, b, c, d) {\r\n        return a === d ? b + c : c * (-Math.pow(2, (-10 * a) / d) + 1) + b;\r\n      }\r\n      Mh.className = \"Animation\";\r\n      Mh.EaseLinear = function (a, b, c, d) {\r\n        return (c * a) / d + b;\r\n      };\r\n      Mh.EaseInOutQuad = hi;\r\n      Mh.EaseInQuad = function (a, b, c, d) {\r\n        return c * (a /= d) * a + b;\r\n      };\r\n      Mh.EaseOutQuad = function (a, b, c, d) {\r\n        return -c * (a /= d) * (a - 2) + b;\r\n      };\r\n      Mh.EaseInExpo = function (a, b, c, d) {\r\n        return 0 === a ? b : c * Math.pow(2, 10 * (a / d - 1)) + b;\r\n      };\r\n      Mh.EaseOutExpo = ji;\r\n\r\n      function mi(a, b, c) {\r\n        this.start = a;\r\n        this.end = b;\r\n        this.uv = {};\r\n        this.nv = c;\r\n        this.Xv = !1;\r\n      }\r\n      mi.className = \"AnimationState\";\r\n\r\n      function ni(a, b, c) {\r\n        this.hd = null;\r\n        this.kf = a;\r\n        this.Rp = c || oi;\r\n        this.Pk = null;\r\n        void 0 !== b && ((this.Pk = b), void 0 === c && (this.Rp = pi));\r\n      }\r\n      ni.prototype.copy = function () {\r\n        var a = new ni(this.kf);\r\n        a.Rp = this.Rp;\r\n        var b = this.Pk;\r\n        if (null !== b) {\r\n          var c = {};\r\n          void 0 !== b.duration && (c.Px = b.duration);\r\n          void 0 !== b.finished && (c.Px = b.finished);\r\n          void 0 !== b.easing && (c.Px = b.easing);\r\n          a.Pk = c;\r\n        }\r\n        return a;\r\n      };\r\n\r\n      function qi(a, b) {\r\n        a = a.Pk;\r\n        null !== a &&\r\n          (a.duration && (b.duration = a.duration),\r\n          a.finished && (b.finished = a.finished),\r\n          a.easing && (b.easing = a.easing));\r\n      }\r\n      ma.Object.defineProperties(ni.prototype, {\r\n        propertyName: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.kf;\r\n          },\r\n          set: function (a) {\r\n            this.kf = a;\r\n          },\r\n        },\r\n        animationSettings: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Pk;\r\n          },\r\n          set: function (a) {\r\n            this.Pk = a;\r\n          },\r\n        },\r\n        startCondition: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Rp;\r\n          },\r\n          set: function (a) {\r\n            F && hb(a, ni, ni, \"startCondition\");\r\n            this.Rp = a;\r\n          },\r\n        },\r\n      });\r\n      var oi = new E(ni, \"Default\", 1),\r\n        pi = new E(ni, \"Immediate\", 2),\r\n        ri = new E(ni, \"Bundled\", 3);\r\n      ni.className = \"AnimationTrigger\";\r\n      ni.Default = oi;\r\n      ni.Immediate = pi;\r\n      ni.Bundled = ri;\r\n\r\n      function si() {\r\n        0 < arguments.length && za(si);\r\n        fb(this);\r\n        this.A = null;\r\n        this.Ha = new G();\r\n        this.Wa = \"\";\r\n        this.ub = 1;\r\n        this.w = !1;\r\n        this.Gi =\r\n          this.L =\r\n          this.ei =\r\n          this.di =\r\n          this.ci =\r\n          this.bi =\r\n          this.$h =\r\n          this.ai =\r\n          this.Zh =\r\n          this.gi =\r\n          this.Yh =\r\n          this.fi =\r\n          this.Xh =\r\n          this.Wh =\r\n            !0;\r\n        this.l = !1;\r\n        this.bp = [];\r\n      }\r\n      t = si.prototype;\r\n      t.clear = function () {\r\n        this.Ha.clear();\r\n        this.bp.length = 0;\r\n      };\r\n      t.de = function (a) {\r\n        this.A = a;\r\n      };\r\n      t.toString = function (a) {\r\n        void 0 === a && (a = 0);\r\n        var b = 'Layer \"' + this.name + '\"';\r\n        if (0 >= a) return b;\r\n        for (\r\n          var c = 0, d = 0, e = 0, f = 0, g = 0, h = this.Ha.iterator;\r\n          h.next();\r\n\r\n        ) {\r\n          var k = h.value;\r\n          k instanceof Kf\r\n            ? e++\r\n            : k instanceof U\r\n            ? d++\r\n            : k instanceof Q\r\n            ? f++\r\n            : k instanceof Pe\r\n            ? g++\r\n            : c++;\r\n        }\r\n        h = \"\";\r\n        0 < c && (h += c + \" Parts \");\r\n        0 < d && (h += d + \" Nodes \");\r\n        0 < e && (h += e + \" Groups \");\r\n        0 < f && (h += f + \" Links \");\r\n        0 < g && (h += g + \" Adornments \");\r\n        if (1 < a)\r\n          for (a = this.Ha.iterator; a.next(); )\r\n            (c = a.value),\r\n              (h += \"\\n    \" + c.toString()),\r\n              (d = c.data),\r\n              null !== d && sb(d) && (h += \" #\" + sb(d)),\r\n              c instanceof U\r\n                ? (h += \" \" + Pa(d))\r\n                : c instanceof Q &&\r\n                  (h += \" \" + Pa(c.fromNode) + \" \" + Pa(c.toNode));\r\n        return b + \" \" + this.Ha.count + \": \" + h;\r\n      };\r\n      t.Yb = function (a, b, c) {\r\n        void 0 === b && (b = null);\r\n        void 0 === c && (c = null);\r\n        if (!1 === this.Gi) return null;\r\n        F &&\r\n          !a.o() &&\r\n          v(\"findObjectAt: Point must have a real value, not: \" + a.toString());\r\n        var d = !1;\r\n        null !== this.diagram && this.diagram.viewportBounds.ea(a) && (d = !0);\r\n        for (var e = J.alloc(), f = this.Ha.j, g = f.length; g--; ) {\r\n          var h = f[g];\r\n          if (\r\n            (!0 !== d || !1 !== Lg(h)) &&\r\n            h.isVisible() &&\r\n            (e.assign(a),\r\n            Lb(e, h.yd),\r\n            (h = h.Yb(e, b, c)),\r\n            null !== h &&\r\n              (null !== b && (h = b(h)), null !== h && (null === c || c(h))))\r\n          )\r\n            return J.free(e), h;\r\n        }\r\n        J.free(e);\r\n        return null;\r\n      };\r\n      t.$i = function (a, b, c, d) {\r\n        void 0 === b && (b = null);\r\n        void 0 === c && (c = null);\r\n        d instanceof G || d instanceof H || (d = new H());\r\n        if (!1 === this.Gi) return d;\r\n        F &&\r\n          !a.o() &&\r\n          v(\r\n            \"findObjectsAt: Point must have a real value, not: \" + a.toString()\r\n          );\r\n        var e = !1;\r\n        null !== this.diagram && this.diagram.viewportBounds.ea(a) && (e = !0);\r\n        for (var f = J.alloc(), g = this.Ha.j, h = g.length; h--; ) {\r\n          var k = g[h];\r\n          if ((!0 !== e || !1 !== Lg(k)) && k.isVisible()) {\r\n            f.assign(a);\r\n            Lb(f, k.yd);\r\n            var l = k;\r\n            k.$i(f, b, c, d) &&\r\n              (null !== b && (l = b(l)),\r\n              null === l || (null !== c && !c(l)) || d.add(l));\r\n          }\r\n        }\r\n        J.free(f);\r\n        return d;\r\n      };\r\n      t.Cf = function (a, b, c, d, e) {\r\n        void 0 === b && (b = null);\r\n        void 0 === c && (c = null);\r\n        void 0 === d && (d = !1);\r\n        e instanceof G || e instanceof H || (e = new H());\r\n        if (!1 === this.Gi) return e;\r\n        F &&\r\n          !a.o() &&\r\n          v(\"findObjectsIn: Rect must have a real value, not: \" + a.toString());\r\n        var f = !1;\r\n        null !== this.diagram && this.diagram.viewportBounds.Af(a) && (f = !0);\r\n        for (var g = this.Ha.j, h = g.length; h--; ) {\r\n          var k = g[h];\r\n          if ((!0 !== f || !1 !== Lg(k)) && k.isVisible()) {\r\n            var l = k;\r\n            k.Cf(a, b, c, d, e) &&\r\n              (null !== b && (l = b(l)),\r\n              null === l || (null !== c && !c(l)) || e.add(l));\r\n          }\r\n        }\r\n        return e;\r\n      };\r\n      t.Av = function (a, b, c, d, e, f, g) {\r\n        if (!1 === this.Gi) return e;\r\n        for (var h = this.Ha.j, k = h.length; k--; ) {\r\n          var l = h[k];\r\n          if ((!0 !== g || !1 !== Lg(l)) && f(l) && l.isVisible()) {\r\n            var m = l;\r\n            l.Cf(a, b, c, d, e) &&\r\n              (null !== b && (m = b(m)),\r\n              null === m || (null !== c && !c(m)) || e.add(m));\r\n          }\r\n        }\r\n        return e;\r\n      };\r\n      t.Jg = function (a, b, c, d, e, f) {\r\n        void 0 === c && (c = null);\r\n        void 0 === d && (d = null);\r\n        void 0 === e && (e = !0);\r\n        if (!1 !== e && !0 !== e) {\r\n          if (e instanceof G || e instanceof H) f = e;\r\n          e = !0;\r\n        }\r\n        f instanceof G || f instanceof H || (f = new H());\r\n        if (!1 === this.Gi) return f;\r\n        F &&\r\n          !a.o() &&\r\n          v(\r\n            \"findObjectsNear: Point must have a real value, not: \" +\r\n              a.toString()\r\n          );\r\n        var g = !1;\r\n        null !== this.diagram && this.diagram.viewportBounds.ea(a) && (g = !0);\r\n        for (\r\n          var h = J.alloc(), k = J.alloc(), l = this.Ha.j, m = l.length;\r\n          m--;\r\n\r\n        ) {\r\n          var n = l[m];\r\n          if ((!0 !== g || !1 !== Lg(n)) && n.isVisible()) {\r\n            h.assign(a);\r\n            Lb(h, n.yd);\r\n            k.h(a.x + b, a.y);\r\n            Lb(k, n.yd);\r\n            var p = n;\r\n            n.Jg(h, k, c, d, e, f) &&\r\n              (null !== c && (p = c(p)),\r\n              null === p || (null !== d && !d(p)) || f.add(p));\r\n          }\r\n        }\r\n        J.free(h);\r\n        J.free(k);\r\n        return f;\r\n      };\r\n      t.Dd = function (a, b) {\r\n        if (this.visible) {\r\n          var c = void 0 === b ? a.viewportBounds : b;\r\n          var d = this.Ha.j,\r\n            e = d.length;\r\n          a = La();\r\n          b = La();\r\n          for (var f = 0; f < e; f++) {\r\n            var g = d[f];\r\n            g.ax = f;\r\n            (g instanceof Q && !1 === g.Ec) ||\r\n              (g instanceof Pe && null !== g.adornedPart) ||\r\n              (oc(g.actualBounds, c)\r\n                ? (g.Dd(!0), a.push(g))\r\n                : (g.Dd(!1),\r\n                  null !== g.adornments &&\r\n                    0 < g.adornments.count &&\r\n                    b.push(g)));\r\n          }\r\n          for (c = 0; c < a.length; c++)\r\n            for (d = a[c], ti(d), d = d.adornments; d.next(); )\r\n              (e = d.value),\r\n                e.measure(Infinity, Infinity),\r\n                e.arrange(),\r\n                e.Dd(!0);\r\n          for (c = 0; c < b.length; c++)\r\n            (d = b[c]), d.updateAdornments(), ui(d, !0);\r\n          Na(a);\r\n          Na(b);\r\n        }\r\n      };\r\n\r\n      function vi(a, b) {\r\n        var c = 1;\r\n        1 !== a.ub && ((c = b.globalAlpha), (b.globalAlpha = c * a.ub));\r\n        return c;\r\n      }\r\n      t.yb = function (a, b, c) {\r\n        if (\r\n          this.visible &&\r\n          0 !== this.ub &&\r\n          (void 0 === c && (c = !0), c || !this.isTemporary)\r\n        ) {\r\n          c = this.Ha.j;\r\n          var d = c.length;\r\n          if (0 !== d) {\r\n            var e = vi(this, a),\r\n              f = this.bp;\r\n            f.length = 0;\r\n            for (var g = b.scale, h = 0; h < d; h++) {\r\n              var k = c[h];\r\n              if (Lg(k)) {\r\n                if (\r\n                  k instanceof Q &&\r\n                  (k.isOrthogonal && f.push(k), !1 === k.Ec)\r\n                )\r\n                  continue;\r\n                var l = k.actualBounds;\r\n                l.width * g > b.ve || l.height * g > b.ve\r\n                  ? k.yb(a, b)\r\n                  : wi(a, k);\r\n              }\r\n            }\r\n            a.globalAlpha = e;\r\n          }\r\n        }\r\n      };\r\n\r\n      function wi(a, b) {\r\n        var c = b.actualBounds,\r\n          d = b.naturalBounds;\r\n        if (\r\n          0 !== c.width &&\r\n          0 !== c.height &&\r\n          !isNaN(c.x) &&\r\n          !isNaN(c.y) &&\r\n          b.isVisible()\r\n        ) {\r\n          var e = b.transform;\r\n          null !== b.areaBackground &&\r\n            (xi(b, a, b.areaBackground, !0, !0, d, c),\r\n            a.fillRect(c.x, c.y, c.width, c.height));\r\n          null === b.areaBackground &&\r\n            null === b.background &&\r\n            (xi(b, a, \"rgba(0,0,0,0.3)\", !0, !1, d, c),\r\n            a.fillRect(c.x, c.y, c.width, c.height));\r\n          null !== b.background &&\r\n            (a.transform(e.m11, e.m12, e.m21, e.m22, e.dx, e.dy),\r\n            xi(b, a, b.background, !0, !1, d, c),\r\n            a.fillRect(0, 0, d.width / 2, d.height / 2),\r\n            e.xt() ||\r\n              ((b = 1 / (e.m11 * e.m22 - e.m12 * e.m21)),\r\n              a.transform(\r\n                e.m22 * b,\r\n                -e.m12 * b,\r\n                -e.m21 * b,\r\n                e.m11 * b,\r\n                b * (e.m21 * e.dy - e.m22 * e.dx),\r\n                b * (e.m12 * e.dx - e.m11 * e.dy)\r\n              )));\r\n        }\r\n      }\r\n      t.g = function (a, b, c, d, e) {\r\n        var f = this.diagram;\r\n        null !== f && f.eb(De, a, this, b, c, d, e);\r\n      };\r\n      t.hj = function (a, b, c) {\r\n        var d = this.Ha;\r\n        b.zi = this;\r\n        if (a >= d.count) a = d.count;\r\n        else if (d.O(a) === b) return -1;\r\n        d.Qb(a, b);\r\n        b.wq(c);\r\n        d = this.diagram;\r\n        null !== d && (c ? d.R() : d.hj(b));\r\n        yi(this, a, b);\r\n        return a;\r\n      };\r\n      t.Lc = function (a, b, c) {\r\n        if (!c && b.layer !== this && null !== b.layer)\r\n          return b.layer.Lc(a, b, c);\r\n        var d = this.Ha;\r\n        if (0 > a || a >= d.length) {\r\n          if (((a = d.indexOf(b)), 0 > a)) return -1;\r\n        } else if (d.O(a) !== b && ((a = d.indexOf(b)), 0 > a)) return -1;\r\n        b.xq(c);\r\n        d.pb(a);\r\n        d = this.diagram;\r\n        null !== d && (c ? d.R() : d.Lc(b));\r\n        b.zi = null;\r\n        return a;\r\n      };\r\n\r\n      function yi(a, b, c) {\r\n        b = zi(a, b, c);\r\n        if (c instanceof Kf && null !== c && isNaN(c.zOrder)) {\r\n          if (0 !== c.memberParts.count) {\r\n            for (var d = -1, e = a.Ha.j, f = e.length, g = 0; g < f; g++) {\r\n              var h = e[g];\r\n              if (h === c && ((b = g), 0 <= d)) break;\r\n              if (0 > d && h.containingGroup === c && ((d = g), 0 <= b)) break;\r\n            }\r\n            !(0 > d) && d < b && ((e = a.Ha), e.pb(b), e.Qb(d, c));\r\n          }\r\n          c = c.containingGroup;\r\n          null !== c && yi(a, -1, c);\r\n        }\r\n      }\r\n\r\n      function zi(a, b, c) {\r\n        var d = c.zOrder;\r\n        if (isNaN(d)) return b;\r\n        a = a.Ha;\r\n        var e = a.count;\r\n        if (1 >= e) return b;\r\n        0 > b && (b = a.indexOf(c));\r\n        if (0 > b) return -1;\r\n        for (var f = b - 1, g = NaN; 0 <= f; ) {\r\n          g = a.O(f).zOrder;\r\n          if (!isNaN(g)) break;\r\n          f--;\r\n        }\r\n        for (var h = b + 1, k = NaN; h < e; ) {\r\n          k = a.O(h).zOrder;\r\n          if (!isNaN(k)) break;\r\n          h++;\r\n        }\r\n        if (!isNaN(g) && g > d)\r\n          for (;;) {\r\n            if (-1 === f || g <= d) {\r\n              f++;\r\n              if (f === b) break;\r\n              a.pb(b);\r\n              a.Qb(f, c);\r\n              return f;\r\n            }\r\n            for (g = NaN; 0 <= --f && ((g = a.O(f).zOrder), isNaN(g)); );\r\n          }\r\n        else if (!isNaN(k) && k < d)\r\n          for (;;) {\r\n            if (h === e || k >= d) {\r\n              h--;\r\n              if (h === b) break;\r\n              a.pb(b);\r\n              a.Qb(h, c);\r\n              return h;\r\n            }\r\n            for (k = NaN; ++h < e && ((k = a.O(h).zOrder), isNaN(k)); );\r\n          }\r\n        return b;\r\n      }\r\n      ma.Object.defineProperties(si.prototype, {\r\n        parts: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ha.iterator;\r\n          },\r\n        },\r\n        partsBackwards: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ha.iteratorBackwards;\r\n          },\r\n        },\r\n        diagram: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.A;\r\n          },\r\n        },\r\n        name: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Wa;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"string\", si, \"name\");\r\n            var b = this.Wa;\r\n            if (b !== a) {\r\n              var c = this.diagram;\r\n              if (null !== c)\r\n                for (\r\n                  \"\" === b && v(\"Cannot rename default Layer to: \" + a),\r\n                    c = c.layers;\r\n                  c.next();\r\n\r\n                )\r\n                  c.value.name === a &&\r\n                    v(\"Layer.name is already present in this diagram: \" + a);\r\n              this.Wa = a;\r\n              this.g(\"name\", b, a);\r\n              for (a = this.Ha.iterator; a.next(); )\r\n                a.value.layerName = this.Wa;\r\n            }\r\n          },\r\n        },\r\n        opacity: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ub;\r\n          },\r\n          set: function (a) {\r\n            var b = this.ub;\r\n            b !== a &&\r\n              (A(a, \"number\", si, \"opacity\"),\r\n              (0 > a || 1 < a) && ya(a, \"0 <= value <= 1\", si, \"opacity\"),\r\n              (this.ub = a),\r\n              this.g(\"opacity\", b, a),\r\n              (a = this.diagram),\r\n              null !== a && a.R());\r\n          },\r\n        },\r\n        isTemporary: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.w;\r\n          },\r\n          set: function (a) {\r\n            var b = this.w;\r\n            b !== a &&\r\n              (A(a, \"boolean\", si, \"isTemporary\"),\r\n              (this.w = a),\r\n              this.g(\"isTemporary\", b, a));\r\n          },\r\n        },\r\n        visible: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.L;\r\n          },\r\n          set: function (a) {\r\n            var b = this.L;\r\n            if (b !== a) {\r\n              A(a, \"boolean\", si, \"visible\");\r\n              this.L = a;\r\n              this.g(\"visible\", b, a);\r\n              for (b = this.Ha.iterator; b.next(); ) b.value.Tb(a);\r\n              a = this.diagram;\r\n              null !== a && a.R();\r\n            }\r\n          },\r\n        },\r\n        pickable: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Gi;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Gi;\r\n            b !== a &&\r\n              (A(a, \"boolean\", si, \"pickable\"),\r\n              (this.Gi = a),\r\n              this.g(\"pickable\", b, a));\r\n          },\r\n        },\r\n        isBoundsIncluded: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.l;\r\n          },\r\n          set: function (a) {\r\n            this.l !== a &&\r\n              ((this.l = a), null !== this.diagram && this.diagram.Ya());\r\n          },\r\n        },\r\n        allowCopy: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Wh;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Wh;\r\n            b !== a &&\r\n              (A(a, \"boolean\", si, \"allowCopy\"),\r\n              (this.Wh = a),\r\n              this.g(\"allowCopy\", b, a));\r\n          },\r\n        },\r\n        allowDelete: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Xh;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Xh;\r\n            b !== a &&\r\n              (A(a, \"boolean\", si, \"allowDelete\"),\r\n              (this.Xh = a),\r\n              this.g(\"allowDelete\", b, a));\r\n          },\r\n        },\r\n        allowTextEdit: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.fi;\r\n          },\r\n          set: function (a) {\r\n            var b = this.fi;\r\n            b !== a &&\r\n              (A(a, \"boolean\", si, \"allowTextEdit\"),\r\n              (this.fi = a),\r\n              this.g(\"allowTextEdit\", b, a));\r\n          },\r\n        },\r\n        allowGroup: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Yh;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Yh;\r\n            b !== a &&\r\n              (A(a, \"boolean\", si, \"allowGroup\"),\r\n              (this.Yh = a),\r\n              this.g(\"allowGroup\", b, a));\r\n          },\r\n        },\r\n        allowUngroup: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.gi;\r\n          },\r\n          set: function (a) {\r\n            var b = this.gi;\r\n            b !== a &&\r\n              (A(a, \"boolean\", si, \"allowUngroup\"),\r\n              (this.gi = a),\r\n              this.g(\"allowUngroup\", b, a));\r\n          },\r\n        },\r\n        allowLink: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Zh;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Zh;\r\n            b !== a &&\r\n              (A(a, \"boolean\", si, \"allowLink\"),\r\n              (this.Zh = a),\r\n              this.g(\"allowLink\", b, a));\r\n          },\r\n        },\r\n        allowRelink: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ai;\r\n          },\r\n          set: function (a) {\r\n            var b = this.ai;\r\n            b !== a &&\r\n              (A(a, \"boolean\", si, \"allowRelink\"),\r\n              (this.ai = a),\r\n              this.g(\"allowRelink\", b, a));\r\n          },\r\n        },\r\n        allowMove: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.$h;\r\n          },\r\n          set: function (a) {\r\n            var b = this.$h;\r\n            b !== a &&\r\n              (A(a, \"boolean\", si, \"allowMove\"),\r\n              (this.$h = a),\r\n              this.g(\"allowMove\", b, a));\r\n          },\r\n        },\r\n        allowReshape: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.bi;\r\n          },\r\n          set: function (a) {\r\n            var b = this.bi;\r\n            b !== a &&\r\n              (A(a, \"boolean\", si, \"allowReshape\"),\r\n              (this.bi = a),\r\n              this.g(\"allowReshape\", b, a));\r\n          },\r\n        },\r\n        allowResize: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ci;\r\n          },\r\n          set: function (a) {\r\n            var b = this.ci;\r\n            b !== a &&\r\n              (A(a, \"boolean\", si, \"allowResize\"),\r\n              (this.ci = a),\r\n              this.g(\"allowResize\", b, a));\r\n          },\r\n        },\r\n        allowRotate: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.di;\r\n          },\r\n          set: function (a) {\r\n            var b = this.di;\r\n            b !== a &&\r\n              (A(a, \"boolean\", si, \"allowRotate\"),\r\n              (this.di = a),\r\n              this.g(\"allowRotate\", b, a));\r\n          },\r\n        },\r\n        allowSelect: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ei;\r\n          },\r\n          set: function (a) {\r\n            var b = this.ei;\r\n            b !== a &&\r\n              (A(a, \"boolean\", si, \"allowSelect\"),\r\n              (this.ei = a),\r\n              this.g(\"allowSelect\", b, a));\r\n          },\r\n        },\r\n      });\r\n      si.prototype.findObjectsNear = si.prototype.Jg;\r\n      si.prototype.findObjectsIn = si.prototype.Cf;\r\n      si.prototype.findObjectsAt = si.prototype.$i;\r\n      si.prototype.findObjectAt = si.prototype.Yb;\r\n      si.className = \"Layer\";\r\n\r\n      function P(a) {\r\n        function b() {\r\n          c.removeEventListener(pa.document, \"DOMContentLoaded\", b, !1);\r\n          c.setRTL();\r\n        }\r\n        1 < arguments.length &&\r\n          v(\r\n            \"Diagram constructor can only take one optional argument, the DIV HTML element or its id.\"\r\n          );\r\n        Ai || (Bi(), (Ai = !0));\r\n        fb(this);\r\n        Le = this;\r\n        Va = [];\r\n        this.Mb = !0;\r\n        this.Fc = new Ah();\r\n        this.Fc.de(this);\r\n        this.wb = 17;\r\n        this.jo = this.mx = !1;\r\n        this.Nu = \"default\";\r\n        this.Ka = null;\r\n        var c = this;\r\n        ih &&\r\n          (null !== pa.document.body\r\n            ? this.setRTL()\r\n            : c.addEventListener(pa.document, \"DOMContentLoaded\", b, !1));\r\n        this.Na = new G();\r\n        this.Ba = this.Ca = 0;\r\n        this.Ga = null;\r\n        this.Ku = new Db();\r\n        this.yg = this.cd = null;\r\n        this.dw();\r\n        this.wl = null;\r\n        this.cw();\r\n        this.ub = 1;\r\n        this.ra = new J(NaN, NaN).freeze();\r\n        this.lx = new J(NaN, NaN);\r\n        this.yr = this.Ea = 1;\r\n        this.Rr = new J(NaN, NaN).freeze();\r\n        this.Sr = NaN;\r\n        this.ns = 1e-4;\r\n        this.ls = 100;\r\n        this.xb = new Kb();\r\n        this.at = new J(NaN, NaN).freeze();\r\n        this.Ir = new L(NaN, NaN, NaN, NaN).freeze();\r\n        this.Li = new lc(0, 0, 0, 0).freeze();\r\n        this.Mi = ii;\r\n        this.Ks = !1;\r\n        this.Fs = this.Bs = null;\r\n        this.Vg = Ci;\r\n        this.uj = kd;\r\n        this.fg = Ci;\r\n        this.co = kd;\r\n        this.Tr = this.Qr = Hc;\r\n        this.sc = !0;\r\n        this.eo = !1;\r\n        this.Nd = new H();\r\n        this.oi = new Db();\r\n        this.Kn = !0;\r\n        this.ln = 250;\r\n        this.Qk = -1;\r\n        this.mn = new lc(16, 16, 16, 16).freeze();\r\n        this.fl = this.jd = !1;\r\n        this.ll = !0;\r\n        this.pi = new ve();\r\n        this.pi.diagram = this;\r\n        this.jf = new ve();\r\n        this.jf.diagram = this;\r\n        this.Ij = new ve();\r\n        this.Ij.diagram = this;\r\n        this.we = this.Vf = null;\r\n        this.em = !1;\r\n        this.iu = this.ju = null;\r\n        this.hr =\r\n          pa.PointerEvent &&\r\n          (Za || bb || cb) &&\r\n          pa.navigator &&\r\n          !1 !== pa.navigator.msPointerEnabled;\r\n        Di(this);\r\n        this.Ri = new H();\r\n        this.bs = !0;\r\n        this.Ws = Ei;\r\n        this.qd = !1;\r\n        this.Ys = bg;\r\n        this.Pa = null;\r\n        Fi.add(\"Model\", Gi);\r\n        this.aa = this.Oa = this.fb = null;\r\n        this.ur = \"\";\r\n        this.Hn = \"auto\";\r\n        this.mg =\r\n          this.qs =\r\n          this.og =\r\n          this.pg =\r\n          this.rg =\r\n          this.Xf =\r\n          this.ag =\r\n          this.Wf =\r\n            null;\r\n        this.Pr = !1;\r\n        this.Yf = this.Dg = this.qg = this.ng = null;\r\n        this.Du = !1;\r\n        this.Iu = {};\r\n        this.Pl = [null, null];\r\n        this.L = null;\r\n        this.hu = this.Tu = this.Qe = this.wh = !1;\r\n        this.Pc = !0;\r\n        this.Ej = this.fc = !1;\r\n        this.gc = null;\r\n        var d = this;\r\n        this.Of = function (a) {\r\n          var b = d.partManager;\r\n          if (a.model === b.diagram.model && b.diagram.fa) {\r\n            b.diagram.fa = !1;\r\n            try {\r\n              var c = a.change;\r\n              \"\" === a.modelChange &&\r\n                c === De &&\r\n                b.updateDataBindings(a.object, a.propertyName);\r\n            } finally {\r\n              b.diagram.fa = !0;\r\n            }\r\n          }\r\n        };\r\n        this.Th = function (a) {\r\n          d.partManager.doModelChanged(a);\r\n        };\r\n        this.xx = !0;\r\n        this.pe = -2;\r\n        this.Sj = new Db();\r\n        this.Hu = new G();\r\n        this.gg = !1;\r\n        this.Xh = this.Wh = this.$q = this.Sc = !0;\r\n        this.ar = !1;\r\n        this.gr =\r\n          this.er =\r\n          this.ei =\r\n          this.di =\r\n          this.ci =\r\n          this.bi =\r\n          this.$h =\r\n          this.ai =\r\n          this.Zh =\r\n          this.dr =\r\n          this.gi =\r\n          this.Yh =\r\n          this.fi =\r\n          this.br =\r\n            !0;\r\n        this.kh = this.Oc = !1;\r\n        this.fr = this.cr = this.pl = this.ol = !0;\r\n        this.Js = this.Hs = 16;\r\n        this.Qu = this.Gs = !1;\r\n        this.Bp = this.Is = null;\r\n        this.Ru = this.Su = 0;\r\n        this.ib = new lc(5).freeze();\r\n        this.nx = new H().freeze();\r\n        this.ms = 999999999;\r\n        this.Yw = new H().freeze();\r\n        this.ti = this.Cj = this.Bj = !0;\r\n        this.dg = this.Ze = !1;\r\n        this.nc = null;\r\n        this.Ug = !0;\r\n        this.$e = !1;\r\n        this.Yq = new H();\r\n        this.Zw = new H();\r\n        this.Wb = null;\r\n        this.$o = 1;\r\n        this.ox = 0;\r\n        this.Ge = { scale: 1, position: new J(), bounds: new L(), $x: !1 };\r\n        this.wx = new L(NaN, NaN, NaN, NaN).freeze();\r\n        this.bq = new Jb(NaN, NaN).freeze();\r\n        this.In = new L(NaN, NaN, NaN, NaN).freeze();\r\n        this.cs = !1;\r\n        this.Cr = null;\r\n        Hi(this);\r\n        this.hs =\r\n          this.Nr =\r\n          this.ts =\r\n          this.Qw =\r\n          this.Pw =\r\n          this.Rw =\r\n          this.nh =\r\n          this.ri =\r\n          this.sg =\r\n            null;\r\n        Ii(this);\r\n        this.Lb = null;\r\n        this.Mr = !1;\r\n        this.Yk = null;\r\n        this.partManager = new Gi();\r\n        this.toolManager = new Sa();\r\n        this.toolManager.initializeStandardTools();\r\n        this.currentTool = this.defaultTool = this.toolManager;\r\n        this.Br = null;\r\n        this.$k = new cf();\r\n        this.ws = this.vs = null;\r\n        this.Tp = !1;\r\n        this.commandHandler = Ji();\r\n        this.model = Ki();\r\n        this.wh = !0;\r\n        this.layout = new Si();\r\n        this.wh = !1;\r\n        this.Tw = this.lu = null;\r\n        this.Vb = 1;\r\n        this.Bh = null;\r\n        this.ve = 1;\r\n        this.Mo = 0;\r\n        this.No = [0, 0, 0, 0, 0];\r\n        this.Oo = 0;\r\n        this.Pd = 1;\r\n        this.El = 0;\r\n        this.es = new J();\r\n        this.Zu = 500;\r\n        this.ir = new J();\r\n        this.af = !1;\r\n        this.preventDefault =\r\n          this.Jt =\r\n          this.Em =\r\n          this.Fm =\r\n          this.Dm =\r\n          this.Cm =\r\n          this.zk =\r\n          this.Bk =\r\n          this.Ak =\r\n          this.xk =\r\n          this.yk =\r\n          this.yw =\r\n          this.qw =\r\n          this.rw =\r\n          this.sw =\r\n          this.Ki =\r\n          this.vp =\r\n          this.Ji =\r\n          this.tp =\r\n            null;\r\n        this.w = !1;\r\n        this.si = new Ti();\r\n        this.Ss = !1;\r\n        void 0 !== a && Ui(this, a);\r\n        this.Mb = !1;\r\n        this.Kr = null;\r\n        this.Lr = Vb;\r\n      }\r\n      P.prototype.clear = function () {\r\n        this.model.clear();\r\n        Vi = null;\r\n        Wi = \"\";\r\n        Xi(this, !1);\r\n        this.In = new L(NaN, NaN, NaN, NaN).freeze();\r\n        this.R();\r\n      };\r\n\r\n      function Xi(a, b) {\r\n        a.animationManager.ad(!0);\r\n        a.nx = new H().freeze();\r\n        a.Yw = new H().freeze();\r\n        var c = a.skipsUndoManager;\r\n        null !== a.model && (a.skipsUndoManager = !0);\r\n        var d = null;\r\n        null !== a.Lb && ((d = a.Lb.part), null !== d && a.remove(d));\r\n        var e = [],\r\n          f = a.Na.length;\r\n        if (b) {\r\n          for (b = 0; b < f; b++)\r\n            for (var g = a.Na.j[b].parts; g.next(); ) {\r\n              var h = g.value;\r\n              h !== d && null === h.data && e.push(h);\r\n            }\r\n          for (b = 0; b < e.length; b++) a.remove(e[b]);\r\n        }\r\n        for (b = 0; b < f; b++) a.Na.j[b].clear();\r\n        a.Nd.clear();\r\n        a.oi.clear();\r\n        a.Ri.clear();\r\n        a.Yk = null;\r\n        Ma = [];\r\n        null !== d && (a.add(d), a.partManager.parts.remove(d));\r\n        null !== a.model && (a.skipsUndoManager = c);\r\n        return e;\r\n      }\r\n\r\n      function Ji() {\r\n        return null;\r\n      }\r\n      P.prototype.reset = function () {\r\n        this.Mb = !0;\r\n        this.clear();\r\n        this.Fc.ad();\r\n        this.Fc = new Ah();\r\n        this.Fc.de(this);\r\n        this.Na = new G();\r\n        this.dw();\r\n        this.cw();\r\n        this.ra = new J(NaN, NaN).freeze();\r\n        this.Ea = 1;\r\n        this.Rr = new J(NaN, NaN).freeze();\r\n        this.Sr = NaN;\r\n        this.ns = 1e-4;\r\n        this.ls = 100;\r\n        this.at = new J(NaN, NaN).freeze();\r\n        this.Ir = new L(NaN, NaN, NaN, NaN).freeze();\r\n        this.Li = new lc(0, 0, 0, 0).freeze();\r\n        this.Mi = ii;\r\n        this.Ks = !1;\r\n        this.Fs = this.Bs = null;\r\n        this.Vg = Ci;\r\n        this.uj = kd;\r\n        this.fg = Ci;\r\n        this.co = kd;\r\n        this.Tr = this.Qr = Hc;\r\n        this.ln = 250;\r\n        this.mn = new lc(16, 16, 16, 16).freeze();\r\n        this.bs = !0;\r\n        this.Ws = Ei;\r\n        this.Ys = bg;\r\n        this.Hn = \"auto\";\r\n        this.mg =\r\n          this.qs =\r\n          this.og =\r\n          this.pg =\r\n          this.rg =\r\n          this.Xf =\r\n          this.ag =\r\n          this.Wf =\r\n            null;\r\n        this.Pr = !1;\r\n        this.Yf = this.Dg = this.qg = this.ng = null;\r\n        this.gg = !1;\r\n        this.Xh = this.Wh = this.$q = this.Sc = !0;\r\n        this.ar = !1;\r\n        this.fr =\r\n          this.cr =\r\n          this.pl =\r\n          this.ol =\r\n          this.gr =\r\n          this.er =\r\n          this.ei =\r\n          this.di =\r\n          this.ci =\r\n          this.bi =\r\n          this.$h =\r\n          this.ai =\r\n          this.Zh =\r\n          this.dr =\r\n          this.gi =\r\n          this.Yh =\r\n          this.fi =\r\n          this.br =\r\n            !0;\r\n        this.Js = this.Hs = 16;\r\n        this.ib = new lc(5).freeze();\r\n        this.ms = 999999999;\r\n        this.nc = null;\r\n        this.cs = !1;\r\n        this.Vb = 1;\r\n        this.Bh = null;\r\n        this.Mo = 0;\r\n        this.No = [0, 0, 0, 0, 0];\r\n        this.Oo = 0;\r\n        Ii(this);\r\n        this.Lb = null;\r\n        this.partManager = new Gi();\r\n        this.toolManager = new Sa();\r\n        this.toolManager.initializeStandardTools();\r\n        this.ws = this.vs = this.Br = null;\r\n        this.Tp = !1;\r\n        this.$k.reset();\r\n        this.Ku = new Db();\r\n        this.Ku.clear();\r\n        this.currentTool = this.defaultTool = this.toolManager;\r\n        this.commandHandler = Ji();\r\n        this.wh = !0;\r\n        Hi(this);\r\n        this.layout = new Si();\r\n        this.wh = !1;\r\n        this.model = Ki();\r\n        this.model.undoManager = new Ie();\r\n        this.$e = !1;\r\n        this.ll = !0;\r\n        this.Mb = this.jd = !1;\r\n        this.R();\r\n        this.we = this.Vf = null;\r\n        Di(this);\r\n        this.ur = \"\";\r\n      };\r\n\r\n      function Ii(a) {\r\n        a.sg = new Db();\r\n        var b = new U(),\r\n          c = new kh();\r\n        c.bind(new Yi(\"text\", \"\", Pa));\r\n        b.add(c);\r\n        a.Rw = b;\r\n        a.sg.add(\"\", b);\r\n        b = new U();\r\n        c = new kh();\r\n        c.stroke = \"brown\";\r\n        c.bind(new Yi(\"text\", \"\", Pa));\r\n        b.add(c);\r\n        a.sg.add(\"Comment\", b);\r\n        b = new U();\r\n        b.selectable = !1;\r\n        b.avoidable = !1;\r\n        c = new $f();\r\n        c.figure = \"Ellipse\";\r\n        c.fill = \"black\";\r\n        c.stroke = null;\r\n        c.desiredSize = new Jb(3, 3).ia();\r\n        b.add(c);\r\n        a.sg.add(\"LinkLabel\", b);\r\n        a.ri = new Db();\r\n        b = new Kf();\r\n        b.selectionObjectName = \"GROUPPANEL\";\r\n        b.type = V.Vertical;\r\n        c = new kh();\r\n        c.font = \"bold 12pt sans-serif\";\r\n        c.bind(new Yi(\"text\", \"\", Pa));\r\n        b.add(c);\r\n        c = new V(V.Auto);\r\n        c.name = \"GROUPPANEL\";\r\n        var d = new $f();\r\n        d.figure = \"Rectangle\";\r\n        d.fill = \"rgba(128,128,128,0.2)\";\r\n        d.stroke = \"black\";\r\n        c.add(d);\r\n        d = new Mg();\r\n        d.padding = new lc(5, 5, 5, 5).ia();\r\n        c.add(d);\r\n        b.add(c);\r\n        a.Pw = b;\r\n        a.ri.add(\"\", b);\r\n        a.nh = new Db();\r\n        b = new Q();\r\n        c = new $f();\r\n        c.isPanelMain = !0;\r\n        b.add(c);\r\n        c = new $f();\r\n        c.toArrow = \"Standard\";\r\n        c.fill = \"black\";\r\n        c.stroke = null;\r\n        c.strokeWidth = 0;\r\n        b.add(c);\r\n        a.Qw = b;\r\n        a.nh.add(\"\", b);\r\n        b = new Q();\r\n        c = new $f();\r\n        c.isPanelMain = !0;\r\n        c.stroke = \"brown\";\r\n        b.add(c);\r\n        a.nh.add(\"Comment\", b);\r\n        b = new Pe();\r\n        b.type = V.Auto;\r\n        c = new $f();\r\n        c.fill = null;\r\n        c.stroke = \"dodgerblue\";\r\n        c.strokeWidth = 3;\r\n        b.add(c);\r\n        c = new Mg();\r\n        c.margin = new lc(1.5, 1.5, 1.5, 1.5).ia();\r\n        b.add(c);\r\n        a.ts = b;\r\n        a.Nr = b;\r\n        b = new Pe();\r\n        b.type = V.Link;\r\n        c = new $f();\r\n        c.isPanelMain = !0;\r\n        c.fill = null;\r\n        c.stroke = \"dodgerblue\";\r\n        c.strokeWidth = 3;\r\n        b.add(c);\r\n        a.hs = b;\r\n      }\r\n      P.prototype.setRTL = function (a) {\r\n        a = void 0 === a ? this.div : a;\r\n        null === a && (a = pa.document.body);\r\n        var b = ua(\"div\");\r\n        b.dir = \"rtl\";\r\n        b.style.cssText =\r\n          \"font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll;\";\r\n        b.textContent = \"A\";\r\n        a.appendChild(b);\r\n        var c = \"reverse\";\r\n        0 < b.scrollLeft\r\n          ? (c = \"default\")\r\n          : ((b.scrollLeft = 1), 0 === b.scrollLeft && (c = \"negative\"));\r\n        a.removeChild(b);\r\n        this.Nu = c;\r\n      };\r\n      P.prototype.setScrollWidth = function (a) {\r\n        a = void 0 === a ? this.div : a;\r\n        null === a && (a = pa.document.body);\r\n        var b = 0;\r\n        if (ih) {\r\n          var c = Zi;\r\n          b = $i;\r\n          null === c &&\r\n            ((c = Zi = ua(\"p\")),\r\n            (c.style.width = \"100%\"),\r\n            (c.style.height = \"200px\"),\r\n            (c.style.boxSizing = \"content-box\"),\r\n            (b = $i = ua(\"div\")),\r\n            (b.style.position = \"absolute\"),\r\n            (b.style.visibility = \"hidden\"),\r\n            (b.style.width = \"200px\"),\r\n            (b.style.height = \"150px\"),\r\n            (b.style.boxSizing = \"content-box\"),\r\n            b.appendChild(c));\r\n          b.style.overflow = \"hidden\";\r\n          a.appendChild(b);\r\n          var d = c.offsetWidth;\r\n          b.style.overflow = \"scroll\";\r\n          c = c.offsetWidth;\r\n          d === c && (c = b.clientWidth);\r\n          a.removeChild(b);\r\n          b = d - c;\r\n          0 !== b || eb || (b = 11);\r\n        }\r\n        this.wb = b;\r\n        this.mx = !0;\r\n      };\r\n      P.prototype.jb = function (a) {\r\n        a.classType === P ? (this.autoScale = a) : Ba(this, a);\r\n      };\r\n      P.prototype.toString = function (a) {\r\n        void 0 === a && (a = 0);\r\n        var b = \"\";\r\n        this.div && this.div.id && (b = this.div.id);\r\n        b = 'Diagram \"' + b + '\"';\r\n        if (0 >= a) return b;\r\n        for (var c = this.Na.iterator; c.next(); )\r\n          b += \"\\n  \" + c.value.toString(a - 1);\r\n        return b;\r\n      };\r\n      P.prototype.addEventListener = function (a, b, c, d) {\r\n        a.addEventListener(b, c, d);\r\n      };\r\n      P.prototype.removeEventListener = function (a, b, c, d) {\r\n        a.removeEventListener(b, c, d);\r\n      };\r\n\r\n      function aj(a) {\r\n        var b = a.Ga.Ia;\r\n        b instanceof HTMLCanvasElement &&\r\n          (a.hr\r\n            ? (a.addEventListener(b, \"pointerdown\", a.Cm, !1),\r\n              a.addEventListener(b, \"pointermove\", a.Dm, !1),\r\n              a.addEventListener(b, \"pointerup\", a.Fm, !1),\r\n              a.addEventListener(b, \"pointerout\", a.Em, !1))\r\n            : (a.addEventListener(b, \"touchstart\", a.sw, !1),\r\n              a.addEventListener(b, \"touchmove\", a.rw, !1),\r\n              a.addEventListener(b, \"touchend\", a.qw, !1),\r\n              a.addEventListener(b, \"mousemove\", a.yk, !1),\r\n              a.addEventListener(b, \"mousedown\", a.xk, !1),\r\n              a.addEventListener(b, \"mouseup\", a.Ak, !1),\r\n              a.addEventListener(b, \"mouseout\", a.zk, !1)),\r\n          a.addEventListener(b, \"mouseenter\", a.mz, !1),\r\n          a.addEventListener(b, \"mouseleave\", a.nz, !1),\r\n          a.addEventListener(b, \"wheel\", a.Bk, !1),\r\n          a.addEventListener(b, \"keydown\", a.iA, !1),\r\n          a.addEventListener(b, \"keyup\", a.jA, !1),\r\n          a.addEventListener(b, \"blur\", a.$y, !1),\r\n          a.addEventListener(b, \"focus\", a.az, !1),\r\n          a.addEventListener(\r\n            b,\r\n            \"selectstart\",\r\n            function (a) {\r\n              a.preventDefault();\r\n              return !1;\r\n            },\r\n            !1\r\n          ),\r\n          a.addEventListener(\r\n            b,\r\n            \"contextmenu\",\r\n            function (a) {\r\n              a.preventDefault();\r\n              return !1;\r\n            },\r\n            !1\r\n          ),\r\n          a.addEventListener(\r\n            b,\r\n            \"gesturestart\",\r\n            function (b) {\r\n              a.toolManager.gestureBehavior !== Se &&\r\n                (a.toolManager.gestureBehavior === Re\r\n                  ? b.preventDefault()\r\n                  : (a.af && a.lastInput.handled) ||\r\n                    (b.preventDefault(),\r\n                    (a.$o = a.scale),\r\n                    a.currentTool.doCancel()));\r\n            },\r\n            !1\r\n          ),\r\n          a.addEventListener(\r\n            b,\r\n            \"gesturechange\",\r\n            function (b) {\r\n              if (a.toolManager.gestureBehavior !== Se)\r\n                if (a.toolManager.gestureBehavior === Re) b.preventDefault();\r\n                else if (!a.af || !a.lastInput.handled) {\r\n                  b.preventDefault();\r\n                  var c = b.scale;\r\n                  if (null !== a.$o) {\r\n                    var e = a.Ga.getBoundingClientRect();\r\n                    b = new J(\r\n                      b.pageX - window.scrollX - (a.Ca / e.width) * e.left,\r\n                      b.pageY - window.scrollY - (a.Ba / e.height) * e.top\r\n                    );\r\n                    c = a.$o * c;\r\n                    e = a.commandHandler;\r\n                    if (c !== a.scale && e.canResetZoom(c)) {\r\n                      var f = a.zoomPoint;\r\n                      a.zoomPoint = b;\r\n                      e.resetZoom(c);\r\n                      a.zoomPoint = f;\r\n                    }\r\n                  }\r\n                }\r\n            },\r\n            !1\r\n          ),\r\n          a.addEventListener(pa, \"resize\", a.yw, !1));\r\n      }\r\n\r\n      function gf(a) {\r\n        30 < a.Mo && (a.Bh = 1);\r\n      }\r\n\r\n      function xf(a, b) {\r\n        null !== a.Bh &&\r\n          ((a.Bh = null),\r\n          b && a.Jt(),\r\n          (a.Mo = 0),\r\n          (a.No = [0, 0, 0, 0, 0]),\r\n          (a.Oo = 0));\r\n      }\r\n      P.prototype.computePixelRatio = function () {\r\n        return null !== this.Bh ? this.Bh : pa.devicePixelRatio || 1;\r\n      };\r\n      P.prototype.doMouseMove = function () {\r\n        this.currentTool.doMouseMove();\r\n      };\r\n      P.prototype.doMouseDown = function () {\r\n        this.currentTool.doMouseDown();\r\n      };\r\n      P.prototype.doMouseUp = function () {\r\n        this.currentTool.doMouseUp();\r\n      };\r\n      P.prototype.doMouseWheel = function () {\r\n        this.currentTool.doMouseWheel();\r\n      };\r\n      P.prototype.doKeyDown = function () {\r\n        this.currentTool.doKeyDown();\r\n      };\r\n      P.prototype.doKeyUp = function () {\r\n        this.currentTool.doKeyUp();\r\n      };\r\n      P.prototype.doFocus = function () {\r\n        this.focus();\r\n      };\r\n      P.prototype.focus = function () {\r\n        if (this.Ga)\r\n          if (this.scrollsPageOnFocus) this.Ga.focus();\r\n          else {\r\n            var a = pa.scrollX || pa.pageXOffset,\r\n              b = pa.scrollY || pa.pageYOffset;\r\n            this.Ga.focus();\r\n            pa.scrollTo(a, b);\r\n          }\r\n      };\r\n      P.prototype.az = function () {\r\n        this.A.U(\"GainedFocus\");\r\n      };\r\n      P.prototype.$y = function () {\r\n        this.A.U(\"LostFocus\");\r\n      };\r\n\r\n      function Sh(a) {\r\n        if (null !== a.Ga) {\r\n          var b = a.Ka;\r\n          if (0 !== b.clientWidth && 0 !== b.clientHeight) {\r\n            a.mx || a.setScrollWidth();\r\n            var c = a.dg ? a.wb : 0,\r\n              d = a.Ze ? a.wb : 0,\r\n              e = a.Vb;\r\n            a.Vb = a.computePixelRatio();\r\n            a.Vb !== e && ((a.eo = !0), a.cc());\r\n            if (b.clientWidth !== a.Ca + c || b.clientHeight !== a.Ba + d)\r\n              (a.Cj = !0),\r\n                (a.sc = !0),\r\n                (b = a.layout),\r\n                null !== b &&\r\n                  b.isViewportSized &&\r\n                  a.autoScale === Ci &&\r\n                  ((a.fl = !0), b.D()),\r\n                a.fc || a.cc();\r\n          }\r\n        }\r\n      }\r\n\r\n      function Hi(a) {\r\n        var b = new si();\r\n        b.name = \"Background\";\r\n        a.jm(b);\r\n        b = new si();\r\n        b.name = \"\";\r\n        a.jm(b);\r\n        b = new si();\r\n        b.name = \"Foreground\";\r\n        a.jm(b);\r\n        b = new si();\r\n        b.name = \"Adornment\";\r\n        b.isTemporary = !0;\r\n        a.jm(b);\r\n        b = new si();\r\n        b.name = \"Tool\";\r\n        b.isTemporary = !0;\r\n        b.isBoundsIncluded = !0;\r\n        a.jm(b);\r\n        b = new si();\r\n        b.name = \"Grid\";\r\n        b.allowSelect = !1;\r\n        b.pickable = !1;\r\n        b.isTemporary = !0;\r\n        a.Ax(b, a.sm(\"Background\"));\r\n      }\r\n\r\n      function bj(a) {\r\n        a.Lb = new V(V.Grid);\r\n        a.Lb.name = \"GRID\";\r\n        var b = new $f();\r\n        b.figure = \"LineH\";\r\n        b.stroke = \"lightgray\";\r\n        b.strokeWidth = 0.5;\r\n        b.interval = 1;\r\n        a.Lb.add(b);\r\n        b = new $f();\r\n        b.figure = \"LineH\";\r\n        b.stroke = \"gray\";\r\n        b.strokeWidth = 0.5;\r\n        b.interval = 5;\r\n        a.Lb.add(b);\r\n        b = new $f();\r\n        b.figure = \"LineH\";\r\n        b.stroke = \"gray\";\r\n        b.strokeWidth = 1;\r\n        b.interval = 10;\r\n        a.Lb.add(b);\r\n        b = new $f();\r\n        b.figure = \"LineV\";\r\n        b.stroke = \"lightgray\";\r\n        b.strokeWidth = 0.5;\r\n        b.interval = 1;\r\n        a.Lb.add(b);\r\n        b = new $f();\r\n        b.figure = \"LineV\";\r\n        b.stroke = \"gray\";\r\n        b.strokeWidth = 0.5;\r\n        b.interval = 5;\r\n        a.Lb.add(b);\r\n        b = new $f();\r\n        b.figure = \"LineV\";\r\n        b.stroke = \"gray\";\r\n        b.strokeWidth = 1;\r\n        b.interval = 10;\r\n        a.Lb.add(b);\r\n        b = new S();\r\n        b.add(a.Lb);\r\n        b.layerName = \"Grid\";\r\n        b.zOrder = 0;\r\n        b.isInDocumentBounds = !1;\r\n        b.isAnimated = !1;\r\n        b.pickable = !1;\r\n        b.locationObjectName = \"GRID\";\r\n        a.add(b);\r\n        a.partManager.parts.remove(b);\r\n        a.Lb.visible = !1;\r\n      }\r\n\r\n      function cj() {\r\n        this.A.Qu\r\n          ? (this.A.Qu = !1)\r\n          : this.A.isEnabled\r\n          ? this.A.Mx(this)\r\n          : dj(this.A);\r\n      }\r\n\r\n      function ej(a) {\r\n        this.A.isEnabled\r\n          ? ((this.A.Su = a.target.scrollTop),\r\n            (this.A.Ru = a.target.scrollLeft))\r\n          : dj(this.A);\r\n      }\r\n      P.prototype.Mx = function (a) {\r\n        if (null !== this.Ga) {\r\n          this.Gs = !0;\r\n          var b = this.documentBounds,\r\n            c = this.viewportBounds,\r\n            d = this.Li,\r\n            e = b.x - d.left,\r\n            f = b.y - d.top,\r\n            g = b.width + d.left + d.right,\r\n            h = b.height + d.top + d.bottom,\r\n            k = b.right + d.right;\r\n          d = b.bottom + d.bottom;\r\n          var l = c.x;\r\n          b = c.y;\r\n          var m = c.width,\r\n            n = c.height,\r\n            p = c.right,\r\n            r = c.bottom;\r\n          c = this.scale;\r\n          var q = a.scrollLeft;\r\n          if (this.jo)\r\n            switch (this.Nu) {\r\n              case \"negative\":\r\n                q = q + a.scrollWidth - a.clientWidth;\r\n                break;\r\n              case \"reverse\":\r\n                q = a.scrollWidth - q - a.clientWidth;\r\n            }\r\n          var u = q;\r\n          m < g || n < h\r\n            ? ((q = J.allocAt(this.position.x, this.position.y)),\r\n              this.allowHorizontalScroll &&\r\n                this.Ru !== u &&\r\n                ((q.x = u / c + e), (this.Ru = u)),\r\n              this.allowVerticalScroll &&\r\n                this.Su !== a.scrollTop &&\r\n                ((q.y = a.scrollTop / c + f), (this.Su = a.scrollTop)),\r\n              (this.position = q),\r\n              J.free(q),\r\n              (this.Cj = this.Gs = !1))\r\n            : ((q = J.alloc()),\r\n              a.Hy &&\r\n                this.allowHorizontalScroll &&\r\n                (e < l && (this.position = q.h(u + e, this.position.y)),\r\n                k > p &&\r\n                  (this.position = q.h(\r\n                    -(this.Is.scrollWidth - this.Ca) + u - this.Ca / c + k,\r\n                    this.position.y\r\n                  ))),\r\n              a.Iy &&\r\n                this.allowVerticalScroll &&\r\n                (f < b &&\r\n                  (this.position = q.h(this.position.x, a.scrollTop + f)),\r\n                d > r &&\r\n                  (this.position = q.h(\r\n                    this.position.x,\r\n                    -(this.Is.scrollHeight - this.Ba) +\r\n                      a.scrollTop -\r\n                      this.Ba / c +\r\n                      d\r\n                  ))),\r\n              J.free(q),\r\n              fj(this),\r\n              (this.Cj = this.Gs = !1),\r\n              (b = this.documentBounds),\r\n              (c = this.viewportBounds),\r\n              (k = b.right),\r\n              (p = c.right),\r\n              (d = b.bottom),\r\n              (r = c.bottom),\r\n              (e = b.x),\r\n              (l = c.x),\r\n              (f = b.y),\r\n              (b = c.y),\r\n              m >= g && e >= l && k <= p && (this.Bp.style.width = \"1px\"),\r\n              n >= h && f >= b && d <= r && (this.Bp.style.height = \"1px\"));\r\n        }\r\n      };\r\n      P.prototype.computeBounds = function () {\r\n        0 < this.Nd.count && gj(this);\r\n        return hj(this);\r\n      };\r\n\r\n      function hj(a) {\r\n        if (a.fixedBounds.o()) {\r\n          var b = a.fixedBounds.copy();\r\n          b.iq(a.ib);\r\n          return b;\r\n        }\r\n        for (var c = !0, d = a.Na.j, e = d.length, f = 0; f < e; f++) {\r\n          var g = d[f];\r\n          if (g.visible && (!g.isTemporary || g.isBoundsIncluded)) {\r\n            g = g.Ha.j;\r\n            for (var h = g.length, k = 0; k < h; k++) {\r\n              var l = g[k];\r\n              l.isInDocumentBounds &&\r\n                l.isVisible() &&\r\n                ((l = l.actualBounds),\r\n                l.o() && (c ? ((c = !1), (b = l.copy())) : b.Nc(l)));\r\n            }\r\n          }\r\n        }\r\n        c && (b = new L(0, 0, 0, 0));\r\n        b.iq(a.ib);\r\n        return b;\r\n      }\r\n      P.prototype.computePartsBounds = function (a, b) {\r\n        void 0 === b && (b = !1);\r\n        var c = null;\r\n        if (Ga(a))\r\n          for (var d = 0; d < a.length; d++) {\r\n            var e = a[d];\r\n            (!b && e instanceof Q) ||\r\n              (e.Eb(),\r\n              null === c ? (c = e.actualBounds.copy()) : c.Nc(e.actualBounds));\r\n          }\r\n        else\r\n          for (a = a.iterator; a.next(); )\r\n            (d = a.value),\r\n              (!b && d instanceof Q) ||\r\n                (d.Eb(),\r\n                null === c\r\n                  ? (c = d.actualBounds.copy())\r\n                  : c.Nc(d.actualBounds));\r\n        return null === c ? new L(NaN, NaN, 0, 0) : c;\r\n      };\r\n\r\n      function ij(a, b) {\r\n        if ((b || a.$e) && !a.Mb && null !== a.Ga && a.documentBounds.o()) {\r\n          if (b) {\r\n            var c = a.initialPosition;\r\n            if (c.o()) {\r\n              a.position = c;\r\n              return;\r\n            }\r\n            c = J.alloc();\r\n            c.mj(a.documentBounds, a.initialDocumentSpot);\r\n            var d = a.viewportBounds;\r\n            d = L.allocAt(0, 0, d.width, d.height);\r\n            var e = J.alloc();\r\n            e.mj(d, a.initialViewportSpot);\r\n            e.h(c.x - e.x, c.y - e.y);\r\n            a.position = e;\r\n            L.free(d);\r\n            J.free(e);\r\n            J.free(c);\r\n          }\r\n          a.Mb = !0;\r\n          c = a.Vg;\r\n          b && a.fg !== Ci && (c = a.fg);\r\n          d = c !== Ci ? jj(a, c) : a.scale;\r\n          c = a.viewportBounds.copy();\r\n          e = a.Ca / d;\r\n          var f = a.Ba / d,\r\n            g = a.uj,\r\n            h = a.co;\r\n          b && !g.$a() && (h.$a() || h.Gb()) && (g = h.Gb() ? Mc : h);\r\n          kj(a, a.documentBounds, e, f, g, b);\r\n          b = a.scale;\r\n          a.scale = d;\r\n          a.Mb = !1;\r\n          d = a.viewportBounds;\r\n          d.Sa(c) || a.Hq(c, d, b, !1);\r\n          lj(a);\r\n          mj(a, !0, !1);\r\n        }\r\n      }\r\n\r\n      function jj(a, b) {\r\n        var c = a.yr;\r\n        if (null === a.Ga) return c;\r\n        nj(a);\r\n        var d = a.documentBounds;\r\n        if (!d.o()) return c;\r\n        var e = d.width;\r\n        d = d.height;\r\n        var f = a.Ca + (a.dg ? a.wb : 0),\r\n          g = a.Ba + (a.Ze ? a.wb : 0),\r\n          h = f / e,\r\n          k = g / d;\r\n        return b === oj\r\n          ? ((b = Math.min(k, h)),\r\n            b > c && (b = c),\r\n            b < a.minScale && (b = a.minScale),\r\n            b > a.maxScale && (b = a.maxScale),\r\n            b)\r\n          : b === pj\r\n          ? ((b = k > h ? (g - a.wb) / d : (f - a.wb) / e),\r\n            b > c && (b = c),\r\n            b < a.minScale && (b = a.minScale),\r\n            b > a.maxScale && (b = a.maxScale),\r\n            b)\r\n          : a.scale;\r\n      }\r\n      P.prototype.zoomToFit = function () {\r\n        var a = this.Mi;\r\n        this.Mi = ii;\r\n        this.scale = jj(this, oj);\r\n        a !== ii &&\r\n          (ij(this, !1),\r\n          kj(\r\n            this,\r\n            this.documentBounds,\r\n            this.Ca / this.Ea,\r\n            this.Ba / this.Ea,\r\n            this.uj,\r\n            !1\r\n          ));\r\n        this.Mi = a;\r\n      };\r\n      t = P.prototype;\r\n      t.QA = function (a, b) {\r\n        void 0 === b && (b = oj);\r\n        var c = a.width,\r\n          d = a.height;\r\n        if (!(0 === c || 0 === d || (isNaN(c) && isNaN(d)))) {\r\n          var e = 1;\r\n          if (b === oj || b === pj)\r\n            if (isNaN(c)) e = (this.viewportBounds.height * this.scale) / d;\r\n            else if (isNaN(d)) e = (this.viewportBounds.width * this.scale) / c;\r\n            else {\r\n              e = this.Ca;\r\n              var f = this.Ba;\r\n              e =\r\n                b === pj\r\n                  ? f / d > e / c\r\n                    ? (f - (this.Ze ? this.wb : 0)) / d\r\n                    : (e - (this.dg ? this.wb : 0)) / c\r\n                  : Math.min(f / d, e / c);\r\n            }\r\n          this.scale = e;\r\n          this.position = new J(a.x, a.y);\r\n        }\r\n      };\r\n      t.Uy = function (a, b) {\r\n        nj(this);\r\n        var c = this.documentBounds,\r\n          d = this.viewportBounds;\r\n        this.position = new J(\r\n          c.x + (a.x * c.width + a.offsetX) - (b.x * d.width - b.offsetX),\r\n          c.y + (a.y * c.height + a.offsetY) - (b.y * d.height - b.offsetY)\r\n        );\r\n      };\r\n      t.Mz = function (a) {\r\n        if (a instanceof N) {\r\n          this.Kr = a;\r\n          var b = J.alloc();\r\n          this.Lr = this.Tq(a.ma(Hc, b));\r\n          J.free(b);\r\n        } else (this.Kr = null), (this.Lr = Vb);\r\n      };\r\n\r\n      function kj(a, b, c, d, e, f) {\r\n        var g = J.allocAt(a.ra.x, a.ra.y),\r\n          h = g.x,\r\n          k = g.y;\r\n        if (null !== a.Kr) {\r\n          var l = J.alloc();\r\n          l = a.Kr.ma(Hc, l);\r\n          h = l.x - a.Lr.x / a.scale;\r\n          k = l.y - a.Lr.y / a.scale;\r\n          e = Gc;\r\n          J.free(l);\r\n        }\r\n        if (f || a.scrollMode === ii)\r\n          e.$a() &&\r\n            (c > b.width &&\r\n              (h = b.x + (e.x * b.width + e.offsetX) - (e.x * c - e.offsetX)),\r\n            d > b.height &&\r\n              (k = b.y + (e.y * b.height + e.offsetY) - (e.y * d - e.offsetY))),\r\n            (e = a.Li),\r\n            (f = c - b.width),\r\n            c < b.width + e.left + e.right\r\n              ? ((h = Math.min(\r\n                  h + c / 2,\r\n                  b.right + Math.max(f, e.right) - c / 2\r\n                )),\r\n                (h = Math.max(h, b.left - Math.max(f, e.left) + c / 2)),\r\n                (h -= c / 2))\r\n              : h > b.left\r\n              ? (h = b.left)\r\n              : h < b.right - c && (h = b.right - c),\r\n            (c = d - b.height),\r\n            d < b.height + e.top + e.bottom\r\n              ? ((k = Math.min(\r\n                  k + d / 2,\r\n                  b.bottom + Math.max(c, e.bottom) - d / 2\r\n                )),\r\n                (k = Math.max(k, b.top - Math.max(c, e.top) + d / 2)),\r\n                (k -= d / 2))\r\n              : k > b.top\r\n              ? (k = b.top)\r\n              : k < b.bottom - d && (k = b.bottom - d);\r\n        g.x = isFinite(h) ? h : -a.ib.left;\r\n        g.y = isFinite(k) ? k : -a.ib.top;\r\n        null !== a.positionComputation &&\r\n          ((b = a.positionComputation(a, g)), (g.x = b.x), (g.y = b.y));\r\n        a.Fc.oc && bi(a.Fc, a.ra, g);\r\n        a.ra.h(g.x, g.y);\r\n        J.free(g);\r\n      }\r\n      t.tm = function (a, b) {\r\n        void 0 === b && (b = !0);\r\n        if (b) {\r\n          if (\r\n            ((a = Jf(\r\n              this,\r\n              a,\r\n              function (a) {\r\n                return a.part;\r\n              },\r\n              function (a) {\r\n                return a.canSelect();\r\n              }\r\n            )),\r\n            a instanceof S)\r\n          )\r\n            return a;\r\n        } else if (\r\n          ((a = Jf(this, a, function (a) {\r\n            return a.part;\r\n          })),\r\n          a instanceof S)\r\n        )\r\n          return a;\r\n        return null;\r\n      };\r\n      t.Yb = function (a, b, c) {\r\n        void 0 === b && (b = null);\r\n        void 0 === c && (c = null);\r\n        gj(this);\r\n        for (var d = this.Na.iteratorBackwards; d.next(); ) {\r\n          var e = d.value;\r\n          if (e.visible && ((e = e.Yb(a, b, c)), null !== e)) return e;\r\n        }\r\n        return null;\r\n      };\r\n\r\n      function Jf(a, b, c, d) {\r\n        void 0 === c && (c = null);\r\n        void 0 === d && (d = null);\r\n        gj(a);\r\n        for (a = a.Na.iteratorBackwards; a.next(); ) {\r\n          var e = a.value;\r\n          if (e.visible && !e.isTemporary && ((e = e.Yb(b, c, d)), null !== e))\r\n            return e;\r\n        }\r\n        return null;\r\n      }\r\n      t.Az = function (a, b, c) {\r\n        void 0 === b && (b = !0);\r\n        return qj(\r\n          this,\r\n          a,\r\n          function (a) {\r\n            return a.part;\r\n          },\r\n          b\r\n            ? function (a) {\r\n                return a instanceof S && a.canSelect();\r\n              }\r\n            : null,\r\n          c\r\n        );\r\n      };\r\n\r\n      function qj(a, b, c, d, e) {\r\n        void 0 === c && (c = null);\r\n        void 0 === d && (d = null);\r\n        e instanceof G || e instanceof H || (e = new H());\r\n        gj(a);\r\n        for (a = a.Na.iteratorBackwards; a.next(); ) {\r\n          var f = a.value;\r\n          f.visible && !f.isTemporary && f.$i(b, c, d, e);\r\n        }\r\n        return e;\r\n      }\r\n      t.$i = function (a, b, c, d) {\r\n        void 0 === b && (b = null);\r\n        void 0 === c && (c = null);\r\n        d instanceof G || d instanceof H || (d = new H());\r\n        gj(this);\r\n        for (var e = this.Na.iteratorBackwards; e.next(); ) {\r\n          var f = e.value;\r\n          f.visible && f.$i(a, b, c, d);\r\n        }\r\n        return d;\r\n      };\r\n      t.Tx = function (a, b, c, d) {\r\n        void 0 === b && (b = !1);\r\n        void 0 === c && (c = !0);\r\n        return rj(\r\n          this,\r\n          a,\r\n          function (a) {\r\n            return a instanceof S && (!c || a.canSelect());\r\n          },\r\n          b,\r\n          d\r\n        );\r\n      };\r\n      t.Cf = function (a, b, c, d, e) {\r\n        void 0 === b && (b = null);\r\n        void 0 === c && (c = null);\r\n        void 0 === d && (d = !1);\r\n        e instanceof G || e instanceof H || (e = new H());\r\n        gj(this);\r\n        for (var f = this.Na.iteratorBackwards; f.next(); ) {\r\n          var g = f.value;\r\n          g.visible && g.Cf(a, b, c, d, e);\r\n        }\r\n        return e;\r\n      };\r\n      t.Av = function (a, b, c, d, e, f) {\r\n        var g = new H();\r\n        gj(this);\r\n        for (var h = this.Na.iteratorBackwards; h.next(); ) {\r\n          var k = h.value;\r\n          k.visible && k.Av(a, b, c, d, g, e, f);\r\n        }\r\n        return g;\r\n      };\r\n\r\n      function rj(a, b, c, d, e) {\r\n        var f = null;\r\n        void 0 === f && (f = null);\r\n        void 0 === c && (c = null);\r\n        void 0 === d && (d = !1);\r\n        e instanceof G || e instanceof H || (e = new H());\r\n        gj(a);\r\n        for (a = a.Na.iteratorBackwards; a.next(); ) {\r\n          var g = a.value;\r\n          g.visible && !g.isTemporary && g.Cf(b, f, c, d, e);\r\n        }\r\n        return e;\r\n      }\r\n      t.Bz = function (a, b, c, d, e) {\r\n        void 0 === c && (c = !0);\r\n        void 0 === d && (d = !0);\r\n        return sj(\r\n          this,\r\n          a,\r\n          b,\r\n          function (a) {\r\n            return a instanceof S && (!d || a.canSelect());\r\n          },\r\n          c,\r\n          e\r\n        );\r\n      };\r\n      t.Jg = function (a, b, c, d, e, f) {\r\n        void 0 === c && (c = null);\r\n        void 0 === d && (d = null);\r\n        void 0 === e && (e = !0);\r\n        if (!1 !== e && !0 !== e) {\r\n          if (e instanceof G || e instanceof H) f = e;\r\n          e = !0;\r\n        }\r\n        f instanceof G || f instanceof H || (f = new H());\r\n        gj(this);\r\n        for (var g = this.Na.iteratorBackwards; g.next(); ) {\r\n          var h = g.value;\r\n          h.visible && h.Jg(a, b, c, d, e, f);\r\n        }\r\n        return f;\r\n      };\r\n\r\n      function sj(a, b, c, d, e, f) {\r\n        var g = null;\r\n        void 0 === g && (g = null);\r\n        void 0 === d && (d = null);\r\n        void 0 === e && (e = !0);\r\n        if (!1 !== e && !0 !== e) {\r\n          if (e instanceof G || e instanceof H) f = e;\r\n          e = !0;\r\n        }\r\n        f instanceof G || f instanceof H || (f = new H());\r\n        gj(a);\r\n        for (a = a.Na.iteratorBackwards; a.next(); ) {\r\n          var h = a.value;\r\n          h.visible && !h.isTemporary && h.Jg(b, c, g, d, e, f);\r\n        }\r\n        return f;\r\n      }\r\n      P.prototype.acceptEvent = function (a) {\r\n        return tj(this, a, a instanceof MouseEvent);\r\n      };\r\n\r\n      function tj(a, b, c) {\r\n        var d = a.jf;\r\n        a.jf = a.Ij;\r\n        a.Ij = d;\r\n        d.diagram = a;\r\n        d.event = b;\r\n        c\r\n          ? uj(a, b, d)\r\n          : ((d.viewPoint = a.jf.viewPoint),\r\n            (d.documentPoint = a.jf.documentPoint));\r\n        a = 0;\r\n        b.ctrlKey && (a += 1);\r\n        b.altKey && (a += 2);\r\n        b.shiftKey && (a += 4);\r\n        b.metaKey && (a += 8);\r\n        d.modifiers = a;\r\n        d.button = b.button;\r\n        void 0 === b.buttons || Xa || (d.buttons = b.buttons);\r\n        db && 0 === b.button && b.ctrlKey && (d.button = 2);\r\n        d.down = !1;\r\n        d.up = !1;\r\n        d.clickCount = 1;\r\n        d.delta = 0;\r\n        d.handled = !1;\r\n        d.bubbles = !1;\r\n        d.timestamp = b.timeStamp;\r\n        d.isMultiTouch = !1;\r\n        d.targetDiagram = vj(b);\r\n        d.targetObject = null;\r\n        return d;\r\n      }\r\n\r\n      function vj(a) {\r\n        var b = a.target.A;\r\n        if (!b) {\r\n          var c = a.path;\r\n          c || \"function\" !== typeof a.composedPath || (c = a.composedPath());\r\n          c && c[0] && (b = c[0].A);\r\n        }\r\n        return b ? b : null;\r\n      }\r\n\r\n      function wj(a, b, c, d) {\r\n        var e = xj(a, b, !0, !1, !0, d);\r\n        uj(a, c, e);\r\n        e.targetDiagram = vj(b);\r\n        e.targetObject = null;\r\n        d || e.clone(a.pi);\r\n        return e;\r\n      }\r\n\r\n      function yj(a, b, c, d) {\r\n        var e;\r\n        d = xj(a, b, !1, !1, !1, d);\r\n        null !== c\r\n          ? ((e = pa.document.elementFromPoint(c.clientX, c.clientY)) && e.A\r\n              ? ((b = c), (c = e.A))\r\n              : ((b = void 0 !== b.targetTouches ? b.targetTouches[0] : b),\r\n                (c = a)),\r\n            (d.targetDiagram = c),\r\n            uj(a, b, d))\r\n          : null !== a.jf\r\n          ? ((d.documentPoint = a.jf.documentPoint),\r\n            (d.viewPoint = a.jf.viewPoint),\r\n            (d.targetDiagram = a.jf.targetDiagram))\r\n          : null !== a.pi &&\r\n            ((d.documentPoint = a.pi.documentPoint),\r\n            (d.viewPoint = a.pi.viewPoint),\r\n            (d.targetDiagram = a.pi.targetDiagram));\r\n        d.targetObject = null;\r\n        return d;\r\n      }\r\n\r\n      function xj(a, b, c, d, e, f) {\r\n        var g = a.jf;\r\n        a.jf = a.Ij;\r\n        a.Ij = g;\r\n        g.diagram = a;\r\n        g.clickCount = 1;\r\n        var h = (g.delta = 0);\r\n        b.ctrlKey && (h += 1);\r\n        b.altKey && (h += 2);\r\n        b.shiftKey && (h += 4);\r\n        b.metaKey && (h += 8);\r\n        g.modifiers = h;\r\n        g.button = 0;\r\n        g.buttons = 1;\r\n        g.event = b;\r\n        g.timestamp = b.timeStamp;\r\n        a.hr &&\r\n          b instanceof pa.PointerEvent &&\r\n          \"touch\" !== b.pointerType &&\r\n          ((g.button = b.button),\r\n          void 0 === b.buttons || Xa || (g.buttons = b.buttons),\r\n          db && 0 === b.button && b.ctrlKey && (g.button = 2));\r\n        g.down = c;\r\n        g.up = d;\r\n        g.handled = !1;\r\n        g.bubbles = e;\r\n        g.isMultiTouch = f;\r\n        return g;\r\n      }\r\n\r\n      function zj(a, b, c) {\r\n        if (b.bubbles)\r\n          return (\r\n            F && F.Xx && Ca(\"NOT handled \" + c.type + \" \" + b.toString()), !0\r\n          );\r\n        F &&\r\n          F.Xx &&\r\n          Ca(\r\n            \"handled \" + c.type + \" \" + a.currentTool.name + \" \" + b.toString()\r\n          );\r\n        void 0 !== c.stopPropagation && c.stopPropagation();\r\n        !1 !== c.cancelable && c.preventDefault();\r\n        c.cancelBubble = !0;\r\n        return !1;\r\n      }\r\n      P.prototype.iA = function (a) {\r\n        var b = this.A;\r\n        if (!this.A.isEnabled) return !1;\r\n        var c = tj(b, a, !1);\r\n        c.key = String.fromCharCode(a.which);\r\n        c.down = !0;\r\n        switch (a.which) {\r\n          case 8:\r\n            c.key = \"Backspace\";\r\n            break;\r\n          case 33:\r\n            c.key = \"PageUp\";\r\n            break;\r\n          case 34:\r\n            c.key = \"PageDown\";\r\n            break;\r\n          case 35:\r\n            c.key = \"End\";\r\n            break;\r\n          case 36:\r\n            c.key = \"Home\";\r\n            break;\r\n          case 37:\r\n            c.key = \"Left\";\r\n            break;\r\n          case 38:\r\n            c.key = \"Up\";\r\n            break;\r\n          case 39:\r\n            c.key = \"Right\";\r\n            break;\r\n          case 40:\r\n            c.key = \"Down\";\r\n            break;\r\n          case 45:\r\n            c.key = \"Insert\";\r\n            break;\r\n          case 46:\r\n            c.key = \"Del\";\r\n            break;\r\n          case 48:\r\n            c.key = \"0\";\r\n            break;\r\n          case 187:\r\n          case 61:\r\n          case 107:\r\n            c.key = \"Add\";\r\n            break;\r\n          case 189:\r\n          case 173:\r\n          case 109:\r\n            c.key = \"Subtract\";\r\n            break;\r\n          case 27:\r\n            c.key = \"Esc\";\r\n        }\r\n        b.doKeyDown();\r\n        return zj(b, c, a);\r\n      };\r\n      P.prototype.jA = function (a) {\r\n        var b = this.A;\r\n        if (!b.isEnabled) return !1;\r\n        var c = tj(b, a, !1);\r\n        c.key = String.fromCharCode(a.which);\r\n        c.up = !0;\r\n        switch (a.which) {\r\n          case 8:\r\n            c.key = \"Backspace\";\r\n            break;\r\n          case 33:\r\n            c.key = \"PageUp\";\r\n            break;\r\n          case 34:\r\n            c.key = \"PageDown\";\r\n            break;\r\n          case 35:\r\n            c.key = \"End\";\r\n            break;\r\n          case 36:\r\n            c.key = \"Home\";\r\n            break;\r\n          case 37:\r\n            c.key = \"Left\";\r\n            break;\r\n          case 38:\r\n            c.key = \"Up\";\r\n            break;\r\n          case 39:\r\n            c.key = \"Right\";\r\n            break;\r\n          case 40:\r\n            c.key = \"Down\";\r\n            break;\r\n          case 45:\r\n            c.key = \"Insert\";\r\n            break;\r\n          case 46:\r\n            c.key = \"Del\";\r\n        }\r\n        b.doKeyUp();\r\n        return zj(b, c, a);\r\n      };\r\n      P.prototype.mz = function (a) {\r\n        var b = this.A;\r\n        if (!b.isEnabled) return !1;\r\n        var c = tj(b, a, !0);\r\n        null !== b.mouseEnter && b.mouseEnter(c);\r\n        return zj(b, c, a);\r\n      };\r\n      P.prototype.nz = function (a) {\r\n        var b = this.A;\r\n        if (!b.isEnabled) return !1;\r\n        var c = tj(b, a, !0);\r\n        null !== b.mouseLeave && b.mouseLeave(c);\r\n        return zj(b, c, a);\r\n      };\r\n      P.prototype.getMouse = function (a) {\r\n        var b = this.Ga;\r\n        if (null === b) return new J(0, 0);\r\n        var c = b.getBoundingClientRect();\r\n        b = a.clientX - (this.Ca / c.width) * c.left;\r\n        a = a.clientY - (this.Ba / c.height) * c.top;\r\n        return null !== this.xb ? Lb(new J(b, a), this.xb) : new J(b, a);\r\n      };\r\n\r\n      function uj(a, b, c) {\r\n        var d = a.Ga,\r\n          e = a.Ca,\r\n          f = a.Ba,\r\n          g = 0,\r\n          h = 0;\r\n        null !== d &&\r\n          ((d = d.getBoundingClientRect()),\r\n          (g = b.clientX - (e / d.width) * d.left),\r\n          (h = b.clientY - (f / d.height) * d.top));\r\n        c.viewPoint.h(g, h);\r\n        null !== a.xb\r\n          ? ((b = J.allocAt(g, h)),\r\n            a.xb.ae(b),\r\n            c.documentPoint.assign(b),\r\n            J.free(b))\r\n          : c.documentPoint.h(g, h);\r\n      }\r\n\r\n      function we(a, b, c, d) {\r\n        if (void 0 !== b.targetTouches) {\r\n          if (2 > b.targetTouches.length) return;\r\n          b = b.targetTouches[c];\r\n        } else if (null !== a.Pl[0]) b = a.Pl[c];\r\n        else return;\r\n        c = a.Ga;\r\n        null !== c &&\r\n          ((c = c.getBoundingClientRect()),\r\n          d.h(\r\n            b.clientX - (a.Ca / c.width) * c.left,\r\n            b.clientY - (a.Ba / c.height) * c.top\r\n          ));\r\n      }\r\n      t = P.prototype;\r\n      t.Ya = function () {\r\n        this.Bj || ((this.Bj = !0), this.cc(!0));\r\n      };\r\n\r\n      function Aj(a) {\r\n        a.fc || gj(a);\r\n        nj(a);\r\n      }\r\n      t.Jf = function () {\r\n        this.Mb ||\r\n          this.fc ||\r\n          (this.R(), lj(this), fj(this), this.Ya(), this.Ad());\r\n      };\r\n      t.hA = function () {\r\n        return this.jd;\r\n      };\r\n      t.hz = function (a) {\r\n        void 0 === a && (a = null);\r\n        var b = this.animationManager,\r\n          c = b.isEnabled;\r\n        b.ad();\r\n        b.isEnabled = !1;\r\n        Xf(this);\r\n        this.$e = !1;\r\n        b.isEnabled = c;\r\n        null !== a &&\r\n          ta(function () {\r\n            Nh(b, \"Model\");\r\n            a();\r\n          }, 1);\r\n      };\r\n      t.cc = function (a) {\r\n        void 0 === a && (a = !1);\r\n        if (!0 !== this.jd && !(this.Mb || (!1 === a && this.fc))) {\r\n          this.jd = !0;\r\n          var b = this;\r\n          pa.requestAnimationFrame(function () {\r\n            b.jd && b.Ad();\r\n          });\r\n        }\r\n      };\r\n      t.Ad = function () {\r\n        if (!this.ll || this.jd) this.ll && (this.ll = !1), Xf(this);\r\n      };\r\n\r\n      function mj(a, b, c) {\r\n        a.animationManager.defaultAnimation.isAnimating ||\r\n          a.Mb ||\r\n          !a.Cj ||\r\n          dj(a) ||\r\n          (b && gj(a), c && ij(a, !1));\r\n      }\r\n\r\n      function Xf(a, b) {\r\n        if (!a.fc && ((a.jd = !1), null !== a.Ka || a.bq.o())) {\r\n          a.fc = !0;\r\n          var c = a.animationManager,\r\n            d = a.Hu;\r\n          if (!c.isAnimating && 0 !== d.length) {\r\n            for (var e = d.j, f = e.length, g = 0; g < f; g++) {\r\n              var h = e[g];\r\n              Bj(h, !1);\r\n              h.v();\r\n            }\r\n            d.clear();\r\n          }\r\n          d = a.Zw;\r\n          0 < d.count &&\r\n            (d.each(function (a) {\r\n              a.xw();\r\n            }),\r\n            d.clear());\r\n          e = d = !1;\r\n          c.isAnimating &&\r\n            ((e = !0), (d = a.skipsUndoManager), (a.skipsUndoManager = !0));\r\n          c.oc || Sh(a);\r\n          null !== a.Lb &&\r\n            (a.Lb.visible && !a.Mr && (Cj(a), (a.Mr = !0)),\r\n            !a.Lb.visible && a.Mr && (a.Mr = !1));\r\n          gj(a);\r\n          f = !1;\r\n          if (!a.$e || a.Ug)\r\n            a.$e\r\n              ? Dj(a, !a.fl)\r\n              : (a.Aa(\"Initial Layout\"),\r\n                !1 === c.isEnabled && c.ad(),\r\n                Dj(a, !1)),\r\n              (f = !0);\r\n          a.fl = !1;\r\n          gj(a);\r\n          a.Tu || Aj(a);\r\n          g = !1;\r\n          f\r\n            ? (a.$e || ((g = a.$e = !0), Ej(a)), a.U(\"LayoutCompleted\"))\r\n            : c.sl &&\r\n              c.vx &&\r\n              (a.fg !== Ci\r\n                ? (a.scale = jj(a, a.fg))\r\n                : a.Vg !== Ci\r\n                ? (a.scale = jj(a, a.Vg))\r\n                : ((c = a.initialScale), isFinite(c) && 0 < c && (a.scale = c)),\r\n              ij(a, !0));\r\n          gj(a);\r\n          mj(a, !0, !1);\r\n          f &&\r\n            g &&\r\n            (a.Za(\"Initial Layout\"),\r\n            a.skipsUndoManager || a.undoManager.clear(),\r\n            ta(function () {\r\n              a.isModified = !1;\r\n            }, 1));\r\n          a.hv();\r\n          b || a.yb(a.cd);\r\n          e && (a.skipsUndoManager = d);\r\n          a.fc = !1;\r\n        }\r\n      }\r\n\r\n      function Ej(a) {\r\n        var b = a.Na.j;\r\n        a.Dd(b, b.length, a);\r\n        a.fg !== Ci\r\n          ? (a.scale = jj(a, a.fg))\r\n          : a.Vg !== Ci\r\n          ? (a.scale = jj(a, a.Vg))\r\n          : ((b = a.initialScale), isFinite(b) && 0 < b && (a.scale = b));\r\n        ij(a, !0);\r\n        a.lx.assign(a.ra);\r\n        a.U(\"InitialLayoutCompleted\");\r\n        Cj(a);\r\n      }\r\n\r\n      function gj(a) {\r\n        if ((a.fc || !a.animationManager.isTicking) && 0 !== a.Nd.count) {\r\n          for (var b = 0; 23 > b; b++) {\r\n            var c = a.Nd.iterator;\r\n            if (null === c || 0 === a.Nd.count) break;\r\n            a.Nd = new H();\r\n            a.xw(c, a.Nd);\r\n            F && 22 === b && Ca(\"failure to validate parts\");\r\n          }\r\n          a.nodes.each(function (a) {\r\n            a instanceof Kf &&\r\n              (0 !== (a.T & 65536)) !== !1 &&\r\n              (a.T = a.T ^ 65536);\r\n          });\r\n        }\r\n      }\r\n      t.xw = function (a, b) {\r\n        for (a.reset(); a.next(); ) {\r\n          var c = a.value;\r\n          !c.$b() ||\r\n            c instanceof Kf ||\r\n            (c.jj() ? (c.measure(Infinity, Infinity), c.arrange()) : b.add(c));\r\n        }\r\n        for (a.reset(); a.next(); )\r\n          (c = a.value), c instanceof Kf && c.isVisible() && Fj(this, c);\r\n        for (a.reset(); a.next(); )\r\n          (c = a.value),\r\n            c instanceof Q &&\r\n              c.isVisible() &&\r\n              (c.jj()\r\n                ? (c.measure(Infinity, Infinity), c.arrange())\r\n                : b.add(c));\r\n        for (a.reset(); a.next(); )\r\n          (c = a.value),\r\n            c instanceof Pe &&\r\n              c.isVisible() &&\r\n              (c.jj()\r\n                ? (c.measure(Infinity, Infinity), c.arrange())\r\n                : b.add(c));\r\n      };\r\n\r\n      function Fj(a, b) {\r\n        for (var c = La(), d = La(), e = b.memberParts; e.next(); ) {\r\n          var f = e.value;\r\n          f.isVisible() &&\r\n            (f instanceof Kf\r\n              ? (Gj(f) || Hj(f) || Ij(f)) && Fj(a, f)\r\n              : f instanceof Q\r\n              ? f.fromNode === b || f.toNode === b\r\n                ? d.push(f)\r\n                : c.push(f)\r\n              : (f.measure(Infinity, Infinity), f.arrange()));\r\n        }\r\n        a = c.length;\r\n        for (e = 0; e < a; e++)\r\n          (f = c[e]), f.measure(Infinity, Infinity), f.arrange();\r\n        Na(c);\r\n        b.measure(Infinity, Infinity);\r\n        b.arrange();\r\n        a = d.length;\r\n        for (b = 0; b < a; b++)\r\n          (c = d[b]), c.measure(Infinity, Infinity), c.arrange();\r\n        Na(d);\r\n      }\r\n      t.Dd = function (a, b, c, d) {\r\n        if (this.ti || this.animationManager.isAnimating)\r\n          for (var e = 0; e < b; e++) a[e].Dd(c, d);\r\n      };\r\n      t.yb = function (a, b) {\r\n        void 0 === b && (b = null);\r\n        if (null !== this.Ka) {\r\n          null === this.Ga && v(\"No canvas specified\");\r\n          var c = this.animationManager;\r\n          if (!c.oc && (!c.isAnimating || c.isTicking)) {\r\n            var d = new Date();\r\n            Jj(this);\r\n            if (\"0\" !== this.Ka.style.opacity) {\r\n              var e = a !== this.cd,\r\n                f = this.Na.j,\r\n                g = f.length,\r\n                h = this;\r\n              this.Dd(f, g, h);\r\n              if (e) a.Xc(!0), fj(this);\r\n              else if (!this.sc && null === b && !c.isAnimating) return;\r\n              g = this.ra;\r\n              var k = this.Ea,\r\n                l = Math.round(g.x * k) / k,\r\n                m = Math.round(g.y * k) / k;\r\n              c = this.xb;\r\n              c.reset();\r\n              1 !== k && c.scale(k);\r\n              (0 === g.x && 0 === g.y) || c.translate(-l, -m);\r\n              k = this.Vb;\r\n              a.setTransform(1, 0, 0, 1, 0, 0);\r\n              a.scale(k, k);\r\n              a.clearRect(0, 0, this.Ca, this.Ba);\r\n              a.setTransform(1, 0, 0, 1, 0, 0);\r\n              a.scale(k, k);\r\n              a.transform(c.m11, c.m12, c.m21, c.m22, c.dx, c.dy);\r\n              F && F.Wi && F.rv && F.rv(this, a);\r\n              Kj(this, a);\r\n              a.globalAlpha = this.ub;\r\n              l =\r\n                null !== b\r\n                  ? function (c) {\r\n                      var d = b;\r\n                      if (c.visible && 0 !== c.ub) {\r\n                        var e = c.Ha.j,\r\n                          f = e.length;\r\n                        if (0 !== f) {\r\n                          var g = vi(c, a);\r\n                          c = c.bp;\r\n                          c.length = 0;\r\n                          for (var k = h.scale, l = 0; l < f; l++) {\r\n                            var m = e[l];\r\n                            if (Lg(m) && !d.contains(m)) {\r\n                              if (\r\n                                m instanceof Q &&\r\n                                (m.isOrthogonal && c.push(m), !1 === m.Ec)\r\n                              )\r\n                                continue;\r\n                              var n = m.actualBounds;\r\n                              n.width * k > h.ve || n.height * k > h.ve\r\n                                ? m.yb(a, h)\r\n                                : wi(a, m);\r\n                            }\r\n                          }\r\n                          a.globalAlpha = g;\r\n                        }\r\n                      }\r\n                    }\r\n                  : function (b) {\r\n                      b.yb(a, h);\r\n                    };\r\n              g = f.length;\r\n              for (m = 0; m < g; m++)\r\n                a.setTransform(1, 0, 0, 1, 0, 0),\r\n                  a.scale(k, k),\r\n                  a.transform(c.m11, c.m12, c.m21, c.m22, c.dx, c.dy),\r\n                  l(f[m]);\r\n              this.si && Lj(this.si, this) && this.Cr();\r\n              F && (F.sv || F.Wi) && F.nq && F.nq(a, this, c);\r\n              e ? (this.cd.Xc(!0), fj(this)) : (this.sc = this.ti = !1);\r\n              e = +new Date() - +d;\r\n              if (null === this.Bh) {\r\n                d = this.No;\r\n                d[this.Oo] = e;\r\n                this.Oo = (this.Oo + 1) % d.length;\r\n                for (f = e = 0; f < this.No.length; f++) e += this.No[f];\r\n                this.Mo = e / d.length;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      };\r\n\r\n      function Mj(a, b, c, d, e, f, g, h, k, l) {\r\n        if (null !== a.Ka) {\r\n          null === a.Ga && v(\"No canvas specified\");\r\n          void 0 === g && (g = null);\r\n          void 0 === h && (h = null);\r\n          void 0 === k && (k = !1);\r\n          void 0 === l && (l = !1);\r\n          Jj(a);\r\n          a.cd.Xc(!0);\r\n          fj(a);\r\n          a.Ej = !0;\r\n          var m = a.Ea;\r\n          a.Ea = e;\r\n          var n = a.Na.j,\r\n            p = n.length;\r\n          try {\r\n            var r = new L(f.x, f.y, d.width / e, d.height / e),\r\n              q = r.copy();\r\n            q.iq(c);\r\n            Cj(a, q);\r\n            gj(a);\r\n            a.Dd(n, p, a, r);\r\n            var u = a.Vb;\r\n            b.setTransform(1, 0, 0, 1, 0, 0);\r\n            b.scale(u, u);\r\n            b.clearRect(0, 0, d.width, d.height);\r\n            null !== h &&\r\n              \"\" !== h &&\r\n              ((b.fillStyle = h), b.fillRect(0, 0, d.width, d.height));\r\n            var x = Kb.alloc();\r\n            x.reset();\r\n            x.translate(c.left, c.top);\r\n            x.scale(e);\r\n            (0 === f.x && 0 === f.y) || x.translate(-f.x, -f.y);\r\n            b.setTransform(x.m11, x.m12, x.m21, x.m22, x.dx, x.dy);\r\n            Kb.free(x);\r\n            Kj(a, b);\r\n            b.globalAlpha = a.ub;\r\n            if (null !== g) {\r\n              var y = new H(),\r\n                z = g.iterator;\r\n              for (z.reset(); z.next(); ) {\r\n                var B = z.value;\r\n                (!1 === l && \"Grid\" === B.layer.name) || null === B || y.add(B);\r\n              }\r\n              var D = function (c) {\r\n                var d = k;\r\n                if (\r\n                  c.visible &&\r\n                  0 !== c.ub &&\r\n                  (void 0 === d && (d = !0), d || !c.isTemporary)\r\n                ) {\r\n                  d = c.Ha.j;\r\n                  var e = d.length;\r\n                  if (0 !== e) {\r\n                    var f = vi(c, b);\r\n                    c = c.bp;\r\n                    c.length = 0;\r\n                    for (var g = a.scale, h = 0; h < e; h++) {\r\n                      var l = d[h];\r\n                      if (Lg(l) && y.contains(l)) {\r\n                        if (\r\n                          l instanceof Q &&\r\n                          (l.isOrthogonal && c.push(l), !1 === l.Ec)\r\n                        )\r\n                          continue;\r\n                        var m = l.actualBounds;\r\n                        m.width * g > a.ve || m.height * g > a.ve\r\n                          ? l.yb(b, a)\r\n                          : wi(b, l);\r\n                      }\r\n                    }\r\n                    b.globalAlpha = f;\r\n                  }\r\n                }\r\n              };\r\n            } else if (!k && l) {\r\n              var I = a.grid.part,\r\n                O = I.layer;\r\n              D = function (c) {\r\n                c === O ? I.yb(b, a) : c.yb(b, a, k);\r\n              };\r\n            } else\r\n              D = function (c) {\r\n                c.yb(b, a, k);\r\n              };\r\n            for (c = 0; c < p; c++) D(n[c]);\r\n            a.Ej = !1;\r\n            a.si && Lj(a.si, a) && a.Cr();\r\n          } finally {\r\n            (a.Ea = m), a.cd.Xc(!0), fj(a), a.Dd(n, p, a), Cj(a);\r\n          }\r\n        }\r\n      }\r\n      t.Ke = function (a) {\r\n        return this.yg[a];\r\n      };\r\n      t.ty = function (a, b) {\r\n        \"minDrawingLength\" === a && (this.ve = b);\r\n        this.yg[a] = b;\r\n        this.Jf();\r\n      };\r\n      t.dw = function () {\r\n        this.yg = new jb();\r\n        this.yg.drawShadows = !0;\r\n        this.yg.textGreeking = !0;\r\n        this.yg.viewportOptimizations = eb || Za || bb ? !1 : !0;\r\n        this.yg.temporaryPixelRatio = !0;\r\n        this.yg.pictureRatioOptimization = !0;\r\n        this.ve = this.yg.minDrawingLength = 1;\r\n      };\r\n\r\n      function Kj(a, b) {\r\n        a = a.yg;\r\n        null !== a &&\r\n          (void 0 !== a.imageSmoothingEnabled &&\r\n            b.sy(!!a.imageSmoothingEnabled),\r\n          (a = a.defaultFont),\r\n          void 0 !== a && null !== a && (b.font = a));\r\n      }\r\n      t.vm = function (a) {\r\n        return this.wl[a];\r\n      };\r\n      t.FA = function (a, b) {\r\n        this.wl[a] = b;\r\n      };\r\n      t.cw = function () {\r\n        this.wl = new jb();\r\n        this.wl.extraTouchArea = 10;\r\n        this.wl.extraTouchThreshold = 10;\r\n        this.wl.hasGestureZoom = !0;\r\n      };\r\n      t.lw = function (a) {\r\n        Nj(this, a);\r\n      };\r\n\r\n      function Nj(a, b) {\r\n        var c = a instanceof V,\r\n          d = a instanceof P,\r\n          e;\r\n        for (e in b) {\r\n          \"\" === e && v(\"Setting properties requires non-empty property names\");\r\n          var f = a,\r\n            g = e;\r\n          if (c || d) {\r\n            var h = e.indexOf(\".\");\r\n            if (0 < h) {\r\n              var k = e.substring(0, h);\r\n              if (c) f = a.cb(k);\r\n              else if (((f = a[k]), void 0 === f || null === f))\r\n                f = a.toolManager[k];\r\n              Fa(f)\r\n                ? (g = e.substr(h + 1))\r\n                : v(\r\n                    \"Unable to find object named: \" +\r\n                      k +\r\n                      \" in \" +\r\n                      a.toString() +\r\n                      \" when trying to set property: \" +\r\n                      e\r\n                  );\r\n            }\r\n          }\r\n          if (\"_\" !== g[0] && !Qa(f, g))\r\n            if (d && \"ModelChanged\" === g) {\r\n              a.Cx(b[g]);\r\n              continue;\r\n            } else if (d && \"Changed\" === g) {\r\n              a.Jh(b[g]);\r\n              continue;\r\n            } else if (d && Qa(a.toolManager, g)) f = a.toolManager;\r\n            else if (d && Oj(a, g)) {\r\n              a.ak(g, b[g]);\r\n              continue;\r\n            } else if (a instanceof X && \"Changed\" === g) {\r\n              a.Jh(b[g]);\r\n              continue;\r\n            } else\r\n              v(\r\n                'Trying to set undefined property \"' +\r\n                  g +\r\n                  '\" on object: ' +\r\n                  f.toString()\r\n              );\r\n          f[g] = b[e];\r\n          \"_\" === g[0] && f instanceof N && f.zx(g);\r\n        }\r\n      }\r\n      t.hv = function () {\r\n        if (0 === this.undoManager.transactionLevel && 0 !== this.oi.count) {\r\n          for (; 0 < this.oi.count; ) {\r\n            var a = this.oi;\r\n            this.oi = new Db();\r\n            for (a = a.iterator; a.next(); ) {\r\n              var b = a.key;\r\n              b.yq(a.value);\r\n              b.hc();\r\n            }\r\n          }\r\n          this.R();\r\n        }\r\n      };\r\n      t.R = function (a) {\r\n        void 0 === a && (a = null);\r\n        if (null === a) (this.sc = !0), this.cc();\r\n        else {\r\n          var b = this.viewportBounds;\r\n          null !== a && a.o() && b.Mc(a) && ((this.sc = !0), this.cc());\r\n        }\r\n        this.U(\"InvalidateDraw\");\r\n      };\r\n      t.Yx = function (a, b) {\r\n        if (!0 !== this.sc) {\r\n          this.sc = !0;\r\n          var c = !0 === this.Ke(\"temporaryPixelRatio\");\r\n          if (\r\n            !0 === this.Ke(\"viewportOptimizations\") &&\r\n            this.scrollMode !== ki &&\r\n            this.Li.Yi(0, 0, 0, 0) &&\r\n            b.width === a.width &&\r\n            b.height === a.height\r\n          ) {\r\n            var d = this.scale,\r\n              e = Math.max(a.x, b.x),\r\n              f = Math.max(a.y, b.y);\r\n            d = L.allocAt(\r\n              e,\r\n              f,\r\n              Math.max(0, Math.min(a.x + a.width, b.x + b.width) - e) * d,\r\n              Math.max(0, Math.min(a.y + a.height, b.y + b.height) - f) * d\r\n            );\r\n            if (!this.Ss && 0 < d.width && 0 < d.height) {\r\n              if (\r\n                !(\r\n                  this.fc ||\r\n                  ((this.jd = !1),\r\n                  null === this.Ka ||\r\n                    ((this.fc = !0),\r\n                    this.hv(),\r\n                    this.documentBounds.o() || Pj(this, this.computeBounds()),\r\n                    (e = this.Ga),\r\n                    null === e || e instanceof Qj))\r\n                )\r\n              ) {\r\n                var g = this.Vb;\r\n                f = this.Ca * g;\r\n                var h = this.Ba * g,\r\n                  k = this.scale * g,\r\n                  l = Math.round(Math.round(b.x * k) - Math.round(a.x * k));\r\n                b = Math.round(Math.round(b.y * k) - Math.round(a.y * k));\r\n                k = this.lu;\r\n                a = this.Tw;\r\n                k.width !== f && (k.width = f);\r\n                k.height !== h && (k.height = h);\r\n                a.clearRect(0, 0, f, h);\r\n                k = 190 * g;\r\n                var m = 70 * g,\r\n                  n = Math.max(l, 0),\r\n                  p = Math.max(b, 0),\r\n                  r = Math.floor(f - n),\r\n                  q = Math.floor(h - p);\r\n                a.drawImage(e.Ia, n, p, r, q, 0, 0, r, q);\r\n                Lj(this.si, this) && a.clearRect(0, 0, k, m);\r\n                e = La();\r\n                a = La();\r\n                q = Math.abs(l);\r\n                r = Math.abs(b);\r\n                var u = 0 === n ? 0 : f - q;\r\n                n = J.allocAt(u, 0);\r\n                q = J.allocAt(q + u, h);\r\n                a.push(\r\n                  new L(\r\n                    Math.min(n.x, q.x),\r\n                    Math.min(n.y, q.y),\r\n                    Math.abs(n.x - q.x),\r\n                    Math.abs(n.y - q.y)\r\n                  )\r\n                );\r\n                var x = this.xb;\r\n                x.reset();\r\n                x.scale(g, g);\r\n                1 !== this.Ea && x.scale(this.Ea);\r\n                g = this.ra;\r\n                (0 !== g.x || 0 !== g.y) &&\r\n                  isFinite(g.x) &&\r\n                  isFinite(g.y) &&\r\n                  x.translate(-g.x, -g.y);\r\n                Lb(n, x);\r\n                Lb(q, x);\r\n                e.push(\r\n                  new L(\r\n                    Math.min(n.x, q.x),\r\n                    Math.min(n.y, q.y),\r\n                    Math.abs(n.x - q.x),\r\n                    Math.abs(n.y - q.y)\r\n                  )\r\n                );\r\n                u = 0 === p ? 0 : h - r;\r\n                n.h(0, u);\r\n                q.h(f, r + u);\r\n                a.push(\r\n                  new L(\r\n                    Math.min(n.x, q.x),\r\n                    Math.min(n.y, q.y),\r\n                    Math.abs(n.x - q.x),\r\n                    Math.abs(n.y - q.y)\r\n                  )\r\n                );\r\n                Lb(n, x);\r\n                Lb(q, x);\r\n                e.push(\r\n                  new L(\r\n                    Math.min(n.x, q.x),\r\n                    Math.min(n.y, q.y),\r\n                    Math.abs(n.x - q.x),\r\n                    Math.abs(n.y - q.y)\r\n                  )\r\n                );\r\n                Lj(this.si, this) &&\r\n                  ((f = 0 < l ? 0 : -l),\r\n                  (h = 0 < b ? 0 : -b),\r\n                  n.h(f, h),\r\n                  q.h(k + f, m + h),\r\n                  a.push(\r\n                    new L(\r\n                      Math.min(n.x, q.x),\r\n                      Math.min(n.y, q.y),\r\n                      Math.abs(n.x - q.x),\r\n                      Math.abs(n.y - q.y)\r\n                    )\r\n                  ),\r\n                  Lb(n, x),\r\n                  Lb(q, x),\r\n                  e.push(\r\n                    new L(\r\n                      Math.min(n.x, q.x),\r\n                      Math.min(n.y, q.y),\r\n                      Math.abs(n.x - q.x),\r\n                      Math.abs(n.y - q.y)\r\n                    )\r\n                  ));\r\n                J.free(n);\r\n                J.free(q);\r\n                mj(this, !1, !0);\r\n                null === this.Ka && v(\"No div specified\");\r\n                null === this.Ga && v(\"No canvas specified\");\r\n                if (!this.animationManager.oc && ((f = this.cd), this.sc)) {\r\n                  Jj(this);\r\n                  h = this.Vb;\r\n                  f.setTransform(1, 0, 0, 1, 0, 0);\r\n                  f.clearRect(0, 0, this.Ca * h, this.Ba * h);\r\n                  f.drawImage(\r\n                    this.lu.Ia,\r\n                    0 < l ? 0 : Math.round(-l),\r\n                    0 < b ? 0 : Math.round(-b)\r\n                  );\r\n                  b = this.ra;\r\n                  g = this.Ea;\r\n                  k = Math.round(b.x * g) / g;\r\n                  m = Math.round(b.y * g) / g;\r\n                  l = this.xb;\r\n                  l.reset();\r\n                  1 !== g && l.scale(g);\r\n                  (0 === b.x && 0 === b.y) || l.translate(-k, -m);\r\n                  f.save();\r\n                  f.beginPath();\r\n                  b = a.length;\r\n                  for (g = 0; g < b; g++)\r\n                    (k = a[g]),\r\n                      0 !== k.width &&\r\n                        0 !== k.height &&\r\n                        f.rect(\r\n                          Math.floor(k.x),\r\n                          Math.floor(k.y),\r\n                          Math.ceil(k.width),\r\n                          Math.ceil(k.height)\r\n                        );\r\n                  f.clip();\r\n                  f.setTransform(1, 0, 0, 1, 0, 0);\r\n                  f.scale(h, h);\r\n                  f.transform(l.m11, l.m12, l.m21, l.m22, l.dx, l.dy);\r\n                  F && F.Wi && F.rv && F.rv(this, f);\r\n                  h = this.Na.j;\r\n                  b = h.length;\r\n                  this.Dd(h, b, this);\r\n                  Kj(this, f);\r\n                  f.globalAlpha = this.ub;\r\n                  for (g = 0; g < b; g++)\r\n                    if (((r = h[g]), (k = e), r.visible && 0 !== r.ub)) {\r\n                      m = vi(r, f);\r\n                      p = r.bp;\r\n                      p.length = 0;\r\n                      n = this.scale;\r\n                      r = r.Ha.j;\r\n                      q = r.length;\r\n                      x = k.length;\r\n                      for (u = 0; u < q; u++) {\r\n                        var y = r[u];\r\n                        if (Lg(y)) {\r\n                          if (\r\n                            y instanceof Q &&\r\n                            (y.isOrthogonal && p.push(y), !1 === y.Ec)\r\n                          )\r\n                            continue;\r\n                          var z = Rj(y, y.actualBounds);\r\n                          a: {\r\n                            var B = z;\r\n                            for (\r\n                              var D = k, I = x, O = 2 / n, R = 4 / n, T = 0;\r\n                              T < I;\r\n                              T++\r\n                            ) {\r\n                              var ca = D[T];\r\n                              if (\r\n                                0 !== ca.width &&\r\n                                0 !== ca.height &&\r\n                                B.Jv(\r\n                                  ca.x - O,\r\n                                  ca.y - O,\r\n                                  ca.width + R,\r\n                                  ca.height + R\r\n                                )\r\n                              ) {\r\n                                B = !0;\r\n                                break a;\r\n                              }\r\n                            }\r\n                            B = !1;\r\n                          }\r\n                          B &&\r\n                            (z.width * n > this.ve || z.height * n > this.ve\r\n                              ? y.yb(f, this)\r\n                              : wi(f, y));\r\n                        }\r\n                      }\r\n                      f.globalAlpha = m;\r\n                    }\r\n                  f.restore();\r\n                  f.Xc(!0);\r\n                  F && (F.sv || F.Wi) && F.nq && F.nq(f, this, l);\r\n                  this.si && Lj(this.si, this) && this.Cr();\r\n                  this.sc = this.ti = !1;\r\n                  this.Jt();\r\n                }\r\n                Na(e);\r\n                Na(a);\r\n                this.fc = !1;\r\n              }\r\n            } else this.Ad();\r\n            L.free(d);\r\n            c && (gf(this), this.Ad(), xf(this, !0));\r\n          } else c ? (gf(this), this.Ad(), xf(this, !0)) : this.Ad();\r\n        }\r\n      };\r\n\r\n      function lj(a) {\r\n        !1 === a.Cj && (a.Cj = !0);\r\n      }\r\n\r\n      function fj(a) {\r\n        !1 === a.ti && (a.ti = !0);\r\n      }\r\n\r\n      function Jj(a) {\r\n        !1 !== a.eo && ((a.eo = !1), Sj(a, a.Ca, a.Ba));\r\n      }\r\n\r\n      function Sj(a, b, c) {\r\n        var d = a.Vb;\r\n        a.Ga.resize(b * d, c * d, b, c) && ((a.sc = !0), a.cd.Xc(!0));\r\n      }\r\n\r\n      function dj(a) {\r\n        var b = a.Ga;\r\n        if (null === b) return !0;\r\n        var c = a.Ka,\r\n          d = a.Ca,\r\n          e = a.Ba,\r\n          f = a.wx.copy();\r\n        if (isNaN(f.width) || isNaN(f.height)) return !0;\r\n        var g = !1,\r\n          h = a.dg ? a.wb : 0,\r\n          k = a.Ze ? a.wb : 0,\r\n          l = c.clientWidth || d + h,\r\n          m = c.clientHeight || e + k;\r\n        if (l !== d + h || m !== e + k)\r\n          (a.dg = !1),\r\n            (a.Ze = !1),\r\n            (k = h = 0),\r\n            (a.Ca = l),\r\n            (a.Ba = m),\r\n            (g = a.eo = !0);\r\n        if (!(g || a.dg || a.Ze || a.ol || a.pl)) return !0;\r\n        a.Cj = !1;\r\n        var n = a.viewportBounds,\r\n          p = a.documentBounds,\r\n          r = 0,\r\n          q = 0,\r\n          u = 0,\r\n          x = 0;\r\n        c = n.width;\r\n        var y = n.height,\r\n          z = a.Li;\r\n        a.contentAlignment.$a()\r\n          ? (p.width > c && ((r = z.left), (q = z.right)),\r\n            p.height > y && ((u = z.top), (x = z.bottom)))\r\n          : ((r = z.left), (q = z.right), (u = z.top), (x = z.bottom));\r\n        z = p.width + r + q;\r\n        var B = p.height + u + x;\r\n        r = p.x - r;\r\n        var D = n.x;\r\n        q = p.right + q;\r\n        var I = n.right + h;\r\n        u = p.y - u;\r\n        var O = n.y;\r\n        p = p.bottom + x;\r\n        n = n.bottom + k;\r\n        var R = \"1px\",\r\n          T = \"1px\";\r\n        x = a.scale;\r\n        l = z > l / x;\r\n        m = B > m / x;\r\n        a.scrollMode === ii &&\r\n          (l || m) &&\r\n          (l &&\r\n            a.hasHorizontalScrollbar &&\r\n            a.allowHorizontalScroll &&\r\n            ((l = 1),\r\n            r + 1 < D && (l = Math.max((D - r) * x + a.Ca, l)),\r\n            q > I + 1 && (l = Math.max((q - I) * x + a.Ca, l)),\r\n            c + h + 1 < z && (l = Math.max((z - c) * x + a.Ca, l)),\r\n            (R = l.toString() + \"px\")),\r\n          m &&\r\n            a.hasVerticalScrollbar &&\r\n            a.allowVerticalScroll &&\r\n            ((l = 1),\r\n            u + 1 < O && (l = Math.max((O - u) * x + a.Ba, l)),\r\n            p > n + 1 && (l = Math.max((p - n) * x + a.Ba, l)),\r\n            y + k + 1 < B && (l = Math.max((B - y) * x + a.Ba, l)),\r\n            (T = l.toString() + \"px\")));\r\n        l = \"1px\" !== R;\r\n        m = \"1px\" !== T;\r\n        (l && m) ||\r\n          (!l && !m) ||\r\n          (m && (I -= a.wb),\r\n          l && (n -= a.wb),\r\n          z < c + h ||\r\n            !a.hasHorizontalScrollbar ||\r\n            !a.allowHorizontalScroll ||\r\n            ((h = 1),\r\n            r + 1 < D && (h = Math.max((D - r) * x + a.Ca, h)),\r\n            q > I + 1 && (h = Math.max((q - I) * x + a.Ca, h)),\r\n            c + 1 < z && (h = Math.max((z - c) * x + a.Ca, h)),\r\n            (R = h.toString() + \"px\")),\r\n          (l = \"1px\" !== R),\r\n          (h = a.Ba),\r\n          l !== a.Ze && (h = l ? a.Ba - a.wb : a.Ba + a.wb),\r\n          B < y + k ||\r\n            !a.hasVerticalScrollbar ||\r\n            !a.allowVerticalScroll ||\r\n            ((k = 1),\r\n            u + 1 < O && (k = Math.max((O - u) * x + h, k)),\r\n            p > n + 1 && (k = Math.max((p - n) * x + h, k)),\r\n            y + 1 < B && (k = Math.max((B - y) * x + h, k)),\r\n            (T = k.toString() + \"px\")),\r\n          (m = \"1px\" !== T));\r\n        if (a.Gs && l === a.Ze && m === a.dg)\r\n          return (d === a.Ca && e === a.Ba) || a.Ad(), !1;\r\n        l !== a.Ze &&\r\n          (\"1px\" === R\r\n            ? (a.Ba = a.Ba + a.wb)\r\n            : (a.Ba = Math.max(a.Ba - a.wb, 1)),\r\n          (g = !0));\r\n        a.Ze = l;\r\n        a.Bp.style.width = R;\r\n        m !== a.dg &&\r\n          (\"1px\" === T\r\n            ? (a.Ca = a.Ca + a.wb)\r\n            : (a.Ca = Math.max(a.Ca - a.wb, 1)),\r\n          (g = !0),\r\n          a.jo &&\r\n            ((k = J.alloc()),\r\n            m\r\n              ? ((b.style.left = a.wb + \"px\"),\r\n                (a.position = k.h(a.ra.x + a.wb / a.scale, a.ra.y)))\r\n              : ((b.style.left = \"0px\"),\r\n                (a.position = k.h(a.ra.x - a.wb / a.scale, a.ra.y))),\r\n            J.free(k)));\r\n        a.dg = m;\r\n        a.Bp.style.height = T;\r\n        a.Qu = !0;\r\n        g && (a.eo = !0);\r\n        b = a.Is;\r\n        k = b.scrollLeft;\r\n        a.hasHorizontalScrollbar &&\r\n          a.allowHorizontalScroll &&\r\n          (c + 1 < z\r\n            ? (k = (a.position.x - r) * x)\r\n            : r + 1 < D\r\n            ? (k = b.scrollWidth - b.clientWidth)\r\n            : q > I + 1 && (k = a.position.x * x));\r\n        if (a.jo)\r\n          switch (a.Nu) {\r\n            case \"negative\":\r\n              k = -(b.scrollWidth - k - b.clientWidth);\r\n              break;\r\n            case \"reverse\":\r\n              k = b.scrollWidth - k - b.clientWidth;\r\n          }\r\n        b.scrollLeft = k;\r\n        a.hasVerticalScrollbar &&\r\n          a.allowVerticalScroll &&\r\n          (y + 1 < B\r\n            ? (b.scrollTop = (a.position.y - u) * x)\r\n            : u + 1 < O\r\n            ? (b.scrollTop = b.scrollHeight - b.clientHeight)\r\n            : p > n + 1 && (b.scrollTop = a.position.y * x));\r\n        l = a.Ca;\r\n        m = a.Ba;\r\n        b.style.width = l + (a.dg ? a.wb : 0) + \"px\";\r\n        b.style.height = m + (a.Ze ? a.wb : 0) + \"px\";\r\n        return d !== l || e !== m || a.animationManager.oc\r\n          ? (a.Hq(f, a.viewportBounds, x, g), !1)\r\n          : !0;\r\n      }\r\n      t.add = function (a) {\r\n        w(a, S, P, \"add:part\");\r\n        var b = a.diagram;\r\n        if (\r\n          b !== this &&\r\n          (null !== b &&\r\n            v(\r\n              \"Cannot add part \" +\r\n                a.toString() +\r\n                \" to \" +\r\n                this.toString() +\r\n                \". It is already a part of \" +\r\n                b.toString()\r\n            ),\r\n          (b = this.sm(a.layerName)),\r\n          null === b && (b = this.sm(\"\")),\r\n          null === b &&\r\n            v(\r\n              'Cannot add a Part when unable find a Layer named \"' +\r\n                a.layerName +\r\n                '\" and there is no default Layer'\r\n            ),\r\n          a.layer !== b)\r\n        ) {\r\n          var c = b.hj(99999999, a, a.diagram === this);\r\n          0 <= c && this.eb(Fe, \"parts\", b, null, a, null, c);\r\n          b.isTemporary || this.Ya();\r\n          a.D(1);\r\n          c = a.layerChanged;\r\n          null !== c && c(a, null, b);\r\n        }\r\n      };\r\n      t.hj = function (a) {\r\n        this.partManager.hj(a);\r\n        var b = this;\r\n        Tj(a, function (a) {\r\n          Uj(b, a);\r\n        });\r\n        (a instanceof Pe || (a instanceof Kf && null !== a.placeholder)) &&\r\n          a.v();\r\n        null !== a.data &&\r\n          Tj(a, function (a) {\r\n            Vj(b.partManager, a);\r\n          });\r\n        (!0 !== Hj(a) && !0 !== Ij(a)) || this.Nd.add(a);\r\n        Wj(a, !0, this);\r\n        Xj(a)\r\n          ? (a.actualBounds.o() && this.R(Rj(a, a.actualBounds)), this.Ya())\r\n          : a.isVisible() &&\r\n            a.actualBounds.o() &&\r\n            this.R(Rj(a, a.actualBounds));\r\n        this.cc();\r\n      };\r\n      t.Lc = function (a) {\r\n        a.fk();\r\n        this.partManager.Lc(a);\r\n        var b = this;\r\n        null !== a.data &&\r\n          Tj(a, function (a) {\r\n            Yj(b.partManager, a, b);\r\n          });\r\n        this.Nd.remove(a);\r\n        Xj(a)\r\n          ? (a.actualBounds.o() && this.R(Rj(a, a.actualBounds)), this.Ya())\r\n          : a.isVisible() &&\r\n            a.actualBounds.o() &&\r\n            this.R(Rj(a, a.actualBounds));\r\n        this.cc();\r\n      };\r\n      t.remove = function (a) {\r\n        w(a, S, P, \"remove:part\");\r\n        Zj(this, a, !0);\r\n      };\r\n\r\n      function Zj(a, b, c) {\r\n        var d = b.layer;\r\n        null !== d &&\r\n          d.diagram === a &&\r\n          ((b.isSelected = !1),\r\n          (b.isHighlighted = !1),\r\n          b.D(2),\r\n          c && b.lk(),\r\n          (c = d.Lc(-1, b, !1)),\r\n          0 <= c && a.eb(Ge, \"parts\", d, b, null, c, null),\r\n          (a = b.layerChanged),\r\n          null !== a && a(b, d, null));\r\n      }\r\n      t.Lt = function (a, b) {\r\n        if (Ga(a))\r\n          for (var c = a.length, d = 0; d < c; d++) {\r\n            var e = a[d];\r\n            (b && !e.canDelete()) || this.remove(e);\r\n          }\r\n        else\r\n          for (c = new H(), c.addAll(a), a = c.iterator; a.next(); )\r\n            (c = a.value), (b && !c.canDelete()) || this.remove(c);\r\n      };\r\n      t.kk = function (a, b, c) {\r\n        return this.partManager.kk(a, b, c);\r\n      };\r\n      P.prototype.moveParts = function (a, b, c, d) {\r\n        void 0 === d && (d = ak(this));\r\n        w(b, J, P, \"moveParts:offset\");\r\n        if (null !== this.toolManager) {\r\n          var e = new Db();\r\n          if (null !== a)\r\n            if (Ga(a))\r\n              for (var f = 0; f < a.length; f++) bk(this, e, a[f], c, d);\r\n            else for (a = a.iterator; a.next(); ) bk(this, e, a.value, c, d);\r\n          else {\r\n            for (a = this.parts; a.next(); ) bk(this, e, a.value, c, d);\r\n            for (a = this.nodes; a.next(); ) bk(this, e, a.value, c, d);\r\n            for (a = this.links; a.next(); ) bk(this, e, a.value, c, d);\r\n          }\r\n          Ff(this, e, b, d, c);\r\n        }\r\n      };\r\n\r\n      function bk(a, b, c, d, e, f) {\r\n        if (\r\n          !b.contains(c) &&\r\n          (void 0 === f && (f = !1), !d || f || c.canMove() || c.canCopy())\r\n        )\r\n          if ((void 0 === e && (e = ak(a)), c instanceof U)) {\r\n            b.add(c, a.wd(e, c, c.location));\r\n            if (c instanceof Kf)\r\n              for (f = c.memberParts; f.next(); ) bk(a, b, f.value, d, e, e.Yz);\r\n            for (f = c.linksConnected; f.next(); ) {\r\n              var g = f.value;\r\n              if (!b.contains(g)) {\r\n                var h = g.fromNode,\r\n                  k = g.toNode;\r\n                null !== h &&\r\n                  b.contains(h) &&\r\n                  null !== k &&\r\n                  b.contains(k) &&\r\n                  bk(a, b, g, d, e);\r\n              }\r\n            }\r\n            if (e.dragsTree)\r\n              for (c = c.Bv(); c.next(); ) bk(a, b, c.value, d, e);\r\n          } else if (c instanceof Q)\r\n            for (b.add(c, a.wd(e, c)), c = c.labelNodes; c.next(); )\r\n              bk(a, b, c.value, d, e);\r\n          else c instanceof Pe || b.add(c, a.wd(e, c, c.location));\r\n      }\r\n\r\n      function Ff(a, b, c, d, e) {\r\n        if (null !== b && (w(b, Db, P, \"moveParts:parts\"), 0 !== b.count)) {\r\n          var f = J.alloc(),\r\n            g = J.alloc();\r\n          g.assign(c);\r\n          isNaN(g.x) && (g.x = 0);\r\n          isNaN(g.y) && (g.y = 0);\r\n          (c = a.Tp) || hf(a, b);\r\n          for (\r\n            var h = La(), k = La(), l = b.iterator, m = J.alloc();\r\n            l.next();\r\n\r\n          ) {\r\n            var n = l.key,\r\n              p = l.value;\r\n            if (n.$b()) {\r\n              var r = ck(a, n, b);\r\n              if (null !== r) h.push(new dk(n, p, r));\r\n              else if (!e || n.canMove())\r\n                (r = p.point),\r\n                  f.assign(r),\r\n                  a.computeMove(n, f.add(g), d, m),\r\n                  (n.location = m),\r\n                  void 0 === p.shifted && (p.shifted = new J()),\r\n                  p.shifted.assign(m.ee(r));\r\n            } else l.key instanceof Q && k.push(l.qa);\r\n          }\r\n          J.free(m);\r\n          e = h.length;\r\n          for (l = 0; l < e; l++)\r\n            (n = h[l]),\r\n              f.assign(n.info.point),\r\n              void 0 === n.Gv.shifted && (n.Gv.shifted = new J()),\r\n              (n.node.location = f.add(n.Gv.shifted));\r\n          e = J.alloc();\r\n          l = J.alloc();\r\n          n = k.length;\r\n          for (p = 0; p < n; p++) {\r\n            var q = k[p];\r\n            r = q.key;\r\n            if (r instanceof Q)\r\n              if (r.suspendsRouting) {\r\n                r.uh = null;\r\n                m = r.fromNode;\r\n                var u = r.toNode;\r\n                if (null !== a.draggedLink && d.dragsLink)\r\n                  if (((u = q.value.point), null === r.dragComputation))\r\n                    b.add(r, a.wd(d, r, g)), Df(r, g.x - u.x, g.y - u.y);\r\n                  else {\r\n                    q = J.allocAt(0, 0);\r\n                    (m = r.i(0)) && m.o() && q.assign(m);\r\n                    var x = (m = J.alloc().assign(q).add(g));\r\n                    d.isGridSnapEnabled &&\r\n                      (d.isGridSnapRealtime || a.lastInput.up) &&\r\n                      ((x = J.alloc()), Vg(a, r, m, x, d));\r\n                    m.assign(r.dragComputation(r, m, x)).ee(q);\r\n                    b.add(r, a.wd(d, r, m));\r\n                    Df(r, m.x - u.x, m.y - u.y);\r\n                    J.free(q);\r\n                    J.free(m);\r\n                    x !== m && J.free(x);\r\n                  }\r\n                else\r\n                  null !== m &&\r\n                    (e.assign(m.location),\r\n                    (x = b.K(m)),\r\n                    null !== x && e.ee(x.point)),\r\n                    null !== u &&\r\n                      (l.assign(u.location),\r\n                      (x = b.K(u)),\r\n                      null !== x && l.ee(x.point)),\r\n                    null !== m && null !== u\r\n                      ? e.Sa(l)\r\n                        ? ((m = q.value.point),\r\n                          (u = f),\r\n                          u.assign(e),\r\n                          u.ee(m),\r\n                          b.add(r, a.wd(d, r, e)),\r\n                          Df(r, u.x, u.y))\r\n                        : ((r.suspendsRouting = !1), r.Ta())\r\n                      : ((q = q.value.point),\r\n                        (m = null !== m ? e : null !== u ? l : g),\r\n                        b.add(r, a.wd(d, r, m)),\r\n                        Df(r, m.x - q.x, m.y - q.y));\r\n              } else if (null === r.fromNode || null === r.toNode)\r\n                (m = q.value.point),\r\n                  b.add(r, a.wd(d, r, g)),\r\n                  Df(r, g.x - m.x, g.y - m.y);\r\n          }\r\n          J.free(f);\r\n          J.free(g);\r\n          J.free(e);\r\n          J.free(l);\r\n          Na(h);\r\n          Na(k);\r\n          c || (gj(a), nf(a, b));\r\n        }\r\n      }\r\n      P.prototype.computeMove = function (a, b, c, d) {\r\n        void 0 === d && (d = new J());\r\n        d.assign(b);\r\n        if (null === a) return d;\r\n        var e = b,\r\n          f = c.isGridSnapEnabled;\r\n        f &&\r\n          (c.isGridSnapRealtime || this.lastInput.up) &&\r\n          ((e = J.alloc()), Vg(this, a, b, e, c));\r\n        c = null !== a.dragComputation ? a.dragComputation(a, b, e) : e;\r\n        var g = a.minLocation,\r\n          h = g.x;\r\n        isNaN(h) && (h = f ? Math.round(a.location.x) : a.location.x);\r\n        g = g.y;\r\n        isNaN(g) && (g = f ? Math.round(a.location.y) : a.location.y);\r\n        var k = a.maxLocation,\r\n          l = k.x;\r\n        isNaN(l) && (l = f ? Math.round(a.location.x) : a.location.x);\r\n        k = k.y;\r\n        isNaN(k) && (k = f ? Math.round(a.location.y) : a.location.y);\r\n        d.h(Math.max(h, Math.min(c.x, l)), Math.max(g, Math.min(c.y, k)));\r\n        e !== b && J.free(e);\r\n        return d;\r\n      };\r\n\r\n      function ak(a) {\r\n        var b = a.toolManager.findTool(\"Dragging\");\r\n        return null !== b ? b.dragOptions : a.$k;\r\n      }\r\n\r\n      function Vg(a, b, c, d, e) {\r\n        void 0 === e && (e = ak(a));\r\n        d.assign(c);\r\n        if (null !== b) {\r\n          var f = a.grid;\r\n          b = e.gridSnapCellSize;\r\n          a = b.width;\r\n          b = b.height;\r\n          var g = e.gridSnapOrigin,\r\n            h = g.x;\r\n          g = g.y;\r\n          e = e.gridSnapCellSpot;\r\n          if (null !== f) {\r\n            var k = f.gridCellSize;\r\n            isNaN(a) && (a = k.width);\r\n            isNaN(b) && (b = k.height);\r\n            f = f.gridOrigin;\r\n            isNaN(h) && (h = f.x);\r\n            isNaN(g) && (g = f.y);\r\n          }\r\n          f = J.allocAt(0, 0);\r\n          f.Fk(0, 0, a, b, e);\r\n          K.rq(c.x, c.y, h + f.x, g + f.y, a, b, d);\r\n          J.free(f);\r\n        }\r\n      }\r\n\r\n      function hf(a, b) {\r\n        if (null !== b)\r\n          for (a.Tp = !0, a = b.iterator; a.next(); )\r\n            (b = a.key), b instanceof Q && (b.suspendsRouting = !0);\r\n      }\r\n\r\n      function nf(a, b) {\r\n        if (null !== b) {\r\n          for (b = b.iterator; b.next(); ) {\r\n            var c = b.key;\r\n            c instanceof Q && ((c.suspendsRouting = !1), ek(c) && c.Ta());\r\n          }\r\n          a.Tp = !1;\r\n        }\r\n      }\r\n\r\n      function ck(a, b, c) {\r\n        b = b.containingGroup;\r\n        if (null !== b) {\r\n          a = ck(a, b, c);\r\n          if (null !== a) return a;\r\n          a = c.K(b);\r\n          if (null !== a) return a;\r\n        }\r\n        return null;\r\n      }\r\n      t = P.prototype;\r\n      t.wd = function (a, b, c) {\r\n        if (void 0 === c) return new lf(Qb);\r\n        var d = a.isGridSnapEnabled;\r\n        a.Zz || null === b.containingGroup || (d = !1);\r\n        return d\r\n          ? new lf(new J(Math.round(c.x), Math.round(c.y)))\r\n          : new lf(c.copy());\r\n      };\r\n\r\n      function fk(a, b, c) {\r\n        w(b, si, P, \"addLayer:layer\");\r\n        null !== b.diagram &&\r\n          b.diagram !== a &&\r\n          v(\r\n            \"Cannot share a Layer with another Diagram: \" +\r\n              b +\r\n              \" of \" +\r\n              b.diagram\r\n          );\r\n        null === c\r\n          ? null !== b.diagram &&\r\n            v(\"Cannot add an existing Layer to this Diagram again: \" + b)\r\n          : (w(c, si, P, \"addLayer:existingLayer\"),\r\n            c.diagram !== a &&\r\n              v(\r\n                \"Existing Layer must be in this Diagram: \" +\r\n                  c +\r\n                  \" not in \" +\r\n                  c.diagram\r\n              ),\r\n            b === c && v(\"Cannot move a Layer before or after itself: \" + b));\r\n        if (b.diagram !== a) {\r\n          b = b.name;\r\n          a = a.Na;\r\n          c = a.count;\r\n          for (var d = 0; d < c; d++)\r\n            a.O(d).name === b &&\r\n              v(\r\n                \"Cannot add Layer with the name '\" +\r\n                  b +\r\n                  \"'; a Layer with the same name is already present in this Diagram.\"\r\n              );\r\n        }\r\n      }\r\n      t.jm = function (a) {\r\n        fk(this, a, null);\r\n        a.de(this);\r\n        var b = this.Na,\r\n          c = b.count - 1;\r\n        if (!a.isTemporary) for (; 0 <= c && b.O(c).isTemporary; ) c--;\r\n        b.Qb(c + 1, a);\r\n        null !== this.gc && this.eb(Fe, \"layers\", this, null, a, null, c + 1);\r\n        this.R();\r\n        this.Ya();\r\n      };\r\n      t.Ax = function (a, b) {\r\n        fk(this, a, b);\r\n        a.de(this);\r\n        var c = this.Na,\r\n          d = c.indexOf(a);\r\n        0 <= d &&\r\n          (c.remove(a),\r\n          null !== this.gc && this.eb(Ge, \"layers\", this, a, null, d, null));\r\n        var e = c.count,\r\n          f;\r\n        for (f = 0; f < e; f++)\r\n          if (c.O(f) === b) {\r\n            c.Qb(f, a);\r\n            break;\r\n          }\r\n        null !== this.gc && this.eb(Fe, \"layers\", this, null, a, null, f);\r\n        this.R();\r\n        0 > d && this.Ya();\r\n      };\r\n      t.Oy = function (a, b) {\r\n        fk(this, a, b);\r\n        a.de(this);\r\n        var c = this.Na,\r\n          d = c.indexOf(a);\r\n        0 <= d &&\r\n          (c.remove(a),\r\n          null !== this.gc && this.eb(Ge, \"layers\", this, a, null, d, null));\r\n        var e = c.count,\r\n          f;\r\n        for (f = 0; f < e; f++)\r\n          if (c.O(f) === b) {\r\n            c.Qb(f + 1, a);\r\n            break;\r\n          }\r\n        null !== this.gc && this.eb(Fe, \"layers\", this, null, a, null, f + 1);\r\n        this.R();\r\n        0 > d && this.Ya();\r\n      };\r\n      t.yA = function (a) {\r\n        w(a, si, P, \"removeLayer:layer\");\r\n        a.diagram !== this &&\r\n          v(\r\n            \"Cannot remove a Layer from another Diagram: \" +\r\n              a +\r\n              \" of \" +\r\n              a.diagram\r\n          );\r\n        if (\"\" !== a.name) {\r\n          var b = this.Na,\r\n            c = b.indexOf(a);\r\n          if (b.remove(a)) {\r\n            for (b = a.Ha.copy().iterator; b.next(); ) {\r\n              var d = b.value,\r\n                e = d.layerName;\r\n              e !== a.name ? (d.layerName = e) : (d.layerName = \"\");\r\n            }\r\n            null !== this.gc && this.eb(Ge, \"layers\", this, a, null, c, null);\r\n            this.R();\r\n            this.Ya();\r\n          }\r\n        }\r\n      };\r\n      t.sm = function (a) {\r\n        for (var b = this.layers; b.next(); ) {\r\n          var c = b.value;\r\n          if (c.name === a) return c;\r\n        }\r\n        return null;\r\n      };\r\n      t.Cx = function (a) {\r\n        A(a, \"function\", P, \"addModelChangedListener:listener\");\r\n        null === this.we && (this.we = new G());\r\n        this.we.add(a);\r\n        this.model.Jh(a);\r\n      };\r\n      t.AA = function (a) {\r\n        A(a, \"function\", P, \"removeModelChangedListener:listener\");\r\n        null !== this.we &&\r\n          (this.we.remove(a), 0 === this.we.count && (this.we = null));\r\n        this.model.Ek(a);\r\n      };\r\n      t.Jh = function (a) {\r\n        A(a, \"function\", P, \"addChangedListener:listener\");\r\n        null === this.Vf && (this.Vf = new G());\r\n        this.Vf.add(a);\r\n      };\r\n      t.Ek = function (a) {\r\n        A(a, \"function\", P, \"removeChangedListener:listener\");\r\n        null !== this.Vf &&\r\n          (this.Vf.remove(a), 0 === this.Vf.count && (this.Vf = null));\r\n      };\r\n      t.ct = function (a) {\r\n        this.skipsUndoManager ||\r\n          this.model.skipsUndoManager ||\r\n          this.model.undoManager.Hv(a);\r\n        a.change !== Ee && (this.isModified = !0);\r\n        if (null !== this.Vf)\r\n          for (var b = this.Vf, c = b.length, d = 0; d < c; d++) b.O(d)(a);\r\n      };\r\n      t.eb = function (a, b, c, d, e, f, g) {\r\n        void 0 === f && (f = null);\r\n        void 0 === g && (g = null);\r\n        var h = new Ce();\r\n        h.diagram = this;\r\n        h.change = a;\r\n        h.propertyName = b;\r\n        h.object = c;\r\n        h.oldValue = d;\r\n        h.oldParam = f;\r\n        h.newValue = e;\r\n        h.newParam = g;\r\n        this.ct(h);\r\n      };\r\n      t.g = function (a, b, c, d, e) {\r\n        this.eb(De, a, this, b, c, d, e);\r\n      };\r\n      t.ek = function (a, b) {\r\n        if (null !== a && a.diagram === this) {\r\n          var c = this.skipsModelSourceBindings;\r\n          try {\r\n            this.skipsModelSourceBindings = !0;\r\n            var d = a.change;\r\n            if (d === De) {\r\n              var e = a.object;\r\n              gk(e, a.propertyName, a.K(b));\r\n              if (e instanceof N) {\r\n                var f = e.part;\r\n                null !== f && f.Rb();\r\n              }\r\n              this.isModified = !0;\r\n            } else if (d === Fe) {\r\n              var g = a.object,\r\n                h = a.newParam,\r\n                k = a.newValue;\r\n              if (g instanceof V)\r\n                if (\"number\" === typeof h && k instanceof N) {\r\n                  b ? g.Lc(h) : g.Qb(h, k);\r\n                  var l = g.part;\r\n                  null !== l && l.Rb();\r\n                } else {\r\n                  if (\"number\" === typeof h && k instanceof hk)\r\n                    if (b) k.isRow ? g.aw(h) : g.Zv(h);\r\n                    else {\r\n                      var m = k.isRow\r\n                        ? g.getRowDefinition(k.index)\r\n                        : g.getColumnDefinition(k.index);\r\n                      m.ft(k);\r\n                    }\r\n                }\r\n              else if (g instanceof si) {\r\n                var n = !0 === a.oldParam;\r\n                \"number\" === typeof h &&\r\n                  k instanceof S &&\r\n                  (b\r\n                    ? ((k.isSelected = !1),\r\n                      (k.isHighlighted = !1),\r\n                      k.Rb(),\r\n                      g.Lc(n ? h : -1, k, n))\r\n                    : g.hj(h, k, n));\r\n              } else\r\n                g instanceof P\r\n                  ? \"number\" === typeof h &&\r\n                    k instanceof si &&\r\n                    (b ? this.Na.pb(h) : (k.de(this), this.Na.Qb(h, k)))\r\n                  : v(\"unknown ChangedEvent.Insert object: \" + a.toString());\r\n              this.isModified = !0;\r\n            } else if (d === Ge) {\r\n              var p = a.object,\r\n                r = a.oldParam,\r\n                q = a.oldValue;\r\n              if (p instanceof V)\r\n                \"number\" === typeof r && q instanceof N\r\n                  ? b\r\n                    ? p.Qb(r, q)\r\n                    : p.Lc(r)\r\n                  : \"number\" === typeof r &&\r\n                    q instanceof hk &&\r\n                    (b\r\n                      ? ((m = q.isRow\r\n                          ? p.getRowDefinition(q.index)\r\n                          : p.getColumnDefinition(q.index)),\r\n                        m.ft(q))\r\n                      : q.isRow\r\n                      ? p.aw(r)\r\n                      : p.Zv(r));\r\n              else if (p instanceof si) {\r\n                var u = !0 === a.newParam;\r\n                \"number\" === typeof r &&\r\n                  q instanceof S &&\r\n                  (b\r\n                    ? 0 > p.Ha.indexOf(q) && p.hj(r, q, u)\r\n                    : ((q.isSelected = !1),\r\n                      (q.isHighlighted = !1),\r\n                      q.Rb(),\r\n                      p.Lc(u ? r : -1, q, u)));\r\n              } else\r\n                p instanceof P\r\n                  ? \"number\" === typeof r &&\r\n                    q instanceof si &&\r\n                    (b ? (q.de(this), this.Na.Qb(r, q)) : this.Na.pb(r))\r\n                  : v(\"unknown ChangedEvent.Remove object: \" + a.toString());\r\n              this.isModified = !0;\r\n            } else d !== Ee && v(\"unknown ChangedEvent: \" + a.toString());\r\n          } finally {\r\n            this.skipsModelSourceBindings = c;\r\n          }\r\n        }\r\n      };\r\n      t.Aa = function (a) {\r\n        return this.undoManager.Aa(a);\r\n      };\r\n      t.Za = function (a) {\r\n        return this.undoManager.Za(a);\r\n      };\r\n      t.Lf = function () {\r\n        return this.undoManager.Lf();\r\n      };\r\n      P.prototype.commit = function (a, b) {\r\n        void 0 === b && (b = \"\");\r\n        var c = this.skipsUndoManager;\r\n        null === b && ((this.skipsUndoManager = !0), (b = \"\"));\r\n        this.undoManager.Aa(b);\r\n        var d = !1;\r\n        try {\r\n          a(this), (d = !0);\r\n        } finally {\r\n          d ? this.undoManager.Za(b) : this.undoManager.Lf(),\r\n            (this.skipsUndoManager = c);\r\n        }\r\n      };\r\n      P.prototype.updateAllTargetBindings = function (a) {\r\n        this.partManager.updateAllTargetBindings(a);\r\n      };\r\n      t = P.prototype;\r\n      t.Vq = function () {\r\n        this.partManager.Vq();\r\n      };\r\n\r\n      function sk(a, b, c) {\r\n        var d = a.animationManager;\r\n        if (a.Mb || a.fc) (a.Ea = c), d.gf && d.Fd.add(d.A, \"scale\", b, a.Ea);\r\n        else if (((a.Mb = !0), null === a.Ga)) a.Ea = c;\r\n        else {\r\n          var e = a.viewportBounds.copy(),\r\n            f = a.Ca,\r\n            g = a.Ba;\r\n          e.width = a.Ca / b;\r\n          e.height = a.Ba / b;\r\n          var h = a.zoomPoint.x,\r\n            k = a.zoomPoint.y,\r\n            l = a.contentAlignment;\r\n          isNaN(h) &&\r\n            (l.Hf()\r\n              ? l.Ff(Uc)\r\n                ? (h = 0)\r\n                : l.Ff(Vc) && (h = f - 1)\r\n              : (h = l.$a() ? l.x * (f - 1) : f / 2));\r\n          isNaN(k) &&\r\n            (l.Hf()\r\n              ? l.Ff(Tc)\r\n                ? (k = 0)\r\n                : l.Ff(Wc) && (k = g - 1)\r\n              : (k = l.$a() ? l.y * (g - 1) : g / 2));\r\n          null === a.scaleComputation ||\r\n            a.animationManager.isAnimating ||\r\n            (c = a.scaleComputation(a, c));\r\n          c < a.minScale && (c = a.minScale);\r\n          c > a.maxScale && (c = a.maxScale);\r\n          f = J.allocAt(a.ra.x + h / b - h / c, a.ra.y + k / b - k / c);\r\n          a.position = f;\r\n          J.free(f);\r\n          a.Ea = c;\r\n          a.Hq(e, a.viewportBounds, b, !1);\r\n          a.Mb = !1;\r\n          ij(a, !1);\r\n          d.gf && d.Fd.add(d.A, \"scale\", b, a.Ea);\r\n          a.R();\r\n          lj(a);\r\n        }\r\n      }\r\n      t.Hq = function (a, b, c, d) {\r\n        if (!a.B(b)) {\r\n          void 0 === d && (d = !1);\r\n          d || lj(this);\r\n          fj(this);\r\n          var e = this.layout;\r\n          null === e ||\r\n            !e.isViewportSized ||\r\n            this.autoScale !== Ci ||\r\n            d ||\r\n            (a.width === b.width && a.height === b.height) ||\r\n            e.D();\r\n          e = this.currentTool;\r\n          !0 === this.kh &&\r\n            e instanceof Sa &&\r\n            ((this.lastInput.documentPoint = this.Rt(this.lastInput.viewPoint)),\r\n            Ze(e, this));\r\n          this.Mb || this.Yx(a, b);\r\n          Cj(this);\r\n          this.Ge.scale = c;\r\n          this.Ge.position.x = a.x;\r\n          this.Ge.position.y = a.y;\r\n          this.Ge.bounds.assign(a);\r\n          this.Ge.$x = d;\r\n          this.U(\"ViewportBoundsChanged\", this.Ge, a);\r\n          this.isVirtualized &&\r\n            this.links.each(function (a) {\r\n              a.isAvoiding && a.actualBounds.Mc(b) && a.Ta();\r\n            });\r\n        }\r\n      };\r\n\r\n      function Cj(a, b) {\r\n        void 0 === b && (b = null);\r\n        var c = a.Lb;\r\n        if (null !== c && c.visible) {\r\n          for (\r\n            var d = Jb.alloc(), e = 1, f = 1, g = c.$.j, h = g.length, k = 0;\r\n            k < h;\r\n            k++\r\n          ) {\r\n            var l = g[k],\r\n              m = l.interval;\r\n            2 > m ||\r\n              (wk(l.figure)\r\n                ? (f = (f * m) / K.Ux(f, m))\r\n                : (e = (e * m) / K.Ux(e, m)));\r\n          }\r\n          g = c.gridCellSize;\r\n          d.h(f * g.width, e * g.height);\r\n          if (null !== b) (e = b.width), (f = b.height), (a = b.x), (g = b.y);\r\n          else {\r\n            b = L.alloc();\r\n            a = a.viewportBounds;\r\n            b.h(a.x, a.y, a.width, a.height);\r\n            if (!b.o()) {\r\n              L.free(b);\r\n              return;\r\n            }\r\n            e = b.width;\r\n            f = b.height;\r\n            a = b.x;\r\n            g = b.y;\r\n            L.free(b);\r\n          }\r\n          c.width = e + 2 * d.width;\r\n          c.height = f + 2 * d.height;\r\n          b = J.alloc();\r\n          K.rq(a, g, 0, 0, d.width, d.height, b);\r\n          b.offset(-d.width, -d.height);\r\n          Jb.free(d);\r\n          c.part.location = b;\r\n          J.free(b);\r\n        }\r\n      }\r\n      t.iv = function () {\r\n        var a = 0 < this.selection.count;\r\n        a && this.U(\"ChangingSelection\", this.selection);\r\n        df(this);\r\n        a && this.U(\"ChangedSelection\", this.selection);\r\n      };\r\n\r\n      function df(a) {\r\n        a = a.selection;\r\n        if (0 < a.count) {\r\n          for (var b = a.sa(), c = b.length, d = 0; d < c; d++)\r\n            b[d].isSelected = !1;\r\n          a.ka();\r\n          a.clear();\r\n          a.freeze();\r\n        }\r\n      }\r\n      t.select = function (a) {\r\n        null !== a &&\r\n          (w(a, S, P, \"select:part\"),\r\n          a.layer.diagram === this &&\r\n            (!a.isSelected || 1 < this.selection.count) &&\r\n            (this.U(\"ChangingSelection\", this.selection),\r\n            df(this),\r\n            (a.isSelected = !0),\r\n            this.U(\"ChangedSelection\", this.selection)));\r\n      };\r\n      t.EA = function (a) {\r\n        this.U(\"ChangingSelection\", this.selection);\r\n        df(this);\r\n        if (Ga(a))\r\n          for (var b = a.length, c = 0; c < b; c++) {\r\n            var d = a[c];\r\n            d instanceof S ||\r\n              v(\r\n                \"Diagram.selectCollection given something that is not a Part: \" +\r\n                  d\r\n              );\r\n            d.isSelected = !0;\r\n          }\r\n        else\r\n          for (a = a.iterator; a.next(); )\r\n            (b = a.value),\r\n              b instanceof S ||\r\n                v(\r\n                  \"Diagram.selectCollection given something that is not a Part: \" +\r\n                    b\r\n                ),\r\n              (b.isSelected = !0);\r\n        this.U(\"ChangedSelection\", this.selection);\r\n      };\r\n      t.Gx = function () {\r\n        var a = this.highlighteds;\r\n        if (0 < a.count) {\r\n          for (var b = a.sa(), c = b.length, d = 0; d < c; d++)\r\n            b[d].isHighlighted = !1;\r\n          a.ka();\r\n          a.clear();\r\n          a.freeze();\r\n        }\r\n      };\r\n      t.aA = function (a) {\r\n        null !== a &&\r\n          a.layer.diagram === this &&\r\n          (w(a, S, P, \"highlight:part\"),\r\n          !a.isHighlighted || 1 < this.highlighteds.count) &&\r\n          (this.Gx(), (a.isHighlighted = !0));\r\n      };\r\n      t.bA = function (a) {\r\n        a = new H().addAll(a);\r\n        for (var b = this.highlighteds.copy().Lq(a).iterator; b.next(); )\r\n          b.value.isHighlighted = !1;\r\n        for (a = a.iterator; a.next(); )\r\n          (b = a.value),\r\n            b instanceof S ||\r\n              v(\r\n                \"Diagram.highlightCollection given something that is not a Part: \" +\r\n                  b\r\n              ),\r\n            (b.isHighlighted = !0);\r\n      };\r\n      t.scroll = function (a, b, c) {\r\n        void 0 === c && (c = 1);\r\n        var d = \"up\" === b || \"down\" === b,\r\n          e = 0;\r\n        if (\"pixel\" === a) e = c;\r\n        else if (\"line\" === a)\r\n          e =\r\n            c *\r\n            (d\r\n              ? this.scrollVerticalLineChange\r\n              : this.scrollHorizontalLineChange);\r\n        else if (\"page\" === a)\r\n          (a = d ? this.viewportBounds.height : this.viewportBounds.width),\r\n            (a *= this.scale),\r\n            0 !== a &&\r\n              (e =\r\n                c *\r\n                Math.max(\r\n                  a -\r\n                    (d\r\n                      ? this.scrollVerticalLineChange\r\n                      : this.scrollHorizontalLineChange),\r\n                  0\r\n                ));\r\n        else {\r\n          if (\"document\" === a) {\r\n            e = this.documentBounds;\r\n            c = this.viewportBounds;\r\n            d = J.alloc();\r\n            \"up\" === b\r\n              ? (this.position = d.h(c.x, e.y))\r\n              : \"left\" === b\r\n              ? (this.position = d.h(e.x, c.y))\r\n              : \"down\" === b\r\n              ? (this.position = d.h(c.x, e.bottom - c.height))\r\n              : \"right\" === b && (this.position = d.h(e.right - c.width, c.y));\r\n            J.free(d);\r\n            return;\r\n          }\r\n          v(\r\n            \"scrolling unit must be 'pixel', 'line', 'page', or 'document', not: \" +\r\n              a\r\n          );\r\n        }\r\n        e /= this.scale;\r\n        c = this.position.copy();\r\n        \"up\" === b\r\n          ? (c.y = this.position.y - e)\r\n          : \"down\" === b\r\n          ? (c.y = this.position.y + e)\r\n          : \"left\" === b\r\n          ? (c.x = this.position.x - e)\r\n          : \"right\" === b\r\n          ? (c.x = this.position.x + e)\r\n          : v(\r\n              \"scrolling direction must be 'up', 'down', 'left', or 'right', not: \" +\r\n                b\r\n            );\r\n        this.position = c;\r\n      };\r\n      t.fw = function (a) {\r\n        var b = this.viewportBounds;\r\n        b.Af(a) ||\r\n          ((a = a.center),\r\n          (a.x -= b.width / 2),\r\n          (a.y -= b.height / 2),\r\n          (this.position = a));\r\n      };\r\n      t.dt = function (a) {\r\n        var b = this.viewportBounds;\r\n        a = a.center;\r\n        a.x -= b.width / 2;\r\n        a.y -= b.height / 2;\r\n        this.position = a;\r\n      };\r\n      t.Tq = function (a) {\r\n        var b = this.xb;\r\n        b.reset();\r\n        1 !== this.Ea && b.scale(this.Ea);\r\n        var c = this.ra;\r\n        (0 !== c.x || 0 !== c.y) &&\r\n          isFinite(c.x) &&\r\n          isFinite(c.y) &&\r\n          b.translate(-c.x, -c.y);\r\n        return a.copy().transform(this.xb);\r\n      };\r\n      t.NA = function (a) {\r\n        var b = this.xb,\r\n          c = a.x,\r\n          d = a.y,\r\n          e = c + a.width,\r\n          f = d + a.height,\r\n          g = b.m11,\r\n          h = b.m12,\r\n          k = b.m21,\r\n          l = b.m22,\r\n          m = b.dx,\r\n          n = b.dy,\r\n          p = c * g + d * k + m;\r\n        b = c * h + d * l + n;\r\n        var r = e * g + d * k + m;\r\n        a = e * h + d * l + n;\r\n        d = c * g + f * k + m;\r\n        c = c * h + f * l + n;\r\n        g = e * g + f * k + m;\r\n        e = e * h + f * l + n;\r\n        f = Math.min(p, r);\r\n        p = Math.max(p, r);\r\n        r = Math.min(b, a);\r\n        b = Math.max(b, a);\r\n        f = Math.min(f, d);\r\n        p = Math.max(p, d);\r\n        r = Math.min(r, c);\r\n        b = Math.max(b, c);\r\n        f = Math.min(f, g);\r\n        p = Math.max(p, g);\r\n        r = Math.min(r, e);\r\n        b = Math.max(b, e);\r\n        return new L(f, r, p - f, b - r);\r\n      };\r\n      t.Rt = function (a) {\r\n        var b = this.xb;\r\n        b.reset();\r\n        1 !== this.Ea && b.scale(this.Ea);\r\n        var c = this.ra;\r\n        (0 !== c.x || 0 !== c.y) &&\r\n          isFinite(c.x) &&\r\n          isFinite(c.y) &&\r\n          b.translate(-c.x, -c.y);\r\n        return Lb(a.copy(), this.xb);\r\n      };\r\n\r\n      function xk(a) {\r\n        var b = a.isModified;\r\n        a.xx !== b && ((a.xx = b), a.U(\"Modified\"));\r\n      }\r\n\r\n      function yk(a) {\r\n        a = Fi.get(a);\r\n        return null !== a ? new a() : new Gi();\r\n      }\r\n      P.prototype.doModelChanged = function (a) {\r\n        if (a.model === this.model) {\r\n          var b = a.change,\r\n            c = a.propertyName;\r\n          if (b === Ee && \"S\" === c[0])\r\n            if (\"StartingFirstTransaction\" === c) {\r\n              var d = this;\r\n              a = this.toolManager;\r\n              a.mouseDownTools.each(function (a) {\r\n                a.diagram = d;\r\n              });\r\n              a.mouseMoveTools.each(function (a) {\r\n                a.diagram = d;\r\n              });\r\n              a.mouseUpTools.each(function (a) {\r\n                a.diagram = d;\r\n              });\r\n              this.fc || this.$e || ((this.fl = !0), this.ll && (this.jd = !0));\r\n            } else\r\n              \"StartingUndo\" === c || \"StartingRedo\" === c\r\n                ? ((a = this.animationManager),\r\n                  a.defaultAnimation.isAnimating &&\r\n                    !this.skipsUndoManager &&\r\n                    a.ad(),\r\n                  this.U(\"ChangingSelection\", this.selection))\r\n                : \"StartedTransaction\" === c &&\r\n                  ((a = this.animationManager),\r\n                  a.defaultAnimation.isAnimating &&\r\n                    !this.skipsUndoManager &&\r\n                    a.ad());\r\n          else if (this.fa) {\r\n            this.fa = !1;\r\n            try {\r\n              if (\"\" === a.modelChange && b === Ee) {\r\n                if (\"FinishedUndo\" === c || \"FinishedRedo\" === c)\r\n                  this.U(\"ChangedSelection\", this.selection), gj(this);\r\n                var e = this.animationManager;\r\n                \"RolledBackTransaction\" === c && e.ad();\r\n                this.fl = !0;\r\n                this.Ad();\r\n                (0 !== this.undoManager.transactionLevel &&\r\n                  1 !== this.undoManager.transactionLevel) ||\r\n                  Ph(e);\r\n                \"CommittedTransaction\" === c &&\r\n                  this.undoManager.wu &&\r\n                  (this.pe = Math.min(\r\n                    this.pe,\r\n                    this.undoManager.historyIndex - 1\r\n                  ));\r\n                var f = a.isTransactionFinished;\r\n                f && (xk(this), this.At.clear(), $h(this.animationManager));\r\n                if (!this.Du && f) {\r\n                  this.Du = !0;\r\n                  var g = this;\r\n                  ta(function () {\r\n                    g.currentTool.standardMouseOver();\r\n                    g.Du = !1;\r\n                  }, 10);\r\n                }\r\n              }\r\n            } finally {\r\n              this.fa = !0;\r\n            }\r\n          }\r\n        }\r\n      };\r\n\r\n      function Uj(a, b) {\r\n        b = b.$.j;\r\n        for (var c = b.length, d = 0; d < c; d++) zk(a, b[d]);\r\n      }\r\n\r\n      function zk(a, b) {\r\n        if (b instanceof Ak) {\r\n          var c = b.element;\r\n          if (null !== c && c instanceof HTMLImageElement) {\r\n            var d = b.eh;\r\n            null !== d &&\r\n              (d.nl instanceof Event && null !== b.Hc && b.Hc(b, d.nl),\r\n              !0 === d.Wr &&\r\n                (null !== b.tf && b.tf(b, d.Pu),\r\n                null !== b.diagram && b.diagram.Hu.add(b)));\r\n            c = c.getAttribute(\"src\");\r\n            d = a.Sj.K(c);\r\n            if (null === d) (d = []), d.push(b), a.Sj.add(c, d);\r\n            else {\r\n              for (a = 0; a < d.length; a++) if (d[a] === b) return;\r\n              d.push(b);\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      function Bk(a, b) {\r\n        if (b instanceof Ak) {\r\n          var c = b.element;\r\n          if (null !== c && c instanceof HTMLImageElement) {\r\n            c = c.getAttribute(\"src\");\r\n            var d = a.Sj.K(c);\r\n            if (null !== d)\r\n              for (var e = 0; e < d.length; e++)\r\n                if (d[e] === b) {\r\n                  d.splice(e, 1);\r\n                  0 === d.length && (a.Sj.remove(c), Ck(c));\r\n                  break;\r\n                }\r\n          }\r\n        }\r\n      }\r\n      P.prototype.Cd = function () {\r\n        this.partManager.Cd();\r\n      };\r\n      P.prototype.$j = function (a, b) {\r\n        this.Fc.$j(a, b);\r\n      };\r\n      P.prototype.bk = function (a, b) {\r\n        this.Fc.bk(a, b);\r\n      };\r\n      P.prototype.findPartForKey = function (a) {\r\n        return this.partManager.findPartForKey(a);\r\n      };\r\n      P.prototype.Pb = function (a) {\r\n        return this.partManager.Pb(a);\r\n      };\r\n      P.prototype.findLinkForKey = function (a) {\r\n        return this.partManager.findLinkForKey(a);\r\n      };\r\n      t = P.prototype;\r\n      t.Bc = function (a) {\r\n        return this.partManager.Bc(a);\r\n      };\r\n      t.Zi = function (a) {\r\n        return this.partManager.Zi(a);\r\n      };\r\n      t.Ac = function (a) {\r\n        return this.partManager.Ac(a);\r\n      };\r\n      t.lt = function (a) {\r\n        for (var b = [], c = 0; c < arguments.length; ++c) b[c] = arguments[c];\r\n        return this.partManager.lt.apply(\r\n          this.partManager,\r\n          b instanceof Array ? b : da(ba(b))\r\n        );\r\n      };\r\n      t.kt = function (a) {\r\n        for (var b = [], c = 0; c < arguments.length; ++c) b[c] = arguments[c];\r\n        return this.partManager.kt.apply(\r\n          this.partManager,\r\n          b instanceof Array ? b : da(ba(b))\r\n        );\r\n      };\r\n\r\n      function Pj(a, b) {\r\n        a.Bj = !1;\r\n        var c = a.In;\r\n        c.B(b) ||\r\n          ((b = b.J()),\r\n          (a.In = b),\r\n          ij(a, !1),\r\n          a.U(\"DocumentBoundsChanged\", null, c.copy()),\r\n          lj(a));\r\n      }\r\n\r\n      function nj(a) {\r\n        a.Bj && Pj(a, a.computeBounds());\r\n      }\r\n      t.Fz = function () {\r\n        for (var a = new H(), b = this.nodes; b.next(); ) {\r\n          var c = b.value;\r\n          c.isTopLevel && a.add(c);\r\n        }\r\n        for (b = this.links; b.next(); )\r\n          (c = b.value), c.isTopLevel && a.add(c);\r\n        return a.iterator;\r\n      };\r\n      t.Ez = function () {\r\n        return this.Ri.iterator;\r\n      };\r\n      t.mA = function (a) {\r\n        gj(this);\r\n        a && Dk(this, !0);\r\n        this.fl = !0;\r\n        Xf(this);\r\n      };\r\n\r\n      function Dk(a, b) {\r\n        for (var c = a.Ri.iterator; c.next(); ) Ek(a, c.value, b);\r\n        null !== a.layout && (b ? (a.layout.isValidLayout = !1) : a.layout.D());\r\n      }\r\n\r\n      function Ek(a, b, c) {\r\n        if (null !== b) {\r\n          for (var d = b.Ll.iterator; d.next(); ) Ek(a, d.value, c);\r\n          null !== b.layout &&\r\n            (c ? (b.layout.isValidLayout = !1) : b.layout.D());\r\n        }\r\n      }\r\n\r\n      function Dj(a, b) {\r\n        if (a.Ug && !a.hu) {\r\n          var c = a.fa;\r\n          a.fa = !0;\r\n          var d = a.undoManager.transactionLevel,\r\n            e = a.layout;\r\n          try {\r\n            0 === d && a.Aa(\"Layout\");\r\n            var f = a.animationManager;\r\n            1 >= d && !f.isAnimating && !f.oc && (b || Nh(f, \"Layout\"));\r\n            a.Ug = !1;\r\n            for (var g = a.Ri.iterator; g.next(); ) Fk(a, g.value, b, d);\r\n            e.isValidLayout ||\r\n              (!b || e.isRealtime || null === e.isRealtime || 0 === d\r\n                ? (e.doLayout(a), gj(a), (e.isValidLayout = !0))\r\n                : (a.Ug = !0));\r\n          } finally {\r\n            0 === d && a.Za(\"Layout\"), (a.Ug = !e.isValidLayout), (a.fa = c);\r\n          }\r\n        }\r\n      }\r\n\r\n      function Fk(a, b, c, d) {\r\n        if (null !== b) {\r\n          for (var e = b.Ll.iterator; e.next(); ) Fk(a, e.value, c, d);\r\n          e = b.layout;\r\n          null === e ||\r\n            e.isValidLayout ||\r\n            (!c || e.isRealtime || 0 === d\r\n              ? ((b.Ck = !b.location.o()),\r\n                e.doLayout(b),\r\n                b.D(32),\r\n                Fj(a, b),\r\n                (e.isValidLayout = !0))\r\n              : (a.Ug = !0));\r\n        }\r\n      }\r\n      t.Lz = function () {\r\n        for (var a = new G(), b = this.nodes; b.next(); ) {\r\n          var c = b.value;\r\n          c.isTopLevel && null === c.bj() && a.add(c);\r\n        }\r\n        return a.iterator;\r\n      };\r\n\r\n      function Di(a) {\r\n        function b(a) {\r\n          var b = a.toLowerCase(),\r\n            e = new G();\r\n          c.add(a, e);\r\n          c.add(b, e);\r\n          d.add(a, a);\r\n          d.add(b, a);\r\n        }\r\n        var c = new Db(),\r\n          d = new Db();\r\n        b(\"InitialAnimationStarting\");\r\n        b(\"AnimationStarting\");\r\n        b(\"AnimationFinished\");\r\n        b(\"BackgroundSingleClicked\");\r\n        b(\"BackgroundDoubleClicked\");\r\n        b(\"BackgroundContextClicked\");\r\n        b(\"ClipboardChanged\");\r\n        b(\"ClipboardPasted\");\r\n        b(\"DocumentBoundsChanged\");\r\n        b(\"ExternalObjectsDropped\");\r\n        b(\"GainedFocus\");\r\n        b(\"InitialLayoutCompleted\");\r\n        b(\"LayoutCompleted\");\r\n        b(\"LinkDrawn\");\r\n        b(\"LinkRelinked\");\r\n        b(\"LinkReshaped\");\r\n        b(\"LostFocus\");\r\n        b(\"Modified\");\r\n        b(\"ObjectSingleClicked\");\r\n        b(\"ObjectDoubleClicked\");\r\n        b(\"ObjectContextClicked\");\r\n        b(\"PartCreated\");\r\n        b(\"PartResized\");\r\n        b(\"PartRotated\");\r\n        b(\"SelectionMoved\");\r\n        b(\"SelectionCopied\");\r\n        b(\"SelectionDeleting\");\r\n        b(\"SelectionDeleted\");\r\n        b(\"SelectionGrouped\");\r\n        b(\"SelectionUngrouped\");\r\n        b(\"ChangingSelection\");\r\n        b(\"ChangedSelection\");\r\n        b(\"SubGraphCollapsed\");\r\n        b(\"SubGraphExpanded\");\r\n        b(\"TextEdited\");\r\n        b(\"TreeCollapsed\");\r\n        b(\"TreeExpanded\");\r\n        b(\"ViewportBoundsChanged\");\r\n        b(\"InvalidateDraw\");\r\n        a.ju = c;\r\n        a.iu = d;\r\n      }\r\n\r\n      function Oj(a, b) {\r\n        var c = a.iu.K(b);\r\n        return null !== c ? c : a.iu.K(b.toLowerCase());\r\n      }\r\n\r\n      function Gk(a, b) {\r\n        var c = a.ju.K(b);\r\n        if (null !== c) return c;\r\n        c = a.ju.K(b.toLowerCase());\r\n        if (null !== c) return c;\r\n        v(\"Unknown DiagramEvent name: \" + b);\r\n        return null;\r\n      }\r\n      t.ak = function (a, b) {\r\n        A(a, \"string\", P, \"addDiagramListener:name\");\r\n        A(b, \"function\", P, \"addDiagramListener:listener\");\r\n        a = Gk(this, a);\r\n        null !== a && a.add(b);\r\n      };\r\n      t.Im = function (a, b) {\r\n        A(a, \"string\", P, \"removeDiagramListener:name\");\r\n        A(b, \"function\", P, \"addDiagramListener:listener\");\r\n        a = Gk(this, a);\r\n        null !== a && a.remove(b);\r\n      };\r\n      t.U = function (a, b, c) {\r\n        F && A(a, \"string\", P, \"raiseDiagramEvent:name\");\r\n        var d = Gk(this, a),\r\n          e = new xe();\r\n        e.diagram = this;\r\n        a = Oj(this, a);\r\n        null !== a && (e.name = a);\r\n        void 0 !== b && (e.subject = b);\r\n        void 0 !== c && (e.parameter = c);\r\n        b = d.length;\r\n        if (1 === b) d.O(0)(e);\r\n        else if (0 !== b) for (d = d.sa(), c = 0; c < b; c++) (0, d[c])(e);\r\n      };\r\n\r\n      function Hk(a) {\r\n        if (a.animationManager.isAnimating) return !1;\r\n        var b = a.currentTool;\r\n        return b === a.toolManager.findTool(\"Dragging\")\r\n          ? !a.Tp || b.isComplexRoutingRealtime\r\n          : !0;\r\n      }\r\n      t.uk = function (a, b) {\r\n        void 0 === b && (b = null);\r\n        return Ik(this, !1, null, b).uk(a.x, a.y, a.width, a.height);\r\n      };\r\n      P.prototype.computeOccupiedArea = function () {\r\n        return this.isVirtualized\r\n          ? this.viewportBounds.copy()\r\n          : this.Bj\r\n          ? hj(this)\r\n          : this.documentBounds.copy();\r\n      };\r\n\r\n      function Ik(a, b, c, d) {\r\n        null === a.Wb && (a.Wb = new Jk());\r\n        if (a.Wb.ut || a.Wb.group !== c || a.Wb.wy !== d) {\r\n          if (null === c) {\r\n            b = a.computeOccupiedArea();\r\n            b.$c(100, 100);\r\n            a.Wb.initialize(b);\r\n            b = L.alloc();\r\n            for (var e = a.nodes; e.next(); ) {\r\n              var f = e.value,\r\n                g = f.layer;\r\n              null !== g && g.visible && !g.isTemporary && Kk(a, f, d, b);\r\n            }\r\n            L.free(b);\r\n          } else {\r\n            0 < c.memberParts.count &&\r\n              ((b = a.computePartsBounds(c.memberParts, !1)),\r\n              b.$c(20, 20),\r\n              a.Wb.initialize(b));\r\n            b = L.alloc();\r\n            for (e = c.memberParts; e.next(); )\r\n              (f = e.value), f instanceof U && Kk(a, f, d, b);\r\n            L.free(b);\r\n          }\r\n          a.Wb.group = c;\r\n          a.Wb.wy = d;\r\n          a.Wb.ut = !1;\r\n        } else b && Lk(a.Wb);\r\n        return a.Wb;\r\n      }\r\n\r\n      function Kk(a, b, c, d) {\r\n        if (b !== c)\r\n          if (b.isVisible() && b.avoidable && !b.isLinkLabel) {\r\n            var e = b.getAvoidableRect(d),\r\n              f = a.Wb.nm;\r\n            c = a.Wb.mm;\r\n            d = e.x + e.width;\r\n            b = e.y + e.height;\r\n            for (var g = e.x; g < d; g += f) {\r\n              for (var h = e.y; h < b; h += c) Mk(a.Wb, g, h);\r\n              Mk(a.Wb, g, b);\r\n            }\r\n            for (e = e.y; e < b; e += c) Mk(a.Wb, d, e);\r\n            Mk(a.Wb, d, b);\r\n          } else if (b instanceof Kf)\r\n            for (b = b.memberParts; b.next(); )\r\n              (e = b.value), e instanceof U && Kk(a, e, c, d);\r\n      }\r\n\r\n      function Nk(a, b) {\r\n        null !== a.Wb &&\r\n          !a.Wb.ut &&\r\n          (void 0 === b && (b = null),\r\n          null === b || (b.avoidable && !b.isLinkLabel)) &&\r\n          (a.Wb.ut = !0);\r\n      }\r\n      t = P.prototype;\r\n      t.ht = function (a) {\r\n        this.ir.assign(a);\r\n        Ok(this, this.ir).Sa(this.position) ? this.Mf() : Pk(this);\r\n      };\r\n\r\n      function Pk(a) {\r\n        -1 === a.Qk &&\r\n          (a.Qk = ta(function () {\r\n            if (-1 !== a.Qk && (a.Mf(), null !== a.lastInput.event)) {\r\n              var b = Ok(a, a.ir);\r\n              b.Sa(a.position) ||\r\n                ((a.position = b),\r\n                (a.lastInput.documentPoint = a.Rt(a.ir)),\r\n                a.doMouseMove(),\r\n                (a.Bj = !0),\r\n                Pj(a, a.documentBounds.copy().Nc(a.computeBounds())),\r\n                (a.sc = !0),\r\n                a.Ad(),\r\n                Pk(a));\r\n            }\r\n          }, a.ln));\r\n      }\r\n      t.Mf = function () {\r\n        -1 !== this.Qk && (pa.clearTimeout(this.Qk), (this.Qk = -1));\r\n      };\r\n\r\n      function Ok(a, b) {\r\n        var c = a.position,\r\n          d = a.mn;\r\n        if (0 >= d.top && 0 >= d.left && 0 >= d.right && 0 >= d.bottom)\r\n          return c;\r\n        var e = a.viewportBounds,\r\n          f = a.scale;\r\n        e = L.allocAt(0, 0, e.width * f, e.height * f);\r\n        var g = J.allocAt(0, 0);\r\n        if (b.x >= e.x && b.x < e.x + d.left) {\r\n          var h = Math.max(a.scrollHorizontalLineChange, 1);\r\n          h |= 0;\r\n          g.x -= h;\r\n          b.x < e.x + d.left / 2 && (g.x -= h);\r\n          b.x < e.x + d.left / 4 && (g.x -= 4 * h);\r\n        } else\r\n          b.x <= e.x + e.width &&\r\n            b.x > e.x + e.width - d.right &&\r\n            ((h = Math.max(a.scrollHorizontalLineChange, 1)),\r\n            (h |= 0),\r\n            (g.x += h),\r\n            b.x > e.x + e.width - d.right / 2 && (g.x += h),\r\n            b.x > e.x + e.width - d.right / 4 && (g.x += 4 * h));\r\n        b.y >= e.y && b.y < e.y + d.top\r\n          ? ((a = Math.max(a.scrollVerticalLineChange, 1)),\r\n            (a |= 0),\r\n            (g.y -= a),\r\n            b.y < e.y + d.top / 2 && (g.y -= a),\r\n            b.y < e.y + d.top / 4 && (g.y -= 4 * a))\r\n          : b.y <= e.y + e.height &&\r\n            b.y > e.y + e.height - d.bottom &&\r\n            ((a = Math.max(a.scrollVerticalLineChange, 1)),\r\n            (a |= 0),\r\n            (g.y += a),\r\n            b.y > e.y + e.height - d.bottom / 2 && (g.y += a),\r\n            b.y > e.y + e.height - d.bottom / 4 && (g.y += 4 * a));\r\n        g.Sa(Qb) || (c = new J(c.x + g.x / f, c.y + g.y / f));\r\n        L.free(e);\r\n        J.free(g);\r\n        return c;\r\n      }\r\n      t.Ct = function () {\r\n        return null;\r\n      };\r\n      t.Nv = function () {\r\n        return null;\r\n      };\r\n      t.Sy = function (a, b) {\r\n        this.Ku.add(a, b);\r\n      };\r\n\r\n      function Qk(a, b, c) {\r\n        function d() {\r\n          var a = +new Date();\r\n          f = !0;\r\n          for (g.reset(); g.next(); )\r\n            if (!g.value[0].Hl) {\r\n              f = !1;\r\n              break;\r\n            }\r\n          f || a - l > k ? b(c, e, h) : pa.requestAnimationFrame(d);\r\n        }\r\n        for (var e = c.callback, f = !0, g = a.Sj.iterator; g.next(); )\r\n          if (!g.value[0].Hl) {\r\n            f = !1;\r\n            break;\r\n          }\r\n        if (\"function\" !== typeof e || f) return b(c, e, a);\r\n        var h = a,\r\n          k = c.callbackTimeout || 300,\r\n          l = +new Date();\r\n        pa.requestAnimationFrame(function () {\r\n          d();\r\n        });\r\n        return null;\r\n      }\r\n      t.oA = function (a) {\r\n        if (!ih) return null;\r\n        void 0 === a && (a = new jb());\r\n        a.returnType = \"Image\";\r\n        return this.ay(a);\r\n      };\r\n      t.ay = function (a) {\r\n        void 0 === a && (a = new jb());\r\n        return Qk(this, this.pA, a);\r\n      };\r\n      t.pA = function (a, b, c) {\r\n        var d = Rk(c, a, \"canvas\", null);\r\n        if (null === d) return null;\r\n        c = d.Z.canvas;\r\n        var e = null;\r\n        if (null !== c)\r\n          switch (\r\n            ((e = a.returnType),\r\n            void 0 === e ? (e = \"string\") : (e = e.toLowerCase()),\r\n            e)\r\n          ) {\r\n            case \"imagedata\":\r\n              e = d.getImageData(0, 0, c.width, c.height);\r\n              break;\r\n            case \"image\":\r\n              d = (a.document || document).createElement(\"img\");\r\n              d.src = c.toDataURL(a.type, a.details);\r\n              e = d;\r\n              break;\r\n            case \"blob\":\r\n              \"function\" !== typeof b &&\r\n                v(\r\n                  'Error: Diagram.makeImageData called with \"returnType: toBlob\", but no required \"callback\" function property defined.'\r\n                );\r\n              if (\"function\" === typeof c.toBlob)\r\n                return c.toBlob(b, a.type, a.details), \"toBlob\";\r\n              if (\"function\" === typeof c.msToBlob)\r\n                return b(c.msToBlob()), \"msToBlob\";\r\n              b(null);\r\n              return null;\r\n            default:\r\n              e = c.toDataURL(a.type, a.details);\r\n          }\r\n        return \"function\" === typeof b ? (b(e), null) : e;\r\n      };\r\n\r\n      function Rk(a, b, c, d) {\r\n        a.animationManager.ad();\r\n        a.Ad();\r\n        if (null === a.Ga) return null;\r\n        \"object\" !== typeof b && v(\"properties argument must be an Object.\");\r\n        var e = !1,\r\n          f = b.size || null,\r\n          g = b.scale || null;\r\n        void 0 !== b.scale && isNaN(b.scale) && (g = \"NaN\");\r\n        var h = b.maxSize;\r\n        void 0 === b.maxSize &&\r\n          ((e = !0),\r\n          (h = \"SVG\" === c ? new Jb(Infinity, Infinity) : new Jb(2e3, 2e3)));\r\n        var k = b.position || null,\r\n          l = b.parts || null,\r\n          m = void 0 === b.padding ? 1 : b.padding,\r\n          n = b.background || null,\r\n          p = b.omitTemporary;\r\n        void 0 === p && (p = !0);\r\n        var r = b.document || document,\r\n          q = b.elementFinished || null,\r\n          u = b.showTemporary;\r\n        void 0 === u && (u = !p);\r\n        b = b.showGrid;\r\n        void 0 === b && (b = u);\r\n        null !== f && isNaN(f.width) && isNaN(f.height) && (f = null);\r\n        \"number\" === typeof m\r\n          ? (m = new lc(m))\r\n          : m instanceof lc ||\r\n            v(\"MakeImage padding must be a Margin or a number.\");\r\n        m.left = Math.max(m.left, 0);\r\n        m.right = Math.max(m.right, 0);\r\n        m.top = Math.max(m.top, 0);\r\n        m.bottom = Math.max(m.bottom, 0);\r\n        a.cd.Xc(!0);\r\n        p = new Sk(null, r);\r\n        var x = p.context;\r\n        if (!(f || g || l || k)) {\r\n          p.width = a.Ca + Math.ceil(m.left + m.right);\r\n          p.height = a.Ba + Math.ceil(m.top + m.bottom);\r\n          if (\"SVG\" === c) {\r\n            if (null === d) return null;\r\n            d.resize(p.width, p.height, p.width, p.height);\r\n            d.ownerDocument = r;\r\n            d.oq = q;\r\n            Mj(\r\n              a,\r\n              d.context,\r\n              m,\r\n              new Jb(p.width, p.height),\r\n              a.Ea,\r\n              a.ra,\r\n              l,\r\n              n,\r\n              u,\r\n              b\r\n            );\r\n            return d.context;\r\n          }\r\n          a.Kn = !1;\r\n          Mj(a, x, m, new Jb(p.width, p.height), a.Ea, a.ra, l, n, u, b);\r\n          a.Kn = !0;\r\n          return p.context;\r\n        }\r\n        var y = a.yr,\r\n          z = a.documentBounds.copy();\r\n        z.nw(a.ib);\r\n        if (u)\r\n          for (var B = a.Na.j, D = B.length, I = 0; I < D; I++) {\r\n            var O = B[I];\r\n            if (O.visible && O.isTemporary) {\r\n              O = O.Ha.j;\r\n              for (var R = O.length, T = 0; T < R; T++) {\r\n                var ca = O[T];\r\n                ca.isInDocumentBounds &&\r\n                  ca.isVisible() &&\r\n                  ((ca = ca.actualBounds), ca.o() && z.Nc(ca));\r\n              }\r\n            }\r\n          }\r\n        B = new J(z.x, z.y);\r\n        if (null !== l) {\r\n          D = !0;\r\n          I = l.iterator;\r\n          for (I.reset(); I.next(); )\r\n            if (\r\n              ((O = I.value),\r\n              O instanceof S &&\r\n                ((R = O.layer),\r\n                (null === R || R.visible) &&\r\n                  (null === R || u || !R.isTemporary) &&\r\n                  O.isVisible() &&\r\n                  ((O = O.actualBounds), O.o())))\r\n            )\r\n              if (D) {\r\n                D = !1;\r\n                var Z = O.copy();\r\n              } else Z.Nc(O);\r\n          D && (Z = new L(0, 0, 0, 0));\r\n          z.width = Z.width;\r\n          z.height = Z.height;\r\n          B.x = Z.x;\r\n          B.y = Z.y;\r\n        }\r\n        null !== k && k.o() && ((B = k), g || (g = y));\r\n        Z = k = 0;\r\n        null !== m && ((k = m.left + m.right), (Z = m.top + m.bottom));\r\n        D = I = 0;\r\n        null !== f &&\r\n          ((I = f.width),\r\n          (D = f.height),\r\n          isFinite(I) && (I = Math.max(0, I - k)),\r\n          isFinite(D) && (D = Math.max(0, D - Z)));\r\n        null !== f && null !== g\r\n          ? (\"NaN\" === g && (g = y),\r\n            f.o()\r\n              ? ((f = I), (z = D))\r\n              : isNaN(D)\r\n              ? ((f = I), (z = z.height * g))\r\n              : ((f = z.width * g), (z = D)))\r\n          : null !== f\r\n          ? f.o()\r\n            ? ((g = Math.min(I / z.width, D / z.height)), (f = I), (z = D))\r\n            : isNaN(D)\r\n            ? ((g = I / z.width), (f = I), (z = z.height * g))\r\n            : ((g = D / z.height), (f = z.width * g), (z = D))\r\n          : null !== g\r\n          ? \"NaN\" === g && h.o()\r\n            ? ((g = Math.min(\r\n                (h.width - k) / z.width,\r\n                (h.height - Z) / z.height\r\n              )),\r\n              g > y\r\n                ? ((g = y), (f = z.width), (z = z.height))\r\n                : ((f = h.width), (z = h.height)))\r\n            : ((f = z.width * g), (z = z.height * g))\r\n          : ((g = y), (f = z.width), (z = z.height));\r\n        null !== m ? ((f += k), (z += Z)) : (m = new lc(0));\r\n        null !== h &&\r\n          ((y = h.width),\r\n          (h = h.height),\r\n          \"SVG\" !== c &&\r\n            e &&\r\n            !Tk &&\r\n            F &&\r\n            (f > y || z > h) &&\r\n            (Ca(\r\n              \"Diagram.makeImage(data): Diagram width or height is larger than the default max size. (\" +\r\n                Math.ceil(f) +\r\n                \"x\" +\r\n                Math.ceil(z) +\r\n                \" vs 2000x2000) Consider increasing the max size.\"\r\n            ),\r\n            (Tk = !0)),\r\n          isNaN(y) && (y = 2e3),\r\n          isNaN(h) && (h = 2e3),\r\n          isFinite(y) && (f = Math.min(f, y)),\r\n          isFinite(h) && (z = Math.min(z, h)));\r\n        p.width = Math.ceil(f);\r\n        p.height = Math.ceil(z);\r\n        if (\"SVG\" === c) {\r\n          if (null === d) return null;\r\n          d.resize(p.width, p.height, p.width, p.height);\r\n          d.ownerDocument = r;\r\n          d.oq = q;\r\n          Mj(\r\n            a,\r\n            d.context,\r\n            m,\r\n            new Jb(Math.ceil(f), Math.ceil(z)),\r\n            g,\r\n            B,\r\n            l,\r\n            n,\r\n            u,\r\n            b\r\n          );\r\n          return d.context;\r\n        }\r\n        a.Kn = !1;\r\n        Mj(a, x, m, new Jb(Math.ceil(f), Math.ceil(z)), g, B, l, n, u, b);\r\n        a.Kn = !0;\r\n        return p.context;\r\n      }\r\n      ma.Object.defineProperties(P.prototype, {\r\n        div: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ka;\r\n          },\r\n          set: function (a) {\r\n            null !== a && w(a, HTMLDivElement, P, \"div\");\r\n            if (this.Ka !== a) {\r\n              Va = [];\r\n              var b = this.Ka;\r\n              null !== b\r\n                ? ((b.A = void 0),\r\n                  (b.innerHTML = \"\"),\r\n                  null !== this.Ga &&\r\n                    ((b = this.Ga.Ia),\r\n                    this.removeEventListener(b, \"touchstart\", this.sw, !1),\r\n                    this.removeEventListener(b, \"touchmove\", this.rw, !1),\r\n                    this.removeEventListener(b, \"touchend\", this.qw, !1),\r\n                    this.Ga.Nx()),\r\n                  (b = this.toolManager),\r\n                  null !== b &&\r\n                    (b.mouseDownTools.each(function (a) {\r\n                      a.cancelWaitAfter();\r\n                    }),\r\n                    b.mouseMoveTools.each(function (a) {\r\n                      a.cancelWaitAfter();\r\n                    }),\r\n                    b.mouseUpTools.each(function (a) {\r\n                      a.cancelWaitAfter();\r\n                    })),\r\n                  b.cancelWaitAfter(),\r\n                  this.currentTool.doCancel(),\r\n                  (this.cd = this.Ga = null),\r\n                  this.removeEventListener(pa, \"resize\", this.yw, !1),\r\n                  this.removeEventListener(pa, \"mousemove\", this.yk, !0),\r\n                  this.removeEventListener(pa, \"mousedown\", this.xk, !0),\r\n                  this.removeEventListener(pa, \"mouseup\", this.Ak, !0),\r\n                  this.removeEventListener(pa, \"wheel\", this.Bk, !0),\r\n                  this.removeEventListener(pa, \"mouseout\", this.zk, !0),\r\n                  Le === this && (Le = null))\r\n                : (this.$e = !1);\r\n              this.Ka = null;\r\n              if (null !== a) {\r\n                if ((b = a.A)) b.div = null;\r\n                Ui(this, a);\r\n                this.Jf();\r\n              }\r\n            }\r\n          },\r\n        },\r\n        Fx: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Mo;\r\n          },\r\n        },\r\n        tk: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.$e;\r\n          },\r\n        },\r\n        draggedLink: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Br;\r\n          },\r\n          set: function (a) {\r\n            this.Br !== a &&\r\n              ((this.Br = a),\r\n              null !== a && ((this.vs = a.fromPort), (this.ws = a.toPort)));\r\n          },\r\n        },\r\n        gy: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.vs;\r\n          },\r\n          set: function (a) {\r\n            this.vs = a;\r\n          },\r\n        },\r\n        hy: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ws;\r\n          },\r\n          set: function (a) {\r\n            this.ws = a;\r\n          },\r\n        },\r\n        animationManager: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Fc;\r\n          },\r\n        },\r\n        undoManager: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.gc.undoManager;\r\n          },\r\n        },\r\n        skipsUndoManager: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.wh;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"boolean\", P, \"skipsUndoManager\");\r\n            this.wh = a;\r\n            this.gc.skipsUndoManager = a;\r\n          },\r\n        },\r\n        delaysLayout: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.hu;\r\n          },\r\n          set: function (a) {\r\n            this.hu = a;\r\n          },\r\n        },\r\n        opacity: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.ub;\r\n          },\r\n          set: function (a) {\r\n            var b = this.ub;\r\n            b !== a &&\r\n              (A(a, \"number\", P, \"opacity\"),\r\n              (0 > a || 1 < a) && ya(a, \"0 <= value <= 1\", P, \"opacity\"),\r\n              (this.ub = a),\r\n              this.g(\"opacity\", b, a),\r\n              this.R());\r\n          },\r\n        },\r\n        validCycle: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ys;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Ys;\r\n            b !== a &&\r\n              (hb(a, P, P, \"validCycle\"),\r\n              (this.Ys = a),\r\n              this.g(\"validCycle\", b, a));\r\n          },\r\n        },\r\n        layers: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Na.iterator;\r\n          },\r\n        },\r\n        isModelReadOnly: {\r\n          configurable: !0,\r\n          get: function () {\r\n            var a = this.gc;\r\n            return null === a ? !1 : a.isReadOnly;\r\n          },\r\n          set: function (a) {\r\n            var b = this.gc;\r\n            null !== b && (b.isReadOnly = a);\r\n          },\r\n        },\r\n        isReadOnly: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.gg;\r\n          },\r\n          set: function (a) {\r\n            var b = this.gg;\r\n            b !== a &&\r\n              (A(a, \"boolean\", P, \"isReadOnly\"),\r\n              (this.gg = a),\r\n              this.g(\"isReadOnly\", b, a));\r\n          },\r\n        },\r\n        isEnabled: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Sc;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Sc;\r\n            b !== a &&\r\n              (A(a, \"boolean\", P, \"isEnabled\"),\r\n              (this.Sc = a),\r\n              this.g(\"isEnabled\", b, a));\r\n          },\r\n        },\r\n        allowClipboard: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.$q;\r\n          },\r\n          set: function (a) {\r\n            var b = this.$q;\r\n            b !== a &&\r\n              (A(a, \"boolean\", P, \"allowClipboard\"),\r\n              (this.$q = a),\r\n              this.g(\"allowClipboard\", b, a));\r\n          },\r\n        },\r\n        allowCopy: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Wh;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Wh;\r\n            b !== a &&\r\n              (A(a, \"boolean\", P, \"allowCopy\"),\r\n              (this.Wh = a),\r\n              this.g(\"allowCopy\", b, a));\r\n          },\r\n        },\r\n        allowDelete: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Xh;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Xh;\r\n            b !== a &&\r\n              (A(a, \"boolean\", P, \"allowDelete\"),\r\n              (this.Xh = a),\r\n              this.g(\"allowDelete\", b, a));\r\n          },\r\n        },\r\n        allowDragOut: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ar;\r\n          },\r\n          set: function (a) {\r\n            var b = this.ar;\r\n            b !== a &&\r\n              (A(a, \"boolean\", P, \"allowDragOut\"),\r\n              (this.ar = a),\r\n              this.g(\"allowDragOut\", b, a));\r\n          },\r\n        },\r\n        allowDrop: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.br;\r\n          },\r\n          set: function (a) {\r\n            var b = this.br;\r\n            b !== a &&\r\n              (A(a, \"boolean\", P, \"allowDrop\"),\r\n              (this.br = a),\r\n              this.g(\"allowDrop\", b, a));\r\n          },\r\n        },\r\n        allowTextEdit: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.fi;\r\n          },\r\n          set: function (a) {\r\n            var b = this.fi;\r\n            b !== a &&\r\n              (A(a, \"boolean\", P, \"allowTextEdit\"),\r\n              (this.fi = a),\r\n              this.g(\"allowTextEdit\", b, a));\r\n          },\r\n        },\r\n        allowGroup: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Yh;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Yh;\r\n            b !== a &&\r\n              (A(a, \"boolean\", P, \"allowGroup\"),\r\n              (this.Yh = a),\r\n              this.g(\"allowGroup\", b, a));\r\n          },\r\n        },\r\n        allowUngroup: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.gi;\r\n          },\r\n          set: function (a) {\r\n            var b = this.gi;\r\n            b !== a &&\r\n              (A(a, \"boolean\", P, \"allowUngroup\"),\r\n              (this.gi = a),\r\n              this.g(\"allowUngroup\", b, a));\r\n          },\r\n        },\r\n        allowInsert: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.dr;\r\n          },\r\n          set: function (a) {\r\n            var b = this.dr;\r\n            b !== a &&\r\n              (A(a, \"boolean\", P, \"allowInsert\"),\r\n              (this.dr = a),\r\n              this.g(\"allowInsert\", b, a));\r\n          },\r\n        },\r\n        allowLink: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Zh;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Zh;\r\n            b !== a &&\r\n              (A(a, \"boolean\", P, \"allowLink\"),\r\n              (this.Zh = a),\r\n              this.g(\"allowLink\", b, a));\r\n          },\r\n        },\r\n        allowRelink: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ai;\r\n          },\r\n          set: function (a) {\r\n            var b = this.ai;\r\n            b !== a &&\r\n              (A(a, \"boolean\", P, \"allowRelink\"),\r\n              (this.ai = a),\r\n              this.g(\"allowRelink\", b, a));\r\n          },\r\n        },\r\n        allowMove: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.$h;\r\n          },\r\n          set: function (a) {\r\n            var b = this.$h;\r\n            b !== a &&\r\n              (A(a, \"boolean\", P, \"allowMove\"),\r\n              (this.$h = a),\r\n              this.g(\"allowMove\", b, a));\r\n          },\r\n        },\r\n        allowReshape: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.bi;\r\n          },\r\n          set: function (a) {\r\n            var b = this.bi;\r\n            b !== a &&\r\n              (A(a, \"boolean\", P, \"allowReshape\"),\r\n              (this.bi = a),\r\n              this.g(\"allowReshape\", b, a));\r\n          },\r\n        },\r\n        allowResize: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ci;\r\n          },\r\n          set: function (a) {\r\n            var b = this.ci;\r\n            b !== a &&\r\n              (A(a, \"boolean\", P, \"allowResize\"),\r\n              (this.ci = a),\r\n              this.g(\"allowResize\", b, a));\r\n          },\r\n        },\r\n        allowRotate: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.di;\r\n          },\r\n          set: function (a) {\r\n            var b = this.di;\r\n            b !== a &&\r\n              (A(a, \"boolean\", P, \"allowRotate\"),\r\n              (this.di = a),\r\n              this.g(\"allowRotate\", b, a));\r\n          },\r\n        },\r\n        allowSelect: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ei;\r\n          },\r\n          set: function (a) {\r\n            var b = this.ei;\r\n            b !== a &&\r\n              (A(a, \"boolean\", P, \"allowSelect\"),\r\n              (this.ei = a),\r\n              this.g(\"allowSelect\", b, a));\r\n          },\r\n        },\r\n        allowUndo: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.er;\r\n          },\r\n          set: function (a) {\r\n            var b = this.er;\r\n            b !== a &&\r\n              (A(a, \"boolean\", P, \"allowUndo\"),\r\n              (this.er = a),\r\n              this.g(\"allowUndo\", b, a));\r\n          },\r\n        },\r\n        allowZoom: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.gr;\r\n          },\r\n          set: function (a) {\r\n            var b = this.gr;\r\n            b !== a &&\r\n              (A(a, \"boolean\", P, \"allowZoom\"),\r\n              (this.gr = a),\r\n              this.g(\"allowZoom\", b, a));\r\n          },\r\n        },\r\n        hasVerticalScrollbar: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.pl;\r\n          },\r\n          set: function (a) {\r\n            var b = this.pl;\r\n            b !== a &&\r\n              (A(a, \"boolean\", P, \"hasVerticalScrollbar\"),\r\n              (this.pl = a),\r\n              lj(this),\r\n              this.R(),\r\n              this.g(\"hasVerticalScrollbar\", b, a),\r\n              ij(this, !1));\r\n          },\r\n        },\r\n        hasHorizontalScrollbar: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ol;\r\n          },\r\n          set: function (a) {\r\n            var b = this.ol;\r\n            b !== a &&\r\n              (A(a, \"boolean\", P, \"hasHorizontalScrollbar\"),\r\n              (this.ol = a),\r\n              lj(this),\r\n              this.R(),\r\n              this.g(\"hasHorizontalScrollbar\", b, a),\r\n              ij(this, !1));\r\n          },\r\n        },\r\n        allowHorizontalScroll: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.cr;\r\n          },\r\n          set: function (a) {\r\n            var b = this.cr;\r\n            b !== a &&\r\n              (A(a, \"boolean\", P, \"allowHorizontalScroll\"),\r\n              (this.cr = a),\r\n              this.g(\"allowHorizontalScroll\", b, a),\r\n              ij(this, !1));\r\n          },\r\n        },\r\n        allowVerticalScroll: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.fr;\r\n          },\r\n          set: function (a) {\r\n            var b = this.fr;\r\n            b !== a &&\r\n              (A(a, \"boolean\", P, \"allowVerticalScroll\"),\r\n              (this.fr = a),\r\n              this.g(\"allowVerticalScroll\", b, a),\r\n              ij(this, !1));\r\n          },\r\n        },\r\n        scrollHorizontalLineChange: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Hs;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Hs;\r\n            b !== a &&\r\n              (A(a, \"number\", P, \"scrollHorizontalLineChange\"),\r\n              0 > a && ya(a, \">= 0\", P, \"scrollHorizontalLineChange\"),\r\n              (this.Hs = a),\r\n              this.g(\"scrollHorizontalLineChange\", b, a));\r\n          },\r\n        },\r\n        scrollVerticalLineChange: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Js;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Js;\r\n            b !== a &&\r\n              (A(a, \"number\", P, \"scrollVerticalLineChange\"),\r\n              0 > a && ya(a, \">= 0\", P, \"scrollVerticalLineChange\"),\r\n              (this.Js = a),\r\n              this.g(\"scrollVerticalLineChange\", b, a));\r\n          },\r\n        },\r\n        lastInput: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ij;\r\n          },\r\n          set: function (a) {\r\n            F && w(a, ve, P, \"lastInput\");\r\n            this.Ij = a;\r\n          },\r\n        },\r\n        firstInput: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.pi;\r\n          },\r\n          set: function (a) {\r\n            F && w(a, ve, P, \"firstInput\");\r\n            this.pi = a;\r\n          },\r\n        },\r\n        currentCursor: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ur;\r\n          },\r\n          set: function (a) {\r\n            \"\" === a && (a = this.Hn);\r\n            if (this.ur !== a) {\r\n              A(a, \"string\", P, \"currentCursor\");\r\n              var b = this.Ga,\r\n                c = this.Ka;\r\n              if (null !== b) {\r\n                this.ur = a;\r\n                var d = b.style.cursor;\r\n                b.style.cursor = a;\r\n                c.style.cursor = a;\r\n                b.style.cursor === d &&\r\n                  ((b.style.cursor = \"-webkit-\" + a),\r\n                  (c.style.cursor = \"-webkit-\" + a),\r\n                  b.style.cursor === d &&\r\n                    ((b.style.cursor = \"-moz-\" + a),\r\n                    (c.style.cursor = \"-moz-\" + a),\r\n                    b.style.cursor === d &&\r\n                      ((b.style.cursor = a), (c.style.cursor = a))));\r\n              }\r\n            }\r\n          },\r\n        },\r\n        defaultCursor: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Hn;\r\n          },\r\n          set: function (a) {\r\n            \"\" === a && (a = \"auto\");\r\n            var b = this.Hn;\r\n            b !== a &&\r\n              (A(a, \"string\", P, \"defaultCursor\"),\r\n              (this.Hn = a),\r\n              this.g(\"defaultCursor\", b, a));\r\n          },\r\n        },\r\n        click: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Wf;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Wf;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", P, \"click\"),\r\n              (this.Wf = a),\r\n              this.g(\"click\", b, a));\r\n          },\r\n        },\r\n        doubleClick: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ag;\r\n          },\r\n          set: function (a) {\r\n            var b = this.ag;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", P, \"doubleClick\"),\r\n              (this.ag = a),\r\n              this.g(\"doubleClick\", b, a));\r\n          },\r\n        },\r\n        contextClick: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Xf;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Xf;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", P, \"contextClick\"),\r\n              (this.Xf = a),\r\n              this.g(\"contextClick\", b, a));\r\n          },\r\n        },\r\n        mouseOver: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.rg;\r\n          },\r\n          set: function (a) {\r\n            var b = this.rg;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", P, \"mouseOver\"),\r\n              (this.rg = a),\r\n              this.g(\"mouseOver\", b, a));\r\n          },\r\n        },\r\n        mouseHover: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.pg;\r\n          },\r\n          set: function (a) {\r\n            var b = this.pg;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", P, \"mouseHover\"),\r\n              (this.pg = a),\r\n              this.g(\"mouseHover\", b, a));\r\n          },\r\n        },\r\n        mouseHold: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.og;\r\n          },\r\n          set: function (a) {\r\n            var b = this.og;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", P, \"mouseHold\"),\r\n              (this.og = a),\r\n              this.g(\"mouseHold\", b, a));\r\n          },\r\n        },\r\n        mouseDragOver: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.qs;\r\n          },\r\n          set: function (a) {\r\n            var b = this.qs;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", P, \"mouseDragOver\"),\r\n              (this.qs = a),\r\n              this.g(\"mouseDragOver\", b, a));\r\n          },\r\n        },\r\n        mouseDrop: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.mg;\r\n          },\r\n          set: function (a) {\r\n            var b = this.mg;\r\n            b !== a &&\r\n              (F && null !== a && A(a, \"function\", P, \"mouseDrop\"),\r\n              (this.mg = a),\r\n              this.g(\"mouseDrop\", b, a));\r\n          },\r\n        },\r\n        handlesDragDropForTopLevelParts: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Pr;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Pr;\r\n            b !== a &&\r\n              (A(a, \"boolean\", P, \"handlesDragDropForTopLevelParts\"),\r\n              (this.Pr = a),\r\n              this.g(\"handlesDragDropForTopLevelParts\", b, a));\r\n          },\r\n        },\r\n        mouseEnter: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ng;\r\n          },\r\n          set: function (a) {\r\n            var b = this.ng;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", P, \"mouseEnter\"),\r\n              (this.ng = a),\r\n              this.g(\"mouseEnter\", b, a));\r\n          },\r\n        },\r\n        mouseLeave: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.qg;\r\n          },\r\n          set: function (a) {\r\n            var b = this.qg;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", P, \"mouseLeave\"),\r\n              (this.qg = a),\r\n              this.g(\"mouseLeave\", b, a));\r\n          },\r\n        },\r\n        toolTip: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Dg;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Dg;\r\n            b !== a &&\r\n              (!F ||\r\n                null === a ||\r\n                a instanceof Pe ||\r\n                a instanceof $e ||\r\n                v(\"Diagram.toolTip must be an Adornment or HTMLInfo.\"),\r\n              (this.Dg = a),\r\n              this.g(\"toolTip\", b, a));\r\n          },\r\n        },\r\n        contextMenu: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Yf;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Yf;\r\n            b !== a &&\r\n              (!F ||\r\n                a instanceof Pe ||\r\n                a instanceof $e ||\r\n                v(\"Diagram.contextMenu must be an Adornment or HTMLInfo.\"),\r\n              (this.Yf = a),\r\n              this.g(\"contextMenu\", b, a));\r\n          },\r\n        },\r\n        commandHandler: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.L;\r\n          },\r\n          set: function (a) {\r\n            this.L !== a && ((this.L = a), a.de(this));\r\n          },\r\n        },\r\n        toolManager: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.fb;\r\n          },\r\n          set: function (a) {\r\n            this.fb !== a &&\r\n              (w(a, Sa, P, \"toolManager\"), (this.fb = a), (a.diagram = this));\r\n          },\r\n        },\r\n        defaultTool: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Oa;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Oa;\r\n            b !== a &&\r\n              (w(a, Ke, P, \"defaultTool\"),\r\n              (this.Oa = a),\r\n              (a.diagram = this),\r\n              this.currentTool === b && (this.currentTool = a));\r\n          },\r\n        },\r\n        currentTool: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.aa;\r\n          },\r\n          set: function (a) {\r\n            var b = this.aa;\r\n            null !== b &&\r\n              (b.isActive && b.doDeactivate(), b.cancelWaitAfter(), b.doStop());\r\n            null === a && (a = this.defaultTool);\r\n            null !== a &&\r\n              (w(a, Ke, P, \"currentTool\"),\r\n              (this.aa = a),\r\n              (a.diagram = this),\r\n              a.doStart());\r\n          },\r\n        },\r\n        selection: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.nx;\r\n          },\r\n        },\r\n        maxSelectionCount: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ms;\r\n          },\r\n          set: function (a) {\r\n            var b = this.ms;\r\n            if (b !== a)\r\n              if (\r\n                (A(a, \"number\", P, \"maxSelectionCount\"), 0 <= a && !isNaN(a))\r\n              ) {\r\n                if (\r\n                  ((this.ms = a),\r\n                  this.g(\"maxSelectionCount\", b, a),\r\n                  !this.undoManager.isUndoingRedoing &&\r\n                    ((a = this.selection.count - a), 0 < a))\r\n                ) {\r\n                  this.U(\"ChangingSelection\", this.selection);\r\n                  b = this.selection.sa();\r\n                  for (var c = 0; c < a; c++) b[c].isSelected = !1;\r\n                  this.U(\"ChangedSelection\", this.selection);\r\n                }\r\n              } else ya(a, \">= 0\", P, \"maxSelectionCount\");\r\n          },\r\n        },\r\n        nodeSelectionAdornmentTemplate: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ts;\r\n          },\r\n          set: function (a) {\r\n            var b = this.ts;\r\n            b !== a &&\r\n              (w(a, Pe, P, \"nodeSelectionAdornmentTemplate\"),\r\n              (this.ts = a),\r\n              this.g(\"nodeSelectionAdornmentTemplate\", b, a));\r\n          },\r\n        },\r\n        groupSelectionAdornmentTemplate: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Nr;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Nr;\r\n            b !== a &&\r\n              (w(a, Pe, P, \"groupSelectionAdornmentTemplate\"),\r\n              (this.Nr = a),\r\n              this.g(\"groupSelectionAdornmentTemplate\", b, a));\r\n          },\r\n        },\r\n        linkSelectionAdornmentTemplate: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.hs;\r\n          },\r\n          set: function (a) {\r\n            var b = this.hs;\r\n            b !== a &&\r\n              (w(a, Pe, P, \"linkSelectionAdornmentTemplate\"),\r\n              (this.hs = a),\r\n              this.g(\"linkSelectionAdornmentTemplate\", b, a));\r\n          },\r\n        },\r\n        highlighteds: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Yw;\r\n          },\r\n        },\r\n        isModified: {\r\n          configurable: !0,\r\n          get: function () {\r\n            var a = this.undoManager;\r\n            return a.isEnabled\r\n              ? null !== a.currentTransaction\r\n                ? !0\r\n                : this.w && this.pe !== a.historyIndex\r\n              : this.w;\r\n          },\r\n          set: function (a) {\r\n            if (this.w !== a) {\r\n              A(a, \"boolean\", P, \"isModified\");\r\n              this.w = a;\r\n              var b = this.undoManager;\r\n              !a && b.isEnabled && (this.pe = b.historyIndex);\r\n              a || xk(this);\r\n            }\r\n          },\r\n        },\r\n        model: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.gc;\r\n          },\r\n          set: function (a) {\r\n            var b = this.gc;\r\n            if (b !== a) {\r\n              w(a, X, P, \"model\");\r\n              this.currentTool.doCancel();\r\n              null !== b &&\r\n                b.undoManager !== a.undoManager &&\r\n                b.undoManager.isInTransaction &&\r\n                v(\r\n                  \"Do not replace a Diagram.model while a transaction is in progress.\"\r\n                );\r\n              this.animationManager.ad(!0);\r\n              var c = Xi(this, !0);\r\n              this.$e = !1;\r\n              this.ll = !0;\r\n              this.pe = -2;\r\n              this.jd = !1;\r\n              var d = this.fc;\r\n              this.fc = !0;\r\n              Nh(this.animationManager, \"Model\");\r\n              null !== b &&\r\n                (null !== this.we &&\r\n                  this.we.each(function (a) {\r\n                    b.Ek(a);\r\n                  }),\r\n                b.Ek(this.Th));\r\n              this.gc = a;\r\n              this.partManager = yk(this.gc.constructor.type);\r\n              for (var e = 0; e < c.length; e++) this.add(c[e]);\r\n              a.Jh(this.Of);\r\n              this.partManager.addAllModeledParts();\r\n              a.Ek(this.Of);\r\n              a.Jh(this.Th);\r\n              null !== this.we &&\r\n                this.we.each(function (b) {\r\n                  a.Jh(b);\r\n                });\r\n              this.fc = d;\r\n              this.Mb || this.R();\r\n              null !== b && a.undoManager.copyProperties(b.undoManager);\r\n            }\r\n          },\r\n        },\r\n        fa: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Pc;\r\n          },\r\n          set: function (a) {\r\n            this.Pc = a;\r\n          },\r\n        },\r\n        At: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Yq;\r\n          },\r\n        },\r\n        skipsModelSourceBindings: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Qe;\r\n          },\r\n          set: function (a) {\r\n            this.Qe = a;\r\n          },\r\n        },\r\n        Qt: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Tu;\r\n          },\r\n          set: function (a) {\r\n            this.Tu = a;\r\n          },\r\n        },\r\n        nodeTemplate: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.sg.K(\"\");\r\n          },\r\n          set: function (a) {\r\n            var b = this.sg.K(\"\");\r\n            b !== a &&\r\n              (w(a, S, P, \"nodeTemplate\"),\r\n              this.sg.add(\"\", a),\r\n              this.g(\"nodeTemplate\", b, a),\r\n              this.undoManager.isUndoingRedoing || this.Cd());\r\n          },\r\n        },\r\n        nodeTemplateMap: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.sg;\r\n          },\r\n          set: function (a) {\r\n            var b = this.sg;\r\n            b !== a &&\r\n              (w(a, Db, P, \"nodeTemplateMap\"),\r\n              (this.sg = a),\r\n              this.g(\"nodeTemplateMap\", b, a),\r\n              this.undoManager.isUndoingRedoing || this.Cd());\r\n          },\r\n        },\r\n        groupTemplate: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ri.K(\"\");\r\n          },\r\n          set: function (a) {\r\n            var b = this.ri.K(\"\");\r\n            b !== a &&\r\n              (w(a, Kf, P, \"groupTemplate\"),\r\n              this.ri.add(\"\", a),\r\n              this.g(\"groupTemplate\", b, a),\r\n              this.undoManager.isUndoingRedoing || this.Cd());\r\n          },\r\n        },\r\n        groupTemplateMap: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ri;\r\n          },\r\n          set: function (a) {\r\n            var b = this.ri;\r\n            b !== a &&\r\n              (w(a, Db, P, \"groupTemplateMap\"),\r\n              (this.ri = a),\r\n              this.g(\"groupTemplateMap\", b, a),\r\n              this.undoManager.isUndoingRedoing || this.Cd());\r\n          },\r\n        },\r\n        linkTemplate: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.nh.K(\"\");\r\n          },\r\n          set: function (a) {\r\n            var b = this.nh.K(\"\");\r\n            b !== a &&\r\n              (w(a, Q, P, \"linkTemplate\"),\r\n              this.nh.add(\"\", a),\r\n              this.g(\"linkTemplate\", b, a),\r\n              this.undoManager.isUndoingRedoing || this.Cd());\r\n          },\r\n        },\r\n        linkTemplateMap: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.nh;\r\n          },\r\n          set: function (a) {\r\n            var b = this.nh;\r\n            b !== a &&\r\n              (w(a, Db, P, \"linkTemplateMap\"),\r\n              (this.nh = a),\r\n              this.g(\"linkTemplateMap\", b, a),\r\n              this.undoManager.isUndoingRedoing || this.Cd());\r\n          },\r\n        },\r\n        isMouseCaptured: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Oc;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Ga;\r\n            null !== b &&\r\n              ((b = b.Ia),\r\n              b instanceof SVGElement ||\r\n                (a\r\n                  ? ((this.lastInput.bubbles = !1),\r\n                    this.hr\r\n                      ? (this.removeEventListener(\r\n                          b,\r\n                          \"pointermove\",\r\n                          this.Dm,\r\n                          !1\r\n                        ),\r\n                        this.removeEventListener(b, \"pointerdown\", this.Cm, !1),\r\n                        this.removeEventListener(b, \"pointerup\", this.Fm, !1),\r\n                        this.removeEventListener(b, \"pointerout\", this.Em, !1),\r\n                        this.addEventListener(pa, \"pointermove\", this.Dm, !0),\r\n                        this.addEventListener(pa, \"pointerdown\", this.Cm, !0),\r\n                        this.addEventListener(pa, \"pointerup\", this.Fm, !0),\r\n                        this.addEventListener(pa, \"pointerout\", this.Em, !0))\r\n                      : (this.removeEventListener(b, \"mousemove\", this.yk, !1),\r\n                        this.removeEventListener(b, \"mousedown\", this.xk, !1),\r\n                        this.removeEventListener(b, \"mouseup\", this.Ak, !1),\r\n                        this.removeEventListener(b, \"mouseout\", this.zk, !1),\r\n                        this.addEventListener(pa, \"mousemove\", this.yk, !0),\r\n                        this.addEventListener(pa, \"mousedown\", this.xk, !0),\r\n                        this.addEventListener(pa, \"mouseup\", this.Ak, !0),\r\n                        this.addEventListener(pa, \"mouseout\", this.zk, !0)),\r\n                    this.removeEventListener(b, \"wheel\", this.Bk, !1),\r\n                    this.addEventListener(pa, \"wheel\", this.Bk, !0),\r\n                    this.addEventListener(\r\n                      pa,\r\n                      \"selectstart\",\r\n                      this.preventDefault,\r\n                      !1\r\n                    ))\r\n                  : (this.hr\r\n                      ? (this.removeEventListener(\r\n                          pa,\r\n                          \"pointermove\",\r\n                          this.Dm,\r\n                          !0\r\n                        ),\r\n                        this.removeEventListener(\r\n                          pa,\r\n                          \"pointerdown\",\r\n                          this.Cm,\r\n                          !0\r\n                        ),\r\n                        this.removeEventListener(pa, \"pointerup\", this.Fm, !0),\r\n                        this.removeEventListener(pa, \"pointerout\", this.Em, !0),\r\n                        this.addEventListener(b, \"pointermove\", this.Dm, !1),\r\n                        this.addEventListener(b, \"pointerdown\", this.Cm, !1),\r\n                        this.addEventListener(b, \"pointerup\", this.Fm, !1),\r\n                        this.addEventListener(b, \"pointerout\", this.Em, !1))\r\n                      : (this.removeEventListener(pa, \"mousemove\", this.yk, !0),\r\n                        this.removeEventListener(pa, \"mousedown\", this.xk, !0),\r\n                        this.removeEventListener(pa, \"mouseup\", this.Ak, !0),\r\n                        this.removeEventListener(pa, \"mouseout\", this.zk, !0),\r\n                        this.addEventListener(b, \"mousemove\", this.yk, !1),\r\n                        this.addEventListener(b, \"mousedown\", this.xk, !1),\r\n                        this.addEventListener(b, \"mouseup\", this.Ak, !1),\r\n                        this.addEventListener(b, \"mouseout\", this.zk, !1)),\r\n                    this.removeEventListener(pa, \"wheel\", this.Bk, !0),\r\n                    this.removeEventListener(\r\n                      pa,\r\n                      \"selectstart\",\r\n                      this.preventDefault,\r\n                      !1\r\n                    ),\r\n                    this.addEventListener(b, \"wheel\", this.Bk, !1)),\r\n                (this.Oc = a)));\r\n          },\r\n        },\r\n        position: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ra;\r\n          },\r\n          set: function (a) {\r\n            var b = J.alloc().assign(this.ra);\r\n            if (!b.B(a)) {\r\n              w(a, J, P, \"position\");\r\n              var c = this.viewportBounds.copy();\r\n              this.ra.assign(a);\r\n              bi(this.animationManager, b, this.ra);\r\n              this.Mb ||\r\n                (null === this.Ga && !this.bq.o()) ||\r\n                ((this.Mb = !0),\r\n                (a = this.scale),\r\n                kj(this, this.In, this.Ca / a, this.Ba / a, this.uj, !1),\r\n                (this.Mb = !1));\r\n              this.Mb || this.Hq(c, this.viewportBounds, this.Ea, !1);\r\n            }\r\n            J.free(b);\r\n          },\r\n        },\r\n        initialPosition: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Rr;\r\n          },\r\n          set: function (a) {\r\n            this.Rr.B(a) || (w(a, J, P, \"initialPosition\"), (this.Rr = a.J()));\r\n          },\r\n        },\r\n        initialScale: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Sr;\r\n          },\r\n          set: function (a) {\r\n            this.Sr !== a && (A(a, \"number\", P, \"initialScale\"), (this.Sr = a));\r\n          },\r\n        },\r\n        grid: {\r\n          configurable: !0,\r\n          get: function () {\r\n            null === this.Lb && bj(this);\r\n            return this.Lb;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Lb;\r\n            if (b !== a) {\r\n              null === b && (bj(this), (b = this.Lb));\r\n              w(a, V, P, \"grid\");\r\n              a.type !== V.Grid &&\r\n                v(\"Diagram.grid must be a Panel of type Panel.Grid\");\r\n              var c = b.panel;\r\n              null !== c && c.remove(b);\r\n              this.Lb = a;\r\n              a.name = \"GRID\";\r\n              null !== c && c.add(a);\r\n              Cj(this);\r\n              this.R();\r\n              this.g(\"grid\", b, a);\r\n            }\r\n          },\r\n        },\r\n        viewportBounds: {\r\n          configurable: !0,\r\n          get: function () {\r\n            var a = this.wx,\r\n              b = this.ra,\r\n              c = this.Ea;\r\n            if (null === this.Ga)\r\n              return this.bq.o() && a.h(b.x, b.y, this.Ca / c, this.Ba / c), a;\r\n            a.h(b.x, b.y, Math.max(this.Ca, 0) / c, Math.max(this.Ba, 0) / c);\r\n            return a;\r\n          },\r\n        },\r\n        viewSize: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.bq;\r\n          },\r\n          set: function (a) {\r\n            var b = this.viewSize;\r\n            b.B(a) ||\r\n              (w(a, Jb, P, \"viewSize\"),\r\n              (this.bq = a = a.J()),\r\n              (this.Ca = a.width),\r\n              (this.Ba = a.height),\r\n              this.Ya(),\r\n              this.g(\"viewSize\", b, a));\r\n          },\r\n        },\r\n        fixedBounds: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ir;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Ir;\r\n            b.B(a) ||\r\n              (w(a, L, P, \"fixedBounds\"),\r\n              ((F && Infinity === a.width) ||\r\n                -Infinity === a.width ||\r\n                Infinity === a.height ||\r\n                -Infinity === a.height) &&\r\n                v(\"fixedBounds width/height must not be Infinity\"),\r\n              (this.Ir = a = a.J()),\r\n              this.Ya(),\r\n              this.g(\"fixedBounds\", b, a));\r\n          },\r\n        },\r\n        scrollMargin: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.Li;\r\n          },\r\n          set: function (a) {\r\n            \"number\" === typeof a\r\n              ? (a = new lc(a))\r\n              : w(a, lc, P, \"scrollMargin\");\r\n            var b = this.Li;\r\n            b.B(a) ||\r\n              ((this.Li = a = a.J()), this.g(\"scrollMargin\", b, a), this.Jf());\r\n          },\r\n        },\r\n        scrollMode: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Mi;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Mi;\r\n            b !== a &&\r\n              (hb(a, P, P, \"scrollMode\"),\r\n              (this.Mi = a),\r\n              a === ii && ij(this, !1),\r\n              this.g(\"scrollMode\", b, a),\r\n              this.R());\r\n          },\r\n        },\r\n        scrollsPageOnFocus: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ks;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Ks;\r\n            b !== a &&\r\n              (A(a, \"boolean\", P, \"scrollsPageOnFocus\"),\r\n              (this.Ks = a),\r\n              this.g(\"scrollsPageOnFocus\", b, a));\r\n          },\r\n        },\r\n        positionComputation: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Bs;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Bs;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", P, \"positionComputation\"),\r\n              (this.Bs = a),\r\n              ij(this, !1),\r\n              this.g(\"positionComputation\", b, a));\r\n          },\r\n        },\r\n        scaleComputation: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Fs;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Fs;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", P, \"scaleComputation\"),\r\n              (this.Fs = a),\r\n              sk(this, this.scale, this.scale),\r\n              this.g(\"scaleComputation\", b, a));\r\n          },\r\n        },\r\n        documentBounds: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.In;\r\n          },\r\n        },\r\n        isVirtualized: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.cs;\r\n          },\r\n          set: function (a) {\r\n            var b = this.cs;\r\n            b !== a &&\r\n              (A(a, \"boolean\", P, \"isVirtualized\"),\r\n              (this.cs = a),\r\n              this.g(\"isVirtualized\", b, a));\r\n          },\r\n        },\r\n        scale: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ea;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Ea;\r\n            C(a, P, \"scale\");\r\n            b !== a && sk(this, b, a);\r\n          },\r\n        },\r\n        defaultScale: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.yr;\r\n          },\r\n          set: function (a) {\r\n            F && C(a, P, \"defaultScale\");\r\n            !F ||\r\n              0 < a ||\r\n              v(\"defaultScale must be larger than zero, not: \" + a);\r\n            this.yr = a;\r\n          },\r\n        },\r\n        autoScale: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Vg;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Vg;\r\n            b !== a &&\r\n              (hb(a, P, P, \"autoScale\"),\r\n              (this.Vg = a),\r\n              this.g(\"autoScale\", b, a),\r\n              a !== Ci && ij(this, !1));\r\n          },\r\n        },\r\n        initialAutoScale: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.fg;\r\n          },\r\n          set: function (a) {\r\n            var b = this.fg;\r\n            b !== a &&\r\n              (hb(a, P, P, \"initialAutoScale\"),\r\n              (this.fg = a),\r\n              this.g(\"initialAutoScale\", b, a));\r\n          },\r\n        },\r\n        initialViewportSpot: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Tr;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Tr;\r\n            b !== a &&\r\n              (w(a, M, P, \"initialViewportSpot\"),\r\n              a.$a() || v(\"initialViewportSpot must be a specific Spot: \" + a),\r\n              (this.Tr = a),\r\n              this.g(\"initialViewportSpot\", b, a));\r\n          },\r\n        },\r\n        initialDocumentSpot: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Qr;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Qr;\r\n            b !== a &&\r\n              (w(a, M, P, \"initialDocumentSpot\"),\r\n              a.$a() || v(\"initialViewportSpot must be a specific Spot: \" + a),\r\n              (this.Qr = a),\r\n              this.g(\"initialDocumentSpot\", b, a));\r\n          },\r\n        },\r\n        minScale: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ns;\r\n          },\r\n          set: function (a) {\r\n            C(a, P, \"minScale\");\r\n            var b = this.ns;\r\n            b !== a &&\r\n              (0 < a\r\n                ? ((this.ns = a),\r\n                  this.g(\"minScale\", b, a),\r\n                  a > this.scale && (this.scale = a))\r\n                : ya(a, \"> 0\", P, \"minScale\"));\r\n          },\r\n        },\r\n        maxScale: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ls;\r\n          },\r\n          set: function (a) {\r\n            C(a, P, \"maxScale\");\r\n            var b = this.ls;\r\n            b !== a &&\r\n              (0 < a\r\n                ? ((this.ls = a),\r\n                  this.g(\"maxScale\", b, a),\r\n                  a < this.scale && (this.scale = a))\r\n                : ya(a, \"> 0\", P, \"maxScale\"));\r\n          },\r\n        },\r\n        zoomPoint: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.at;\r\n          },\r\n          set: function (a) {\r\n            this.at.B(a) || (w(a, J, P, \"zoomPoint\"), (this.at = a = a.J()));\r\n          },\r\n        },\r\n        contentAlignment: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.uj;\r\n          },\r\n          set: function (a) {\r\n            var b = this.uj;\r\n            b.B(a) ||\r\n              (w(a, M, P, \"contentAlignment\"),\r\n              (this.uj = a = a.J()),\r\n              this.g(\"contentAlignment\", b, a),\r\n              ij(this, !1));\r\n          },\r\n        },\r\n        initialContentAlignment: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.co;\r\n          },\r\n          set: function (a) {\r\n            var b = this.co;\r\n            b.B(a) ||\r\n              (w(a, M, P, \"initialContentAlignment\"),\r\n              (this.co = a = a.J()),\r\n              this.g(\"initialContentAlignment\", b, a));\r\n          },\r\n        },\r\n        padding: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.ib;\r\n          },\r\n          set: function (a) {\r\n            \"number\" === typeof a ? (a = new lc(a)) : w(a, lc, P, \"padding\");\r\n            var b = this.ib;\r\n            b.B(a) ||\r\n              ((this.ib = a = a.J()), this.Ya(), this.g(\"padding\", b, a));\r\n          },\r\n        },\r\n        partManager: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Pa;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Pa;\r\n            b !== a &&\r\n              (w(a, Gi, P, \"partManager\"),\r\n              null !== a.diagram &&\r\n                v(\r\n                  \"Cannot share PartManagers between Diagrams: \" + a.toString()\r\n                ),\r\n              null !== b && b.de(null),\r\n              (this.Pa = a),\r\n              a.de(this));\r\n          },\r\n        },\r\n        nodes: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.partManager.nodes.iterator;\r\n          },\r\n        },\r\n        links: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.partManager.links.iterator;\r\n          },\r\n        },\r\n        parts: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.partManager.parts.iterator;\r\n          },\r\n        },\r\n        layout: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.nc;\r\n          },\r\n          set: function (a) {\r\n            var b = this.nc;\r\n            b !== a &&\r\n              (w(a, Si, P, \"layout\"),\r\n              (this.nc = a),\r\n              (a.diagram = this),\r\n              (a.group = null),\r\n              (this.Ug = !0),\r\n              this.g(\"layout\", b, a),\r\n              this.cc());\r\n          },\r\n        },\r\n        isTreePathToChildren: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.bs;\r\n          },\r\n          set: function (a) {\r\n            var b = this.bs;\r\n            if (\r\n              b !== a &&\r\n              (A(a, \"boolean\", P, \"isTreePathToChildren\"),\r\n              (this.bs = a),\r\n              this.g(\"isTreePathToChildren\", b, a),\r\n              !this.undoManager.isUndoingRedoing)\r\n            )\r\n              for (a = this.nodes; a.next(); ) Uk(a.value);\r\n          },\r\n        },\r\n        treeCollapsePolicy: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ws;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Ws;\r\n            b !== a &&\r\n              (a !== Ei &&\r\n                a !== Vk &&\r\n                a !== Wk &&\r\n                v(\"Unknown Diagram.treeCollapsePolicy: \" + a),\r\n              (this.Ws = a),\r\n              this.g(\"treeCollapsePolicy\", b, a));\r\n          },\r\n        },\r\n        Le: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.qd;\r\n          },\r\n          set: function (a) {\r\n            this.qd = a;\r\n          },\r\n        },\r\n        autoScrollInterval: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.ln;\r\n          },\r\n          set: function (a) {\r\n            var b = this.ln;\r\n            C(a, P, \"scale\");\r\n            b !== a && ((this.ln = a), this.g(\"autoScrollInterval\", b, a));\r\n          },\r\n        },\r\n        autoScrollRegion: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.mn;\r\n          },\r\n          set: function (a) {\r\n            \"number\" === typeof a\r\n              ? (a = new lc(a))\r\n              : w(a, lc, P, \"autoScrollRegion\");\r\n            var b = this.mn;\r\n            b.B(a) ||\r\n              ((this.mn = a = a.J()),\r\n              this.Ya(),\r\n              this.g(\"autoScrollRegion\", b, a));\r\n          },\r\n        },\r\n      });\r\n      ma.Object.defineProperties(P, {\r\n        licenseKey: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return Xk.ac();\r\n          },\r\n          set: function (a) {\r\n            Xk.add(a);\r\n          },\r\n        },\r\n        version: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return Yk;\r\n          },\r\n        },\r\n      });\r\n      P.prototype.makeImageData = P.prototype.ay;\r\n      P.prototype.makeImage = P.prototype.oA;\r\n      P.prototype.addRenderer = P.prototype.Sy;\r\n      P.prototype.makeSVG = P.prototype.Nv;\r\n      P.prototype.makeSvg = P.prototype.Ct;\r\n      P.prototype.stopAutoScroll = P.prototype.Mf;\r\n      P.prototype.doAutoScroll = P.prototype.ht;\r\n      P.prototype.isUnoccupied = P.prototype.uk;\r\n      P.prototype.raiseDiagramEvent = P.prototype.U;\r\n      P.prototype.removeDiagramListener = P.prototype.Im;\r\n      P.prototype.addDiagramListener = P.prototype.ak;\r\n      P.prototype.findTreeRoots = P.prototype.Lz;\r\n      P.prototype.layoutDiagram = P.prototype.mA;\r\n      P.prototype.findTopLevelGroups = P.prototype.Ez;\r\n      P.prototype.findTopLevelNodesAndLinks = P.prototype.Fz;\r\n      P.prototype.findLinksByExample = P.prototype.kt;\r\n      P.prototype.findNodesByExample = P.prototype.lt;\r\n      P.prototype.findLinkForData = P.prototype.Ac;\r\n      P.prototype.findNodeForData = P.prototype.Zi;\r\n      P.prototype.findPartForData = P.prototype.Bc;\r\n      P.prototype.findLinkForKey = P.prototype.findLinkForKey;\r\n      P.prototype.findNodeForKey = P.prototype.Pb;\r\n      P.prototype.findPartForKey = P.prototype.findPartForKey;\r\n      P.prototype.rebuildParts = P.prototype.Cd;\r\n      P.prototype.transformViewToDoc = P.prototype.Rt;\r\n      P.prototype.transformRectDocToView = P.prototype.NA;\r\n      P.prototype.transformDocToView = P.prototype.Tq;\r\n      P.prototype.centerRect = P.prototype.dt;\r\n      P.prototype.scrollToRect = P.prototype.fw;\r\n      P.prototype.scroll = P.prototype.scroll;\r\n      P.prototype.highlightCollection = P.prototype.bA;\r\n      P.prototype.highlight = P.prototype.aA;\r\n      P.prototype.clearHighlighteds = P.prototype.Gx;\r\n      P.prototype.selectCollection = P.prototype.EA;\r\n      P.prototype.select = P.prototype.select;\r\n      P.prototype.clearSelection = P.prototype.iv;\r\n      P.prototype.updateAllRelationshipsFromData = P.prototype.Vq;\r\n      P.prototype.updateAllTargetBindings = P.prototype.updateAllTargetBindings;\r\n      P.prototype.commit = P.prototype.commit;\r\n      P.prototype.rollbackTransaction = P.prototype.Lf;\r\n      P.prototype.commitTransaction = P.prototype.Za;\r\n      P.prototype.startTransaction = P.prototype.Aa;\r\n      P.prototype.raiseChanged = P.prototype.g;\r\n      P.prototype.raiseChangedEvent = P.prototype.eb;\r\n      P.prototype.removeChangedListener = P.prototype.Ek;\r\n      P.prototype.addChangedListener = P.prototype.Jh;\r\n      P.prototype.removeModelChangedListener = P.prototype.AA;\r\n      P.prototype.addModelChangedListener = P.prototype.Cx;\r\n      P.prototype.findLayer = P.prototype.sm;\r\n      P.prototype.removeLayer = P.prototype.yA;\r\n      P.prototype.addLayerAfter = P.prototype.Oy;\r\n      P.prototype.addLayerBefore = P.prototype.Ax;\r\n      P.prototype.addLayer = P.prototype.jm;\r\n      P.prototype.moveParts = P.prototype.moveParts;\r\n      P.prototype.copyParts = P.prototype.kk;\r\n      P.prototype.removeParts = P.prototype.Lt;\r\n      P.prototype.remove = P.prototype.remove;\r\n      P.prototype.add = P.prototype.add;\r\n      P.prototype.clearDelayedGeometries = P.prototype.hv;\r\n      P.prototype.setProperties = P.prototype.lw;\r\n      P.prototype.resetInputOptions = P.prototype.cw;\r\n      P.prototype.setInputOption = P.prototype.FA;\r\n      P.prototype.getInputOption = P.prototype.vm;\r\n      P.prototype.resetRenderingHints = P.prototype.dw;\r\n      P.prototype.setRenderingHint = P.prototype.ty;\r\n      P.prototype.getRenderingHint = P.prototype.Ke;\r\n      P.prototype.maybeUpdate = P.prototype.Ad;\r\n      P.prototype.requestUpdate = P.prototype.cc;\r\n      P.prototype.delayInitialization = P.prototype.hz;\r\n      P.prototype.isUpdateRequested = P.prototype.hA;\r\n      P.prototype.redraw = P.prototype.Jf;\r\n      P.prototype.invalidateDocumentBounds = P.prototype.Ya;\r\n      P.prototype.findObjectsNear = P.prototype.Jg;\r\n      P.prototype.findPartsNear = P.prototype.Bz;\r\n      P.prototype.findObjectsIn = P.prototype.Cf;\r\n      P.prototype.findPartsIn = P.prototype.Tx;\r\n      P.prototype.findObjectsAt = P.prototype.$i;\r\n      P.prototype.findPartsAt = P.prototype.Az;\r\n      P.prototype.findObjectAt = P.prototype.Yb;\r\n      P.prototype.findPartAt = P.prototype.tm;\r\n      P.prototype.focusObject = P.prototype.Mz;\r\n      P.prototype.alignDocument = P.prototype.Uy;\r\n      P.prototype.zoomToRect = P.prototype.QA;\r\n      P.prototype.zoomToFit = P.prototype.zoomToFit;\r\n      P.prototype.diagramScroll = P.prototype.Mx;\r\n      P.prototype.focus = P.prototype.focus;\r\n      P.prototype.reset = P.prototype.reset;\r\n      P.useDOM = function (a) {\r\n        ih = a ? void 0 !== pa.document : !1;\r\n      };\r\n      P.isUsingDOM = function () {\r\n        return ih;\r\n      };\r\n      var Le = null,\r\n        Fi = new Db(),\r\n        $i = null,\r\n        Zi = null,\r\n        ih = void 0 !== pa.document,\r\n        Vi = null,\r\n        Wi = \"\",\r\n        Ci = new E(P, \"None\", 0),\r\n        oj = new E(P, \"Uniform\", 1),\r\n        pj = new E(P, \"UniformToFill\", 2),\r\n        bg = new E(P, \"CycleAll\", 10),\r\n        fg = new E(P, \"CycleNotDirected\", 11),\r\n        hg = new E(P, \"CycleNotDirectedFast\", 12),\r\n        ig = new E(P, \"CycleNotUndirected\", 13),\r\n        cg = new E(P, \"CycleDestinationTree\", 14),\r\n        eg = new E(P, \"CycleSourceTree\", 15),\r\n        ii = new E(P, \"DocumentScroll\", 1),\r\n        ki = new E(P, \"InfiniteScroll\", 2),\r\n        Ei = new E(P, \"TreeParentCollapsed\", 21),\r\n        Vk = new E(P, \"AllParentsCollapsed\", 22),\r\n        Wk = new E(P, \"AnyParentsCollapsed\", 23),\r\n        Xk = new G(),\r\n        Yk = \"2.1.3\",\r\n        Tk = !1,\r\n        Zk = null,\r\n        Ai = !1;\r\n\r\n      function Bi() {\r\n        if (ih) {\r\n          var a = pa.document.createElement(\"canvas\"),\r\n            b = a.getContext(\"2d\"),\r\n            c = Wa(\"7ca11abfd022028846\");\r\n          b[c] = Wa(\"398c3597c01238\");\r\n          for (\r\n            var d = [\r\n                \"5da73c80a36455d5038e4972187c3cae51fd22\",\r\n                qa.Dx + \"4ae6247590da4bb21c324ba3a84e385776\",\r\n                Kb.xF + \"fb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387\",\r\n                K.za,\r\n              ],\r\n              e = 1;\r\n            5 > e;\r\n            e++\r\n          )\r\n            b[Wa(\"7ca11abfd7330390\")](Wa(d[e - 1]), 10, 15 * e);\r\n          b[c] = Wa(\"39f046ebb36e4b\");\r\n          for (c = 1; 5 > c; c++)\r\n            b[Wa(\"7ca11abfd7330390\")](Wa(d[c - 1]), 10, 15 * c);\r\n          Zk = a;\r\n        }\r\n      }\r\n      P.className = \"Diagram\";\r\n      P.fromDiv = function (a) {\r\n        var b = a;\r\n        \"string\" === typeof a && (b = pa.document.getElementById(a));\r\n        return b instanceof HTMLDivElement && b.A instanceof P ? b.A : null;\r\n      };\r\n      P.inherit = function (a, b) {\r\n        function c() {}\r\n        if (Object.getPrototypeOf(a).prototype)\r\n          throw Error(\r\n            \"Used go.Diagram.inherit defining already defined class \\n\" + a\r\n          );\r\n        A(a, \"function\", P, \"inherit\");\r\n        A(b, \"function\", P, \"inherit\");\r\n        c.prototype = b.prototype;\r\n        a.prototype = new c();\r\n        a.prototype.constructor = a;\r\n      };\r\n      P.None = Ci;\r\n      P.Uniform = oj;\r\n      P.UniformToFill = pj;\r\n      P.CycleAll = bg;\r\n      P.CycleNotDirected = fg;\r\n      P.CycleNotDirectedFast = hg;\r\n      P.CycleNotUndirected = ig;\r\n      P.CycleDestinationTree = cg;\r\n      P.CycleSourceTree = eg;\r\n      P.DocumentScroll = ii;\r\n      P.InfiniteScroll = ki;\r\n      P.TreeParentCollapsed = Ei;\r\n      P.AllParentsCollapsed = Vk;\r\n      P.AnyParentsCollapsed = Wk;\r\n\r\n      function Ti() {\r\n        this.Jy = null;\r\n        this.l = \"zz@orderNum\";\r\n        \"63ad05bbe23a1786468a4c741b6d2\" === this._tk\r\n          ? (this.We = this.l = !0)\r\n          : (this.We = null);\r\n      }\r\n\r\n      function Lj(a, b) {\r\n        b.cd.setTransform(b.Vb, 0, 0, b.Vb, 0, 0);\r\n        if (null === a.We) {\r\n          b = \"f\";\r\n          var c = pa[Wa(\"76a715b2f73f148a\")][Wa(\"72ba13b5\")];\r\n          a.We = !0;\r\n          if (ih) {\r\n            var d = P[Wa(\"76a115b6ed251eaf4692\")];\r\n            if (d)\r\n              for (var e = Xk.iterator; e.next(); ) {\r\n                d = e.value;\r\n                d = Wa(d).split(Wa(\"39e9\"));\r\n                if (6 > d.length) break;\r\n                var f = Wa(d[1]).split(\".\");\r\n                if (\"7da71ca0\" !== d[4]) break;\r\n                var g = Wa(qa[Wa(\"6cae19\")]).split(\".\");\r\n                if (f[0] > g[0] || (f[0] === g[0] && f[1] >= g[1])) {\r\n                  f = c[Wa(\"76ad18b4f73e\")];\r\n                  for (g = c[Wa(\"73a612b6fb191d\")](Wa(\"35e7\")) + 2; g < f; g++)\r\n                    b += c[g];\r\n                  f = b[Wa(\"73a612b6fb191d\")](Wa(d[2]));\r\n                  0 > f &&\r\n                    Wa(d[2]) !== Wa(\"7da71ca0ad381e90\") &&\r\n                    (f = b[Wa(\"73a612b6fb191d\")](Wa(\"76a715b2ef3e149757\")));\r\n                  0 > f &&\r\n                    (f = b[Wa(\"73a612b6fb191d\")](Wa(\"76a715b2ef3e149757\")));\r\n                  0 > f &&\r\n                    (f = c[Wa(\"73a612b6fb191d\")](Wa(\"7baa19a6f76c1988428554\")));\r\n                  a.We = !(\r\n                    (0 <= f && f < b[Wa(\"73a612b6fb191d\")](Wa(\"35\"))) ||\r\n                    -1 === b[Wa(\"73a612b6fb191d\")](Wa(\"35\"))\r\n                  );\r\n                  if (!a.We) break;\r\n                  f = Wa(d[2]);\r\n                  if (\"#\" !== f[0]) break;\r\n                  g = pa.document.createElement(\"div\");\r\n                  for (var h = d[0].replace(/[A-Za-z]/g, \"\"); 4 > h.length; )\r\n                    h += \"9\";\r\n                  h = h.substr(h.length - 4);\r\n                  d = \"\";\r\n                  d += [\"gsh\", \"gsf\"][parseInt(h.substr(0, 1), 10) % 2];\r\n                  d += [\"Header\", \"Background\", \"Display\", \"Feedback\"][\r\n                    parseInt(h.substr(0, 1), 10) % 4\r\n                  ];\r\n                  g[Wa(\"79a417a0f0181a8946\")] = d;\r\n                  if (pa.document[Wa(\"78a712aa\")]) {\r\n                    pa.document[Wa(\"78a712aa\")][Wa(\"7bb806b6ed32388c4a875b\")](\r\n                      g\r\n                    );\r\n                    h = pa\r\n                      .getComputedStyle(g)\r\n                      .getPropertyValue(Wa(\"78a704b7e62456904c9b12701b6532a8\"));\r\n                    pa.document[Wa(\"78a712aa\")][Wa(\"68ad1bbcf533388c4a875b\")](\r\n                      g\r\n                    );\r\n                    if (!h) break;\r\n                    if (\r\n                      -1 !== h.indexOf(parseInt(f[1] + f[2], 16)) &&\r\n                      -1 !== h.indexOf(parseInt(f[3] + f[4], 16))\r\n                    ) {\r\n                      a.We = !1;\r\n                      break;\r\n                    } else if (Xa || Za || bb || cb)\r\n                      for (\r\n                        d = \".\" + d, f = 0;\r\n                        f < document.styleSheets.length;\r\n                        f++\r\n                      ) {\r\n                        g =\r\n                          document.styleSheets[f].rules ||\r\n                          document.styleSheets[f].cssRules;\r\n                        for (var k in g)\r\n                          if (d === g[k].selectorText) {\r\n                            a.We = !1;\r\n                            break;\r\n                          }\r\n                      }\r\n                  } else (a.We = null), (a.We = !1);\r\n                }\r\n              }\r\n            else {\r\n              k = c[Wa(\"76ad18b4f73e\")];\r\n              for (e = c[Wa(\"73a612b6fb191d\")](Wa(\"35e7\")) + 2; e < k; e++)\r\n                b += c[e];\r\n              c = b[Wa(\"73a612b6fb191d\")](Wa(\"7da71ca0ad381e90\"));\r\n              a.We = !(0 <= c && c < b[Wa(\"73a612b6fb191d\")](Wa(\"35\")));\r\n            }\r\n          }\r\n        }\r\n        return 0 < a.We && a !== a.Jy ? !0 : !1;\r\n      }\r\n\r\n      function Ui(a, b) {\r\n        if (ih) {\r\n          (void 0 !== b && null !== b) ||\r\n            v(\"Diagram setup requires an argument DIV.\");\r\n          null !== a.Ka && v(\"Diagram has already completed setup.\");\r\n          \"string\" === typeof b\r\n            ? (a.Ka = pa.document.getElementById(b))\r\n            : b instanceof HTMLDivElement\r\n            ? (a.Ka = b)\r\n            : v(\"No DIV or DIV id supplied: \" + b);\r\n          null === a.Ka &&\r\n            v(\"Invalid DIV id; could not get element with id: \" + b);\r\n          void 0 !== a.Ka.A &&\r\n            v(\"Invalid div id; div already has a Diagram associated with it.\");\r\n          \"static\" === pa.getComputedStyle(a.Ka, null).position &&\r\n            (a.Ka.style.position = \"relative\");\r\n          a.Ka.style[\"-webkit-tap-highlight-color\"] = \"rgba(255, 255, 255, 0)\";\r\n          a.Ka.style[\"-ms-touch-action\"] = \"none\";\r\n          a.Ka.innerHTML = \"\";\r\n          a.Ka.A = a;\r\n          var c = a.Ss ? new Qj(a) : new Sk(a);\r\n          void 0 !== c.style &&\r\n            ((c.style.position = \"absolute\"),\r\n            (c.style.top = \"0px\"),\r\n            (c.style.left = \"0px\"),\r\n            \"rtl\" ===\r\n              pa.getComputedStyle(a.Ka, null).getPropertyValue(\"direction\") &&\r\n              (a.jo = !0),\r\n            (c.style.zIndex = \"2\"),\r\n            (c.style.userSelect = \"none\"),\r\n            (c.style.webkitUserSelect = \"none\"),\r\n            (c.style.MozUserSelect = \"none\"));\r\n          a.Ga = c;\r\n          a.cd = c.context;\r\n          b = a.cd;\r\n          a.Vb = a.computePixelRatio();\r\n          a.Ca = a.Ka.clientWidth || 1;\r\n          a.Ba = a.Ka.clientHeight || 1;\r\n          Sj(a, a.Ca, a.Ba);\r\n          a.Cr = function () {\r\n            return true;\r\n          };\r\n          a.Ka.insertBefore(c.Ia, a.Ka.firstChild);\r\n          c = new Sk(null);\r\n          c.width = 1;\r\n          c.height = 1;\r\n          a.lu = c;\r\n          a.Tw = c.context;\r\n          if (ih) {\r\n            c = ua(\"div\");\r\n            var d = ua(\"div\");\r\n            c.style.position = \"absolute\";\r\n            c.style.overflow = \"auto\";\r\n            c.style.width = a.Ca + \"px\";\r\n            c.style.height = a.Ba + \"px\";\r\n            c.style.zIndex = \"1\";\r\n            d.style.position = \"absolute\";\r\n            d.style.width = \"1px\";\r\n            d.style.height = \"1px\";\r\n            a.Ka.appendChild(c);\r\n            c.appendChild(d);\r\n            c.onscroll = cj;\r\n            c.onmousedown = ej;\r\n            c.ontouchstart = ej;\r\n            c.A = a;\r\n            c.Hy = !0;\r\n            c.Iy = !0;\r\n            a.Is = c;\r\n            a.Bp = d;\r\n          }\r\n          a.Jt = ra(function () {\r\n            a.Bh = null;\r\n            a.R();\r\n          }, 300);\r\n          a.yw = ra(function () {\r\n            Sh(a);\r\n          }, 250);\r\n          a.preventDefault = function (a) {\r\n            a.preventDefault();\r\n            return !1;\r\n          };\r\n          a.yk = function (b) {\r\n            if (a.isEnabled) {\r\n              a.kh = !0;\r\n              var c = tj(a, b, !0);\r\n              a.doMouseMove();\r\n              a.currentTool.isBeyondDragSize() && (a.Pd = 0);\r\n              zj(a, c, b);\r\n            }\r\n          };\r\n          a.xk = function (b) {\r\n            if (a.isEnabled)\r\n              if (((a.kh = !0), a.af)) b.preventDefault();\r\n              else {\r\n                var c = tj(a, b, !0);\r\n                c.down = !0;\r\n                c.clickCount = b.detail;\r\n                if (Za || bb)\r\n                  b.timeStamp - a.El < a.Zu && !a.currentTool.isBeyondDragSize()\r\n                    ? a.Pd++\r\n                    : (a.Pd = 1),\r\n                    (a.El = b.timeStamp),\r\n                    (c.clickCount = a.Pd);\r\n                c.clone(a.firstInput);\r\n                a.doMouseDown();\r\n                1 === b.button ? b.preventDefault() : zj(a, c, b);\r\n              }\r\n          };\r\n          a.Ak = function (b) {\r\n            if (a.isEnabled)\r\n              if (a.af && 2 === b.button) b.preventDefault();\r\n              else if ((a.af && 0 === b.button && (a.af = !1), a.em))\r\n                b.preventDefault();\r\n              else {\r\n                a.kh = !0;\r\n                var c = tj(a, b, !0);\r\n                c.up = !0;\r\n                c.clickCount = b.detail;\r\n                if (Za || bb) c.clickCount = a.Pd;\r\n                c.bubbles = b.bubbles;\r\n                c.targetDiagram = vj(b);\r\n                a.doMouseUp();\r\n                a.Mf();\r\n                zj(a, c, b);\r\n              }\r\n          };\r\n          a.Bk = function (b) {\r\n            if (a.isEnabled) {\r\n              var c = tj(a, b, !0);\r\n              c.bubbles = !0;\r\n              var d = 0,\r\n                e = 0;\r\n              c.delta = 0;\r\n              void 0 !== b.deltaX\r\n                ? (0 !== b.deltaX && (d = 0 < b.deltaX ? 1 : -1),\r\n                  0 !== b.deltaY && (e = 0 < b.deltaY ? 1 : -1),\r\n                  (c.delta = Math.abs(b.deltaX) > Math.abs(b.deltaY) ? -d : -e))\r\n                : void 0 !== b.wheelDeltaX\r\n                ? (0 !== b.wheelDeltaX && (d = 0 < b.wheelDeltaX ? -1 : 1),\r\n                  0 !== b.wheelDeltaY && (e = 0 < b.wheelDeltaY ? -1 : 1),\r\n                  (c.delta =\r\n                    Math.abs(b.wheelDeltaX) > Math.abs(b.wheelDeltaY)\r\n                      ? -d\r\n                      : -e))\r\n                : void 0 !== b.wheelDelta &&\r\n                  0 !== b.wheelDelta &&\r\n                  (c.delta = 0 < b.wheelDelta ? 1 : -1);\r\n              a.doMouseWheel();\r\n              zj(a, c, b);\r\n            }\r\n          };\r\n          a.zk = function (b) {\r\n            a.isEnabled &&\r\n              ((a.kh = !1),\r\n              tj(a, b, !0),\r\n              (b = a.currentTool),\r\n              b.cancelWaitAfter(),\r\n              b.standardMouseOver());\r\n          };\r\n          a.sw = function (b) {\r\n            if (a.isEnabled) {\r\n              a.em = !1;\r\n              a.af = !0;\r\n              var c = wj(a, b, b.targetTouches[0], 1 < b.touches.length),\r\n                d = null;\r\n              0 < b.targetTouches.length\r\n                ? (d = b.targetTouches[0])\r\n                : 0 < b.changedTouches.length && (d = b.changedTouches[0]);\r\n              if (null !== d) {\r\n                var e = d.screenX;\r\n                d = d.screenY;\r\n                var k = a.es;\r\n                b.timeStamp - a.El < a.Zu &&\r\n                !(25 < Math.abs(k.x - e) || 25 < Math.abs(k.y - d))\r\n                  ? a.Pd++\r\n                  : (a.Pd = 1);\r\n                c.clickCount = a.Pd;\r\n                a.El = b.timeStamp;\r\n                a.es.h(e, d);\r\n              }\r\n              a.doMouseDown();\r\n              zj(a, c, b);\r\n            }\r\n          };\r\n          a.rw = function (b) {\r\n            if (a.isEnabled) {\r\n              var c = null;\r\n              0 < b.targetTouches.length\r\n                ? (c = b.targetTouches[0])\r\n                : 0 < b.changedTouches.length && (c = b.changedTouches[0]);\r\n              c = yj(a, b, c, 1 < b.touches.length);\r\n              a.doMouseMove();\r\n              zj(a, c, b);\r\n            }\r\n          };\r\n          a.qw = function (b) {\r\n            if (a.isEnabled)\r\n              if (a.em) b.preventDefault();\r\n              else if (!(1 < b.touches.length)) {\r\n                var c = null,\r\n                  d = null;\r\n                0 < b.targetTouches.length\r\n                  ? (d = b.targetTouches[0])\r\n                  : 0 < b.changedTouches.length && (d = b.changedTouches[0]);\r\n                var e = xj(a, b, !1, !0, !1, !1);\r\n                null !== d &&\r\n                  ((c = pa.document.elementFromPoint(d.clientX, d.clientY)),\r\n                  null !== c && c.A instanceof P && c.A !== a && uj(c.A, d, e),\r\n                  uj(a, d, e),\r\n                  (e.clickCount = a.Pd));\r\n                null === c\r\n                  ? (e.targetDiagram = vj(b))\r\n                  : c.A\r\n                  ? (e.targetDiagram = c.A)\r\n                  : (e.targetDiagram = null);\r\n                e.targetObject = null;\r\n                a.doMouseUp();\r\n                zj(a, e, b);\r\n                a.af = !1;\r\n              }\r\n          };\r\n          a.Cm = function (b) {\r\n            if (a.isEnabled) {\r\n              a.kh = !0;\r\n              var c = a.Iu;\r\n              void 0 === c[b.pointerId] && (c[b.pointerId] = b);\r\n              c = a.Pl;\r\n              var d = !1;\r\n              if (null !== c[0] && c[0].pointerId === b.pointerId) c[0] = b;\r\n              else if (null !== c[1] && c[1].pointerId === b.pointerId)\r\n                (c[1] = b), (d = !0);\r\n              else if (null === c[0]) c[0] = b;\r\n              else if (null === c[1]) (c[1] = b), (d = !0);\r\n              else {\r\n                b.preventDefault();\r\n                return;\r\n              }\r\n              if (\"touch\" === b.pointerType || \"pen\" === b.pointerType)\r\n                (a.em = !1), (a.af = !0);\r\n              c = wj(a, b, b, d);\r\n              d = a.es;\r\n              var e =\r\n                \"touch\" === b.pointerType || \"pen\" === b.pointerType ? 25 : 10;\r\n              b.timeStamp - a.El < a.Zu &&\r\n              !(Math.abs(d.x - b.screenX) > e || Math.abs(d.y - b.screenY) > e)\r\n                ? a.Pd++\r\n                : (a.Pd = 1);\r\n              c.clickCount = a.Pd;\r\n              a.El = b.timeStamp;\r\n              a.es.Og(b.screenX, b.screenY);\r\n              a.doMouseDown();\r\n              1 === b.button ? b.preventDefault() : zj(a, c, b);\r\n            }\r\n          };\r\n          a.Dm = function (b) {\r\n            if (a.isEnabled) {\r\n              a.kh = !0;\r\n              var c = a.Pl;\r\n              if (null !== c[0] && c[0].pointerId === b.pointerId) c[0] = b;\r\n              else {\r\n                if (null !== c[1] && c[1].pointerId === b.pointerId) {\r\n                  c[1] = b;\r\n                  return;\r\n                }\r\n                if (null === c[0]) c[0] = b;\r\n                else return;\r\n              }\r\n              c[0].pointerId === b.pointerId &&\r\n                ((c = yj(a, b, b, null !== c[1])),\r\n                (c.targetDiagram = vj(b)),\r\n                a.doMouseMove(),\r\n                zj(a, c, b));\r\n            }\r\n          };\r\n          a.Fm = function (b) {\r\n            if (a.isEnabled) {\r\n              a.kh = !0;\r\n              var c = \"touch\" === b.pointerType || \"pen\" === b.pointerType,\r\n                d = a.Iu;\r\n              if (c && a.em) delete d[b.pointerId], b.preventDefault();\r\n              else if (\r\n                ((d = a.Pl), null !== d[0] && d[0].pointerId === b.pointerId)\r\n              ) {\r\n                d[0] = null;\r\n                d = xj(a, b, !1, !0, !0, !1);\r\n                var e = pa.document.elementFromPoint(b.clientX, b.clientY);\r\n                null !== e && e.A instanceof P && e.A !== a && uj(e.A, b, d);\r\n                uj(a, b, d);\r\n                d.clickCount = a.Pd;\r\n                null === e\r\n                  ? (d.targetDiagram = vj(b))\r\n                  : e.A\r\n                  ? (d.targetDiagram = e.A)\r\n                  : (d.targetDiagram = null);\r\n                d.targetObject = null;\r\n                a.doMouseUp();\r\n                zj(a, d, b);\r\n                c && (a.af = !1);\r\n              } else\r\n                null !== d[1] &&\r\n                  d[1].pointerId === b.pointerId &&\r\n                  (d[1] = null);\r\n            }\r\n          };\r\n          a.Em = function (b) {\r\n            if (a.isEnabled) {\r\n              a.kh = !1;\r\n              var c = a.Iu;\r\n              c[b.pointerId] && delete c[b.pointerId];\r\n              c = a.Pl;\r\n              null !== c[0] && c[0].pointerId === b.pointerId && (c[0] = null);\r\n              null !== c[1] && c[1].pointerId === b.pointerId && (c[1] = null);\r\n              \"touch\" !== b.pointerType &&\r\n                \"pen\" !== b.pointerType &&\r\n                ((b = a.currentTool),\r\n                b.cancelWaitAfter(),\r\n                b.standardMouseOver());\r\n            }\r\n          };\r\n          b.Xc(!0);\r\n          aj(a);\r\n        }\r\n      }\r\n      Ti.className = \"DiagramHelper\";\r\n\r\n      function lf(a) {\r\n        this.l = void 0 === a ? new J() : a;\r\n        this.w = new J();\r\n      }\r\n      ma.Object.defineProperties(lf.prototype, {\r\n        point: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.l;\r\n          },\r\n          set: function (a) {\r\n            this.l = a;\r\n          },\r\n        },\r\n        shifted: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.w;\r\n          },\r\n          set: function (a) {\r\n            this.w = a;\r\n          },\r\n        },\r\n      });\r\n      lf.className = \"DraggingInfo\";\r\n\r\n      function dk(a, b, c) {\r\n        this.node = a;\r\n        this.info = b;\r\n        this.Gv = c;\r\n      }\r\n      dk.className = \"DraggingNodeInfoPair\";\r\n\r\n      function cf() {\r\n        this.reset();\r\n      }\r\n      cf.prototype.reset = function () {\r\n        this.isGridSnapEnabled = !1;\r\n        this.isGridSnapRealtime = !0;\r\n        this.gridSnapCellSize = new Jb(NaN, NaN).freeze();\r\n        this.gridSnapCellSpot = Hc;\r\n        this.gridSnapOrigin = new J(NaN, NaN).freeze();\r\n        this.Zz = this.dragsTree = this.dragsLink = !1;\r\n        this.Yz = !0;\r\n      };\r\n\r\n      function $k(a) {\r\n        1 < arguments.length &&\r\n          v(\r\n            \"Palette constructor can only take one optional argument, the DIV HTML element or its id.\"\r\n          );\r\n        P.call(this, a);\r\n        this.allowDragOut = !0;\r\n        this.allowMove = !1;\r\n        this.isReadOnly = !0;\r\n        this.contentAlignment = Ic;\r\n        this.layout = new al();\r\n      }\r\n      la($k, P);\r\n      $k.className = \"Palette\";\r\n\r\n      function bl(a) {\r\n        1 < arguments.length &&\r\n          v(\r\n            \"Overview constructor can only take one optional argument, the DIV HTML element or its id.\"\r\n          );\r\n        P.call(this, a);\r\n        this.animationManager.isEnabled = !1;\r\n        this.Mb = !0;\r\n        this.tg = null;\r\n        this.pl = this.ol = !1;\r\n        this.Dr = !0;\r\n        this.ty(\"drawShadows\", !1);\r\n        var b = new S(),\r\n          c = new $f();\r\n        c.stroke = \"magenta\";\r\n        c.strokeWidth = 2;\r\n        c.fill = \"transparent\";\r\n        c.name = \"BOXSHAPE\";\r\n        b.selectable = !0;\r\n        b.selectionAdorned = !1;\r\n        b.selectionObjectName = \"BOXSHAPE\";\r\n        b.locationObjectName = \"BOXSHAPE\";\r\n        b.resizeObjectName = \"BOXSHAPE\";\r\n        b.cursor = \"move\";\r\n        b.add(c);\r\n        this.l = b;\r\n        this.allowDelete = this.allowCopy = !1;\r\n        this.allowSelect = !0;\r\n        this.autoScrollRegion = new lc(0, 0, 0, 0);\r\n        this.ra.h(0, 0);\r\n        this.Wu = new Sk(null);\r\n        this.Ky = this.Wu.context;\r\n        this.toolManager.ab(\r\n          \"Dragging\",\r\n          new cl(),\r\n          this.toolManager.mouseMoveTools\r\n        );\r\n        var d = this;\r\n        this.click = function () {\r\n          var a = d.tg;\r\n          if (null !== a) {\r\n            var b = a.viewportBounds,\r\n              c = d.lastInput.documentPoint;\r\n            a.position = new J(c.x - b.width / 2, c.y - b.height / 2);\r\n          }\r\n        };\r\n        this.Zm = function () {\r\n          d.Ya();\r\n          dl(d);\r\n        };\r\n        this.Xm = function () {\r\n          null !== d.tg && (d.Ya(), d.R());\r\n        };\r\n        this.Ym = function () {\r\n          d.R();\r\n        };\r\n        this.rj = function () {\r\n          null !== d.tg && dl(d);\r\n        };\r\n        this.autoScale = oj;\r\n        this.Mb = !1;\r\n      }\r\n      la(bl, P);\r\n\r\n      function el(a) {\r\n        a.Mb ||\r\n          a.fc ||\r\n          !1 !== a.jd ||\r\n          ((a.jd = !0),\r\n          pa.requestAnimationFrame(function () {\r\n            if (a.jd && !a.fc && ((a.jd = !1), null !== a.Ka)) {\r\n              a.fc = !0;\r\n              gj(a);\r\n              a.documentBounds.o() || Pj(a, a.computeBounds());\r\n              null === a.Ka && v(\"No div specified\");\r\n              null === a.Ga && v(\"No canvas specified\");\r\n              ti(a.box);\r\n              if (a.sc) {\r\n                var b = a.tg;\r\n                if (\r\n                  null !== b &&\r\n                  !b.animationManager.isAnimating &&\r\n                  !b.animationManager.oc\r\n                ) {\r\n                  b = a.cd;\r\n                  var c = a.Wu;\r\n                  b.setTransform(1, 0, 0, 1, 0, 0);\r\n                  b.clearRect(0, 0, a.Ga.width, a.Ga.height);\r\n                  b.drawImage(c.Ia, 0, 0);\r\n                  c = a.xb;\r\n                  c.reset();\r\n                  1 !== a.scale && c.scale(a.scale);\r\n                  (0 === a.position.x && 0 === a.position.y) ||\r\n                    c.translate(-a.position.x, -a.position.y);\r\n                  b.scale(a.Vb, a.Vb);\r\n                  b.transform(c.m11, c.m12, c.m21, c.m22, c.dx, c.dy);\r\n                  c = a.Na.j;\r\n                  for (var d = c.length, e = 0; e < d; e++) c[e].yb(b, a);\r\n                  a.ti = !1;\r\n                  a.sc = !1;\r\n                }\r\n              }\r\n              a.fc = !1;\r\n            }\r\n          }));\r\n      }\r\n      bl.prototype.computePixelRatio = function () {\r\n        return 1;\r\n      };\r\n      bl.prototype.yb = function () {\r\n        null === this.Ka && v(\"No div specified\");\r\n        null === this.Ga && v(\"No canvas specified\");\r\n        if (!(this.Ga instanceof Qj) && (ti(this.box), this.sc)) {\r\n          var a = this.tg;\r\n          if (null !== a && !a.animationManager.isAnimating) {\r\n            Jj(this);\r\n            var b = a.grid;\r\n            null === b ||\r\n              !b.visible ||\r\n              isNaN(b.width) ||\r\n              isNaN(b.height) ||\r\n              ((b = L.alloc().assign(this.viewportBounds).Nc(a.viewportBounds)),\r\n              Cj(a, b),\r\n              L.free(b),\r\n              gj(a));\r\n            var c = this.Ga;\r\n            b = this.cd;\r\n            var d = this.Wu,\r\n              e = this.Ky;\r\n            d.width = c.width;\r\n            d.height = c.height;\r\n            b.Xc(!0);\r\n            b.setTransform(1, 0, 0, 1, 0, 0);\r\n            b.clearRect(0, 0, c.width, c.height);\r\n            var f = this.xb;\r\n            f.reset();\r\n            1 !== this.scale && f.scale(this.scale);\r\n            (0 === this.position.x && 0 === this.position.y) ||\r\n              f.translate(-this.position.x, -this.position.y);\r\n            b.scale(this.Vb, this.Vb);\r\n            b.transform(f.m11, f.m12, f.m21, f.m22, f.dx, f.dy);\r\n            var g = this.Dr,\r\n              h = this.viewportBounds;\r\n            a = a.Na.j;\r\n            for (var k = a.length, l = 0; l < k; l++) {\r\n              var m = a[l],\r\n                n = g;\r\n              if (\r\n                m.visible &&\r\n                0 !== m.ub &&\r\n                (void 0 === n && (n = !0), n || !m.isTemporary)\r\n              ) {\r\n                n = vi(m, b);\r\n                var p = this.scale;\r\n                m = m.Ha.j;\r\n                for (var r = m.length, q = 0; q < r; q++) {\r\n                  var u = m[q],\r\n                    x = u.actualBounds;\r\n                  x.Mc(h) &&\r\n                    (x.width * p > this.ve || x.height * p > this.ve\r\n                      ? u.yb(b, this)\r\n                      : wi(b, u));\r\n                }\r\n                b.globalAlpha = n;\r\n              }\r\n            }\r\n            e.drawImage(c.Ia, 0, 0);\r\n            F &&\r\n              F.Wi &&\r\n              ((e.fillStyle = \"red\"), e.fillRect(0, d.height / 2, d.width, 4));\r\n            c = this.Na.j;\r\n            d = c.length;\r\n            for (e = 0; e < d; e++) c[e].yb(b, this);\r\n            F && (F.sv || F.Wi) && F.nq && F.nq(b, this, f);\r\n            this.sc = this.ti = !1;\r\n          }\r\n        }\r\n      };\r\n\r\n      function dl(a) {\r\n        var b = a.box;\r\n        if (null !== b) {\r\n          var c = a.tg;\r\n          if (null !== c) {\r\n            a.sc = !0;\r\n            c = c.viewportBounds;\r\n            var d = b.selectionObject,\r\n              e = Jb.alloc();\r\n            e.h(c.width, c.height);\r\n            d.desiredSize = e;\r\n            Jb.free(e);\r\n            a = 2 / a.scale;\r\n            d instanceof $f && (d.strokeWidth = a);\r\n            b.location = new J(c.x - a / 2, c.y - a / 2);\r\n            b.isSelected = !0;\r\n          }\r\n        }\r\n      }\r\n      bl.prototype.computeBounds = function () {\r\n        var a = this.tg;\r\n        if (null === a) return vc;\r\n        var b = a.documentBounds.copy();\r\n        b.Nc(a.viewportBounds);\r\n        return b;\r\n      };\r\n      bl.prototype.Yx = function () {\r\n        !0 !== this.sc && ((this.sc = !0), el(this));\r\n      };\r\n      bl.prototype.Hq = function (a, b, c, d) {\r\n        this.Mb ||\r\n          (fj(this),\r\n          this.R(),\r\n          lj(this),\r\n          this.Ya(),\r\n          dl(this),\r\n          (this.Ge.scale = c),\r\n          (this.Ge.position.x = a.x),\r\n          (this.Ge.position.y = a.y),\r\n          this.Ge.bounds.assign(a),\r\n          (this.Ge.$x = d),\r\n          this.U(\"ViewportBoundsChanged\", this.Ge, a));\r\n      };\r\n      ma.Object.defineProperties(bl.prototype, {\r\n        observed: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.tg;\r\n          },\r\n          set: function (a) {\r\n            var b = this.tg;\r\n            null !== a && w(a, P, bl, \"observed\");\r\n            a instanceof bl &&\r\n              v(\r\n                \"Overview.observed Diagram may not be an Overview itself: \" + a\r\n              );\r\n            b !== a &&\r\n              (null !== b &&\r\n                (this.remove(this.box),\r\n                b.Im(\"ViewportBoundsChanged\", this.Zm),\r\n                b.Im(\"DocumentBoundsChanged\", this.Xm),\r\n                b.Im(\"InvalidateDraw\", this.Ym),\r\n                b.Im(\"AnimationFinished\", this.rj)),\r\n              (this.tg = a),\r\n              null !== a &&\r\n                (a.ak(\"ViewportBoundsChanged\", this.Zm),\r\n                a.ak(\"DocumentBoundsChanged\", this.Xm),\r\n                a.ak(\"InvalidateDraw\", this.Ym),\r\n                a.ak(\"AnimationFinished\", this.rj),\r\n                this.add(this.box),\r\n                dl(this)),\r\n              this.Ya(),\r\n              this.g(\"observed\", b, a));\r\n          },\r\n        },\r\n        box: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.l;\r\n          },\r\n          set: function (a) {\r\n            var b = this.l;\r\n            b !== a &&\r\n              ((this.l = a),\r\n              this.remove(b),\r\n              this.add(this.l),\r\n              dl(this),\r\n              this.g(\"box\", b, a));\r\n          },\r\n        },\r\n        drawsTemporaryLayers: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Dr;\r\n          },\r\n          set: function (a) {\r\n            this.Dr !== a && ((this.Dr = a), this.Jf());\r\n          },\r\n        },\r\n      });\r\n      bl.className = \"Overview\";\r\n\r\n      function cl() {\r\n        bf.call(this);\r\n        this.l = null;\r\n      }\r\n      la(cl, bf);\r\n      cl.prototype.canStart = function () {\r\n        if (!this.isEnabled) return !1;\r\n        var a = this.diagram;\r\n        if (null === a || !a.allowMove || !a.allowSelect) return !1;\r\n        var b = a.observed;\r\n        if (null === b) return !1;\r\n        var c = a.lastInput;\r\n        if (\r\n          !c.left ||\r\n          (a.currentTool !== this &&\r\n            (!this.isBeyondDragSize() ||\r\n              (c.isTouchEvent &&\r\n                c.timestamp - a.firstInput.timestamp < this.delay)))\r\n        )\r\n          return !1;\r\n        null === this.findDraggablePart() &&\r\n          ((c = b.viewportBounds),\r\n          (this.l = new J(c.width / 2, c.height / 2)),\r\n          (a = a.firstInput.documentPoint),\r\n          (b.position = new J(a.x - this.l.x, a.y - this.l.y)));\r\n        return !0;\r\n      };\r\n      cl.prototype.doActivate = function () {\r\n        this.l = null;\r\n        bf.prototype.doActivate.call(this);\r\n      };\r\n      cl.prototype.moveParts = function () {\r\n        var a = this.diagram,\r\n          b = a.observed;\r\n        if (null !== b) {\r\n          var c = a.box;\r\n          if (null !== c) {\r\n            if (null === this.l) {\r\n              var d = a.firstInput.documentPoint;\r\n              c = c.location;\r\n              this.l = new J(d.x - c.x, d.y - c.y);\r\n            }\r\n            a = a.lastInput.documentPoint;\r\n            b.position = new J(a.x - this.l.x, a.y - this.l.y);\r\n          }\r\n        }\r\n      };\r\n      cl.className = \"OverviewDraggingTool\";\r\n\r\n      function fl() {\r\n        0 < arguments.length && za(fl);\r\n        fb(this);\r\n        this.A = Le;\r\n        this.fb = this.L = this.w = !0;\r\n        this.aa = this.Oa = this.qd = this.Pa = !1;\r\n        this.Di = this.l = null;\r\n        this.Pc = 1.05;\r\n        this.xu = NaN;\r\n        this.$w = null;\r\n        this.cv = NaN;\r\n        this.bv = vc;\r\n        this.zg = null;\r\n        this.Oc = 200;\r\n      }\r\n      fl.prototype.toString = function () {\r\n        return \"CommandHandler\";\r\n      };\r\n      fl.prototype.de = function (a) {\r\n        this.A = a;\r\n      };\r\n      fl.prototype.doKeyDown = function () {\r\n        var a = this.diagram,\r\n          b = a.lastInput,\r\n          c = db ? b.meta : b.control,\r\n          d = b.shift,\r\n          e = b.alt,\r\n          f = b.key;\r\n        !c || (\"C\" !== f && \"Insert\" !== f)\r\n          ? (c && \"X\" === f) || (d && \"Del\" === f)\r\n            ? this.canCutSelection() && this.cutSelection()\r\n            : (c && \"V\" === f) || (d && \"Insert\" === f)\r\n            ? this.canPasteSelection() && this.pasteSelection()\r\n            : (c && \"Y\" === f) || (e && d && \"Backspace\" === f)\r\n            ? this.canRedo() && this.redo()\r\n            : (c && \"Z\" === f) || (e && \"Backspace\" === f)\r\n            ? this.canUndo() && this.undo()\r\n            : \"Del\" === f || \"Backspace\" === f\r\n            ? this.canDeleteSelection() && this.deleteSelection()\r\n            : c && \"A\" === f\r\n            ? this.canSelectAll() && this.selectAll()\r\n            : \"Esc\" === f\r\n            ? this.canStopCommand() && this.stopCommand()\r\n            : \"Up\" === f\r\n            ? a.allowVerticalScroll &&\r\n              (c ? a.scroll(\"pixel\", \"up\") : a.scroll(\"line\", \"up\"))\r\n            : \"Down\" === f\r\n            ? a.allowVerticalScroll &&\r\n              (c ? a.scroll(\"pixel\", \"down\") : a.scroll(\"line\", \"down\"))\r\n            : \"Left\" === f\r\n            ? a.allowHorizontalScroll &&\r\n              (c ? a.scroll(\"pixel\", \"left\") : a.scroll(\"line\", \"left\"))\r\n            : \"Right\" === f\r\n            ? a.allowHorizontalScroll &&\r\n              (c ? a.scroll(\"pixel\", \"right\") : a.scroll(\"line\", \"right\"))\r\n            : \"PageUp\" === f\r\n            ? d && a.allowHorizontalScroll\r\n              ? a.scroll(\"page\", \"left\")\r\n              : a.allowVerticalScroll && a.scroll(\"page\", \"up\")\r\n            : \"PageDown\" === f\r\n            ? d && a.allowHorizontalScroll\r\n              ? a.scroll(\"page\", \"right\")\r\n              : a.allowVerticalScroll && a.scroll(\"page\", \"down\")\r\n            : \"Home\" === f\r\n            ? c && a.allowVerticalScroll\r\n              ? a.scroll(\"document\", \"up\")\r\n              : !c && a.allowHorizontalScroll && a.scroll(\"document\", \"left\")\r\n            : \"End\" === f\r\n            ? c && a.allowVerticalScroll\r\n              ? a.scroll(\"document\", \"down\")\r\n              : !c && a.allowHorizontalScroll && a.scroll(\"document\", \"right\")\r\n            : \" \" === f\r\n            ? this.canScrollToPart() && this.scrollToPart()\r\n            : \"Subtract\" === f\r\n            ? this.canDecreaseZoom() && this.decreaseZoom()\r\n            : \"Add\" === f\r\n            ? this.canIncreaseZoom() && this.increaseZoom()\r\n            : c && \"0\" === f\r\n            ? this.canResetZoom() && this.resetZoom()\r\n            : d && \"Z\" === f\r\n            ? this.canZoomToFit() && this.zoomToFit()\r\n            : c && !d && \"G\" === f\r\n            ? this.canGroupSelection() && this.groupSelection()\r\n            : c && d && \"G\" === f\r\n            ? this.canUngroupSelection() && this.ungroupSelection()\r\n            : b.event && 113 === b.event.which\r\n            ? this.canEditTextBlock() && this.editTextBlock()\r\n            : b.event && 93 === b.event.which\r\n            ? this.canShowContextMenu() && this.showContextMenu()\r\n            : (b.bubbles = !0)\r\n          : this.canCopySelection() && this.copySelection();\r\n      };\r\n      fl.prototype.doKeyUp = function () {\r\n        this.diagram.lastInput.bubbles = !0;\r\n      };\r\n      fl.prototype.stopCommand = function () {\r\n        var a = this.diagram,\r\n          b = a.currentTool;\r\n        b instanceof Sa && a.allowSelect && a.iv();\r\n        null !== b && b.doCancel();\r\n      };\r\n      fl.prototype.canStopCommand = function () {\r\n        return !0;\r\n      };\r\n      fl.prototype.selectAll = function () {\r\n        var a = this.diagram;\r\n        a.R();\r\n        try {\r\n          a.currentCursor = \"wait\";\r\n          a.U(\"ChangingSelection\", a.selection);\r\n          for (var b = a.parts; b.next(); ) b.value.isSelected = !0;\r\n          for (var c = a.nodes; c.next(); ) c.value.isSelected = !0;\r\n          for (var d = a.links; d.next(); ) d.value.isSelected = !0;\r\n        } finally {\r\n          a.U(\"ChangedSelection\", a.selection), (a.currentCursor = \"\");\r\n        }\r\n      };\r\n      fl.prototype.canSelectAll = function () {\r\n        return this.diagram.allowSelect;\r\n      };\r\n      fl.prototype.deleteSelection = function () {\r\n        var a = this.diagram;\r\n        try {\r\n          a.currentCursor = \"wait\";\r\n          a.U(\"ChangingSelection\", a.selection);\r\n          a.Aa(\"Delete\");\r\n          a.U(\"SelectionDeleting\", a.selection);\r\n          for (var b = new H(), c = a.selection.iterator; c.next(); )\r\n            gl(\r\n              b,\r\n              c.value,\r\n              !0,\r\n              this.deletesTree ? Infinity : 0,\r\n              this.deletesConnectedLinks ? null : !1,\r\n              function (a) {\r\n                return a.canDelete();\r\n              }\r\n            );\r\n          a.Lt(b, !0);\r\n          a.U(\"SelectionDeleted\", b);\r\n        } finally {\r\n          a.Za(\"Delete\"),\r\n            a.U(\"ChangedSelection\", a.selection),\r\n            (a.currentCursor = \"\");\r\n        }\r\n      };\r\n      fl.prototype.canDeleteSelection = function () {\r\n        var a = this.diagram;\r\n        return a.isReadOnly ||\r\n          a.isModelReadOnly ||\r\n          !a.allowDelete ||\r\n          0 === a.selection.count\r\n          ? !1\r\n          : !0;\r\n      };\r\n      fl.prototype.copySelection = function () {\r\n        var a = this.diagram,\r\n          b = new H();\r\n        for (a = a.selection.iterator; a.next(); )\r\n          gl(\r\n            b,\r\n            a.value,\r\n            !0,\r\n            this.copiesTree ? Infinity : 0,\r\n            this.copiesConnectedLinks,\r\n            function (a) {\r\n              return a.canCopy();\r\n            }\r\n          );\r\n        this.copyToClipboard(b);\r\n      };\r\n      fl.prototype.canCopySelection = function () {\r\n        var a = this.diagram;\r\n        return a.allowCopy && a.allowClipboard && 0 !== a.selection.count\r\n          ? !0\r\n          : !1;\r\n      };\r\n      fl.prototype.cutSelection = function () {\r\n        this.copySelection();\r\n        this.deleteSelection();\r\n      };\r\n      fl.prototype.canCutSelection = function () {\r\n        var a = this.diagram;\r\n        return !a.isReadOnly &&\r\n          !a.isModelReadOnly &&\r\n          a.allowCopy &&\r\n          a.allowDelete &&\r\n          a.allowClipboard &&\r\n          0 !== a.selection.count\r\n          ? !0\r\n          : !1;\r\n      };\r\n      fl.prototype.copyToClipboard = function (a) {\r\n        var b = this.diagram,\r\n          c = null;\r\n        if (null === a) (Vi = null), (Wi = \"\");\r\n        else {\r\n          c = b.model;\r\n          var d = !1,\r\n            e = !1,\r\n            f = null;\r\n          try {\r\n            c.zm() && ((d = c.jk), (c.jk = this.copiesParentKey)),\r\n              c.sk() && ((e = c.ik), (c.ik = this.copiesGroupKey)),\r\n              (f = b.kk(a, null, !0));\r\n          } finally {\r\n            c.zm() && (c.jk = d),\r\n              c.sk() && (c.ik = e),\r\n              (c = new G()),\r\n              c.addAll(f),\r\n              (Vi = c),\r\n              (Wi = b.model.dataFormat);\r\n          }\r\n        }\r\n        b.U(\"ClipboardChanged\", c);\r\n      };\r\n      fl.prototype.pasteFromClipboard = function () {\r\n        var a = new H(),\r\n          b = Vi;\r\n        if (null === b) return a;\r\n        var c = this.diagram;\r\n        if (Wi !== c.model.dataFormat) return a;\r\n        var d = c.model,\r\n          e = !1,\r\n          f = !1,\r\n          g = null;\r\n        try {\r\n          d.zm() && ((e = d.jk), (d.jk = this.copiesParentKey)),\r\n            d.sk() && ((f = d.ik), (d.ik = this.copiesGroupKey)),\r\n            (g = c.kk(b, c, !1));\r\n        } finally {\r\n          for (\r\n            d.zm() && (d.jk = e), d.sk() && (d.ik = f), b = g.iterator;\r\n            b.next();\r\n\r\n          )\r\n            (c = b.value),\r\n              (d = b.key),\r\n              c.location.o() ||\r\n                (d.location.o()\r\n                  ? (c.location = d.location)\r\n                  : !c.position.o() &&\r\n                    d.position.o() &&\r\n                    (c.position = d.position)),\r\n              a.add(c);\r\n        }\r\n        return a;\r\n      };\r\n      fl.prototype.pasteSelection = function (a) {\r\n        void 0 === a && (a = null);\r\n        var b = this.diagram;\r\n        try {\r\n          b.currentCursor = \"wait\";\r\n          b.U(\"ChangingSelection\", b.selection);\r\n          b.Aa(\"Paste\");\r\n          var c = this.pasteFromClipboard();\r\n          0 < c.count && df(b);\r\n          for (var d = c.iterator; d.next(); ) d.value.isSelected = !0;\r\n          if (null !== a) {\r\n            var e = b.computePartsBounds(b.selection);\r\n            if (e.o()) {\r\n              var f = this.computeEffectiveCollection(b.selection, b.$k);\r\n              Ff(b, f, new J(a.x - e.centerX, a.y - e.centerY), b.$k, !1);\r\n            }\r\n          }\r\n          b.U(\"ClipboardPasted\", c);\r\n        } finally {\r\n          b.Za(\"Paste\"),\r\n            b.U(\"ChangedSelection\", b.selection),\r\n            (b.currentCursor = \"\");\r\n        }\r\n      };\r\n      fl.prototype.canPasteSelection = function () {\r\n        var a = this.diagram;\r\n        return a.isReadOnly ||\r\n          a.isModelReadOnly ||\r\n          !a.allowInsert ||\r\n          !a.allowClipboard ||\r\n          null === Vi ||\r\n          0 === Vi.count ||\r\n          Wi !== a.model.dataFormat\r\n          ? !1\r\n          : !0;\r\n      };\r\n      fl.prototype.undo = function () {\r\n        this.diagram.undoManager.undo();\r\n      };\r\n      fl.prototype.canUndo = function () {\r\n        var a = this.diagram;\r\n        return a.isReadOnly || a.isModelReadOnly\r\n          ? !1\r\n          : a.allowUndo && a.undoManager.canUndo();\r\n      };\r\n      fl.prototype.redo = function () {\r\n        this.diagram.undoManager.redo();\r\n      };\r\n      fl.prototype.canRedo = function () {\r\n        var a = this.diagram;\r\n        return a.isReadOnly || a.isModelReadOnly\r\n          ? !1\r\n          : a.allowUndo && a.undoManager.canRedo();\r\n      };\r\n      fl.prototype.decreaseZoom = function (a) {\r\n        void 0 === a && (a = 1 / this.zoomFactor);\r\n        C(a, fl, \"decreaseZoom:factor\");\r\n        var b = this.diagram;\r\n        b.autoScale === Ci &&\r\n          ((a = b.scale * a),\r\n          a < b.minScale || a > b.maxScale || (b.scale = a));\r\n      };\r\n      fl.prototype.canDecreaseZoom = function (a) {\r\n        void 0 === a && (a = 1 / this.zoomFactor);\r\n        C(a, fl, \"canDecreaseZoom:factor\");\r\n        var b = this.diagram;\r\n        if (b.autoScale !== Ci) return !1;\r\n        a = b.scale * a;\r\n        return a < b.minScale || a > b.maxScale ? !1 : b.allowZoom;\r\n      };\r\n      fl.prototype.increaseZoom = function (a) {\r\n        void 0 === a && (a = this.zoomFactor);\r\n        C(a, fl, \"increaseZoom:factor\");\r\n        var b = this.diagram;\r\n        b.autoScale === Ci &&\r\n          ((a = b.scale * a),\r\n          a < b.minScale || a > b.maxScale || (b.scale = a));\r\n      };\r\n      fl.prototype.canIncreaseZoom = function (a) {\r\n        void 0 === a && (a = this.zoomFactor);\r\n        C(a, fl, \"canIncreaseZoom:factor\");\r\n        var b = this.diagram;\r\n        if (b.autoScale !== Ci) return !1;\r\n        a = b.scale * a;\r\n        return a < b.minScale || a > b.maxScale ? !1 : b.allowZoom;\r\n      };\r\n      fl.prototype.resetZoom = function (a) {\r\n        void 0 === a && (a = this.defaultScale);\r\n        C(a, fl, \"resetZoom:newscale\");\r\n        var b = this.diagram;\r\n        a < b.minScale || a > b.maxScale || (b.scale = a);\r\n      };\r\n      fl.prototype.canResetZoom = function (a) {\r\n        void 0 === a && (a = this.defaultScale);\r\n        C(a, fl, \"canResetZoom:newscale\");\r\n        var b = this.diagram;\r\n        return a < b.minScale || a > b.maxScale ? !1 : b.allowZoom;\r\n      };\r\n      fl.prototype.zoomToFit = function () {\r\n        var a = this.diagram,\r\n          b = a.animationManager;\r\n        b.ad();\r\n        a.Jf();\r\n        var c = a.position,\r\n          d = a.scale;\r\n        Nh(b, \"Zoom To Fit\");\r\n        d === this.cv && !isNaN(this.xu) && a.documentBounds.B(this.bv)\r\n          ? ((a.scale = this.xu),\r\n            (a.position = this.$w),\r\n            (this.cv = NaN),\r\n            (this.bv = vc))\r\n          : ((this.xu = d),\r\n            (this.$w = c.copy()),\r\n            a.zoomToFit(),\r\n            (this.cv = a.scale),\r\n            (this.bv = a.documentBounds.copy()));\r\n        Ph(b);\r\n      };\r\n      fl.prototype.canZoomToFit = function () {\r\n        return this.diagram.allowZoom;\r\n      };\r\n      fl.prototype.scrollToPart = function (a) {\r\n        void 0 === a && (a = null);\r\n        null !== a && w(a, S, fl, \"part\");\r\n        var b = this.diagram;\r\n        nj(b);\r\n        if (null === a) {\r\n          try {\r\n            null !== this.zg &&\r\n              (this.zg.next() ? (a = this.zg.value) : (this.zg = null));\r\n          } catch (k) {\r\n            this.zg = null;\r\n          }\r\n          null === a &&\r\n            (0 < b.highlighteds.count\r\n              ? (this.zg = b.highlighteds.iterator)\r\n              : 0 < b.selection.count && (this.zg = b.selection.iterator),\r\n            null !== this.zg && this.zg.next() && (a = this.zg.value));\r\n        }\r\n        if (null !== a) {\r\n          var c = b.animationManager;\r\n          Nh(c, \"Scroll To Part\");\r\n          var d = this.scrollToPartPause;\r\n          if (0 < d) {\r\n            var e = hl(this, a, [a]);\r\n            if (1 === e.length)\r\n              b.Aa(), b.dt(a.actualBounds), b.Za(\"Scroll To Part\");\r\n            else {\r\n              var f = function () {\r\n                  b.Aa();\r\n                  for (\r\n                    var a = e.pop();\r\n                    0 < e.length &&\r\n                    a instanceof U &&\r\n                    a.isTreeExpanded &&\r\n                    (!(a instanceof Kf) || a.isSubGraphExpanded);\r\n\r\n                  )\r\n                    a = e.pop();\r\n                  0 < e.length\r\n                    ? (a instanceof S && b.fw(a.actualBounds),\r\n                      a instanceof U &&\r\n                        !a.isTreeExpanded &&\r\n                        (a.isTreeExpanded = !0),\r\n                      a instanceof Kf &&\r\n                        !a.isSubGraphExpanded &&\r\n                        (a.isSubGraphExpanded = !0))\r\n                    : (a instanceof S && b.dt(a.actualBounds),\r\n                      b.Im(\"LayoutCompleted\", g));\r\n                  b.Za(\"Scroll To Part\");\r\n                },\r\n                g = function () {\r\n                  ta(f, (c.isEnabled ? c.duration : 0) + d);\r\n                };\r\n              b.ak(\"LayoutCompleted\", g);\r\n              f();\r\n            }\r\n          } else {\r\n            var h = b.position.copy();\r\n            b.dt(a.actualBounds);\r\n            h.Sa(b.position) && c.ad();\r\n          }\r\n        }\r\n      };\r\n\r\n      function hl(a, b, c) {\r\n        if (b.isVisible()) return c;\r\n        if (b instanceof Pe) hl(a, b.adornedPart, c);\r\n        else if (b instanceof Q) {\r\n          var d = b.fromNode;\r\n          null !== d && hl(a, d, c);\r\n          b = b.toNode;\r\n          null !== b && hl(a, b, c);\r\n        } else\r\n          b instanceof U &&\r\n            ((d = b.labeledLink),\r\n            null !== d && hl(a, d, c),\r\n            (d = b.Kg()),\r\n            null !== d &&\r\n              (d.isTreeExpanded || d.wasTreeExpanded || c.push(d),\r\n              hl(a, d, c))),\r\n            (b = b.containingGroup),\r\n            null !== b &&\r\n              (b.isSubGraphExpanded || b.wasSubGraphExpanded || c.push(b),\r\n              hl(a, b, c));\r\n        return c;\r\n      }\r\n      fl.prototype.canScrollToPart = function (a) {\r\n        void 0 === a && (a = null);\r\n        if (null !== a && !(a instanceof S)) return !1;\r\n        a = this.diagram;\r\n        return 0 === a.selection.count && 0 === a.highlighteds.count\r\n          ? !1\r\n          : a.allowHorizontalScroll && a.allowVerticalScroll;\r\n      };\r\n      fl.prototype.collapseTree = function (a) {\r\n        void 0 === a && (a = null);\r\n        var b = this.diagram;\r\n        try {\r\n          b.Aa(\"Collapse Tree\");\r\n          Nh(b.animationManager, \"Collapse Tree\");\r\n          var c = new G();\r\n          if (null !== a && a.isTreeExpanded) a.collapseTree(), c.add(a);\r\n          else if (null === a)\r\n            for (var d = b.selection.iterator; d.next(); ) {\r\n              var e = d.value;\r\n              e instanceof U &&\r\n                e.isTreeExpanded &&\r\n                (e.collapseTree(), c.add(e));\r\n            }\r\n          b.U(\"TreeCollapsed\", c);\r\n        } finally {\r\n          b.Za(\"Collapse Tree\");\r\n        }\r\n      };\r\n      fl.prototype.canCollapseTree = function (a) {\r\n        void 0 === a && (a = null);\r\n        var b = this.diagram;\r\n        if (b.isReadOnly) return !1;\r\n        if (null !== a) {\r\n          if (!(a instanceof U && a.isTreeExpanded)) return !1;\r\n          if (0 < a.sq().count) return !0;\r\n        } else\r\n          for (a = b.selection.iterator; a.next(); )\r\n            if (\r\n              ((b = a.value),\r\n              b instanceof U && b.isTreeExpanded && 0 < b.sq().count)\r\n            )\r\n              return !0;\r\n        return !1;\r\n      };\r\n      fl.prototype.expandTree = function (a) {\r\n        void 0 === a && (a = null);\r\n        var b = this.diagram;\r\n        try {\r\n          b.Aa(\"Expand Tree\");\r\n          Nh(b.animationManager, \"Expand Tree\");\r\n          var c = new G();\r\n          if (null !== a && !a.isTreeExpanded) a.expandTree(), c.add(a);\r\n          else if (null === a)\r\n            for (var d = b.selection.iterator; d.next(); ) {\r\n              var e = d.value;\r\n              e instanceof U && !e.isTreeExpanded && (e.expandTree(), c.add(e));\r\n            }\r\n          b.U(\"TreeExpanded\", c);\r\n        } finally {\r\n          b.Za(\"Expand Tree\");\r\n        }\r\n      };\r\n      fl.prototype.canExpandTree = function (a) {\r\n        void 0 === a && (a = null);\r\n        var b = this.diagram;\r\n        if (b.isReadOnly) return !1;\r\n        if (null !== a) {\r\n          if (!(a instanceof U) || a.isTreeExpanded) return !1;\r\n          if (0 < a.sq().count) return !0;\r\n        } else\r\n          for (a = b.selection.iterator; a.next(); )\r\n            if (\r\n              ((b = a.value),\r\n              b instanceof U && !b.isTreeExpanded && 0 < b.sq().count)\r\n            )\r\n              return !0;\r\n        return !1;\r\n      };\r\n      fl.prototype.groupSelection = function () {\r\n        var a = this.diagram,\r\n          b = a.model;\r\n        if (b.ij()) {\r\n          var c = this.archetypeGroupData;\r\n          if (null !== c) {\r\n            var d = null;\r\n            try {\r\n              a.currentCursor = \"wait\";\r\n              a.U(\"ChangingSelection\", a.selection);\r\n              a.Aa(\"Group\");\r\n              for (var e = new G(), f = a.selection.iterator; f.next(); ) {\r\n                var g = f.value;\r\n                g.$b() && g.canGroup() && e.add(g);\r\n              }\r\n              for (var h = new G(), k = e.iterator; k.next(); ) {\r\n                var l = k.value;\r\n                f = !1;\r\n                for (var m = e.iterator; m.next(); )\r\n                  if (l.be(m.value)) {\r\n                    f = !0;\r\n                    break;\r\n                  }\r\n                f || h.add(l);\r\n              }\r\n              if (0 < h.count) {\r\n                var n = h.first().containingGroup;\r\n                if (null !== n)\r\n                  for (; null !== n; ) {\r\n                    e = !1;\r\n                    for (var p = h.iterator; p.next(); )\r\n                      if (!p.value.be(n)) {\r\n                        e = !0;\r\n                        break;\r\n                      }\r\n                    if (e) n = n.containingGroup;\r\n                    else break;\r\n                  }\r\n                if (c instanceof Kf)\r\n                  Ng(c), (d = c.copy()), null !== d && a.add(d);\r\n                else if (b.wt(c)) {\r\n                  var r = b.copyNodeData(c);\r\n                  Fa(r) && (b.xf(r), (d = a.Zi(r)));\r\n                }\r\n                if (null !== d) {\r\n                  null !== n &&\r\n                    this.isValidMember(n, d) &&\r\n                    (d.containingGroup = n);\r\n                  for (var q = h.iterator; q.next(); ) {\r\n                    var u = q.value;\r\n                    this.isValidMember(d, u) && (u.containingGroup = d);\r\n                  }\r\n                  df(a);\r\n                  d.isSelected = !0;\r\n                }\r\n              }\r\n              a.U(\"SelectionGrouped\", d);\r\n            } finally {\r\n              a.Za(\"Group\"),\r\n                a.U(\"ChangedSelection\", a.selection),\r\n                (a.currentCursor = \"\");\r\n            }\r\n          }\r\n        }\r\n      };\r\n      fl.prototype.canGroupSelection = function () {\r\n        var a = this.diagram;\r\n        if (\r\n          a.isReadOnly ||\r\n          a.isModelReadOnly ||\r\n          !a.allowInsert ||\r\n          !a.allowGroup ||\r\n          !a.model.ij() ||\r\n          null === this.archetypeGroupData\r\n        )\r\n          return !1;\r\n        for (a = a.selection.iterator; a.next(); ) {\r\n          var b = a.value;\r\n          if (b.$b() && b.canGroup()) return !0;\r\n        }\r\n        return !1;\r\n      };\r\n\r\n      function il(a) {\r\n        var b = La();\r\n        for (a = a.iterator; a.next(); ) {\r\n          var c = a.value;\r\n          c instanceof Q || b.push(c);\r\n        }\r\n        a = new H();\r\n        c = b.length;\r\n        for (var d = 0; d < c; d++) {\r\n          for (var e = b[d], f = !0, g = 0; g < c; g++)\r\n            if (e.be(b[g])) {\r\n              f = !1;\r\n              break;\r\n            }\r\n          f && a.add(e);\r\n        }\r\n        Na(b);\r\n        return a;\r\n      }\r\n      fl.prototype.isValidMember = function (a, b) {\r\n        if (null === b || a === b || b instanceof Q) return !1;\r\n        if (null !== a) {\r\n          if (a === b || a.be(b)) return !1;\r\n          var c = a.memberValidation;\r\n          if (\r\n            (null !== c && !c(a, b)) ||\r\n            (null === a.data && null !== b.data) ||\r\n            (null !== a.data && null === b.data)\r\n          )\r\n            return !1;\r\n        }\r\n        c = this.memberValidation;\r\n        return null !== c ? c(a, b) : !0;\r\n      };\r\n      fl.prototype.ungroupSelection = function (a) {\r\n        void 0 === a && (a = null);\r\n        var b = this.diagram,\r\n          c = b.model;\r\n        if (c.ij())\r\n          try {\r\n            b.currentCursor = \"wait\";\r\n            b.U(\"ChangingSelection\", b.selection);\r\n            b.Aa(\"Ungroup\");\r\n            var d = new G();\r\n            if (null !== a) d.add(a);\r\n            else\r\n              for (var e = b.selection.iterator; e.next(); ) {\r\n                var f = e.value;\r\n                f instanceof Kf && f.canUngroup() && d.add(f);\r\n              }\r\n            var g = new G();\r\n            if (0 < d.count) {\r\n              df(b);\r\n              for (var h = d.iterator; h.next(); ) {\r\n                var k = h.value;\r\n                k.expandSubGraph();\r\n                var l = k.containingGroup,\r\n                  m = null !== l && null !== l.data ? c.pa(l.data) : void 0;\r\n                g.addAll(k.memberParts);\r\n                for (var n = g.iterator; n.next(); ) {\r\n                  var p = n.value;\r\n                  p.isSelected = !0;\r\n                  if (!(p instanceof Q)) {\r\n                    var r = p.data;\r\n                    null !== r ? c.Ot(r, m) : (p.containingGroup = l);\r\n                  }\r\n                }\r\n                b.remove(k);\r\n              }\r\n            }\r\n            b.U(\"SelectionUngrouped\", d, g);\r\n          } finally {\r\n            b.Za(\"Ungroup\"),\r\n              b.U(\"ChangedSelection\", b.selection),\r\n              (b.currentCursor = \"\");\r\n          }\r\n      };\r\n      fl.prototype.canUngroupSelection = function (a) {\r\n        void 0 === a && (a = null);\r\n        var b = this.diagram;\r\n        if (\r\n          b.isReadOnly ||\r\n          b.isModelReadOnly ||\r\n          !b.allowDelete ||\r\n          !b.allowUngroup ||\r\n          !b.model.ij()\r\n        )\r\n          return !1;\r\n        if (null !== a) {\r\n          if (!(a instanceof Kf)) return !1;\r\n          if (a.canUngroup()) return !0;\r\n        } else\r\n          for (a = b.selection.iterator; a.next(); )\r\n            if (((b = a.value), b instanceof Kf && b.canUngroup())) return !0;\r\n        return !1;\r\n      };\r\n      fl.prototype.addTopLevelParts = function (a, b) {\r\n        var c = !0;\r\n        for (a = il(a).iterator; a.next(); ) {\r\n          var d = a.value;\r\n          null !== d.containingGroup &&\r\n            (!b || this.isValidMember(null, d)\r\n              ? (d.containingGroup = null)\r\n              : (c = !1));\r\n        }\r\n        return c;\r\n      };\r\n      fl.prototype.collapseSubGraph = function (a) {\r\n        void 0 === a && (a = null);\r\n        var b = this.diagram;\r\n        try {\r\n          b.Aa(\"Collapse SubGraph\");\r\n          Nh(b.animationManager, \"Collapse SubGraph\");\r\n          var c = new G();\r\n          if (null !== a && a.isSubGraphExpanded)\r\n            a.collapseSubGraph(), c.add(a);\r\n          else if (null === a)\r\n            for (var d = b.selection.iterator; d.next(); ) {\r\n              var e = d.value;\r\n              e instanceof Kf &&\r\n                e.isSubGraphExpanded &&\r\n                (e.collapseSubGraph(), c.add(e));\r\n            }\r\n          b.U(\"SubGraphCollapsed\", c);\r\n        } finally {\r\n          b.Za(\"Collapse SubGraph\");\r\n        }\r\n      };\r\n      fl.prototype.canCollapseSubGraph = function (a) {\r\n        void 0 === a && (a = null);\r\n        var b = this.diagram;\r\n        if (b.isReadOnly) return !1;\r\n        if (null !== a)\r\n          return a instanceof Kf && a.isSubGraphExpanded ? !0 : !1;\r\n        for (a = b.selection.iterator; a.next(); )\r\n          if (((b = a.value), b instanceof Kf && b.isSubGraphExpanded))\r\n            return !0;\r\n        return !1;\r\n      };\r\n      fl.prototype.expandSubGraph = function (a) {\r\n        void 0 === a && (a = null);\r\n        var b = this.diagram;\r\n        try {\r\n          b.Aa(\"Expand SubGraph\");\r\n          Nh(b.animationManager, \"Expand SubGraph\");\r\n          var c = new G();\r\n          if (null !== a && !a.isSubGraphExpanded) a.expandSubGraph(), c.add(a);\r\n          else if (null === a)\r\n            for (var d = b.selection.iterator; d.next(); ) {\r\n              var e = d.value;\r\n              e instanceof Kf &&\r\n                !e.isSubGraphExpanded &&\r\n                (e.expandSubGraph(), c.add(e));\r\n            }\r\n          b.U(\"SubGraphExpanded\", c);\r\n        } finally {\r\n          b.Za(\"Expand SubGraph\");\r\n        }\r\n      };\r\n      fl.prototype.canExpandSubGraph = function (a) {\r\n        void 0 === a && (a = null);\r\n        var b = this.diagram;\r\n        if (b.isReadOnly) return !1;\r\n        if (null !== a)\r\n          return a instanceof Kf && !a.isSubGraphExpanded ? !0 : !1;\r\n        for (a = b.selection.iterator; a.next(); )\r\n          if (((b = a.value), b instanceof Kf && !b.isSubGraphExpanded))\r\n            return !0;\r\n        return !1;\r\n      };\r\n      fl.prototype.editTextBlock = function (a) {\r\n        void 0 === a && (a = null);\r\n        null !== a && w(a, kh, fl, \"editTextBlock\");\r\n        var b = this.diagram,\r\n          c = b.toolManager.findTool(\"TextEditing\");\r\n        if (null !== c) {\r\n          if (null === a) {\r\n            a = null;\r\n            for (var d = b.selection.iterator; d.next(); ) {\r\n              var e = d.value;\r\n              if (e.canEdit()) {\r\n                a = e;\r\n                break;\r\n              }\r\n            }\r\n            if (null === a) return;\r\n            a = a.rm(function (a) {\r\n              return a instanceof kh && a.editable;\r\n            });\r\n          }\r\n          null !== a &&\r\n            ((b.currentTool = null), (c.textBlock = a), (b.currentTool = c));\r\n        }\r\n      };\r\n      fl.prototype.canEditTextBlock = function (a) {\r\n        void 0 === a && (a = null);\r\n        var b = this.diagram;\r\n        if (\r\n          b.isReadOnly ||\r\n          b.isModelReadOnly ||\r\n          !b.allowTextEdit ||\r\n          null === b.toolManager.findTool(\"TextEditing\")\r\n        )\r\n          return !1;\r\n        if (null !== a) {\r\n          if (!(a instanceof kh)) return !1;\r\n          a = a.part;\r\n          if (null !== a && a.canEdit()) return !0;\r\n        } else\r\n          for (b = b.selection.iterator; b.next(); )\r\n            if (\r\n              ((a = b.value),\r\n              a.canEdit() &&\r\n                ((a = a.rm(function (a) {\r\n                  return a instanceof kh && a.editable;\r\n                })),\r\n                null !== a))\r\n            )\r\n              return !0;\r\n        return !1;\r\n      };\r\n      fl.prototype.showContextMenu = function (a) {\r\n        var b = this.diagram,\r\n          c = b.toolManager.findTool(\"ContextMenu\");\r\n        if (\r\n          null !== c &&\r\n          (void 0 === a &&\r\n            (a = 0 < b.selection.count ? b.selection.first() : b),\r\n          (a = c.findObjectWithContextMenu(a)),\r\n          null !== a)\r\n        ) {\r\n          var d = b.lastInput,\r\n            e = null;\r\n          a instanceof N\r\n            ? (e = a.ma(Mc))\r\n            : b.viewportBounds.ea(d.documentPoint) ||\r\n              ((e = b.viewportBounds),\r\n              (e = new J(e.x + e.width / 2, e.y + e.height / 2)));\r\n          null !== e &&\r\n            ((d.viewPoint = b.Tq(e)),\r\n            (d.documentPoint = e),\r\n            (d.left = !1),\r\n            (d.right = !0),\r\n            (d.up = !0));\r\n          b.currentTool = c;\r\n          gh(c, !1, a);\r\n        }\r\n      };\r\n      fl.prototype.canShowContextMenu = function (a) {\r\n        var b = this.diagram,\r\n          c = b.toolManager.findTool(\"ContextMenu\");\r\n        if (null === c) return !1;\r\n        void 0 === a && (a = 0 < b.selection.count ? b.selection.first() : b);\r\n        return null === c.findObjectWithContextMenu(a) ? !1 : !0;\r\n      };\r\n      fl.prototype.computeEffectiveCollection = function (a, b) {\r\n        var c = this.diagram,\r\n          d = c.toolManager.findTool(\"Dragging\"),\r\n          e = c.currentTool === d;\r\n        void 0 === b && (b = e ? d.dragOptions : c.$k);\r\n        d = new Db();\r\n        if (null === a) return d;\r\n        for (var f = a.iterator; f.next(); ) bk(c, d, f.value, e, b);\r\n        if (null !== c.draggedLink && b.dragsLink) return d;\r\n        for (f = a.iterator; f.next(); )\r\n          (a = f.value),\r\n            a instanceof Q &&\r\n              ((b = a.fromNode),\r\n              null === b || d.contains(b)\r\n                ? ((b = a.toNode), null === b || d.contains(b) || d.remove(a))\r\n                : d.remove(a));\r\n        return d;\r\n      };\r\n      ma.Object.defineProperties(fl.prototype, {\r\n        diagram: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.A;\r\n          },\r\n        },\r\n        copiesClipboardData: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.w;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"boolean\", fl, \"copiesClipboardData\");\r\n            this.w = a;\r\n          },\r\n        },\r\n        copiesConnectedLinks: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.L;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"boolean\", fl, \"copiesConnectedLinks\");\r\n            this.L = a;\r\n          },\r\n        },\r\n        deletesConnectedLinks: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.fb;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"boolean\", fl, \"deletesConnectedLinks\");\r\n            this.fb = a;\r\n          },\r\n        },\r\n        copiesTree: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Pa;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"boolean\", fl, \"copiesTree\");\r\n            this.Pa = a;\r\n          },\r\n        },\r\n        deletesTree: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.qd;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"boolean\", fl, \"deletesTree\");\r\n            this.qd = a;\r\n          },\r\n        },\r\n        copiesParentKey: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Oa;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"boolean\", fl, \"copiesParentKey\");\r\n            this.Oa = a;\r\n          },\r\n        },\r\n        copiesGroupKey: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.aa;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"boolean\", fl, \"copiesGroupKey\");\r\n            this.aa = a;\r\n          },\r\n        },\r\n        archetypeGroupData: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.l;\r\n          },\r\n          set: function (a) {\r\n            null !== a && A(a, \"object\", fl, \"archetypeGroupData\");\r\n            var b = this.diagram;\r\n            F &&\r\n              ((b = b.model),\r\n              !b.ij() ||\r\n                a instanceof Kf ||\r\n                b.wt(a) ||\r\n                v(\r\n                  \"CommandHandler.archetypeGroupData must be either a Group or a data object for which GraphLinksModel.isGroupForNodeData is true: \" +\r\n                    a\r\n                ));\r\n            this.l = a;\r\n          },\r\n        },\r\n        memberValidation: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Di;\r\n          },\r\n          set: function (a) {\r\n            null !== a && A(a, \"function\", fl, \"memberValidation\");\r\n            this.Di = a;\r\n          },\r\n        },\r\n        defaultScale: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.diagram.defaultScale;\r\n          },\r\n          set: function (a) {\r\n            this.diagram.defaultScale = a;\r\n          },\r\n        },\r\n        zoomFactor: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Pc;\r\n          },\r\n          set: function (a) {\r\n            C(a, fl, \"zoomFactor\");\r\n            1 < a || v(\"zoomFactor must be larger than 1.0, not: \" + a);\r\n            this.Pc = a;\r\n          },\r\n        },\r\n        scrollToPartPause: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Oc;\r\n          },\r\n          set: function (a) {\r\n            C(a, fl, \"scrollToPartPause\");\r\n            this.Oc = a;\r\n          },\r\n        },\r\n      });\r\n      fl.className = \"CommandHandler\";\r\n      Ji = function () {\r\n        return new fl();\r\n      };\r\n\r\n      function N() {\r\n        fb(this);\r\n        this.I = 4225027;\r\n        this.ub = 1;\r\n        this.wg = null;\r\n        this.Wa = \"\";\r\n        this.jc = this.mb = null;\r\n        this.ra = new J(NaN, NaN).freeze();\r\n        this.Rc = bc;\r\n        this.lg = Wb;\r\n        this.kg = ac;\r\n        this.xb = new Kb();\r\n        this.Vh = new Kb();\r\n        this.ig = new Kb();\r\n        this.Ea = this.gl = 1;\r\n        this.ic = 0;\r\n        this.Ee = jl;\r\n        this.oh = Ec;\r\n        this.tc = new L(NaN, NaN, NaN, NaN).freeze();\r\n        this.Ab = new L(NaN, NaN, NaN, NaN).freeze();\r\n        this.uc = new L(0, 0, NaN, NaN).freeze();\r\n        this.S = this.hp = this.ip = null;\r\n        this.Nk = this.Bb = kd;\r\n        this.wp = 0;\r\n        this.xp = 1;\r\n        this.Yg = 0;\r\n        this.rn = 1;\r\n        this.Pp = null;\r\n        this.Cp = -Infinity;\r\n        this.Sl = 0;\r\n        this.Tl = Qb;\r\n        this.Ul = qg;\r\n        this.ki = \"\";\r\n        this.gb = this.P = null;\r\n        this.Sk = -1;\r\n        this.Wl = this.rd = this.ji = this.Zl = null;\r\n        this.Cs = Og;\r\n        this.zp = this.Tg = this.Rj = null;\r\n      }\r\n      var Id, Og, Qg, jl, kl, ll, ml, nl, ol, pl;\r\n      N.prototype.cloneProtected = function (a) {\r\n        a.I = this.I | 6144;\r\n        a.ub = this.ub;\r\n        a.Wa = this.Wa;\r\n        a.mb = this.mb;\r\n        a.jc = this.jc;\r\n        a.Tg = this.Tg;\r\n        a.ra.assign(this.ra);\r\n        a.Rc = this.Rc.J();\r\n        a.lg = this.lg.J();\r\n        a.kg = this.kg.J();\r\n        a.ig = this.ig.copy();\r\n        a.Ea = this.Ea;\r\n        a.ic = this.ic;\r\n        a.Ee = this.Ee;\r\n        a.oh = this.oh.J();\r\n        a.tc.assign(this.tc);\r\n        a.Ab.assign(this.Ab);\r\n        a.uc.assign(this.uc);\r\n        a.hp = this.hp;\r\n        null !== this.S && (a.S = this.S.copy());\r\n        a.Bb = this.Bb.J();\r\n        a.Nk = this.Nk.J();\r\n        a.wp = this.wp;\r\n        a.xp = this.xp;\r\n        a.Yg = this.Yg;\r\n        a.rn = this.rn;\r\n        a.Pp = this.Pp;\r\n        a.Cp = this.Cp;\r\n        a.Sl = this.Sl;\r\n        a.Tl = this.Tl.J();\r\n        a.Ul = this.Ul;\r\n        a.ki = this.ki;\r\n        null !== this.P && (a.P = this.P.copy());\r\n        a.gb = this.gb;\r\n        a.Sk = this.Sk;\r\n        null !== this.ji && (a.ji = Ia(this.ji));\r\n        null !== this.rd && (a.rd = this.rd.copy());\r\n        a.Wl = this.Wl;\r\n      };\r\n      N.prototype.zx = function (a) {\r\n        var b = this.ji;\r\n        if (Ga(b))\r\n          for (var c = 0; c < b.length; c++) {\r\n            if (b[c] === a) return;\r\n          }\r\n        else this.ji = b = [];\r\n        b.push(a);\r\n      };\r\n      N.prototype.Bf = function (a) {\r\n        a.ip = null;\r\n        a.Rj = null;\r\n        a.v();\r\n      };\r\n      N.prototype.clone = function () {\r\n        var a = new this.constructor();\r\n        this.cloneProtected(a);\r\n        if (null !== this.ji)\r\n          for (var b = 0; b < this.ji.length; b++) {\r\n            var c = this.ji[b];\r\n            a[c] = this[c];\r\n          }\r\n        return a;\r\n      };\r\n      N.prototype.copy = function () {\r\n        return this.clone();\r\n      };\r\n      t = N.prototype;\r\n      t.jb = function (a) {\r\n        a.classType === Q\r\n          ? 0 === a.name.indexOf(\"Orient\")\r\n            ? (this.segmentOrientation = a)\r\n            : v(\r\n                \"Unknown Link enum value for GraphObject.segmentOrientation property: \" +\r\n                  a\r\n              )\r\n          : a.classType === N\r\n          ? (this.stretch = a)\r\n          : Ba(this, a);\r\n      };\r\n      t.toString = function () {\r\n        return Oa(this.constructor) + \"#\" + sb(this);\r\n      };\r\n\r\n      function ql(a) {\r\n        null === a.P && (a.P = new rl());\r\n      }\r\n      t.Kc = function () {\r\n        if (null === this.S) {\r\n          var a = new sl();\r\n          a.hh = Gc;\r\n          a.Fh = Gc;\r\n          a.fh = 10;\r\n          a.Dh = 10;\r\n          a.gh = 0;\r\n          a.Eh = 0;\r\n          this.S = a;\r\n        }\r\n      };\r\n      t.eb = function (a, b, c, d, e, f, g) {\r\n        var h = this.part;\r\n        if (\r\n          null !== h &&\r\n          (h.Dk(a, b, c, d, e, f, g),\r\n          c === this && a === De && tl(this) && ul(this, h, b),\r\n          (f = this.diagram),\r\n          null !== this.Tg &&\r\n            null !== f &&\r\n            f.tk &&\r\n            !f.undoManager.isUndoingRedoing &&\r\n            f.currentTool === f.toolManager &&\r\n            ((a = this.Tg.get(b)),\r\n            null === a ||\r\n              f.animationManager.isTicking ||\r\n              (null === this.zp && (this.zp = new Db()),\r\n              (g = 0 === f.undoManager.transactionLevel),\r\n              a.startCondition === pi\r\n                ? (g = !0)\r\n                : a.startCondition === ri && (g = !1),\r\n              g\r\n                ? ((f = new Mh()),\r\n                  qi(a, f),\r\n                  (g = this.zp.get(a)),\r\n                  null !== g && g.stop(),\r\n                  this.zp.add(a, f),\r\n                  (f.$u = this),\r\n                  (f.tx = a),\r\n                  f.add(this, b, d, e),\r\n                  f.start())\r\n                : (Oh(f.animationManager, \"Trigger\"),\r\n                  f.animationManager.defaultAnimation.add(this, b, d, e)))),\r\n          this instanceof V &&\r\n            c === h &&\r\n            0 !== (h.I & 16777216) &&\r\n            null !== h.data)\r\n        )\r\n          for (c = this.$.j, d = c.length, e = 0; e < d; e++)\r\n            (h = c[e]),\r\n              h instanceof V &&\r\n                Tj(h, function (a) {\r\n                  null !== a.data && 0 !== (a.I & 16777216) && a.Fa(b);\r\n                });\r\n      };\r\n\r\n      function ul(a, b, c) {\r\n        var d = a.aj();\r\n        if (null !== d)\r\n          for (var e = a.gb.iterator; e.next(); ) {\r\n            var f = e.value,\r\n              g = null;\r\n            if (null !== f.sourceName) {\r\n              g = vl(f, d, a);\r\n              if (null === g) continue;\r\n              f.Wq(a, g, c, null);\r\n            } else if (f.isToModel) {\r\n              var h = b.diagram;\r\n              null === h ||\r\n                h.skipsModelSourceBindings ||\r\n                f.Wq(a, h.model.modelData, c, d);\r\n            } else {\r\n              h = d.data;\r\n              if (null === h) continue;\r\n              var k = b.diagram;\r\n              null === k || k.skipsModelSourceBindings || f.Wq(a, h, c, d);\r\n            }\r\n            g === a && ((h = d.jt(f.pj)), null !== h && f.ww(h, g, c));\r\n          }\r\n      }\r\n      t.jt = function (a) {\r\n        return this.Sk === a ? this : null;\r\n      };\r\n      t.g = function (a, b, c) {\r\n        this.eb(De, a, this, b, c);\r\n      };\r\n\r\n      function wl(a, b, c, d, e) {\r\n        var f = a.tc,\r\n          g = a.ig;\r\n        g.reset();\r\n        xl(a, g, b, c, d, e);\r\n        a.ig = g;\r\n        f.h(b, c, d, e);\r\n        g.xt() || g.tw(f);\r\n      }\r\n\r\n      function yl(a, b, c, d) {\r\n        if (!1 === a.pickable) return !1;\r\n        d.multiply(a.transform);\r\n        return c ? a.Mc(b, d) : a.Mh(b, d);\r\n      }\r\n      t.Sx = function (a, b, c) {\r\n        if (!1 === this.pickable) return !1;\r\n        var d = this.naturalBounds;\r\n        b = a.Je(b);\r\n        return c\r\n          ? Mb(a.x, a.y, 0, 0, 0, d.height) <= b ||\r\n              Mb(a.x, a.y, 0, d.height, d.width, d.height) <= b ||\r\n              Mb(a.x, a.y, d.width, d.height, d.width, 0) <= b ||\r\n              Mb(a.x, a.y, d.width, 0, 0, 0) <= b\r\n          : a.ld(0, 0) <= b &&\r\n              a.ld(0, d.height) <= b &&\r\n              a.ld(d.width, 0) <= b &&\r\n              a.ld(d.width, d.height) <= b;\r\n      };\r\n      t.fe = function () {\r\n        return !0;\r\n      };\r\n      t.ea = function (a) {\r\n        F && w(a, J, N, \"containsPoint:p\");\r\n        var b = J.alloc();\r\n        b.assign(a);\r\n        this.transform.xa(b);\r\n        var c = this.actualBounds;\r\n        if (!c.o()) return J.free(b), !1;\r\n        var d = this.diagram;\r\n        if (null !== d && d.af) {\r\n          var e = d.vm(\"extraTouchThreshold\"),\r\n            f = d.vm(\"extraTouchArea\"),\r\n            g = f / 2,\r\n            h = this.naturalBounds;\r\n          d = this.Df() * d.scale;\r\n          var k = 1 / d;\r\n          if (h.width * d < e && h.height * d < e)\r\n            return (\r\n              (a = sc(\r\n                c.x - g * k,\r\n                c.y - g * k,\r\n                c.width + f * k,\r\n                c.height + f * k,\r\n                b.x,\r\n                b.y\r\n              )),\r\n              J.free(b),\r\n              a\r\n            );\r\n        }\r\n        e = !1;\r\n        if (\r\n          this instanceof Pe || this instanceof $f\r\n            ? sc(c.x - 5, c.y - 5, c.width + 10, c.height + 10, b.x, b.y)\r\n            : c.ea(b)\r\n        )\r\n          this.rd && !this.rd.ea(b)\r\n            ? (e = !1)\r\n            : null !== this.jc && c.ea(b)\r\n            ? (e = !0)\r\n            : null !== this.mb && this.uc.ea(a)\r\n            ? (e = !0)\r\n            : (e = this.Nh(a));\r\n        J.free(b);\r\n        return e;\r\n      };\r\n      t.Nh = function (a) {\r\n        var b = this.naturalBounds;\r\n        return sc(0, 0, b.width, b.height, a.x, a.y);\r\n      };\r\n      t.Af = function (a) {\r\n        F && w(a, L, N, \"containsRect:r\");\r\n        if (0 === this.angle) return this.actualBounds.Af(a);\r\n        var b = this.naturalBounds;\r\n        b = L.allocAt(0, 0, b.width, b.height);\r\n        var c = this.transform,\r\n          d = !1,\r\n          e = J.allocAt(a.x, a.y);\r\n        b.ea(c.ae(e)) &&\r\n          (e.h(a.x, a.bottom),\r\n          b.ea(c.ae(e)) &&\r\n            (e.h(a.right, a.bottom),\r\n            b.ea(c.ae(e)) && (e.h(a.right, a.y), b.ea(c.ae(e)) && (d = !0))));\r\n        J.free(e);\r\n        L.free(b);\r\n        return d;\r\n      };\r\n      t.Mh = function (a, b) {\r\n        F && w(a, L, N, \"containedInRect:r\");\r\n        if (void 0 === b) return a.Af(this.actualBounds);\r\n        var c = this.naturalBounds,\r\n          d = !1,\r\n          e = J.allocAt(0, 0);\r\n        a.ea(b.xa(e)) &&\r\n          (e.h(0, c.height),\r\n          a.ea(b.xa(e)) &&\r\n            (e.h(c.width, c.height),\r\n            a.ea(b.xa(e)) && (e.h(c.width, 0), a.ea(b.xa(e)) && (d = !0))));\r\n        J.free(e);\r\n        return d;\r\n      };\r\n      t.Mc = function (a, b) {\r\n        F && w(a, L, N, \"intersectsRect:r\");\r\n        if (void 0 === b && ((b = this.transform), 0 === this.angle))\r\n          return a.Mc(this.actualBounds);\r\n        var c = this.naturalBounds,\r\n          d = J.allocAt(0, 0),\r\n          e = J.allocAt(0, c.height),\r\n          f = J.allocAt(c.width, c.height),\r\n          g = J.allocAt(c.width, 0),\r\n          h = !1;\r\n        if (a.ea(b.xa(d)) || a.ea(b.xa(e)) || a.ea(b.xa(f)) || a.ea(b.xa(g)))\r\n          h = !0;\r\n        else {\r\n          c = L.allocAt(0, 0, c.width, c.height);\r\n          var k = J.allocAt(a.x, a.y);\r\n          c.ea(b.ae(k))\r\n            ? (h = !0)\r\n            : (k.h(a.x, a.bottom),\r\n              c.ea(b.ae(k))\r\n                ? (h = !0)\r\n                : (k.h(a.right, a.bottom),\r\n                  c.ea(b.ae(k))\r\n                    ? (h = !0)\r\n                    : (k.h(a.right, a.y), c.ea(b.ae(k)) && (h = !0))));\r\n          J.free(k);\r\n          L.free(c);\r\n          !h &&\r\n            (K.tt(a, d, e) ||\r\n              K.tt(a, e, f) ||\r\n              K.tt(a, f, g) ||\r\n              K.tt(a, g, d)) &&\r\n            (h = !0);\r\n        }\r\n        J.free(d);\r\n        J.free(e);\r\n        J.free(f);\r\n        J.free(g);\r\n        return h;\r\n      };\r\n      t.ma = function (a, b) {\r\n        void 0 === b && (b = new J());\r\n        if (a instanceof M) {\r\n          F &&\r\n            a.Sb() &&\r\n            v(\"getDocumentPoint:s Spot must be specific: \" + a.toString());\r\n          var c = this.naturalBounds;\r\n          b.h(a.x * c.width + a.offsetX, a.y * c.height + a.offsetY);\r\n        } else b.set(a);\r\n        this.yd.xa(b);\r\n        return b;\r\n      };\r\n      t.tq = function (a) {\r\n        void 0 === a && (a = new L());\r\n        var b = this.naturalBounds,\r\n          c = this.yd,\r\n          d = J.allocAt(0, 0).transform(c);\r\n        a.h(d.x, d.y, 0, 0);\r\n        d.h(b.width, 0).transform(c);\r\n        pc(a, d.x, d.y, 0, 0);\r\n        d.h(b.width, b.height).transform(c);\r\n        pc(a, d.x, d.y, 0, 0);\r\n        d.h(0, b.height).transform(c);\r\n        pc(a, d.x, d.y, 0, 0);\r\n        J.free(d);\r\n        return a;\r\n      };\r\n      t.dj = function () {\r\n        var a = this.yd;\r\n        1 === a.m11 && 0 === a.m12\r\n          ? (a = 0)\r\n          : ((a = (180 * Math.atan2(a.m12, a.m11)) / Math.PI),\r\n            0 > a && (a += 360));\r\n        return a;\r\n      };\r\n      t.Df = function () {\r\n        if ((0 !== (this.I & 4096)) === !1) return this.gl;\r\n        var a = this.Ea;\r\n        return null !== this.panel ? a * this.panel.Df() : a;\r\n      };\r\n      t.pt = function (a, b) {\r\n        void 0 === b && (b = new J());\r\n        b.assign(a);\r\n        this.yd.ae(b);\r\n        return b;\r\n      };\r\n      t.Zc = function (a, b, c) {\r\n        return this.qk(a.x, a.y, b.x, b.y, c);\r\n      };\r\n      t.qk = function (a, b, c, d, e) {\r\n        var f = this.transform,\r\n          g = 1 / (f.m11 * f.m22 - f.m12 * f.m21),\r\n          h = f.m22 * g,\r\n          k = -f.m12 * g,\r\n          l = -f.m21 * g,\r\n          m = f.m11 * g,\r\n          n = g * (f.m21 * f.dy - f.m22 * f.dx),\r\n          p = g * (f.m12 * f.dx - f.m11 * f.dy);\r\n        if (null !== this.areaBackground)\r\n          return (\r\n            (f = this.actualBounds),\r\n            K.Zc(f.left, f.top, f.right, f.bottom, a, b, c, d, e)\r\n          );\r\n        g = a * h + b * l + n;\r\n        a = a * k + b * m + p;\r\n        b = c * h + d * l + n;\r\n        c = c * k + d * m + p;\r\n        e.h(0, 0);\r\n        d = this.naturalBounds;\r\n        c = K.Zc(0, 0, d.width, d.height, g, a, b, c, e);\r\n        e.transform(f);\r\n        return c;\r\n      };\r\n      N.prototype.measure = function (a, b, c, d) {\r\n        if (!1 !== Gj(this)) {\r\n          var e = this.oh,\r\n            f = e.right + e.left;\r\n          e = e.top + e.bottom;\r\n          a = Math.max(a - f, 0);\r\n          b = Math.max(b - e, 0);\r\n          c = Math.max((c || 0) - f, 0);\r\n          d = Math.max((d || 0) - e, 0);\r\n          f = this.angle;\r\n          e = this.desiredSize;\r\n          var g = 0;\r\n          this instanceof $f && (g = this.strokeWidth);\r\n          90 === f || 270 === f\r\n            ? ((a = isFinite(e.height) ? e.height + g : a),\r\n              (b = isFinite(e.width) ? e.width + g : b))\r\n            : ((a = isFinite(e.width) ? e.width + g : a),\r\n              (b = isFinite(e.height) ? e.height + g : b));\r\n          e = c || 0;\r\n          g = d || 0;\r\n          var h = this instanceof V;\r\n          switch (zl(this, !0)) {\r\n            case Og:\r\n              g = e = 0;\r\n              h && (b = a = Infinity);\r\n              break;\r\n            case Id:\r\n              isFinite(a) && a > c && (e = a);\r\n              isFinite(b) && b > d && (g = b);\r\n              break;\r\n            case kl:\r\n              isFinite(a) && a > c && (e = a);\r\n              g = 0;\r\n              h && (b = Infinity);\r\n              break;\r\n            case ll:\r\n              isFinite(b) && b > d && (g = b), (e = 0), h && (a = Infinity);\r\n          }\r\n          h = this.maxSize;\r\n          var k = this.minSize;\r\n          e > h.width && k.width < h.width && (e = h.width);\r\n          g > h.height && k.height < h.height && (g = h.height);\r\n          c = Math.max(e / this.scale, k.width);\r\n          d = Math.max(g / this.scale, k.height);\r\n          h.width < c && (c = Math.min(k.width, c));\r\n          h.height < d && (d = Math.min(k.height, d));\r\n          a = Math.min(h.width, a);\r\n          b = Math.min(h.height, b);\r\n          a = Math.max(c, a);\r\n          b = Math.max(d, b);\r\n          if (90 === f || 270 === f)\r\n            (f = a), (a = b), (b = f), (f = c), (c = d), (d = f);\r\n          this.tc.ka();\r\n          this.Bm(a, b, c, d);\r\n          this.tc.freeze();\r\n          this.tc.o() ||\r\n            v(\r\n              \"Non-real measuredBounds has been set. Object \" +\r\n                this +\r\n                \", measuredBounds: \" +\r\n                this.tc.toString()\r\n            );\r\n          Bj(this, !1);\r\n        }\r\n      };\r\n      N.prototype.Bm = function () {};\r\n      N.prototype.Gf = function () {\r\n        return !1;\r\n      };\r\n      N.prototype.arrange = function (a, b, c, d, e) {\r\n        this.yl();\r\n        var f = L.alloc();\r\n        f.assign(this.Ab);\r\n        this.Ab.ka();\r\n        !1 === Hj(this) ? this.Ab.h(a, b, c, d) : this.Lh(a, b, c, d);\r\n        this.Ab.freeze();\r\n        void 0 === e ? (this.rd = null) : (this.rd = e);\r\n        c = !1;\r\n        if (void 0 !== e) c = !0;\r\n        else if (\r\n          ((e = this.panel),\r\n          null === e ||\r\n            (e.type !== V.TableRow && e.type !== V.TableColumn) ||\r\n            (e = e.panel),\r\n          null !== e &&\r\n            ((e = e.uc),\r\n            (d = this.measuredBounds),\r\n            null !== this.areaBackground && (d = this.Ab),\r\n            (c = b + d.height),\r\n            (d = a + d.width),\r\n            (c = !(\r\n              0 <= a + 0.05 &&\r\n              d <= e.width + 0.05 &&\r\n              0 <= b + 0.05 &&\r\n              c <= e.height + 0.05\r\n            )),\r\n            this instanceof kh &&\r\n              ((a = this.naturalBounds),\r\n              this.ks > a.height || this.tb > a.width)))\r\n        )\r\n          c = !0;\r\n        this.I = c ? this.I | 256 : this.I & -257;\r\n        this.Ab.o() ||\r\n          v(\r\n            \"Non-real actualBounds has been set. Object \" +\r\n              this +\r\n              \", actualBounds: \" +\r\n              this.Ab.toString()\r\n          );\r\n        this.Gt(f, this.Ab);\r\n        Al(this, !1);\r\n        L.free(f);\r\n      };\r\n      t = N.prototype;\r\n      t.Lh = function () {};\r\n\r\n      function Bl(a, b, c, d, e) {\r\n        a.Ab.h(b, c, d, e);\r\n        if (!a.desiredSize.o()) {\r\n          var f = a.tc;\r\n          c = a.oh;\r\n          b = c.right + c.left;\r\n          var g = c.top + c.bottom;\r\n          c = f.width + b;\r\n          f = f.height + g;\r\n          d += b;\r\n          e += g;\r\n          b = zl(a, !0);\r\n          c === d && f === e && (b = Og);\r\n          switch (b) {\r\n            case Og:\r\n              if (c > d || f > e)\r\n                Bj(a, !0), a.measure(c > d ? d : c, f > e ? e : f, 0, 0);\r\n              break;\r\n            case Id:\r\n              Bj(a, !0);\r\n              a.measure(d, e, 0, 0);\r\n              break;\r\n            case kl:\r\n              Bj(a, !0);\r\n              a.measure(d, f, 0, 0);\r\n              break;\r\n            case ll:\r\n              Bj(a, !0), a.measure(c, e, 0, 0);\r\n          }\r\n        }\r\n      }\r\n      t.Gt = function (a, b) {\r\n        var c = this.part;\r\n        null !== c &&\r\n          null !== c.diagram &&\r\n          ((c.selectionObject !== this &&\r\n            c.resizeObject !== this &&\r\n            c.rotateObject !== this) ||\r\n            Cl(c, !0),\r\n          this.R(),\r\n          jc(a, b) || (c.Ph(), this.Wo(c)));\r\n      };\r\n      t.Wo = function (a) {\r\n        null !== this.portId && (Cl(a, !0), a instanceof U && Dl(a, this));\r\n      };\r\n      t.yb = function (a, b) {\r\n        if (this.visible) {\r\n          var c =\r\n              this instanceof V &&\r\n              (this.type === V.TableRow || this.type === V.TableColumn),\r\n            d = this.Ab;\r\n          if (\r\n            c ||\r\n            (0 !== d.width && 0 !== d.height && !isNaN(d.x) && !isNaN(d.y))\r\n          ) {\r\n            var e = this.opacity;\r\n            if (0 !== e) {\r\n              var f = 1;\r\n              1 !== e && ((f = a.globalAlpha), (a.globalAlpha = f * e));\r\n              if (!this.Ox(a, b))\r\n                if (c) El(this, a, b);\r\n                else {\r\n                  this instanceof Q && this.wk(!1);\r\n                  F && F.Wi && F.oz && F.oz(a, this);\r\n                  c = this.transform;\r\n                  var g = this.panel;\r\n                  (0 !== (this.I & 4096)) === !0 && Fl(this);\r\n                  var h = this.part,\r\n                    k = !1,\r\n                    l = 0;\r\n                  if (h && b.Ke(\"drawShadows\") && (k = h.isShadowed)) {\r\n                    var m = h.shadowOffset;\r\n                    l = Math.max(m.y, m.x) * b.scale * b.Vb;\r\n                  }\r\n                  if (!(m = b.Ej || !this.Gf())) {\r\n                    var n = this.naturalBounds;\r\n                    m = this.Vh;\r\n                    var p = m.m11,\r\n                      r = m.m21,\r\n                      q = m.dx,\r\n                      u = m.m12,\r\n                      x = m.m22,\r\n                      y = m.dy,\r\n                      z,\r\n                      B = (z = 0);\r\n                    m = z * p + B * r + q;\r\n                    var D = z * u + B * x + y;\r\n                    z = n.width + l;\r\n                    B = 0;\r\n                    var I = z * p + B * r + q;\r\n                    z = z * u + B * x + y;\r\n                    B = Math.min(m, I);\r\n                    var O = Math.min(D, z);\r\n                    var R = Math.max(m + 0, I) - B;\r\n                    var T = Math.max(D + 0, z) - O;\r\n                    m = B;\r\n                    D = O;\r\n                    z = n.width + l;\r\n                    B = n.height + l;\r\n                    I = z * p + B * r + q;\r\n                    z = z * u + B * x + y;\r\n                    B = Math.min(m, I);\r\n                    O = Math.min(D, z);\r\n                    R = Math.max(m + R, I) - B;\r\n                    T = Math.max(D + T, z) - O;\r\n                    m = B;\r\n                    D = O;\r\n                    z = 0;\r\n                    B = n.height + l;\r\n                    I = z * p + B * r + q;\r\n                    z = z * u + B * x + y;\r\n                    B = Math.min(m, I);\r\n                    O = Math.min(D, z);\r\n                    R = Math.max(m + R, I) - B;\r\n                    T = Math.max(D + T, z) - O;\r\n                    m = B;\r\n                    D = O;\r\n                    l = b.viewportBounds;\r\n                    n = l.x;\r\n                    p = l.y;\r\n                    m = !(\r\n                      m > l.width + n ||\r\n                      n > R + m ||\r\n                      D > l.height + p ||\r\n                      p > T + D\r\n                    );\r\n                  }\r\n                  if (m) {\r\n                    m = 0 !== (this.I & 256);\r\n                    a.clipInsteadOfFill && (m = !1);\r\n                    this instanceof kh && (a.font = this.font);\r\n                    if (m) {\r\n                      F && F.qz && Ca(\"clip\" + this.toString());\r\n                      D = g.fe() ? g.naturalBounds : g.actualBounds;\r\n                      null !== this.rd\r\n                        ? ((n = this.rd),\r\n                          (R = n.x),\r\n                          (T = n.y),\r\n                          (l = n.width),\r\n                          (n = n.height))\r\n                        : ((R = Math.max(d.x, D.x)),\r\n                          (T = Math.max(d.y, D.y)),\r\n                          (l = Math.min(d.right, D.right) - R),\r\n                          (n = Math.min(d.bottom, D.bottom) - T));\r\n                      if (R > d.width + d.x || d.x > D.width + D.x) {\r\n                        1 !== e && (a.globalAlpha = f);\r\n                        return;\r\n                      }\r\n                      a.save();\r\n                      a.beginPath();\r\n                      a.rect(R, T, l, n);\r\n                      a.clip();\r\n                    }\r\n                    if (this.Gf()) {\r\n                      if (!h.isVisible()) {\r\n                        1 !== e && (a.globalAlpha = f);\r\n                        return;\r\n                      }\r\n                      k &&\r\n                        ((D = h.shadowOffset),\r\n                        a.mw(\r\n                          D.x * b.scale * b.Vb,\r\n                          D.y * b.scale * b.Vb,\r\n                          h.shadowBlur\r\n                        ),\r\n                        Gl(a),\r\n                        (a.shadowColor = h.shadowColor));\r\n                    }\r\n                    !0 === this.shadowVisible\r\n                      ? Gl(a)\r\n                      : !1 === this.shadowVisible && Hl(a);\r\n                    h = this.naturalBounds;\r\n                    null !== this.jc &&\r\n                      (xi(this, a, this.jc, !0, !0, h, d),\r\n                      this.jc instanceof Il && this.jc.type === Jl\r\n                        ? (a.beginPath(),\r\n                          a.rect(d.x, d.y, d.width, d.height),\r\n                          a.$d(this.jc))\r\n                        : a.fillRect(d.x, d.y, d.width, d.height));\r\n                    a.transform(c.m11, c.m12, c.m21, c.m22, c.dx, c.dy);\r\n                    k &&\r\n                      ((null !== g && 0 !== (g.I & 512)) ||\r\n                        (null !== g &&\r\n                          (g.type === V.Auto || g.type === V.Spot) &&\r\n                          g.Fb() !== this)) &&\r\n                      null === this.shadowVisible &&\r\n                      Hl(a);\r\n                    null !== this.mb &&\r\n                      ((l = this.naturalBounds),\r\n                      (R = D = 0),\r\n                      (T = l.width),\r\n                      (l = l.height),\r\n                      (n = 0),\r\n                      this instanceof $f &&\r\n                        ((l = this.ua.bounds),\r\n                        (D = l.x),\r\n                        (R = l.y),\r\n                        (T = l.width),\r\n                        (l = l.height),\r\n                        (n = this.strokeWidth)),\r\n                      xi(this, a, this.mb, !0, !1, h, d),\r\n                      this.mb instanceof Il && this.mb.type === Jl\r\n                        ? (a.beginPath(),\r\n                          a.rect(D - n / 2, R - n / 2, T + n, l + n),\r\n                          a.$d(this.mb))\r\n                        : a.fillRect(D - n / 2, R - n / 2, T + n, l + n));\r\n                    F && F.Wi && F.pz && F.pz(a, this);\r\n                    k &&\r\n                    (null !== this.mb ||\r\n                      null !== this.jc ||\r\n                      (null !== g && 0 !== (g.I & 512)) ||\r\n                      (null !== g &&\r\n                        (g.type === V.Auto || g.type === V.Spot) &&\r\n                        g.Fb() !== this))\r\n                      ? (Kl(this, !0), null === this.shadowVisible && Hl(a))\r\n                      : Kl(this, !1);\r\n                    this.Xi(a, b);\r\n                    k && (0 !== (this.I & 512)) === !0 && Gl(a);\r\n                    this.Gf() && k && Hl(a);\r\n                    m\r\n                      ? (a.restore(), this instanceof V ? a.Xc(!0) : a.Xc(!1))\r\n                      : c.xt() ||\r\n                        ((b = 1 / (c.m11 * c.m22 - c.m12 * c.m21)),\r\n                        a.transform(\r\n                          c.m22 * b,\r\n                          -c.m12 * b,\r\n                          -c.m21 * b,\r\n                          c.m11 * b,\r\n                          b * (c.m21 * c.dy - c.m22 * c.dx),\r\n                          b * (c.m12 * c.dx - c.m11 * c.dy)\r\n                        ));\r\n                  }\r\n                }\r\n              1 !== e && (a.globalAlpha = f);\r\n            }\r\n          }\r\n        }\r\n      };\r\n      t.Ox = function () {\r\n        return !1;\r\n      };\r\n\r\n      function El(a, b, c) {\r\n        var d = a.Ab,\r\n          e = a.uc;\r\n        null !== a.jc &&\r\n          (xi(a, b, a.jc, !0, !0, e, d),\r\n          a.jc instanceof Il && a.jc.type === Jl\r\n            ? (b.beginPath(), b.rect(d.x, d.y, d.width, d.height), b.$d(a.jc))\r\n            : b.fillRect(d.x, d.y, d.width, d.height));\r\n        null !== a.mb &&\r\n          (xi(a, b, a.mb, !0, !1, e, d),\r\n          a.mb instanceof Il && a.mb.type === Jl\r\n            ? (b.beginPath(), b.rect(d.x, d.y, d.width, d.height), b.$d(a.mb))\r\n            : b.fillRect(d.x, d.y, d.width, d.height));\r\n        a.Xi(b, c);\r\n      }\r\n      t.Xi = function () {};\r\n\r\n      function xi(a, b, c, d, e, f, g) {\r\n        if (null !== c) {\r\n          var h = 1,\r\n            k = 1;\r\n          if (\"string\" === typeof c)\r\n            d ? (b.fillStyle = c) : (b.strokeStyle = c);\r\n          else if (c.type === Ll)\r\n            d ? (b.fillStyle = c.color) : (b.strokeStyle = c.color);\r\n          else {\r\n            h = f.width;\r\n            k = f.height;\r\n            e && ((h = g.width), (k = g.height));\r\n            if (\r\n              (f = b instanceof Ml) &&\r\n              c.ke &&\r\n              (c.type === Nl || (c.Vk === h && c.cu === k))\r\n            )\r\n              var l = c.ke;\r\n            else {\r\n              var m = 0,\r\n                n = 0,\r\n                p = 0,\r\n                r = 0,\r\n                q = 0,\r\n                u = 0;\r\n              u = q = 0;\r\n              e && ((q = g.x), (u = g.y));\r\n              m = c.start.x * h + c.start.offsetX;\r\n              n = c.start.y * k + c.start.offsetY;\r\n              p = c.end.x * h + c.end.offsetX;\r\n              r = c.end.y * k + c.end.offsetY;\r\n              m += q;\r\n              p += q;\r\n              n += u;\r\n              r += u;\r\n              if (c.type === Ol) l = b.createLinearGradient(m, n, p, r);\r\n              else if (c.type === Jl)\r\n                (u = isNaN(c.endRadius) ? Math.max(h, k) / 2 : c.endRadius),\r\n                  isNaN(c.startRadius)\r\n                    ? ((q = 0), (u = Math.max(h, k) / 2))\r\n                    : (q = c.startRadius),\r\n                  (l = b.createRadialGradient(m, n, q, p, r, u));\r\n              else if (c.type === Nl)\r\n                try {\r\n                  l = b.createPattern(c.pattern, \"repeat\");\r\n                } catch (y) {\r\n                  l = null;\r\n                }\r\n              else xa(c.type, \"Brush type\");\r\n              if (c.type !== Nl && ((e = c.colorStops), null !== e))\r\n                for (e = e.iterator; e.next(); ) l.addColorStop(e.key, e.value);\r\n              if (\r\n                f &&\r\n                ((c.ke = l),\r\n                null !== l && ((c.Vk = h), (c.cu = k)),\r\n                null === l && c.type === Nl && -1 !== c.Vk)\r\n              ) {\r\n                c.Vk = -1;\r\n                var x = a.diagram;\r\n                null !== x &&\r\n                  -1 === c.Vk &&\r\n                  ta(function () {\r\n                    x.Jf();\r\n                  }, 600);\r\n              }\r\n            }\r\n            d ? (b.fillStyle = l) : (b.strokeStyle = l);\r\n          }\r\n        }\r\n      }\r\n      t.Mg = function (a) {\r\n        if (a instanceof V)\r\n          a: {\r\n            if (this !== a && null !== a)\r\n              for (var b = this.panel; null !== b; ) {\r\n                if (b === a) {\r\n                  a = !0;\r\n                  break a;\r\n                }\r\n                b = b.panel;\r\n              }\r\n            a = !1;\r\n          }\r\n        else a = !1;\r\n        return a;\r\n      };\r\n      t.If = function () {\r\n        if (!this.visible) return !1;\r\n        var a = this.panel;\r\n        return null !== a ? a.If() : !0;\r\n      };\r\n      t.Ng = function () {\r\n        for (\r\n          var a = this instanceof V ? this : this.panel;\r\n          null !== a && a.isEnabled;\r\n\r\n        )\r\n          a = a.panel;\r\n        return null === a;\r\n      };\r\n\r\n      function Fl(a) {\r\n        if ((0 !== (a.I & 2048)) === !0) {\r\n          var b = a.xb;\r\n          b.reset();\r\n          if (!a.Ab.o() || !a.tc.o()) {\r\n            Pl(a, !1);\r\n            return;\r\n          }\r\n          b.translate(a.Ab.x - a.tc.x, a.Ab.y - a.tc.y);\r\n          if (1 !== a.scale || 0 !== a.angle) {\r\n            var c = a.naturalBounds;\r\n            xl(a, b, c.x, c.y, c.width, c.height);\r\n          }\r\n          Pl(a, !1);\r\n          Ql(a, !0);\r\n        }\r\n        (0 !== (a.I & 4096)) === !0 &&\r\n          ((b = a.panel),\r\n          null === b\r\n            ? (a.Vh.set(a.xb), (a.gl = a.scale), Ql(a, !1))\r\n            : null !== b.yd &&\r\n              ((c = a.Vh),\r\n              c.reset(),\r\n              b.fe()\r\n                ? c.multiply(b.Vh)\r\n                : null !== b.panel && c.multiply(b.panel.Vh),\r\n              c.multiply(a.xb),\r\n              (a.gl = a.scale * b.gl),\r\n              Ql(a, !1)));\r\n      }\r\n\r\n      function xl(a, b, c, d, e, f) {\r\n        1 !== a.scale && b.scale(a.scale);\r\n        if (0 !== a.ic) {\r\n          var g = Mc;\r\n          a.Gf() && a.locationSpot.$a() && (g = a.locationSpot);\r\n          var h = J.alloc();\r\n          if (a instanceof S && a.locationObject !== a)\r\n            for (\r\n              c = a.locationObject,\r\n                d = c.naturalBounds,\r\n                h.Fk(d.x, d.y, d.width, d.height, g),\r\n                c.ig.xa(h),\r\n                h.offset(-c.measuredBounds.x, -c.measuredBounds.y),\r\n                g = c.panel;\r\n              null !== g && g !== a;\r\n\r\n            )\r\n              g.ig.xa(h),\r\n                h.offset(-g.measuredBounds.x, -g.measuredBounds.y),\r\n                (g = g.panel);\r\n          else h.Fk(c, d, e, f, g);\r\n          b.rotate(a.ic, h.x, h.y);\r\n          J.free(h);\r\n        }\r\n      }\r\n      t.v = function (a) {\r\n        void 0 === a && (a = !1);\r\n        if (!0 !== Gj(this)) {\r\n          Bj(this, !0);\r\n          Al(this, !0);\r\n          var b = this.panel;\r\n          null === b || a || b.v();\r\n        }\r\n      };\r\n      t.xm = function () {\r\n        !0 !== Gj(this) && (Bj(this, !0), Al(this, !0));\r\n      };\r\n\r\n      function Rl(a) {\r\n        if (!1 === Hj(a)) {\r\n          var b = a.panel;\r\n          null !== b\r\n            ? b.v()\r\n            : a.Gf() &&\r\n              ((b = a.diagram),\r\n              null !== b && (b.Nd.add(a), a instanceof U && a.nd(), b.cc()));\r\n          Al(a, !0);\r\n        }\r\n      }\r\n      t.yl = function () {\r\n        (0 !== (this.I & 2048)) === !1 && (Pl(this, !0), Ql(this, !0));\r\n      };\r\n      t.Kv = function () {\r\n        Ql(this, !0);\r\n      };\r\n      t.R = function () {\r\n        var a = this.part;\r\n        null !== a && a.R();\r\n      };\r\n\r\n      function zl(a, b) {\r\n        var c = a.stretch,\r\n          d = a.panel;\r\n        if (null !== d && d.type === V.Table)\r\n          return Sl(\r\n            a,\r\n            d.getRowDefinition(a.row),\r\n            d.getColumnDefinition(a.column),\r\n            b\r\n          );\r\n        if (null !== d && d.type === V.Auto && d.Fb() === a)\r\n          return Tl(a, Id, b);\r\n        if (c === jl) {\r\n          if (null !== d) {\r\n            if (d.type === V.Spot && d.Fb() === a) return Tl(a, Id, b);\r\n            c = d.defaultStretch;\r\n            return c === jl ? Tl(a, Og, b) : Tl(a, c, b);\r\n          }\r\n          return Tl(a, Og, b);\r\n        }\r\n        return Tl(a, c, b);\r\n      }\r\n\r\n      function Sl(a, b, c, d) {\r\n        var e = a.stretch;\r\n        if (e !== jl) return Tl(a, e, d);\r\n        var f = (e = null);\r\n        switch (b.stretch) {\r\n          case ll:\r\n            f = !0;\r\n            break;\r\n          case Id:\r\n            f = !0;\r\n        }\r\n        switch (c.stretch) {\r\n          case kl:\r\n            e = !0;\r\n            break;\r\n          case Id:\r\n            e = !0;\r\n        }\r\n        b = a.panel.defaultStretch;\r\n        null === e && (e = b === kl || b === Id);\r\n        null === f && (f = b === ll || b === Id);\r\n        return !0 === e && !0 === f\r\n          ? Tl(a, Id, d)\r\n          : !0 === e\r\n          ? Tl(a, kl, d)\r\n          : !0 === f\r\n          ? Tl(a, ll, d)\r\n          : Tl(a, Og, d);\r\n      }\r\n\r\n      function Tl(a, b, c) {\r\n        if (c) return b;\r\n        if (b === Og) return Og;\r\n        c = a.desiredSize;\r\n        if (c.o()) return Og;\r\n        a = a.angle;\r\n        if (!isNaN(c.width))\r\n          if (90 !== a && 270 !== a) {\r\n            if (b === kl) return Og;\r\n            if (b === Id) return ll;\r\n          } else {\r\n            if (b === ll) return Og;\r\n            if (b === Id) return kl;\r\n          }\r\n        if (!isNaN(c.height))\r\n          if (90 !== a && 270 !== a) {\r\n            if (b === ll) return Og;\r\n            if (b === Id) return kl;\r\n          } else {\r\n            if (b === kl) return Og;\r\n            if (b === Id) return ll;\r\n          }\r\n        return b;\r\n      }\r\n\r\n      function Kl(a, b) {\r\n        a.I = b ? a.I | 512 : a.I & -513;\r\n      }\r\n\r\n      function tl(a) {\r\n        return 0 !== (a.I & 1024);\r\n      }\r\n\r\n      function Ul(a, b) {\r\n        a.I = b ? a.I | 1024 : a.I & -1025;\r\n      }\r\n\r\n      function Pl(a, b) {\r\n        a.I = b ? a.I | 2048 : a.I & -2049;\r\n      }\r\n\r\n      function Ql(a, b) {\r\n        a.I = b ? a.I | 4096 : a.I & -4097;\r\n      }\r\n\r\n      function Gj(a) {\r\n        return 0 !== (a.I & 8192);\r\n      }\r\n\r\n      function Bj(a, b) {\r\n        a.I = b ? a.I | 8192 : a.I & -8193;\r\n      }\r\n\r\n      function Hj(a) {\r\n        return 0 !== (a.I & 16384);\r\n      }\r\n\r\n      function Al(a, b) {\r\n        a.I = b ? a.I | 16384 : a.I & -16385;\r\n      }\r\n      t.lj = function (a) {\r\n        this.wg = a;\r\n      };\r\n      t.kw = function () {};\r\n      t.jw = function (a) {\r\n        this.ra.assign(a);\r\n        Rl(this);\r\n        return !0;\r\n      };\r\n      t.Qq = function (a, b) {\r\n        if (this.ra.x !== a || this.ra.y !== b) this.ra.h(a, b), this.yl();\r\n      };\r\n\r\n      function Vl(a) {\r\n        var b = a.part;\r\n        if (b instanceof U && (null !== a.portId || a === b.port)) {\r\n          var c = b.diagram;\r\n          null === c || c.undoManager.isUndoingRedoing || Dl(b, a);\r\n        }\r\n      }\r\n\r\n      function Wl(a) {\r\n        var b = a.diagram;\r\n        null === b ||\r\n          b.undoManager.isUndoingRedoing ||\r\n          (a instanceof V\r\n            ? a instanceof U\r\n              ? a.nd()\r\n              : a.Hk(a, function (a) {\r\n                  Vl(a);\r\n                })\r\n            : Vl(a));\r\n      }\r\n      t.bind = function (a) {\r\n        a.hd = this;\r\n        var b = this.aj();\r\n        null !== b &&\r\n          Xl(b) &&\r\n          v(\r\n            \"Cannot add a Binding to a template that has already been copied: \" +\r\n              a\r\n          );\r\n        null === this.gb && (this.gb = new G());\r\n        this.gb.add(a);\r\n      };\r\n      t.aj = function () {\r\n        for (var a = this instanceof V ? this : this.panel; null !== a; ) {\r\n          if (null !== a.hi) return a;\r\n          a = a.panel;\r\n        }\r\n        return null;\r\n      };\r\n      t.lw = function (a) {\r\n        Nj(this, a);\r\n      };\r\n\r\n      function Yl(a, b) {\r\n        b.hd = a;\r\n        null === a.Tg && (a.Tg = new Db());\r\n        a.Tg.add(b.propertyName, b);\r\n      }\r\n\r\n      function Zl(a, b) {\r\n        for (var c = 1; c < arguments.length; ++c);\r\n        c = arguments;\r\n        var d = null,\r\n          e = null;\r\n        if (\"function\" === typeof a) e = a;\r\n        else if (\"string\" === typeof a) {\r\n          var f = $l.K(a);\r\n          \"function\" === typeof f\r\n            ? ((c = Ia(arguments)),\r\n              (d = f(c)),\r\n              Fa(d) ||\r\n                v(\r\n                  'GraphObject.make invoked object builder \"' +\r\n                    a +\r\n                    '\", but it did not return an Object'\r\n                ))\r\n            : (e = pa.go[a]);\r\n        }\r\n        null === d &&\r\n          ((void 0 !== e && null !== e && e.constructor) ||\r\n            v(\r\n              \"GraphObject.make requires a class function or GoJS class name or name of an object builder, not: \" +\r\n                a\r\n            ),\r\n          (d = new e()));\r\n        e = 1;\r\n        if (d instanceof P && 1 < c.length) {\r\n          f = d;\r\n          var g = c[1];\r\n          if (\"string\" === typeof g || g instanceof HTMLDivElement)\r\n            Ui(f, g), e++;\r\n        }\r\n        for (; e < c.length; e++)\r\n          (f = c[e]),\r\n            void 0 === f\r\n              ? v(\r\n                  \"Undefined value at argument \" +\r\n                    e +\r\n                    \" for object being constructed by GraphObject.make: \" +\r\n                    d\r\n                )\r\n              : am(d, f);\r\n        return d;\r\n      }\r\n\r\n      function am(a, b) {\r\n        if (\"string\" === typeof b)\r\n          if (a instanceof kh) a.text = b;\r\n          else if (a instanceof $f) a.figure = b;\r\n          else if (a instanceof Ak) a.source = b;\r\n          else if (a instanceof V) {\r\n            var c = bm.K(b);\r\n            null !== c\r\n              ? (a.type = c)\r\n              : F &&\r\n                v(\r\n                  \"Unknown Panel type as an argument to GraphObject.make: \" +\r\n                    b +\r\n                    \". If building from source, you may need to call Panel.definePanelLayout.\"\r\n                );\r\n          } else\r\n            a instanceof Il\r\n              ? ((c = gb(Il, b)),\r\n                null !== c\r\n                  ? (a.type = c)\r\n                  : v(\r\n                      \"Unknown Brush type as an argument to GraphObject.make: \" +\r\n                        b\r\n                    ))\r\n              : a instanceof Gd\r\n              ? ((c = gb(Gd, b)),\r\n                null !== c\r\n                  ? (a.type = c)\r\n                  : F &&\r\n                    v(\r\n                      \"Unknown Geometry type as an argument to GraphObject.make: \" +\r\n                        b\r\n                    ))\r\n              : a instanceof te\r\n              ? ((c = gb(te, b)),\r\n                null !== c\r\n                  ? (a.type = c)\r\n                  : F &&\r\n                    v(\r\n                      \"Unknown PathSegment type as an argument to GraphObject.make: \" +\r\n                        b\r\n                    ))\r\n              : F &&\r\n                v(\r\n                  \"Unable to use a string as an argument to GraphObject.make: \" +\r\n                    b\r\n                );\r\n        else if (b instanceof N)\r\n          a instanceof V ||\r\n            v(\"A GraphObject can only be added to a Panel, not to: \" + a),\r\n            a.add(b);\r\n        else if (b instanceof hk) {\r\n          var d;\r\n          b.isRow && \"function\" === typeof a.getRowDefinition\r\n            ? (d = a.getRowDefinition(b.index))\r\n            : b.isRow ||\r\n              \"function\" !== typeof a.getColumnDefinition ||\r\n              (d = a.getColumnDefinition(b.index));\r\n          d instanceof hk\r\n            ? d.ft(b)\r\n            : v(\r\n                \"A RowColumnDefinition can only be added to an object that implements getRowDefinition/getColumnDefinition, not to: \" +\r\n                  a\r\n              );\r\n        } else if (b instanceof E)\r\n          \"function\" === typeof a.jb ? a.jb(b) : Ba(a, b);\r\n        else if (b instanceof cm) a.type = b;\r\n        else if (b instanceof Yi)\r\n          a instanceof N\r\n            ? a.bind(b)\r\n            : a instanceof hk\r\n            ? a.bind(b)\r\n            : v(\r\n                \"A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: \" +\r\n                  a\r\n              );\r\n        else if (b instanceof ni)\r\n          a instanceof N\r\n            ? Yl(a, b)\r\n            : v(\r\n                \"An AnimationTrigger can only be applied to a GraphObject, not to: \" +\r\n                  a\r\n              );\r\n        else if (b instanceof se)\r\n          a instanceof Gd\r\n            ? a.figures.add(b)\r\n            : v(\"A PathFigure can only be added to a Geometry, not to: \" + a);\r\n        else if (b instanceof te)\r\n          a instanceof se\r\n            ? a.segments.add(b)\r\n            : v(\r\n                \"A PathSegment can only be added to a PathFigure, not to: \" + a\r\n              );\r\n        else if (b instanceof Si)\r\n          a instanceof P\r\n            ? (a.layout = b)\r\n            : a instanceof Kf\r\n            ? (a.layout = b)\r\n            : v(\r\n                \"A Layout can only be assigned to a Diagram or a Group, not to: \" +\r\n                  a\r\n              );\r\n        else if (Array.isArray(b)) for (c = 0; c < b.length; c++) am(a, b[c]);\r\n        else if (\"object\" === typeof b && null !== b)\r\n          if (a instanceof Il) {\r\n            c = new jb();\r\n            for (var e in b)\r\n              (d = parseFloat(e)),\r\n                isNaN(d) ? (c[e] = b[e]) : a.addColorStop(d, b[e]);\r\n            Nj(a, c);\r\n          } else if (a instanceof hk) {\r\n            void 0 !== b.row\r\n              ? ((e = b.row),\r\n                (void 0 === e ||\r\n                  null === e ||\r\n                  Infinity === e ||\r\n                  isNaN(e) ||\r\n                  0 > e) &&\r\n                  v(\r\n                    \"Must specify non-negative integer row for RowColumnDefinition \" +\r\n                      b +\r\n                      \", not: \" +\r\n                      e\r\n                  ),\r\n                (a.isRow = !0),\r\n                (a.index = e))\r\n              : void 0 !== b.column &&\r\n                ((e = b.column),\r\n                (void 0 === e ||\r\n                  null === e ||\r\n                  Infinity === e ||\r\n                  isNaN(e) ||\r\n                  0 > e) &&\r\n                  v(\r\n                    \"Must specify non-negative integer column for RowColumnDefinition \" +\r\n                      b +\r\n                      \", not: \" +\r\n                      e\r\n                  ),\r\n                (a.isRow = !1),\r\n                (a.index = e));\r\n            e = new jb();\r\n            for (c in b) \"row\" !== c && \"column\" !== c && (e[c] = b[c]);\r\n            Nj(a, e);\r\n          } else Nj(a, b);\r\n        else\r\n          v(\r\n            'Unknown initializer \"' +\r\n              b +\r\n              '\" for object being constructed by GraphObject.make: ' +\r\n              a\r\n          );\r\n      }\r\n\r\n      function dm(a, b) {\r\n        A(a, \"string\", N, \"defineBuilder:name\");\r\n        A(b, \"function\", N, \"defineBuilder:func\");\r\n        var c = a.toLowerCase();\r\n        F &&\r\n          (\"\" === a || \"none\" === c || a === c) &&\r\n          v(\r\n            \"Shape.defineFigureGenerator name must not be empty or None or all-lower-case: \" +\r\n              a\r\n          );\r\n        $l.add(a, b);\r\n      }\r\n\r\n      function em(a, b, c) {\r\n        void 0 === c && (c = null);\r\n        var d = a[1];\r\n        if (\"function\" === typeof c ? c(d) : \"string\" === typeof d)\r\n          return a.splice(1, 1), d;\r\n        if (void 0 === b)\r\n          throw Error(\r\n            \"no \" +\r\n              (\"function\" === typeof c ? \"satisfactory\" : \"string\") +\r\n              \" argument for GraphObject builder \" +\r\n              a[0]\r\n          );\r\n        return b;\r\n      }\r\n      ma.Object.defineProperties(N.prototype, {\r\n        shadowVisible: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Wl;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Wl;\r\n            b !== a &&\r\n              (F && null !== a && A(a, \"boolean\", N, \"shadowVisible\"),\r\n              (this.Wl = a),\r\n              this.R(),\r\n              this.g(\"shadowVisible\", b, a));\r\n          },\r\n        },\r\n        enabledChanged: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.P ? this.P.On : null;\r\n          },\r\n          set: function (a) {\r\n            ql(this);\r\n            var b = this.P.On;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", N, \"enabledChanged\"),\r\n              (this.P.On = a),\r\n              this.g(\"enabledChanged\", b, a));\r\n          },\r\n        },\r\n        segmentOrientation: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.Ul;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Ul;\r\n            b !== a &&\r\n              (F && hb(a, Q, N, \"segmentOrientation\"),\r\n              (this.Ul = a),\r\n              this.v(),\r\n              this.g(\"segmentOrientation\", b, a),\r\n              a === qg && (this.angle = 0));\r\n          },\r\n        },\r\n        segmentIndex: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Cp;\r\n          },\r\n          set: function (a) {\r\n            F && A(a, \"number\", N, \"segmentIndex\");\r\n            a = Math.round(a);\r\n            var b = this.Cp;\r\n            b !== a && ((this.Cp = a), this.v(), this.g(\"segmentIndex\", b, a));\r\n          },\r\n        },\r\n        segmentFraction: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Sl;\r\n          },\r\n          set: function (a) {\r\n            F && A(a, \"number\", N, \"segmentFraction\");\r\n            isNaN(a) ? (a = 0) : 0 > a ? (a = 0) : 1 < a && (a = 1);\r\n            var b = this.Sl;\r\n            b !== a &&\r\n              ((this.Sl = a), this.v(), this.g(\"segmentFraction\", b, a));\r\n          },\r\n        },\r\n        segmentOffset: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Tl;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Tl;\r\n            b.B(a) ||\r\n              (F && w(a, J, N, \"segmentOffset\"),\r\n              (this.Tl = a = a.J()),\r\n              this.v(),\r\n              this.g(\"segmentOffset\", b, a));\r\n          },\r\n        },\r\n        stretch: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ee;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Ee;\r\n            b !== a &&\r\n              (F && hb(a, N, N, \"stretch\"),\r\n              (this.Ee = a),\r\n              this.v(),\r\n              this.g(\"stretch\", b, a));\r\n          },\r\n        },\r\n        name: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Wa;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Wa;\r\n            b !== a &&\r\n              (F && A(a, \"string\", N, \"name\"),\r\n              (this.Wa = a),\r\n              null !== this.part && (this.part.Nj = null),\r\n              this.g(\"name\", b, a));\r\n          },\r\n        },\r\n        opacity: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ub;\r\n          },\r\n          set: function (a) {\r\n            var b = this.ub;\r\n            b !== a &&\r\n              (A(a, \"number\", N, \"opacity\"),\r\n              (0 > a || 1 < a) && ya(a, \"0 <= value <= 1\", N, \"opacity\"),\r\n              (this.ub = a),\r\n              this.g(\"opacity\", b, a),\r\n              (a = this.diagram),\r\n              (b = this.part),\r\n              null !== a && null !== b && a.R(Rj(b, b.actualBounds)));\r\n          },\r\n        },\r\n        visible: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return 0 !== (this.I & 1);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.I & 1);\r\n            b !== a &&\r\n              (F && A(a, \"boolean\", N, \"visible\"),\r\n              (this.I ^= 1),\r\n              this.g(\"visible\", b, a),\r\n              (b = this.panel),\r\n              null !== b ? b.v() : this.Gf() && this.Tb(a),\r\n              this.R(),\r\n              Wl(this));\r\n          },\r\n        },\r\n        pickable: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.I & 2);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.I & 2);\r\n            b !== a &&\r\n              (F && A(a, \"boolean\", N, \"pickable\"),\r\n              (this.I ^= 2),\r\n              this.g(\"pickable\", b, a));\r\n          },\r\n        },\r\n        fromLinkableDuplicates: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.I & 4);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.I & 4);\r\n            b !== a &&\r\n              (F && A(a, \"boolean\", N, \"fromLinkableDuplicates\"),\r\n              (this.I ^= 4),\r\n              this.g(\"fromLinkableDuplicates\", b, a));\r\n          },\r\n        },\r\n        fromLinkableSelfNode: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.I & 8);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.I & 8);\r\n            b !== a &&\r\n              (F && A(a, \"boolean\", N, \"fromLinkableSelfNode\"),\r\n              (this.I ^= 8),\r\n              this.g(\"fromLinkableSelfNode\", b, a));\r\n          },\r\n        },\r\n        toLinkableDuplicates: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.I & 16);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.I & 16);\r\n            b !== a &&\r\n              (F && A(a, \"boolean\", N, \"toLinkableDuplicates\"),\r\n              (this.I ^= 16),\r\n              this.g(\"toLinkableDuplicates\", b, a));\r\n          },\r\n        },\r\n        toLinkableSelfNode: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.I & 32);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.I & 32);\r\n            b !== a &&\r\n              (F && A(a, \"boolean\", N, \"toLinkableSelfNode\"),\r\n              (this.I ^= 32),\r\n              this.g(\"toLinkableSelfNode\", b, a));\r\n          },\r\n        },\r\n        isPanelMain: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.I & 64);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.I & 64);\r\n            b !== a &&\r\n              (F && A(a, \"boolean\", N, \"isPanelMain\"),\r\n              (this.I ^= 64),\r\n              this.v(),\r\n              this.g(\"isPanelMain\", b, a));\r\n          },\r\n        },\r\n        isActionable: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.I & 128);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.I & 128);\r\n            b !== a &&\r\n              (F && A(a, \"boolean\", N, \"isActionable\"),\r\n              (this.I ^= 128),\r\n              this.g(\"isActionable\", b, a));\r\n          },\r\n        },\r\n        areaBackground: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.jc;\r\n          },\r\n          set: function (a) {\r\n            var b = this.jc;\r\n            b !== a &&\r\n              (null !== a && fm(a, \"GraphObject.areaBackground\"),\r\n              a instanceof Il && a.freeze(),\r\n              (this.jc = a),\r\n              this.R(),\r\n              this.g(\"areaBackground\", b, a));\r\n          },\r\n        },\r\n        background: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.mb;\r\n          },\r\n          set: function (a) {\r\n            var b = this.mb;\r\n            b !== a &&\r\n              (null !== a && fm(a, \"GraphObject.background\"),\r\n              a instanceof Il && a.freeze(),\r\n              (this.mb = a),\r\n              this.R(),\r\n              this.g(\"background\", b, a));\r\n          },\r\n        },\r\n        part: {\r\n          configurable: !0,\r\n          get: function () {\r\n            if (this.Gf()) return this;\r\n            if (null !== this.Rj) return this.Rj;\r\n            var a;\r\n            for (a = this.panel; a; ) {\r\n              if (a instanceof S) return (this.Rj = a);\r\n              a = a.panel;\r\n            }\r\n            return null;\r\n          },\r\n        },\r\n        svg: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ss;\r\n          },\r\n          set: function (a) {\r\n            this.Ss = a;\r\n          },\r\n        },\r\n        panel: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.wg;\r\n          },\r\n        },\r\n        layer: {\r\n          configurable: !0,\r\n          get: function () {\r\n            var a = this.part;\r\n            return null !== a ? a.layer : null;\r\n          },\r\n        },\r\n        diagram: {\r\n          configurable: !0,\r\n          get: function () {\r\n            var a = this.part;\r\n            return null !== a ? a.diagram : null;\r\n          },\r\n        },\r\n        position: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ra;\r\n          },\r\n          set: function (a) {\r\n            F && w(a, J, N, \"position\");\r\n            var b = a.x,\r\n              c = a.y,\r\n              d = this.ra,\r\n              e = d.x,\r\n              f = d.y;\r\n            (e === b || (isNaN(e) && isNaN(b))) &&\r\n            (f === c || (isNaN(f) && isNaN(c)))\r\n              ? this.kw()\r\n              : ((a = a.copy()),\r\n                this.jw(a, d) && this.g(\"position\", d.copy(), a));\r\n          },\r\n        },\r\n        actualBounds: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ab;\r\n          },\r\n        },\r\n        scale: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ea;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Ea;\r\n            b !== a &&\r\n              (F && C(a, N, \"scale\"),\r\n              0 >= a &&\r\n                v(\r\n                  \"GraphObject.scale for \" +\r\n                    this +\r\n                    \" must be greater than zero, not: \" +\r\n                    a\r\n                ),\r\n              (this.Ea = a),\r\n              this.v(),\r\n              this.g(\"scale\", b, a));\r\n          },\r\n        },\r\n        angle: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ic;\r\n          },\r\n          set: function (a) {\r\n            var b = this.ic;\r\n            b !== a &&\r\n              (F && C(a, N, \"angle\"),\r\n              (a %= 360),\r\n              0 > a && (a += 360),\r\n              b !== a &&\r\n                ((this.ic = a), Wl(this), this.v(), this.g(\"angle\", b, a)));\r\n          },\r\n        },\r\n        desiredSize: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Rc;\r\n          },\r\n          set: function (a) {\r\n            F && w(a, Jb, N, \"desiredSize\");\r\n            var b = a.width,\r\n              c = a.height,\r\n              d = this.Rc,\r\n              e = d.width,\r\n              f = d.height;\r\n            ((e === b || (isNaN(e) && isNaN(b))) &&\r\n              (f === c || (isNaN(f) && isNaN(c)))) ||\r\n              ((this.Rc = a = a.J()),\r\n              this.v(),\r\n              this instanceof $f && this.hc(),\r\n              this.g(\"desiredSize\", d, a),\r\n              tl(this) &&\r\n                ((a = this.part),\r\n                null !== a && (ul(this, a, \"width\"), ul(this, a, \"height\"))));\r\n          },\r\n        },\r\n        width: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Rc.width;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Rc.width;\r\n            b === a ||\r\n              (isNaN(b) && isNaN(a)) ||\r\n              (F && A(a, \"number\", N, \"width\"),\r\n              (b = this.Rc),\r\n              (this.Rc = a = new Jb(a, this.Rc.height).freeze()),\r\n              this.v(),\r\n              this instanceof $f && this.hc(),\r\n              this.g(\"desiredSize\", b, a),\r\n              tl(this) &&\r\n                ((a = this.part), null !== a && ul(this, a, \"width\")));\r\n          },\r\n        },\r\n        height: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Rc.height;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Rc.height;\r\n            b === a ||\r\n              (isNaN(b) && isNaN(a)) ||\r\n              (F && A(a, \"number\", N, \"height\"),\r\n              (b = this.Rc),\r\n              (this.Rc = a = new Jb(this.Rc.width, a).freeze()),\r\n              this.v(),\r\n              this instanceof $f && this.hc(),\r\n              this.g(\"desiredSize\", b, a),\r\n              tl(this) &&\r\n                ((a = this.part), null !== a && ul(this, a, \"height\")));\r\n          },\r\n        },\r\n        minSize: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.lg;\r\n          },\r\n          set: function (a) {\r\n            var b = this.lg;\r\n            b.B(a) ||\r\n              (F && w(a, Jb, N, \"minSize\"),\r\n              (a = a.copy()),\r\n              isNaN(a.width) && (a.width = 0),\r\n              isNaN(a.height) && (a.height = 0),\r\n              a.freeze(),\r\n              (this.lg = a),\r\n              this.v(),\r\n              this.g(\"minSize\", b, a));\r\n          },\r\n        },\r\n        maxSize: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.kg;\r\n          },\r\n          set: function (a) {\r\n            var b = this.kg;\r\n            b.B(a) ||\r\n              (F && w(a, Jb, N, \"maxSize\"),\r\n              (a = a.copy()),\r\n              isNaN(a.width) && (a.width = Infinity),\r\n              isNaN(a.height) && (a.height = Infinity),\r\n              a.freeze(),\r\n              (this.kg = a),\r\n              this.v(),\r\n              this.g(\"maxSize\", b, a));\r\n          },\r\n        },\r\n        measuredBounds: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.tc;\r\n          },\r\n        },\r\n        naturalBounds: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.uc;\r\n          },\r\n        },\r\n        margin: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.oh;\r\n          },\r\n          set: function (a) {\r\n            \"number\" === typeof a\r\n              ? (a = new lc(a))\r\n              : F && w(a, lc, N, \"margin\");\r\n            var b = this.oh;\r\n            b.B(a) || ((this.oh = a = a.J()), this.v(), this.g(\"margin\", b, a));\r\n          },\r\n        },\r\n        transform: {\r\n          configurable: !0,\r\n          get: function () {\r\n            (0 !== (this.I & 2048)) === !0 && Fl(this);\r\n            return this.xb;\r\n          },\r\n        },\r\n        yd: {\r\n          configurable: !0,\r\n          get: function () {\r\n            (0 !== (this.I & 4096)) === !0 && Fl(this);\r\n            return this.Vh;\r\n          },\r\n        },\r\n        alignment: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Bb;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Bb;\r\n            b.B(a) ||\r\n              (F && w(a, M, N, \"alignment\"),\r\n              a.Sb() &&\r\n                !a.Gb() &&\r\n                v(\r\n                  \"GraphObject.alignment for \" +\r\n                    this +\r\n                    \" must be a real Spot or Spot.Default, not: \" +\r\n                    a\r\n                ),\r\n              (this.Bb = a = a.J()),\r\n              Rl(this),\r\n              this.g(\"alignment\", b, a));\r\n          },\r\n        },\r\n        column: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Yg;\r\n          },\r\n          set: function (a) {\r\n            F && C(a, N, \"column\");\r\n            a = Math.round(a);\r\n            var b = this.Yg;\r\n            b !== a &&\r\n              (0 > a && ya(a, \">= 0\", N, \"column\"),\r\n              (this.Yg = a),\r\n              this.v(),\r\n              this.g(\"column\", b, a));\r\n          },\r\n        },\r\n        columnSpan: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.rn;\r\n          },\r\n          set: function (a) {\r\n            F && A(a, \"number\", N, \"columnSpan\");\r\n            a = Math.round(a);\r\n            var b = this.rn;\r\n            b !== a &&\r\n              (1 > a && ya(a, \">= 1\", N, \"columnSpan\"),\r\n              (this.rn = a),\r\n              this.v(),\r\n              this.g(\"columnSpan\", b, a));\r\n          },\r\n        },\r\n        row: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.wp;\r\n          },\r\n          set: function (a) {\r\n            F && C(a, N, \"row\");\r\n            a = Math.round(a);\r\n            var b = this.wp;\r\n            b !== a &&\r\n              (0 > a && ya(a, \">= 0\", N, \"row\"),\r\n              (this.wp = a),\r\n              this.v(),\r\n              this.g(\"row\", b, a));\r\n          },\r\n        },\r\n        rowSpan: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.xp;\r\n          },\r\n          set: function (a) {\r\n            F && A(a, \"number\", N, \"rowSpan\");\r\n            a = Math.round(a);\r\n            var b = this.xp;\r\n            b !== a &&\r\n              (1 > a && ya(a, \">= 1\", N, \"rowSpan\"),\r\n              (this.xp = a),\r\n              this.v(),\r\n              this.g(\"rowSpan\", b, a));\r\n          },\r\n        },\r\n        spanAllocation: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Pp;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Pp;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", N, \"spanAllocation\"),\r\n              (this.Pp = a),\r\n              this.v(),\r\n              this.g(\"spanAllocation\", b, a));\r\n          },\r\n        },\r\n        alignmentFocus: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Nk;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Nk;\r\n            b.B(a) ||\r\n              (F && w(a, M, N, \"alignmentFocus\"),\r\n              !F ||\r\n                !a.Sb() ||\r\n                a.Gb() ||\r\n                (a.zq() && this instanceof U) ||\r\n                v(\r\n                  \"GraphObject.alignmentFocus must be a real Spot or Spot.Default, not: \" +\r\n                    a\r\n                ),\r\n              (this.Nk = a = a.J()),\r\n              this.v(),\r\n              this.g(\"alignmentFocus\", b, a));\r\n          },\r\n        },\r\n        portId: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.hp;\r\n          },\r\n          set: function (a) {\r\n            var b = this.hp;\r\n            if (b !== a) {\r\n              F && null !== a && A(a, \"string\", N, \"portId\");\r\n              var c = this.part;\r\n              null === c ||\r\n                c instanceof U ||\r\n                (v(\"Cannot set portID on a Link: \" + a), (c = null));\r\n              null !== b && null !== c && gm(c, this);\r\n              this.hp = a;\r\n              null !== a && null !== c && ((c.Oh = !0), hm(c, this));\r\n              this.g(\"portId\", b, a);\r\n            }\r\n          },\r\n        },\r\n        toSpot: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.S ? this.S.Fh : Gc;\r\n          },\r\n          set: function (a) {\r\n            this.Kc();\r\n            var b = this.S.Fh;\r\n            b.B(a) ||\r\n              (F && w(a, M, N, \"toSpot\"),\r\n              (a = a.J()),\r\n              (this.S.Fh = a),\r\n              this.g(\"toSpot\", b, a),\r\n              Vl(this));\r\n          },\r\n        },\r\n        toEndSegmentLength: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.S ? this.S.Dh : 10;\r\n          },\r\n          set: function (a) {\r\n            this.Kc();\r\n            var b = this.S.Dh;\r\n            b !== a &&\r\n              (F && A(a, \"number\", N, \"toEndSegmentLength\"),\r\n              0 > a && ya(a, \">= 0\", N, \"toEndSegmentLength\"),\r\n              (this.S.Dh = a),\r\n              this.g(\"toEndSegmentLength\", b, a),\r\n              Vl(this));\r\n          },\r\n        },\r\n        toShortLength: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.S ? this.S.Eh : 0;\r\n          },\r\n          set: function (a) {\r\n            this.Kc();\r\n            var b = this.S.Eh;\r\n            b !== a &&\r\n              (F && A(a, \"number\", N, \"toShortLength\"),\r\n              (this.S.Eh = a),\r\n              this.g(\"toShortLength\", b, a),\r\n              Vl(this));\r\n          },\r\n        },\r\n        toLinkable: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.S ? this.S.Xp : null;\r\n          },\r\n          set: function (a) {\r\n            this.Kc();\r\n            var b = this.S.Xp;\r\n            b !== a &&\r\n              (F && null !== a && A(a, \"boolean\", N, \"toLinkable\"),\r\n              (this.S.Xp = a),\r\n              this.g(\"toLinkable\", b, a));\r\n          },\r\n        },\r\n        toMaxLinks: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.S ? this.S.Yp : Infinity;\r\n          },\r\n          set: function (a) {\r\n            this.Kc();\r\n            var b = this.S.Yp;\r\n            b !== a &&\r\n              (F && A(a, \"number\", N, \"toMaxLinks\"),\r\n              0 > a && ya(a, \">= 0\", N, \"toMaxLinks\"),\r\n              (this.S.Yp = a),\r\n              this.g(\"toMaxLinks\", b, a));\r\n          },\r\n        },\r\n        fromSpot: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.S ? this.S.hh : Gc;\r\n          },\r\n          set: function (a) {\r\n            this.Kc();\r\n            var b = this.S.hh;\r\n            b.B(a) ||\r\n              (F && w(a, M, N, \"fromSpot\"),\r\n              (a = a.J()),\r\n              (this.S.hh = a),\r\n              this.g(\"fromSpot\", b, a),\r\n              Vl(this));\r\n          },\r\n        },\r\n        fromEndSegmentLength: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.S ? this.S.fh : 10;\r\n          },\r\n          set: function (a) {\r\n            this.Kc();\r\n            var b = this.S.fh;\r\n            b !== a &&\r\n              (F && A(a, \"number\", N, \"fromEndSegmentLength\"),\r\n              0 > a && ya(a, \">= 0\", N, \"fromEndSegmentLength\"),\r\n              (this.S.fh = a),\r\n              this.g(\"fromEndSegmentLength\", b, a),\r\n              Vl(this));\r\n          },\r\n        },\r\n        fromShortLength: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.S ? this.S.gh : 0;\r\n          },\r\n          set: function (a) {\r\n            this.Kc();\r\n            var b = this.S.gh;\r\n            b !== a &&\r\n              (F && A(a, \"number\", N, \"fromShortLength\"),\r\n              (this.S.gh = a),\r\n              this.g(\"fromShortLength\", b, a),\r\n              Vl(this));\r\n          },\r\n        },\r\n        fromLinkable: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.S ? this.S.Sn : null;\r\n          },\r\n          set: function (a) {\r\n            this.Kc();\r\n            var b = this.S.Sn;\r\n            b !== a &&\r\n              (F && null !== a && A(a, \"boolean\", N, \"fromLinkable\"),\r\n              (this.S.Sn = a),\r\n              this.g(\"fromLinkable\", b, a));\r\n          },\r\n        },\r\n        fromMaxLinks: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.S ? this.S.Tn : Infinity;\r\n          },\r\n          set: function (a) {\r\n            this.Kc();\r\n            var b = this.S.Tn;\r\n            b !== a &&\r\n              (F && A(a, \"number\", N, \"fromMaxLinks\"),\r\n              0 > a && ya(a, \">= 0\", N, \"fromMaxLinks\"),\r\n              (this.S.Tn = a),\r\n              this.g(\"fromMaxLinks\", b, a));\r\n          },\r\n        },\r\n        cursor: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ki;\r\n          },\r\n          set: function (a) {\r\n            var b = this.ki;\r\n            b !== a &&\r\n              (A(a, \"string\", N, \"cursor\"),\r\n              (this.ki = a),\r\n              this.g(\"cursor\", b, a));\r\n          },\r\n        },\r\n        click: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.P ? this.P.Wf : null;\r\n          },\r\n          set: function (a) {\r\n            ql(this);\r\n            var b = this.P.Wf;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", N, \"click\"),\r\n              (this.P.Wf = a),\r\n              this.g(\"click\", b, a));\r\n          },\r\n        },\r\n        doubleClick: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.P ? this.P.ag : null;\r\n          },\r\n          set: function (a) {\r\n            ql(this);\r\n            var b = this.P.ag;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", N, \"doubleClick\"),\r\n              (this.P.ag = a),\r\n              this.g(\"doubleClick\", b, a));\r\n          },\r\n        },\r\n        contextClick: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.P ? this.P.Xf : null;\r\n          },\r\n          set: function (a) {\r\n            ql(this);\r\n            var b = this.P.Xf;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", N, \"contextClick\"),\r\n              (this.P.Xf = a),\r\n              this.g(\"contextClick\", b, a));\r\n          },\r\n        },\r\n        mouseEnter: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.P ? this.P.ng : null;\r\n          },\r\n          set: function (a) {\r\n            ql(this);\r\n            var b = this.P.ng;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", N, \"mouseEnter\"),\r\n              (this.P.ng = a),\r\n              this.g(\"mouseEnter\", b, a));\r\n          },\r\n        },\r\n        mouseLeave: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.P ? this.P.qg : null;\r\n          },\r\n          set: function (a) {\r\n            ql(this);\r\n            var b = this.P.qg;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", N, \"mouseLeave\"),\r\n              (this.P.qg = a),\r\n              this.g(\"mouseLeave\", b, a));\r\n          },\r\n        },\r\n        mouseOver: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.P ? this.P.rg : null;\r\n          },\r\n          set: function (a) {\r\n            ql(this);\r\n            var b = this.P.rg;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", N, \"mouseOver\"),\r\n              (this.P.rg = a),\r\n              this.g(\"mouseOver\", b, a));\r\n          },\r\n        },\r\n        mouseHover: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.P ? this.P.pg : null;\r\n          },\r\n          set: function (a) {\r\n            ql(this);\r\n            var b = this.P.pg;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", N, \"mouseHover\"),\r\n              (this.P.pg = a),\r\n              this.g(\"mouseHover\", b, a));\r\n          },\r\n        },\r\n        mouseHold: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.P ? this.P.og : null;\r\n          },\r\n          set: function (a) {\r\n            ql(this);\r\n            var b = this.P.og;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", N, \"mouseHold\"),\r\n              (this.P.og = a),\r\n              this.g(\"mouseHold\", b, a));\r\n          },\r\n        },\r\n        mouseDragEnter: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return null !== this.P ? this.P.Jo : null;\r\n          },\r\n          set: function (a) {\r\n            ql(this);\r\n            var b = this.P.Jo;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", N, \"mouseDragEnter\"),\r\n              (this.P.Jo = a),\r\n              this.g(\"mouseDragEnter\", b, a));\r\n          },\r\n        },\r\n        mouseDragLeave: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.P ? this.P.Ko : null;\r\n          },\r\n          set: function (a) {\r\n            ql(this);\r\n            var b = this.P.Ko;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", N, \"mouseDragLeave\"),\r\n              (this.P.Ko = a),\r\n              this.g(\"mouseDragLeave\", b, a));\r\n          },\r\n        },\r\n        mouseDrop: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.P ? this.P.mg : null;\r\n          },\r\n          set: function (a) {\r\n            ql(this);\r\n            var b = this.P.mg;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", N, \"mouseDrop\"),\r\n              (this.P.mg = a),\r\n              this.g(\"mouseDrop\", b, a));\r\n          },\r\n        },\r\n        actionDown: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.P ? this.P.an : null;\r\n          },\r\n          set: function (a) {\r\n            ql(this);\r\n            var b = this.P.an;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", N, \"actionDown\"),\r\n              (this.P.an = a),\r\n              this.g(\"actionDown\", b, a));\r\n          },\r\n        },\r\n        actionMove: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.P ? this.P.bn : null;\r\n          },\r\n          set: function (a) {\r\n            ql(this);\r\n            var b = this.P.bn;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", N, \"actionMove\"),\r\n              (this.P.bn = a),\r\n              this.g(\"actionMove\", b, a));\r\n          },\r\n        },\r\n        actionUp: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.P ? this.P.cn : null;\r\n          },\r\n          set: function (a) {\r\n            ql(this);\r\n            var b = this.P.cn;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", N, \"actionUp\"),\r\n              (this.P.cn = a),\r\n              this.g(\"actionUp\", b, a));\r\n          },\r\n        },\r\n        actionCancel: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.P ? this.P.$m : null;\r\n          },\r\n          set: function (a) {\r\n            ql(this);\r\n            var b = this.P.$m;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", N, \"actionCancel\"),\r\n              (this.P.$m = a),\r\n              this.g(\"actionCancel\", b, a));\r\n          },\r\n        },\r\n        toolTip: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.P ? this.P.Dg : null;\r\n          },\r\n          set: function (a) {\r\n            ql(this);\r\n            var b = this.P.Dg;\r\n            b !== a &&\r\n              (!F ||\r\n                null === a ||\r\n                a instanceof Pe ||\r\n                a instanceof $e ||\r\n                v(\"GraphObject.toolTip must be an Adornment or HTMLInfo.\"),\r\n              (this.P.Dg = a),\r\n              this.g(\"toolTip\", b, a));\r\n          },\r\n        },\r\n        contextMenu: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.P ? this.P.Yf : null;\r\n          },\r\n          set: function (a) {\r\n            ql(this);\r\n            var b = this.P.Yf;\r\n            b !== a &&\r\n              (!F ||\r\n                a instanceof Pe ||\r\n                a instanceof $e ||\r\n                v(\"GraphObject.contextMenu must be an Adornment or HTMLInfo.\"),\r\n              (this.P.Yf = a),\r\n              this.g(\"contextMenu\", b, a));\r\n          },\r\n        },\r\n      });\r\n      N.prototype.setProperties = N.prototype.lw;\r\n      N.prototype.findTemplateBinder = N.prototype.aj;\r\n      N.prototype.bind = N.prototype.bind;\r\n      N.prototype.isEnabledObject = N.prototype.Ng;\r\n      N.prototype.isVisibleObject = N.prototype.If;\r\n      N.prototype.isContainedBy = N.prototype.Mg;\r\n      N.prototype.getNearestIntersectionPoint = N.prototype.Zc;\r\n      N.prototype.getLocalPoint = N.prototype.pt;\r\n      N.prototype.getDocumentScale = N.prototype.Df;\r\n      N.prototype.getDocumentAngle = N.prototype.dj;\r\n      N.prototype.getDocumentBounds = N.prototype.tq;\r\n      N.prototype.getDocumentPoint = N.prototype.ma;\r\n      N.prototype.intersectsRect = N.prototype.Mc;\r\n      N.prototype.containedInRect = N.prototype.Mh;\r\n      N.prototype.containsRect = N.prototype.Af;\r\n      N.prototype.containsPoint = N.prototype.ea;\r\n      N.prototype.raiseChanged = N.prototype.g;\r\n      N.prototype.raiseChangedEvent = N.prototype.eb;\r\n      N.prototype.addCopyProperty = N.prototype.zx;\r\n      var $l = null;\r\n      N.className = \"GraphObject\";\r\n      $l = new Db();\r\n      dm(\"Button\", function () {\r\n        function a(a, b) {\r\n          return (\r\n            null !==\r\n            a.diagram.Yb(\r\n              a.documentPoint,\r\n              function (a) {\r\n                for (; null !== a.panel && !a.isActionable; ) a = a.panel;\r\n                return a;\r\n              },\r\n              function (a) {\r\n                return a === b;\r\n              }\r\n            )\r\n          );\r\n        }\r\n        var b = Zl(\r\n          V,\r\n          V.Auto,\r\n          {\r\n            isActionable: !0,\r\n            enabledChanged: function (a, b) {\r\n              if (a instanceof V) {\r\n                var c = a.cb(\"ButtonBorder\");\r\n                null !== c &&\r\n                  (c.fill = b ? a._buttonFillNormal : a._buttonFillDisabled);\r\n              }\r\n            },\r\n            cursor: \"pointer\",\r\n            _buttonFillNormal: \"#F5F5F5\",\r\n            _buttonStrokeNormal: \"#BDBDBD\",\r\n            _buttonFillOver: \"#E0E0E0\",\r\n            _buttonStrokeOver: \"#9E9E9E\",\r\n            _buttonFillPressed: \"#BDBDBD\",\r\n            _buttonStrokePressed: \"#9E9E9E\",\r\n            _buttonFillDisabled: \"#E5E5E5\",\r\n          },\r\n          Zl($f, {\r\n            name: \"ButtonBorder\",\r\n            figure: \"RoundedRectangle\",\r\n            spot1: new M(0, 0, 2.76142374915397, 2.761423749153969),\r\n            spot2: new M(1, 1, -2.76142374915397, -2.761423749153969),\r\n            parameter1: 2,\r\n            parameter2: 2,\r\n            fill: \"#F5F5F5\",\r\n            stroke: \"#BDBDBD\",\r\n          })\r\n        );\r\n        b.mouseEnter = function (a, b) {\r\n          if (\r\n            b.Ng() &&\r\n            b instanceof V &&\r\n            ((a = b.cb(\"ButtonBorder\")), a instanceof $f)\r\n          ) {\r\n            var c = b._buttonFillOver;\r\n            b._buttonFillNormal = a.fill;\r\n            a.fill = c;\r\n            c = b._buttonStrokeOver;\r\n            b._buttonStrokeNormal = a.stroke;\r\n            a.stroke = c;\r\n          }\r\n        };\r\n        b.mouseLeave = function (a, b) {\r\n          b.Ng() &&\r\n            b instanceof V &&\r\n            ((a = b.cb(\"ButtonBorder\")),\r\n            a instanceof $f &&\r\n              ((a.fill = b._buttonFillNormal),\r\n              (a.stroke = b._buttonStrokeNormal)));\r\n        };\r\n        b.actionDown = function (a, b) {\r\n          if (\r\n            b.Ng() &&\r\n            b instanceof V &&\r\n            null !== b._buttonFillPressed &&\r\n            0 === a.button\r\n          ) {\r\n            var c = b.cb(\"ButtonBorder\");\r\n            if (c instanceof $f) {\r\n              a = a.diagram;\r\n              var d = a.skipsUndoManager;\r\n              a.skipsUndoManager = !0;\r\n              var g = b._buttonFillPressed;\r\n              b._buttonFillOver = c.fill;\r\n              c.fill = g;\r\n              g = b._buttonStrokePressed;\r\n              b._buttonStrokeOver = c.stroke;\r\n              c.stroke = g;\r\n              a.skipsUndoManager = d;\r\n            }\r\n          }\r\n        };\r\n        b.actionUp = function (b, d) {\r\n          if (\r\n            d.Ng() &&\r\n            d instanceof V &&\r\n            null !== d._buttonFillPressed &&\r\n            0 === b.button\r\n          ) {\r\n            var c = d.cb(\"ButtonBorder\");\r\n            if (c instanceof $f) {\r\n              var f = b.diagram,\r\n                g = f.skipsUndoManager;\r\n              f.skipsUndoManager = !0;\r\n              a(b, d)\r\n                ? ((c.fill = d._buttonFillOver),\r\n                  (c.stroke = d._buttonStrokeOver))\r\n                : ((c.fill = d._buttonFillNormal),\r\n                  (c.stroke = d._buttonStrokeNormal));\r\n              f.skipsUndoManager = g;\r\n            }\r\n          }\r\n        };\r\n        b.actionCancel = function (b, d) {\r\n          if (d.Ng() && d instanceof V && null !== d._buttonFillPressed) {\r\n            var c = d.cb(\"ButtonBorder\");\r\n            if (c instanceof $f) {\r\n              var f = b.diagram,\r\n                g = f.skipsUndoManager;\r\n              f.skipsUndoManager = !0;\r\n              a(b, d)\r\n                ? ((c.fill = d._buttonFillOver),\r\n                  (c.stroke = d._buttonStrokeOver))\r\n                : ((c.fill = d._buttonFillNormal),\r\n                  (c.stroke = d._buttonStrokeNormal));\r\n              f.skipsUndoManager = g;\r\n            }\r\n          }\r\n        };\r\n        b.actionMove = function (b, d) {\r\n          if (d.Ng() && d instanceof V && null !== d._buttonFillPressed) {\r\n            var c = b.diagram;\r\n            if (\r\n              0 === c.firstInput.button &&\r\n              (c.currentTool.standardMouseOver(),\r\n              a(b, d) && ((b = d.cb(\"ButtonBorder\")), b instanceof $f))\r\n            ) {\r\n              var f = c.skipsUndoManager;\r\n              c.skipsUndoManager = !0;\r\n              var g = d._buttonFillPressed;\r\n              b.fill !== g && (b.fill = g);\r\n              g = d._buttonStrokePressed;\r\n              b.stroke !== g && (b.stroke = g);\r\n              c.skipsUndoManager = f;\r\n            }\r\n          }\r\n        };\r\n        return b;\r\n      });\r\n      dm(\"TreeExpanderButton\", function () {\r\n        var a = Zl(\r\n          \"Button\",\r\n          {\r\n            _treeExpandedFigure: \"MinusLine\",\r\n            _treeCollapsedFigure: \"PlusLine\",\r\n          },\r\n          Zl(\r\n            $f,\r\n            {\r\n              name: \"ButtonIcon\",\r\n              figure: \"MinusLine\",\r\n              stroke: \"#424242\",\r\n              strokeWidth: 2,\r\n              desiredSize: Zb,\r\n            },\r\n            new Yi(\"figure\", \"isTreeExpanded\", function (a, c) {\r\n              c = c.panel;\r\n              return a ? c._treeExpandedFigure : c._treeCollapsedFigure;\r\n            }).Gq()\r\n          ),\r\n          { visible: !1 },\r\n          new Yi(\"visible\", \"isTreeLeaf\", function (a) {\r\n            return !a;\r\n          }).Gq()\r\n        );\r\n        a.click = function (a, c) {\r\n          c = c.part;\r\n          c instanceof Pe && (c = c.adornedPart);\r\n          if (c instanceof U) {\r\n            var b = c.diagram;\r\n            if (null !== b) {\r\n              b = b.commandHandler;\r\n              if (c.isTreeExpanded) {\r\n                if (!b.canCollapseTree(c)) return;\r\n              } else if (!b.canExpandTree(c)) return;\r\n              a.handled = !0;\r\n              c.isTreeExpanded ? b.collapseTree(c) : b.expandTree(c);\r\n            }\r\n          }\r\n        };\r\n        return a;\r\n      });\r\n      dm(\"SubGraphExpanderButton\", function () {\r\n        var a = Zl(\r\n          \"Button\",\r\n          {\r\n            _subGraphExpandedFigure: \"MinusLine\",\r\n            _subGraphCollapsedFigure: \"PlusLine\",\r\n          },\r\n          Zl(\r\n            $f,\r\n            {\r\n              name: \"ButtonIcon\",\r\n              figure: \"MinusLine\",\r\n              stroke: \"#424242\",\r\n              strokeWidth: 2,\r\n              desiredSize: Zb,\r\n            },\r\n            new Yi(\"figure\", \"isSubGraphExpanded\", function (a, c) {\r\n              c = c.panel;\r\n              return a ? c._subGraphExpandedFigure : c._subGraphCollapsedFigure;\r\n            }).Gq()\r\n          )\r\n        );\r\n        a.click = function (a, c) {\r\n          c = c.part;\r\n          c instanceof Pe && (c = c.adornedPart);\r\n          if (c instanceof Kf) {\r\n            var b = c.diagram;\r\n            if (null !== b) {\r\n              b = b.commandHandler;\r\n              if (c.isSubGraphExpanded) {\r\n                if (!b.canCollapseSubGraph(c)) return;\r\n              } else if (!b.canExpandSubGraph(c)) return;\r\n              a.handled = !0;\r\n              c.isSubGraphExpanded\r\n                ? b.collapseSubGraph(c)\r\n                : b.expandSubGraph(c);\r\n            }\r\n          }\r\n        };\r\n        return a;\r\n      });\r\n      dm(\"ToolTip\", function () {\r\n        return Zl(\r\n          Pe,\r\n          V.Auto,\r\n          {\r\n            isShadowed: !0,\r\n            shadowColor: \"rgba(0, 0, 0, .4)\",\r\n            shadowOffset: new J(0, 3),\r\n            shadowBlur: 5,\r\n          },\r\n          Zl($f, {\r\n            name: \"Border\",\r\n            figure: \"RoundedRectangle\",\r\n            parameter1: 1,\r\n            parameter2: 1,\r\n            fill: \"#F5F5F5\",\r\n            stroke: \"#F0F0F0\",\r\n            spot1: new M(0, 0, 4, 6),\r\n            spot2: new M(1, 1, -4, -4),\r\n          })\r\n        );\r\n      });\r\n      dm(\"ContextMenu\", function () {\r\n        return Zl(\r\n          Pe,\r\n          V.Vertical,\r\n          {\r\n            background: \"#F5F5F5\",\r\n            isShadowed: !0,\r\n            shadowColor: \"rgba(0, 0, 0, .4)\",\r\n            shadowOffset: new J(0, 3),\r\n            shadowBlur: 5,\r\n          },\r\n          new Yi(\"background\", \"\", function (a) {\r\n            return null !== a.adornedPart && null !== a.placeholder\r\n              ? null\r\n              : \"#F5F5F5\";\r\n          })\r\n        );\r\n      });\r\n      dm(\"ContextMenuButton\", function () {\r\n        var a = Zl(\"Button\");\r\n        a.stretch = kl;\r\n        var b = a.cb(\"ButtonBorder\");\r\n        b instanceof $f &&\r\n          ((b.figure = \"Rectangle\"),\r\n          (b.strokeWidth = 0),\r\n          (b.spot1 = new M(0, 0, 2, 3)),\r\n          (b.spot2 = new M(1, 1, -2, -2)));\r\n        return a;\r\n      });\r\n      dm(\"PanelExpanderButton\", function (a) {\r\n        var b = em(a, \"COLLAPSIBLE\"),\r\n          c = Zl(\r\n            \"Button\",\r\n            {\r\n              _buttonExpandedFigure: \"M0 0 M0 6 L4 2 8 6 M8 8\",\r\n              _buttonCollapsedFigure: \"M0 0 M0 2 L4 6 8 2 M8 8\",\r\n              _buttonFillNormal: \"rgba(0, 0, 0, 0)\",\r\n              _buttonStrokeNormal: null,\r\n              _buttonFillOver: \"rgba(0, 0, 0, .2)\",\r\n              _buttonStrokeOver: null,\r\n              _buttonFillPressed: \"rgba(0, 0, 0, .4)\",\r\n              _buttonStrokePressed: null,\r\n            },\r\n            Zl(\r\n              $f,\r\n              { name: \"ButtonIcon\", strokeWidth: 2 },\r\n              new Yi(\"geometryString\", \"visible\", function (a) {\r\n                return a ? c._buttonExpandedFigure : c._buttonCollapsedFigure;\r\n              }).Gq(b)\r\n            )\r\n          );\r\n        a = c.cb(\"ButtonBorder\");\r\n        a instanceof $f && ((a.stroke = null), (a.fill = \"rgba(0, 0, 0, 0)\"));\r\n        c.click = function (a, c) {\r\n          var d = c.diagram;\r\n          if (null !== d && !d.isReadOnly) {\r\n            var e = c.aj();\r\n            null === e && (e = c.part);\r\n            null !== e &&\r\n              ((c = e.cb(b)),\r\n              null !== c &&\r\n                ((a.handled = !0),\r\n                d.Aa(\"Collapse/Expand Panel\"),\r\n                (c.visible = !c.visible),\r\n                d.Za(\"Collapse/Expand Panel\")));\r\n          }\r\n        };\r\n        return c;\r\n      });\r\n      dm(\"CheckBoxButton\", function (a) {\r\n        var b = em(a);\r\n        a = Zl(\r\n          \"Button\",\r\n          { desiredSize: new Jb(14, 14) },\r\n          Zl(\r\n            $f,\r\n            {\r\n              name: \"ButtonIcon\",\r\n              geometryString: \"M0 0 M0 8.85 L4.9 13.75 16.2 2.45 M16.2 16.2\",\r\n              strokeWidth: 2,\r\n              stretch: Id,\r\n              geometryStretch: Qg,\r\n              visible: !1,\r\n            },\r\n            \"\" !== b ? new Yi(\"visible\", b).by() : []\r\n          )\r\n        );\r\n        a.click = function (a, d) {\r\n          if (d instanceof V) {\r\n            var c = a.diagram;\r\n            if (\r\n              !(null === c || c.isReadOnly || (\"\" !== b && c.model.isReadOnly))\r\n            ) {\r\n              a.handled = !0;\r\n              var f = d.cb(\"ButtonIcon\");\r\n              c.Aa(\"checkbox\");\r\n              f.visible = !f.visible;\r\n              \"function\" === typeof d._doClick && d._doClick(a, d);\r\n              c.Za(\"checkbox\");\r\n            }\r\n          }\r\n        };\r\n        return a;\r\n      });\r\n      dm(\"CheckBox\", function (a) {\r\n        a = em(a);\r\n        a = Zl(\"CheckBoxButton\", a, {\r\n          name: \"Button\",\r\n          isActionable: !1,\r\n          margin: new lc(0, 1, 0, 0),\r\n        });\r\n        var b = Zl(V, \"Horizontal\", a, {\r\n          isActionable: !0,\r\n          cursor: a.cursor,\r\n          margin: 1,\r\n          _buttonFillNormal: a._buttonFillNormal,\r\n          _buttonStrokeNormal: a._buttonStrokeNormal,\r\n          _buttonFillOver: a._buttonFillOver,\r\n          _buttonStrokeOver: a._buttonStrokeOver,\r\n          _buttonFillPressed: a._buttonFillPressed,\r\n          _buttonStrokePressed: a._buttonStrokePressed,\r\n          _buttonFillDisabled: a._buttonFillDisabled,\r\n          mouseEnter: a.mouseEnter,\r\n          mouseLeave: a.mouseLeave,\r\n          actionDown: a.actionDown,\r\n          actionUp: a.actionUp,\r\n          actionCancel: a.actionCancel,\r\n          actionMove: a.actionMove,\r\n          click: a.click,\r\n          _buttonClick: a.click,\r\n        });\r\n        a.mouseEnter = null;\r\n        a.mouseLeave = null;\r\n        a.actionDown = null;\r\n        a.actionUp = null;\r\n        a.actionCancel = null;\r\n        a.actionMove = null;\r\n        a.click = null;\r\n        return b;\r\n      });\r\n      N.None = Og = new E(N, \"None\", 0);\r\n      N.Default = jl = new E(N, \"Default\", 0);\r\n      N.Vertical = ll = new E(N, \"Vertical\", 4);\r\n      N.Horizontal = kl = new E(N, \"Horizontal\", 5);\r\n      N.Fill = Id = new E(N, \"Fill\", 3);\r\n      N.Uniform = Qg = new E(N, \"Uniform\", 1);\r\n      N.UniformToFill = ml = new E(N, \"UniformToFill\", 2);\r\n      N.FlipVertical = nl = new E(N, \"FlipVertical\", 1);\r\n      N.FlipHorizontal = ol = new E(N, \"FlipHorizontal\", 2);\r\n      N.FlipBoth = pl = new E(N, \"FlipBoth\", 3);\r\n      N.make = Zl;\r\n      N.getBuilders = function () {\r\n        var a = new Db(),\r\n          b;\r\n        for (b in $l)\r\n          if (b !== b.toLowerCase()) {\r\n            var c = $l.K(b);\r\n            \"function\" === typeof c && a.add(b, c);\r\n          }\r\n        a.freeze();\r\n        return a;\r\n      };\r\n      N.defineBuilder = dm;\r\n      N.takeBuilderArgument = em;\r\n\r\n      function rl() {\r\n        this.On =\r\n          this.Yf =\r\n          this.Dg =\r\n          this.$m =\r\n          this.cn =\r\n          this.bn =\r\n          this.an =\r\n          this.mg =\r\n          this.Ko =\r\n          this.Jo =\r\n          this.og =\r\n          this.pg =\r\n          this.rg =\r\n          this.qg =\r\n          this.ng =\r\n          this.Xf =\r\n          this.ag =\r\n          this.Wf =\r\n            null;\r\n      }\r\n      rl.prototype.copy = function () {\r\n        var a = new rl();\r\n        a.Wf = this.Wf;\r\n        a.ag = this.ag;\r\n        a.Xf = this.Xf;\r\n        a.ng = this.ng;\r\n        a.qg = this.qg;\r\n        a.rg = this.rg;\r\n        a.pg = this.pg;\r\n        a.og = this.og;\r\n        a.Jo = this.Jo;\r\n        a.Ko = this.Ko;\r\n        a.mg = this.mg;\r\n        a.an = this.an;\r\n        a.bn = this.bn;\r\n        a.cn = this.cn;\r\n        a.$m = this.$m;\r\n        a.Dg = this.Dg;\r\n        a.Yf = this.Yf;\r\n        a.On = this.On;\r\n        return a;\r\n      };\r\n      rl.className = \"GraphObjectEventHandlers\";\r\n\r\n      function im() {\r\n        this.Ra = [1, 0, 0, 1, 0, 0];\r\n      }\r\n      im.prototype.copy = function () {\r\n        var a = new im();\r\n        a.Ra[0] = this.Ra[0];\r\n        a.Ra[1] = this.Ra[1];\r\n        a.Ra[2] = this.Ra[2];\r\n        a.Ra[3] = this.Ra[3];\r\n        a.Ra[4] = this.Ra[4];\r\n        a.Ra[5] = this.Ra[5];\r\n        return a;\r\n      };\r\n      im.prototype.translate = function (a, b) {\r\n        this.Ra[4] += this.Ra[0] * a + this.Ra[2] * b;\r\n        this.Ra[5] += this.Ra[1] * a + this.Ra[3] * b;\r\n      };\r\n      im.prototype.scale = function (a, b) {\r\n        this.Ra[0] *= a;\r\n        this.Ra[1] *= a;\r\n        this.Ra[2] *= b;\r\n        this.Ra[3] *= b;\r\n      };\r\n      im.className = \"STransform\";\r\n\r\n      function jm(a) {\r\n        this.type = a;\r\n        this.r2 = this.y2 = this.x2 = this.r1 = this.y1 = this.x1 = 0;\r\n        this.Ix = [];\r\n        this.pattern = null;\r\n      }\r\n      jm.prototype.addColorStop = function (a, b) {\r\n        this.Ix.push({ offset: a, color: b });\r\n      };\r\n      jm.className = \"SGradient\";\r\n\r\n      function Qj(a, b) {\r\n        this.ownerDocument = a = void 0 === b ? pa.document : b;\r\n        this.tA = \"http://www.w3.org/2000/svg\";\r\n        void 0 !== a &&\r\n          ((this.Ia = this.zb(\"svg\", {\r\n            width: \"1px\",\r\n            height: \"1px\",\r\n            viewBox: \"0 0 1 1\",\r\n          })),\r\n          this.Ia.setAttributeNS(\r\n            \"http://www.w3.org/2000/xmlns/\",\r\n            \"xmlns\",\r\n            \"http://www.w3.org/2000/svg\"\r\n          ),\r\n          this.Ia.setAttributeNS(\r\n            \"http://www.w3.org/2000/xmlns/\",\r\n            \"xmlns:xlink\",\r\n            \"http://www.w3.org/1999/xlink\"\r\n          ));\r\n        this.oq = null;\r\n        this.context = new km(this);\r\n      }\r\n      Qj.prototype.resize = function (a, b, c, d) {\r\n        return this.width !== a || this.height !== b\r\n          ? ((this.style.width = c + \"px\"),\r\n            (this.style.height = d + \"px\"),\r\n            this.Ia.setAttributeNS(null, \"width\", c + \"px\"),\r\n            this.Ia.setAttributeNS(null, \"height\", d + \"px\"),\r\n            this.Ia.setAttributeNS(null, \"viewBox\", \"0 0 \" + c + \" \" + d),\r\n            this.context.zu.firstElementChild.setAttributeNS(\r\n              null,\r\n              \"width\",\r\n              c + \"px\"\r\n            ),\r\n            this.context.zu.firstElementChild.setAttributeNS(\r\n              null,\r\n              \"height\",\r\n              d + \"px\"\r\n            ),\r\n            !0)\r\n          : !1;\r\n      };\r\n      Qj.prototype.zb = function (a, b, c) {\r\n        a = this.ownerDocument.createElementNS(this.tA, a);\r\n        if (Fa(b))\r\n          for (var d in b)\r\n            a.setAttributeNS(\r\n              \"href\" === d ? \"http://www.w3.org/1999/xlink\" : \"\",\r\n              d,\r\n              b[d]\r\n            );\r\n        void 0 !== c && (a.textContent = c);\r\n        return a;\r\n      };\r\n      Qj.prototype.getBoundingClientRect = function () {\r\n        return this.Ia.getBoundingClientRect();\r\n      };\r\n      Qj.prototype.focus = function () {\r\n        this.Ia.focus();\r\n      };\r\n      Qj.prototype.Nx = function () {\r\n        this.ownerDocument = null;\r\n      };\r\n      ma.Object.defineProperties(Qj.prototype, {\r\n        width: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ia.width.baseVal.value;\r\n          },\r\n          set: function (a) {\r\n            this.Ia.width = a;\r\n          },\r\n        },\r\n        height: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ia.height.baseVal.value;\r\n          },\r\n          set: function (a) {\r\n            this.Ia.height = a;\r\n          },\r\n        },\r\n        style: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ia.style;\r\n          },\r\n        },\r\n      });\r\n      Qj.className = \"SVGSurface\";\r\n\r\n      function km(a) {\r\n        this.Gk = a;\r\n        this.svg = a.Ia;\r\n        this.stack = [];\r\n        this.Cc = [];\r\n        this.fillStyle = \"#000000\";\r\n        this.font = \"10px sans-serif\";\r\n        this.globalAlpha = 1;\r\n        this.lineCap = \"butt\";\r\n        this.lineDashOffset = 0;\r\n        this.lineJoin = \"miter\";\r\n        this.lineWidth = 1;\r\n        this.miterLimit = 10;\r\n        this.shadowBlur = 0;\r\n        this.shadowColor = \"rgba(0, 0, 0, 0)\";\r\n        this.shadowOffsetY = this.shadowOffsetX = 0;\r\n        this.strokeStyle = \"#000000\";\r\n        this.textAlign = \"start\";\r\n        this.clipInsteadOfFill = !1;\r\n        this.mf = this.Lp = this.Kp = 0;\r\n        this.Aq = null;\r\n        this.path = [];\r\n        this.uu = !1;\r\n        this.yh = null;\r\n        this.zh = 0;\r\n        this.Zd = new im();\r\n        lm(this, 1, 0, 0, 1, 0, 0);\r\n        var b = wb++,\r\n          c = this.zb(\"clipPath\", { id: \"mainClip\" + b });\r\n        c.appendChild(\r\n          this.zb(\"rect\", { x: 0, y: 0, width: a.width, height: a.height })\r\n        );\r\n        this.zu = c;\r\n        this.Gk.Ia.appendChild(c);\r\n        this.Cc[0].setAttributeNS(null, \"clip-path\", \"url(#mainClip\" + b + \")\");\r\n        this.vA = {};\r\n      }\r\n      t = km.prototype;\r\n      t.reset = function () {\r\n        this.stack = [];\r\n        this.Cc = [];\r\n        this.fillStyle = \"#000000\";\r\n        this.font = \"10px sans-serif\";\r\n        this.globalAlpha = 1;\r\n        this.lineCap = \"butt\";\r\n        this.lineDashOffset = 0;\r\n        this.lineJoin = \"miter\";\r\n        this.lineWidth = 1;\r\n        this.miterLimit = 10;\r\n        this.shadowBlur = 0;\r\n        this.shadowColor = \"rgba(0, 0, 0, 0)\";\r\n        this.shadowOffsetY = this.shadowOffsetX = 0;\r\n        this.strokeStyle = \"#000000\";\r\n        this.textAlign = \"start\";\r\n        this.clipInsteadOfFill = !1;\r\n        this.mf = this.Lp = this.Kp = 0;\r\n        this.Aq = null;\r\n        this.path = [];\r\n        this.Zd = new im();\r\n        lm(this, 1, 0, 0, 1, 0, 0);\r\n        var a = wb++,\r\n          b = this.zb(\"clipPath\", { id: \"mainClip\" + a });\r\n        b.appendChild(\r\n          this.zb(\"rect\", {\r\n            x: 0,\r\n            y: 0,\r\n            width: this.Gk.width,\r\n            height: this.Gk.height,\r\n          })\r\n        );\r\n        this.zu = b;\r\n        this.Gk.Ia.appendChild(b);\r\n        this.Cc[0].setAttributeNS(null, \"clip-path\", \"url(#mainClip\" + a + \")\");\r\n      };\r\n      t.arc = function (a, b, c, d, e, f, g, h) {\r\n        var k = 2 * Math.PI,\r\n          l = k - 1e-6,\r\n          m = c * Math.cos(d),\r\n          n = c * Math.sin(d),\r\n          p = a + m,\r\n          r = b + n,\r\n          q = f ? 0 : 1;\r\n        d = f ? d - e : e - d;\r\n        (1e-6 < Math.abs(g - p) || 1e-6 < Math.abs(h - r)) &&\r\n          this.path.push([\"L\", p, +r]);\r\n        0 > d && (d = (d % k) + k);\r\n        d > l\r\n          ? (this.path.push([\"A\", c, c, 0, 1, q, a - m, b - n]),\r\n            this.path.push([\"A\", c, c, 0, 1, q, p, r]))\r\n          : 1e-6 < d &&\r\n            this.path.push([\r\n              \"A\",\r\n              c,\r\n              c,\r\n              0,\r\n              +(d >= Math.PI),\r\n              q,\r\n              a + c * Math.cos(e),\r\n              b + c * Math.sin(e),\r\n            ]);\r\n      };\r\n      t.beginPath = function () {\r\n        this.path = [];\r\n      };\r\n      t.bezierCurveTo = function (a, b, c, d, e, f) {\r\n        this.path.push([\"C\", a, b, c, d, e, f]);\r\n      };\r\n      t.clearRect = function () {};\r\n      t.clip = function () {\r\n        this.addPath(\"clipPath\", this.path, this.Zd);\r\n        this.addPath(\"clipPath\", this.path, new im());\r\n      };\r\n      t.closePath = function () {\r\n        this.path.push([\"z\"]);\r\n      };\r\n      t.createLinearGradient = function (a, b, c, d) {\r\n        var e = new jm(\"linear\");\r\n        e.x1 = a;\r\n        e.y1 = b;\r\n        e.x2 = c;\r\n        e.y2 = d;\r\n        return e;\r\n      };\r\n      t.createPattern = function (a) {\r\n        var b = \"\";\r\n        a instanceof HTMLCanvasElement && (b = a.toDataURL());\r\n        a instanceof HTMLImageElement && (b = a.getAttribute(\"src\"));\r\n        var c = this.vA;\r\n        if (c[b]) return \"url(#\" + c[b] + \")\";\r\n        var d = \"PATTERN\" + wb++,\r\n          e = { x: 0, y: 0, width: a.width, height: a.height, href: b };\r\n        a = this.zb(\"pattern\", {\r\n          width: a.width,\r\n          height: a.height,\r\n          id: d,\r\n          patternUnits: \"userSpaceOnUse\",\r\n        });\r\n        a.appendChild(this.zb(\"image\", e));\r\n        this.svg.appendChild(a);\r\n        c[b] = d;\r\n        return \"url(#\" + d + \")\";\r\n      };\r\n      t.createRadialGradient = function (a, b, c, d, e, f) {\r\n        var g = new jm(\"radial\");\r\n        g.x1 = a;\r\n        g.y1 = b;\r\n        g.r1 = c;\r\n        g.x2 = d;\r\n        g.y2 = e;\r\n        g.r2 = f;\r\n        return g;\r\n      };\r\n      t.drawImage = function (a, b, c, d, e, f, g, h, k) {\r\n        var l = \"\";\r\n        a instanceof HTMLCanvasElement && (l = a.toDataURL());\r\n        a instanceof HTMLImageElement && (l = a.getAttribute(\"src\"));\r\n        var m = a instanceof HTMLImageElement ? a.naturalWidth : a.width,\r\n          n = a instanceof HTMLImageElement ? a.naturalHeight : a.height;\r\n        void 0 === d && ((f = b), (g = c), (h = d = m), (k = e = n));\r\n        d = d || 0;\r\n        e = e || 0;\r\n        f = f || 0;\r\n        g = g || 0;\r\n        h = h || 0;\r\n        k = k || 0;\r\n        l = {\r\n          x: 0,\r\n          y: 0,\r\n          width: m || d,\r\n          height: n || e,\r\n          href: l,\r\n          preserveAspectRatio: \"xMidYMid slice\",\r\n        };\r\n        (K.ba(d, h) && K.ba(e, k)) || (l.preserveAspectRatio = \"none\");\r\n        a = \"\";\r\n        h /= d;\r\n        k /= e;\r\n        if (0 !== f || 0 !== g) a += \" translate(\" + f + \", \" + g + \")\";\r\n        if (1 !== h || 1 !== k) a += \" scale(\" + h + \", \" + k + \")\";\r\n        if (0 !== b || 0 !== c) a += \" translate(\" + -b + \", \" + -c + \")\";\r\n        if (0 !== b || 0 !== c || d !== m || e !== n)\r\n          (f = \"CLIP\" + wb++),\r\n            (g = this.zb(\"clipPath\", { id: f })),\r\n            g.appendChild(this.zb(\"rect\", { x: b, y: c, width: d, height: e })),\r\n            this.svg.appendChild(g),\r\n            (l[\"clip-path\"] = \"url(#\" + f + \")\");\r\n        mm(this, \"image\", l, this.Zd, a);\r\n        this.addElement(\"image\", l);\r\n      };\r\n      t.fill = function () {\r\n        this.addPath(\"fill\", this.path, this.Zd);\r\n      };\r\n      t.$d = function () {\r\n        this.clipInsteadOfFill ? this.clip() : this.fill();\r\n      };\r\n      t.fillRect = function (a, b, c, d) {\r\n        a = [a, b, c, d];\r\n        a = { x: a[0], y: a[1], width: a[2], height: a[3] };\r\n        mm(this, \"fill\", a, this.Zd);\r\n        this.addElement(\"rect\", a);\r\n      };\r\n      t.fillText = function (a, b, c) {\r\n        a = [a, b, c];\r\n        b = this.textAlign;\r\n        \"left\" === b\r\n          ? (b = \"start\")\r\n          : \"right\" === b\r\n          ? (b = \"end\")\r\n          : \"center\" === b && (b = \"middle\");\r\n        b = { x: a[1], y: a[2], style: \"font: \" + this.font, \"text-anchor\": b };\r\n        mm(this, \"fill\", b, this.Zd);\r\n        this.addElement(\"text\", b, a[0]);\r\n      };\r\n      t.lineTo = function (a, b) {\r\n        this.path.push([\"L\", a, b]);\r\n      };\r\n      t.moveTo = function (a, b) {\r\n        this.path.push([\"M\", a, b]);\r\n      };\r\n      t.quadraticCurveTo = function (a, b, c, d) {\r\n        this.path.push([\"Q\", a, b, c, d]);\r\n      };\r\n      t.rect = function (a, b, c, d) {\r\n        this.path.push(\r\n          [\"M\", a, b],\r\n          [\"L\", a + c, b],\r\n          [\"L\", a + c, b + d],\r\n          [\"L\", a, b + d],\r\n          [\"z\"]\r\n        );\r\n      };\r\n      t.restore = function () {\r\n        this.Zd = this.stack.pop();\r\n        this.path = this.stack.pop();\r\n        var a = this.stack.pop();\r\n        this.fillStyle = a.fillStyle;\r\n        this.font = a.font;\r\n        this.globalAlpha = a.globalAlpha;\r\n        this.lineCap = a.lineCap;\r\n        this.lineDashOffset = a.lineDashOffset;\r\n        this.lineJoin = a.lineJoin;\r\n        this.lineWidth = a.lineWidth;\r\n        this.miterLimit = a.miterLimit;\r\n        this.shadowBlur = a.shadowBlur;\r\n        this.shadowColor = a.shadowColor;\r\n        this.shadowOffsetX = a.shadowOffsetX;\r\n        this.shadowOffsetY = a.shadowOffsetY;\r\n        this.strokeStyle = a.strokeStyle;\r\n        this.textAlign = a.textAlign;\r\n      };\r\n      t.save = function () {\r\n        this.stack.push({\r\n          fillStyle: this.fillStyle,\r\n          font: this.font,\r\n          globalAlpha: this.globalAlpha,\r\n          lineCap: this.lineCap,\r\n          lineDashOffset: this.lineDashOffset,\r\n          lineJoin: this.lineJoin,\r\n          lineWidth: this.lineWidth,\r\n          miterLimit: this.miterLimit,\r\n          shadowBlur: this.shadowBlur,\r\n          shadowColor: this.shadowColor,\r\n          shadowOffsetX: this.shadowOffsetX,\r\n          shadowOffsetY: this.shadowOffsetY,\r\n          strokeStyle: this.strokeStyle,\r\n          textAlign: this.textAlign,\r\n        });\r\n        for (var a = [], b = 0; b < this.path.length; b++) a.push(this.path[b]);\r\n        this.stack.push(a);\r\n        this.stack.push(this.Zd.copy());\r\n      };\r\n      t.setTransform = function (a, b, c, d, e, f) {\r\n        (1 === a && 0 === b && 0 === c && 1 === d && 0 === e && 0 === f) ||\r\n          lm(this, a, b, c, d, e, f);\r\n      };\r\n      t.scale = function (a, b) {\r\n        this.Zd.scale(a, b);\r\n      };\r\n      t.translate = function (a, b) {\r\n        this.Zd.translate(a, b);\r\n      };\r\n      t.transform = function () {};\r\n      t.stroke = function () {\r\n        this.addPath(\"stroke\", this.path, this.Zd);\r\n      };\r\n      t.oj = function () {\r\n        this.clipInsteadOfFill || this.stroke();\r\n      };\r\n      t.zb = function (a, b, c) {\r\n        return this.Gk.zb(a, b, c);\r\n      };\r\n      t.addElement = function (a, b, c) {\r\n        a = this.zb(a, b, c);\r\n        0 < this.Cc.length\r\n          ? this.Cc[this.Cc.length - 1].appendChild(a)\r\n          : this.svg.appendChild(a);\r\n        return (this.Aq = a);\r\n      };\r\n\r\n      function mm(a, b, c, d, e) {\r\n        1 !== a.globalAlpha && (c.opacity = a.globalAlpha);\r\n        \"fill\" === b\r\n          ? (a.fillStyle instanceof jm\r\n              ? (c.fill = nm(a, a.fillStyle))\r\n              : (/^rgba\\(/.test(a.fillStyle) &&\r\n                  ((b =\r\n                    /^\\s*rgba\\s*\\(([^,\\s]+)\\s*,\\s*([^,\\s]+)\\s*,\\s*([^,\\s]+)\\s*,\\s*([^,\\s]+)\\)\\s*$/i.exec(\r\n                      a.fillStyle\r\n                    )),\r\n                  (c.fill = \"rgb(\" + b[1] + \",\" + b[2] + \",\" + b[3] + \")\"),\r\n                  (c[\"fill-opacity\"] = b[4])),\r\n                (c.fill = a.fillStyle)),\r\n            (c.stroke = \"none\"))\r\n          : \"stroke\" === b &&\r\n            ((c.fill = \"none\"),\r\n            a.strokeStyle instanceof jm\r\n              ? (c.stroke = nm(a, a.strokeStyle))\r\n              : (/^rgba\\(/.test(a.strokeStyle) &&\r\n                  ((b =\r\n                    /^\\s*rgba\\s*\\(([^,\\s]+)\\s*,\\s*([^,\\s]+)\\s*,\\s*([^,\\s]+)\\s*,\\s*([^,\\s]+)\\)\\s*$/i.exec(\r\n                      a.strokeStyle\r\n                    )),\r\n                  (c.stroke = \"rgb(\" + b[1] + \",\" + b[2] + \",\" + b[3] + \")\"),\r\n                  (c[\"stroke-opacity\"] = b[4])),\r\n                (c.stroke = a.strokeStyle)),\r\n            (c[\"stroke-width\"] = a.lineWidth),\r\n            (c[\"stroke-linecap\"] = a.lineCap),\r\n            (c[\"stroke-linejoin\"] = a.lineJoin),\r\n            (c[\"stroke-miterlimit\"] = a.miterLimit));\r\n        a = d.Ra;\r\n        a =\r\n          \"matrix(\" +\r\n          a[0] +\r\n          \", \" +\r\n          a[1] +\r\n          \", \" +\r\n          a[2] +\r\n          \", \" +\r\n          a[3] +\r\n          \", \" +\r\n          a[4] +\r\n          \", \" +\r\n          a[5] +\r\n          \")\";\r\n        void 0 !== e && (a += e);\r\n        c.transform = a;\r\n      }\r\n\r\n      function nm(a, b) {\r\n        var c = \"GRAD\" + wb++;\r\n        if (\"linear\" === b.type)\r\n          var d = a.zb(\"linearGradient\", {\r\n            x1: b.x1,\r\n            x2: b.x2,\r\n            y1: b.y1,\r\n            y2: b.y2,\r\n            id: c,\r\n            gradientUnits: \"userSpaceOnUse\",\r\n          });\r\n        else if (\"radial\" === b.type)\r\n          d = a.zb(\"radialGradient\", {\r\n            x1: b.x1,\r\n            x2: b.x2,\r\n            y1: b.y1,\r\n            y2: b.y2,\r\n            r1: b.r1,\r\n            r2: b.r2,\r\n            id: c,\r\n          });\r\n        else throw Error(\"invalid gradient\");\r\n        var e = b.Ix;\r\n        b = e.length;\r\n        for (var f = [], g = 0; g < b; g++) {\r\n          var h = e[g],\r\n            k = h.color;\r\n          h = { offset: h.offset, \"stop-color\": k };\r\n          /^rgba\\(/.test(k) &&\r\n            ((k =\r\n              /^\\s*rgba\\s*\\(([^,\\s]+)\\s*,\\s*([^,\\s]+)\\s*,\\s*([^,\\s]+)\\s*,\\s*([^,\\s]+)\\)\\s*$/i.exec(\r\n                k\r\n              )),\r\n            (h[\"stop-color\"] = \"rgb(\" + k[1] + \",\" + k[2] + \",\" + k[3] + \")\"),\r\n            (h[\"stop-opacity\"] = k[4]));\r\n          f.push(h);\r\n        }\r\n        f.sort(function (a, b) {\r\n          return a.offset > b.offset ? 1 : -1;\r\n        });\r\n        for (e = 0; e < b; e++) d.appendChild(a.zb(\"stop\", f[e]));\r\n        a.svg.appendChild(d);\r\n        return \"url(#\" + c + \")\";\r\n      }\r\n      t.addPath = function (a, b, c) {\r\n        for (var d = [], e = 0; e < b.length; e++) {\r\n          var f = Ia(b[e]),\r\n            g = [f.shift()];\r\n          if (\"A\" === g[0])\r\n            g.push(\r\n              f.shift() + \",\" + f.shift(),\r\n              f.shift(),\r\n              f.shift() + \",\" + f.shift(),\r\n              f.shift() + \",\" + f.shift()\r\n            );\r\n          else for (; f.length; ) g.push(f.shift() + \",\" + f.shift());\r\n          d.push(g.join(\" \"));\r\n        }\r\n        b = { d: d.join(\" \") };\r\n        \"stroke\" === a &&\r\n          this.uu &&\r\n          ((b[\"stroke-dasharray\"] = this.yh.toString()),\r\n          (b[\"stroke-dashoffset\"] = this.zh));\r\n        mm(this, a, b, c);\r\n        \"clipPath\" === a\r\n          ? ((a = \"CLIP\" + wb++),\r\n            (c = this.zb(\"clipPath\", { id: a })),\r\n            c.appendChild(this.zb(\"path\", b)),\r\n            this.svg.appendChild(c),\r\n            0 < this.Cc.length &&\r\n              this.Cc[this.Cc.length - 1].setAttributeNS(\r\n                null,\r\n                \"clip-path\",\r\n                \"url(#\" + a + \")\"\r\n              ))\r\n          : this.addElement(\"path\", b);\r\n      };\r\n\r\n      function lm(a, b, c, d, e, f, g) {\r\n        var h = new im();\r\n        h.Ra = [b, c, d, e, f, g];\r\n        b = {};\r\n        mm(a, \"g\", b, h);\r\n        h = a.addElement(\"g\", b);\r\n        a.Cc.push(h);\r\n      }\r\n      t.Rq = function () {\r\n        if (\r\n          0 !== this.shadowOffsetX ||\r\n          0 !== this.shadowOffsetY ||\r\n          0 !== this.shadowBlur\r\n        ) {\r\n          var a = \"SHADOW\" + wb++,\r\n            b = this.addElement(\r\n              \"filter\",\r\n              { id: a, x: \"-100%\", y: \"-100%\", width: \"300%\", height: \"300%\" },\r\n              null\r\n            );\r\n          var c = this.zb(\"feGaussianBlur\", {\r\n            in: \"SourceAlpha\",\r\n            result: \"blur\",\r\n            $A: this.shadowBlur / 2,\r\n          });\r\n          var d = this.zb(\"feFlood\", {\r\n            in: \"blur\",\r\n            result: \"flood\",\r\n            \"flood-color\": this.shadowColor,\r\n          });\r\n          var e = this.zb(\"feComposite\", {\r\n            in: \"flood\",\r\n            in2: \"blur\",\r\n            operator: \"in\",\r\n            result: \"comp\",\r\n          });\r\n          var f = this.zb(\"feOffset\", {\r\n            in: \"comp\",\r\n            result: \"offsetBlur\",\r\n            dx: this.shadowOffsetX,\r\n            dy: this.shadowOffsetY,\r\n          });\r\n          var g = this.zb(\"feMerge\", {});\r\n          g.appendChild(this.zb(\"feMergeNode\", { in: \"offsetBlur\" }));\r\n          g.appendChild(this.zb(\"feMergeNode\", { in: \"SourceGraphic\" }));\r\n          b.appendChild(c);\r\n          b.appendChild(d);\r\n          b.appendChild(e);\r\n          b.appendChild(f);\r\n          b.appendChild(g);\r\n          0 < this.Cc.length &&\r\n            this.Cc[this.Cc.length - 1].setAttributeNS(\r\n              null,\r\n              \"filter\",\r\n              \"url(#\" + a + \")\"\r\n            );\r\n        }\r\n      };\r\n      t.mw = function (a, b, c) {\r\n        this.Kp = a;\r\n        this.Lp = b;\r\n        this.mf = c;\r\n      };\r\n\r\n      function Hl(a) {\r\n        a.shadowOffsetX = 0;\r\n        a.shadowOffsetY = 0;\r\n        a.shadowBlur = 0;\r\n      }\r\n\r\n      function Gl(a) {\r\n        a.shadowOffsetX = a.Kp;\r\n        a.shadowOffsetY = a.Lp;\r\n        a.shadowBlur = a.mf;\r\n      }\r\n      t.it = function (a, b) {\r\n        this.uu = !0;\r\n        this.yh = a;\r\n        this.zh = b;\r\n      };\r\n      t.gt = function () {\r\n        this.uu = !1;\r\n      };\r\n      t.Xc = function () {};\r\n      t.sy = function () {};\r\n      km.prototype.rotate = function () {};\r\n      km.prototype.getImageData = function () {\r\n        return null;\r\n      };\r\n      km.prototype.measureText = function () {\r\n        return null;\r\n      };\r\n      km.className = \"SVGContext\";\r\n      P.prototype.Ct = function (a) {\r\n        var b = new Qj(this, pa.document);\r\n        void 0 === a && (a = new jb());\r\n        var c = this;\r\n        return Qk(\r\n          this,\r\n          function (a, e) {\r\n            a = Rk(c, a, \"SVG\", b);\r\n            a = null !== a ? a.svg : null;\r\n            return \"function\" === typeof e ? (e(a), null) : a;\r\n          },\r\n          a\r\n        );\r\n      };\r\n      P.prototype.makeSvg = P.prototype.Ct;\r\n      P.prototype.Nv = function (a) {\r\n        return this.Ct(a);\r\n      };\r\n      P.prototype.makeSVG = P.prototype.Nv;\r\n      N.prototype.Ox = function (a, b) {\r\n        if (!(a instanceof km)) return !1;\r\n        if (!this.visible) return !0;\r\n        var c = null,\r\n          d = a.Aq;\r\n        if (\r\n          this instanceof V &&\r\n          (this.type === V.TableRow || this.type === V.TableColumn)\r\n        )\r\n          return El(this, a, b), !0;\r\n        var e = this.Ab;\r\n        if (0 === e.width || 0 === e.height || isNaN(e.x) || isNaN(e.y))\r\n          return !0;\r\n        var f = this.transform,\r\n          g = this.panel;\r\n        (0 !== (this.I & 4096)) === !0 && Fl(this);\r\n        var h = 0 !== (this.I & 256),\r\n          k = !1;\r\n        this instanceof kh && (a.font = this.font);\r\n        if (h) {\r\n          k = g.fe() ? g.naturalBounds : g.actualBounds;\r\n          if (null !== this.rd) {\r\n            var l = this.rd;\r\n            var m = l.x;\r\n            var n = l.y;\r\n            var p = l.width;\r\n            l = l.height;\r\n          } else\r\n            (m = Math.max(e.x, k.x)),\r\n              (n = Math.max(e.y, k.y)),\r\n              (p = Math.min(e.right, k.right) - m),\r\n              (l = Math.min(e.bottom, k.bottom) - n);\r\n          if (\r\n            m > e.width + e.x ||\r\n            e.x > k.width + k.x ||\r\n            n > e.height + e.y ||\r\n            e.y > k.height + k.y\r\n          )\r\n            return !0;\r\n          k = !0;\r\n          lm(a, 1, 0, 0, 1, 0, 0);\r\n          a.save();\r\n          a.beginPath();\r\n          a.rect(m, n, p, l);\r\n          a.clip();\r\n        }\r\n        if (this.Gf() && !this.isVisible()) return !0;\r\n        a.Zd.Ra = [1, 0, 0, 1, 0, 0];\r\n        ((this instanceof kh && 1 < this.lineCount) ||\r\n          (this instanceof $f && 1 < this.geometry.figures.length)) &&\r\n          lm(a, 1, 0, 0, 1, 0, 0);\r\n        m = !1;\r\n        this.Gf() &&\r\n          this.isShadowed &&\r\n          b.Ke(\"drawShadows\") &&\r\n          ((n = this.shadowOffset),\r\n          a.mw(n.x * b.scale * b.Vb, n.y * b.scale * b.Vb, this.shadowBlur),\r\n          Gl(a),\r\n          (a.shadowColor = this.shadowColor));\r\n        n = !1;\r\n        this.part && b.Ke(\"drawShadows\") && (n = this.part.isShadowed);\r\n        !0 === this.shadowVisible\r\n          ? (Gl(a),\r\n            !1 === m && n && (lm(a, 1, 0, 0, 1, 0, 0), a.Rq(), (m = !0)))\r\n          : !1 === this.shadowVisible && Hl(a);\r\n        p = this.naturalBounds;\r\n        null !== this.areaBackground &&\r\n          (xi(this, a, this.areaBackground, !0, !0, p, e),\r\n          !1 === m && n && (lm(a, 1, 0, 0, 1, 0, 0), a.Rq(), (m = !0)),\r\n          this.areaBackground instanceof Il && this.areaBackground.type === Jl\r\n            ? (a.beginPath(),\r\n              a.rect(e.x, e.y, e.width, e.height),\r\n              a.$d(this.areaBackground))\r\n            : a.fillRect(e.x, e.y, e.width, e.height));\r\n        this instanceof V\r\n          ? lm(a, f.m11, f.m12, f.m21, f.m22, f.dx, f.dy)\r\n          : (a.Zd.Ra = [f.m11, f.m12, f.m21, f.m22, f.dx, f.dy]);\r\n        if (null !== this.background) {\r\n          !1 === m && n && (lm(a, 1, 0, 0, 1, 0, 0), a.Rq(), (m = !0));\r\n          var r = this.naturalBounds;\r\n          l = f = 0;\r\n          var q = r.width;\r\n          r = r.height;\r\n          var u = 0;\r\n          this instanceof $f &&\r\n            ((r = this.geometry.bounds),\r\n            (f = r.x),\r\n            (l = r.y),\r\n            (q = r.width),\r\n            (r = r.height),\r\n            (u = this.strokeWidth));\r\n          xi(this, a, this.background, !0, !1, p, e);\r\n          this.background instanceof Il && this.background.type === Jl\r\n            ? (a.beginPath(),\r\n              a.rect(f - u / 2, l - u / 2, q + u, r + u),\r\n              a.$d(this.background))\r\n            : a.fillRect(f - u / 2, l - u / 2, q + u, r + u);\r\n        }\r\n        n &&\r\n        (null !== this.background ||\r\n          null !== this.areaBackground ||\r\n          (null !== g && 0 !== (g.I & 512)) ||\r\n          (null !== g &&\r\n            (g.type === V.Auto || g.type === V.Spot) &&\r\n            g.Fb() !== this))\r\n          ? (Kl(this, !0), null === this.shadowVisible && Hl(a))\r\n          : Kl(this, !1);\r\n        this.Xi(a, b);\r\n        n && (0 !== (this.I & 512)) === !0 && Gl(a);\r\n        this.Gf() && n && Hl(a);\r\n        h && (a.restore(), k && a.Cc.pop());\r\n        this instanceof V && (c = a.Cc.pop());\r\n        !0 === m && a.Cc.pop();\r\n        if (\r\n          (this instanceof kh && 1 < this.lineCount) ||\r\n          (this instanceof $f && 1 < this.geometry.figures.length)\r\n        )\r\n          c = a.Cc.pop();\r\n        null !== a.Gk.oq &&\r\n          (null === c &&\r\n            (d === a.Aq\r\n              ? (lm(a, 1, 0, 0, 1, 0, 0), (c = a.Cc.pop()))\r\n              : (c = a.Aq)),\r\n          a.Gk.oq(this, c));\r\n        this.svg = c;\r\n        return !0;\r\n      };\r\n\r\n      function Sk(a, b) {\r\n        this.ownerDocument = b = void 0 === b ? pa.document : b;\r\n        this.oq = null;\r\n        b = b.createElement(\"canvas\");\r\n        b.tabIndex = 0;\r\n        this.Ia = b;\r\n        this.Ia.innerHTML =\r\n          \"This text is displayed if your browser does not support the Canvas HTML element.\";\r\n        this.context = new Ml(b);\r\n        b.A = a;\r\n      }\r\n      Sk.prototype.resize = function (a, b, c, d) {\r\n        return this.width !== a || this.height !== b\r\n          ? ((this.width = a),\r\n            (this.height = b),\r\n            (this.style.width = c + \"px\"),\r\n            (this.style.height = d + \"px\"),\r\n            !0)\r\n          : !1;\r\n      };\r\n      Sk.prototype.toDataURL = function (a, b) {\r\n        return this.Ia.toDataURL(a, b);\r\n      };\r\n      Sk.prototype.getBoundingClientRect = function () {\r\n        return this.Ia.getBoundingClientRect();\r\n      };\r\n      Sk.prototype.focus = function () {\r\n        this.Ia.focus();\r\n      };\r\n      Sk.prototype.Nx = function () {\r\n        this.ownerDocument = this.Ia.A = null;\r\n      };\r\n      ma.Object.defineProperties(Sk.prototype, {\r\n        width: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ia.width;\r\n          },\r\n          set: function (a) {\r\n            this.Ia.width = a;\r\n          },\r\n        },\r\n        height: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ia.height;\r\n          },\r\n          set: function (a) {\r\n            this.Ia.height = a;\r\n          },\r\n        },\r\n        style: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ia.style;\r\n          },\r\n        },\r\n      });\r\n      Sk.className = \"CanvasSurface\";\r\n\r\n      function Ml(a) {\r\n        (a.getContext && a.getContext(\"2d\")) ||\r\n          v(\"Browser does not support HTML Canvas Element\");\r\n        this.Z = a.getContext(\"2d\");\r\n        this.$t = this.bu = this.au = \"\";\r\n        this.qn = !1;\r\n        this.mf = this.Lp = this.Kp = 0;\r\n      }\r\n      t = Ml.prototype;\r\n      t.sy = function (a) {\r\n        this.Z.imageSmoothingEnabled = a;\r\n      };\r\n      t.arc = function (a, b, c, d, e, f) {\r\n        this.Z.arc(a, b, c, d, e, f);\r\n      };\r\n      t.beginPath = function () {\r\n        this.Z.beginPath();\r\n      };\r\n      t.bezierCurveTo = function (a, b, c, d, e, f) {\r\n        this.Z.bezierCurveTo(a, b, c, d, e, f);\r\n      };\r\n      t.clearRect = function (a, b, c, d) {\r\n        this.Z.clearRect(a, b, c, d);\r\n      };\r\n      t.clip = function () {\r\n        this.Z.clip();\r\n      };\r\n      t.closePath = function () {\r\n        this.Z.closePath();\r\n      };\r\n      t.createLinearGradient = function (a, b, c, d) {\r\n        return this.Z.createLinearGradient(a, b, c, d);\r\n      };\r\n      t.createPattern = function (a, b) {\r\n        return this.Z.createPattern(a, b);\r\n      };\r\n      t.createRadialGradient = function (a, b, c, d, e, f) {\r\n        return this.Z.createRadialGradient(a, b, c, d, e, f);\r\n      };\r\n      t.drawImage = function (a, b, c, d, e, f, g, h, k) {\r\n        void 0 === d\r\n          ? this.Z.drawImage(a, b, c)\r\n          : this.Z.drawImage(a, b, c, d, e, f, g, h, k);\r\n      };\r\n      t.fill = function () {\r\n        this.Z.fill();\r\n      };\r\n      t.fillRect = function (a, b, c, d) {\r\n        this.Z.fillRect(a, b, c, d);\r\n      };\r\n      t.fillText = function (a, b, c) {\r\n        this.Z.fillText(a, b, c);\r\n      };\r\n      t.getImageData = function (a, b, c, d) {\r\n        return this.Z.getImageData(a, b, c, d);\r\n      };\r\n      t.lineTo = function (a, b) {\r\n        this.Z.lineTo(a, b);\r\n      };\r\n      t.measureText = function (a) {\r\n        return this.Z.measureText(a);\r\n      };\r\n      t.moveTo = function (a, b) {\r\n        this.Z.moveTo(a, b);\r\n      };\r\n      t.quadraticCurveTo = function (a, b, c, d) {\r\n        this.Z.quadraticCurveTo(a, b, c, d);\r\n      };\r\n      t.rect = function (a, b, c, d) {\r\n        this.Z.rect(a, b, c, d);\r\n      };\r\n      t.restore = function () {\r\n        this.Z.restore();\r\n      };\r\n      Ml.prototype.rotate = function (a) {\r\n        this.Z.rotate(a);\r\n      };\r\n      t = Ml.prototype;\r\n      t.save = function () {\r\n        this.Z.save();\r\n      };\r\n      t.setTransform = function (a, b, c, d, e, f) {\r\n        this.Z.setTransform(a, b, c, d, e, f);\r\n      };\r\n      t.scale = function (a, b) {\r\n        this.Z.scale(a, b);\r\n      };\r\n      t.stroke = function () {\r\n        this.Z.stroke();\r\n      };\r\n      t.transform = function (a, b, c, d, e, f) {\r\n        (1 === a && 0 === b && 0 === c && 1 === d && 0 === e && 0 === f) ||\r\n          this.Z.transform(a, b, c, d, e, f);\r\n      };\r\n      t.translate = function (a, b) {\r\n        this.Z.translate(a, b);\r\n      };\r\n      t.$d = function (a) {\r\n        if (a instanceof Il && a.type === Jl) {\r\n          var b = a.Vk;\r\n          a = a.cu;\r\n          a > b\r\n            ? (this.scale(b / a, 1), this.translate((a - b) / 2, 0))\r\n            : b > a && (this.scale(1, a / b), this.translate(0, (b - a) / 2));\r\n          this.qn ? this.clip() : this.fill();\r\n          a > b\r\n            ? (this.translate(-(a - b) / 2, 0), this.scale(1 / (b / a), 1))\r\n            : b > a &&\r\n              (this.translate(0, -(b - a) / 2), this.scale(1, 1 / (a / b)));\r\n        } else this.qn ? this.clip() : this.fill();\r\n      };\r\n      t.oj = function () {\r\n        this.qn || this.stroke();\r\n      };\r\n      t.mw = function (a, b, c) {\r\n        this.Kp = a;\r\n        this.Lp = b;\r\n        this.mf = c;\r\n      };\r\n      t.it = function (a, b) {\r\n        var c = this.Z;\r\n        void 0 !== c.setLineDash && (c.setLineDash(a), (c.lineDashOffset = b));\r\n      };\r\n      t.gt = function () {\r\n        var a = this.Z;\r\n        void 0 !== a.setLineDash && (a.setLineDash(om), (a.lineDashOffset = 0));\r\n      };\r\n      t.Xc = function (a) {\r\n        a && (this.au = \"\");\r\n        this.$t = this.bu = \"\";\r\n      };\r\n      ma.Object.defineProperties(Ml.prototype, {\r\n        fillStyle: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Z.fillStyle;\r\n          },\r\n          set: function (a) {\r\n            this.$t !== a && (this.$t = this.Z.fillStyle = a);\r\n          },\r\n        },\r\n        font: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Z.font;\r\n          },\r\n          set: function (a) {\r\n            this.au !== a && (this.au = this.Z.font = a);\r\n          },\r\n        },\r\n        globalAlpha: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Z.globalAlpha;\r\n          },\r\n          set: function (a) {\r\n            this.Z.globalAlpha = a;\r\n          },\r\n        },\r\n        lineCap: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Z.lineCap;\r\n          },\r\n          set: function (a) {\r\n            this.Z.lineCap = a;\r\n          },\r\n        },\r\n        lineDashOffset: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Z.lineDashOffset;\r\n          },\r\n          set: function (a) {\r\n            this.Z.lineDashOffset = a;\r\n          },\r\n        },\r\n        lineJoin: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Z.lineJoin;\r\n          },\r\n          set: function (a) {\r\n            this.Z.lineJoin = a;\r\n          },\r\n        },\r\n        lineWidth: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Z.lineWidth;\r\n          },\r\n          set: function (a) {\r\n            this.Z.lineWidth = a;\r\n          },\r\n        },\r\n        miterLimit: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Z.miterLimit;\r\n          },\r\n          set: function (a) {\r\n            this.Z.miterLimit = a;\r\n          },\r\n        },\r\n        shadowBlur: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Z.shadowBlur;\r\n          },\r\n          set: function (a) {\r\n            this.Z.shadowBlur = a;\r\n          },\r\n        },\r\n        shadowColor: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Z.shadowColor;\r\n          },\r\n          set: function (a) {\r\n            this.Z.shadowColor = a;\r\n          },\r\n        },\r\n        shadowOffsetX: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Z.shadowOffsetX;\r\n          },\r\n          set: function (a) {\r\n            this.Z.shadowOffsetX = a;\r\n          },\r\n        },\r\n        shadowOffsetY: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Z.shadowOffsetY;\r\n          },\r\n          set: function (a) {\r\n            this.Z.shadowOffsetY = a;\r\n          },\r\n        },\r\n        strokeStyle: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Z.strokeStyle;\r\n          },\r\n          set: function (a) {\r\n            this.bu !== a && (this.bu = this.Z.strokeStyle = a);\r\n          },\r\n        },\r\n        textAlign: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Z.textAlign;\r\n          },\r\n          set: function (a) {\r\n            this.Z.textAlign = a;\r\n          },\r\n        },\r\n        imageSmoothingEnabled: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Z.imageSmoothingEnabled;\r\n          },\r\n          set: function (a) {\r\n            this.Z.imageSmoothingEnabled = a;\r\n          },\r\n        },\r\n        clipInsteadOfFill: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.qn;\r\n          },\r\n          set: function (a) {\r\n            this.qn = a;\r\n          },\r\n        },\r\n      });\r\n      var om = Object.freeze([]);\r\n      Ml.className = \"CanvasSurfaceContext\";\r\n\r\n      function pm() {\r\n        this.aa = this.w = this.L = this.l = 0;\r\n      }\r\n      pm.className = \"ColorNumbers\";\r\n\r\n      function Il(a) {\r\n        F &&\r\n          1 < arguments.length &&\r\n          v(\r\n            \"Brush constructor can take at most one optional argument, the Brush type.\"\r\n          );\r\n        qm || (rm(), (qm = !0));\r\n        fb(this);\r\n        this.s = !1;\r\n        void 0 === a\r\n          ? ((this.wa = Ll), (this.Uk = \"black\"))\r\n          : \"string\" === typeof a\r\n          ? ((this.wa = Ll),\r\n            F &&\r\n              !sm(a) &&\r\n              v(\r\n                'Color \"' +\r\n                  a +\r\n                  '\" is not a valid color string for Brush constructor'\r\n              ),\r\n            (this.Uk = a))\r\n          : (F && hb(a, Il, Il, \"constructor:type\"),\r\n            (this.wa = a),\r\n            (this.Uk = \"black\"));\r\n        var b = this.wa;\r\n        b === Ol\r\n          ? ((this.xd = Ic), (this.hl = Rc))\r\n          : (this.hl = b === Jl ? (this.xd = Mc) : (this.xd = Gc));\r\n        this.Qs = 0;\r\n        this.Fr = NaN;\r\n        this.ke = this.zs = this.je = null;\r\n        this.cu = this.Vk = 0;\r\n      }\r\n      Il.prototype.copy = function () {\r\n        var a = new Il();\r\n        a.wa = this.wa;\r\n        a.Uk = this.Uk;\r\n        a.xd = this.xd.J();\r\n        a.hl = this.hl.J();\r\n        a.Qs = this.Qs;\r\n        a.Fr = this.Fr;\r\n        null !== this.je && (a.je = this.je.copy());\r\n        a.zs = this.zs;\r\n        return a;\r\n      };\r\n      t = Il.prototype;\r\n      t.freeze = function () {\r\n        this.s = !0;\r\n        null !== this.je && this.je.freeze();\r\n        return this;\r\n      };\r\n      t.ka = function () {\r\n        Object.isFrozen(this) && v(\"cannot thaw constant: \" + this);\r\n        this.s = !1;\r\n        null !== this.je && this.je.ka();\r\n        return this;\r\n      };\r\n      t.jb = function (a) {\r\n        a.classType === Il ? (this.type = a) : Ba(this, a);\r\n      };\r\n      t.toString = function () {\r\n        var a = \"Brush(\";\r\n        if (this.type === Ll) a += this.color;\r\n        else if (\r\n          ((a =\r\n            this.type === Ol\r\n              ? a + \"Linear \"\r\n              : this.type === Jl\r\n              ? a + \"Radial \"\r\n              : this.type === Nl\r\n              ? a + \"Pattern \"\r\n              : a + \"(unknown) \"),\r\n          (a += this.start + \" \" + this.end),\r\n          null !== this.colorStops)\r\n        )\r\n          for (var b = this.colorStops.iterator; b.next(); )\r\n            a += \" \" + b.key + \":\" + b.value;\r\n        return a + \")\";\r\n      };\r\n      t.addColorStop = function (a, b) {\r\n        this.s && va(this);\r\n        (\"number\" !== typeof a || !isFinite(a) || 1 < a || 0 > a) &&\r\n          ya(a, \"0 <= loc <= 1\", Il, \"addColorStop:loc\");\r\n        A(b, \"string\", Il, \"addColorStop:color\");\r\n        F &&\r\n          !sm(b) &&\r\n          v(\r\n            'Color \"' +\r\n              b +\r\n              '\" is not a valid color string for Brush.addColorStop'\r\n          );\r\n        null === this.je && (this.je = new Db());\r\n        this.je.add(a, b);\r\n        this.wa === Ll && (this.type = Ol);\r\n        this.ke = null;\r\n        return this;\r\n      };\r\n\r\n      function sm(a) {\r\n        if (\"black\" === a) return !0;\r\n        if (\"\" === a) return !1;\r\n        F && A(a, \"string\", Il, \"isValidColor\");\r\n        qm || (rm(), (qm = !0));\r\n        var b = tm;\r\n        if (null === b) return !0;\r\n        b.fillStyle = \"#000000\";\r\n        var c = b.fillStyle;\r\n        b.fillStyle = a;\r\n        if (b.fillStyle !== c) return !0;\r\n        b.fillStyle = \"#FFFFFF\";\r\n        c = b.fillStyle;\r\n        b.fillStyle = a;\r\n        return b.fillStyle !== c;\r\n      }\r\n      t.nA = function (a, b) {\r\n        this.s && va(this);\r\n        a = void 0 === a || \"number\" !== typeof a ? 0.2 : a;\r\n        b = void 0 === b ? um : b;\r\n        if (this.type === Ll) di(this.color), (this.color = vm(a, b));\r\n        else if (\r\n          (this.type === Ol || this.type === Jl) &&\r\n          null !== this.colorStops\r\n        )\r\n          for (var c = this.colorStops.iterator; c.next(); )\r\n            di(c.value), this.addColorStop(c.key, vm(a, b));\r\n        return this;\r\n      };\r\n\r\n      function wm(a, b, c) {\r\n        b = void 0 === b || \"number\" !== typeof b ? 0.2 : b;\r\n        c = void 0 === c ? um : c;\r\n        di(a);\r\n        return vm(b, c);\r\n      }\r\n      t.gz = function (a, b) {\r\n        this.s && va(this);\r\n        a = void 0 === a || \"number\" !== typeof a ? 0.2 : a;\r\n        b = void 0 === b ? um : b;\r\n        if (this.type === Ll) di(this.color), (this.color = vm(-a, b));\r\n        else if (\r\n          (this.type === Ol || this.type === Jl) &&\r\n          null !== this.colorStops\r\n        )\r\n          for (var c = this.colorStops.iterator; c.next(); )\r\n            di(c.value), this.addColorStop(c.key, vm(-a, b));\r\n        return this;\r\n      };\r\n\r\n      function xm(a, b, c) {\r\n        b = void 0 === b || \"number\" !== typeof b ? 0.2 : b;\r\n        c = void 0 === c ? um : c;\r\n        di(a);\r\n        return vm(-b, c);\r\n      }\r\n\r\n      function ym(a, b, c) {\r\n        di(a);\r\n        a = zm.l;\r\n        var d = zm.L,\r\n          e = zm.w,\r\n          f = zm.aa;\r\n        di(b);\r\n        void 0 === c && (c = 0.5);\r\n        return (\r\n          \"rgba(\" +\r\n          Math.round((zm.l - a) * c + a) +\r\n          \", \" +\r\n          Math.round((zm.L - d) * c + d) +\r\n          \", \" +\r\n          Math.round((zm.w - e) * c + e) +\r\n          \", \" +\r\n          Math.round((zm.aa - f) * c + f) +\r\n          \")\"\r\n        );\r\n      }\r\n      t.Zx = function () {\r\n        if (this.type === Ll) return Am(this.color);\r\n        if (\r\n          (this.type === Ol || this.type === Jl) &&\r\n          null !== this.colorStops\r\n        ) {\r\n          var a = this.colorStops;\r\n          if (this.type === Jl) return Am(a.first().value);\r\n          if (null !== a.get(0.5)) return Am(a.get(0.5));\r\n          if (2 === a.count)\r\n            return (a = a.sa()), Am(ym(a[0].value, a[1].value));\r\n          for (var b = a.iterator, c = -1, d = -1, e = 1, f = 1; b.next(); ) {\r\n            var g = b.key,\r\n              h = Math.abs(0.5 - b.key);\r\n            e > f && h < e\r\n              ? ((c = g), (e = h))\r\n              : f >= e && h < f && ((d = g), (f = h));\r\n          }\r\n          c > d && (c = [d, (d = c)][0]);\r\n          b = d - c;\r\n          return Am(ym(a.get(c), a.get(d), 1 - e / b));\r\n        }\r\n        return !1;\r\n      };\r\n\r\n      function Am(a) {\r\n        if (null === a) return null;\r\n        if (a instanceof Il) return a.Zx();\r\n        di(a);\r\n        return 128 > (299 * zm.l + 587 * zm.L + 114 * zm.w) / 1e3;\r\n      }\r\n\r\n      function vm(a, b) {\r\n        switch (b) {\r\n          case um:\r\n            b = 100 * Bm(zm.l);\r\n            var c = 100 * Bm(zm.L),\r\n              d = 100 * Bm(zm.w);\r\n            Cm.l = 0.4124564 * b + 0.3575761 * c + 0.1804375 * d;\r\n            Cm.L = 0.2126729 * b + 0.7151522 * c + 0.072175 * d;\r\n            Cm.w = 0.0193339 * b + 0.119192 * c + 0.9503041 * d;\r\n            Cm.aa = zm.aa;\r\n            b = Dm(Cm.l / Em[0]);\r\n            c = Dm(Cm.L / Em[1]);\r\n            d = Dm(Cm.w / Em[2]);\r\n            Fm.l = 116 * c - 16;\r\n            Fm.L = 500 * (b - c);\r\n            Fm.w = 200 * (c - d);\r\n            Fm.aa = Cm.aa;\r\n            Fm.l = Math.min(100, Math.max(0, Fm.l + 100 * a));\r\n            a = (Fm.l + 16) / 116;\r\n            b = a - Fm.w / 200;\r\n            Cm.l = Em[0] * Gm(Fm.L / 500 + a);\r\n            Cm.L = Em[1] * (Fm.l > Hm * Im ? Math.pow(a, 3) : Fm.l / Hm);\r\n            Cm.w = Em[2] * Gm(b);\r\n            Cm.aa = Fm.aa;\r\n            a = -0.969266 * Cm.l + 1.8760108 * Cm.L + 0.041556 * Cm.w;\r\n            b = 0.0556434 * Cm.l + -0.2040259 * Cm.L + 1.0572252 * Cm.w;\r\n            zm.l =\r\n              255 *\r\n              Jm(\r\n                (3.2404542 * Cm.l + -1.5371385 * Cm.L + -0.4985314 * Cm.w) / 100\r\n              );\r\n            zm.L = 255 * Jm(a / 100);\r\n            zm.w = 255 * Jm(b / 100);\r\n            zm.aa = Cm.aa;\r\n            zm.l = Math.round(zm.l);\r\n            255 < zm.l ? (zm.l = 255) : 0 > zm.l && (zm.l = 0);\r\n            zm.L = Math.round(zm.L);\r\n            255 < zm.L ? (zm.L = 255) : 0 > zm.L && (zm.L = 0);\r\n            zm.w = Math.round(zm.w);\r\n            255 < zm.w ? (zm.w = 255) : 0 > zm.w && (zm.w = 0);\r\n            return (\r\n              \"rgba(\" + zm.l + \", \" + zm.L + \", \" + zm.w + \", \" + zm.aa + \")\"\r\n            );\r\n          case Km:\r\n            return (\r\n              ei(),\r\n              (fi.w = Math.min(100, Math.max(0, fi.w + 100 * a))),\r\n              \"hsla(\" + fi.l + \", \" + fi.L + \"%, \" + fi.w + \"%, \" + fi.aa + \")\"\r\n            );\r\n          default:\r\n            return v(\"Unknown color space: \" + b), \"rgba(0, 0, 0, 1)\";\r\n        }\r\n      }\r\n\r\n      function di(a) {\r\n        qm || (rm(), (qm = !0));\r\n        var b = tm;\r\n        if (null !== b) {\r\n          b.clearRect(0, 0, 1, 1);\r\n          b.fillStyle = \"#000000\";\r\n          var c = b.fillStyle;\r\n          b.fillStyle = a;\r\n          b.fillStyle !== c\r\n            ? (b.fillRect(0, 0, 1, 1),\r\n              (a = b.getImageData(0, 0, 1, 1).data),\r\n              (zm.l = a[0]),\r\n              (zm.L = a[1]),\r\n              (zm.w = a[2]),\r\n              (zm.aa = a[3] / 255))\r\n            : ((b.fillStyle = \"#FFFFFF\"),\r\n              (c = b.fillStyle),\r\n              (b.fillStyle = a),\r\n              b.fillStyle === c &&\r\n                F &&\r\n                v(\r\n                  'Color \"' +\r\n                    a +\r\n                    '\" is not a valid color string for RGBA color conversion'\r\n                ),\r\n              (zm.l = 0),\r\n              (zm.L = 0),\r\n              (zm.w = 0),\r\n              (zm.aa = 1));\r\n        }\r\n      }\r\n\r\n      function ei() {\r\n        var a = zm.l / 255,\r\n          b = zm.L / 255,\r\n          c = zm.w / 255,\r\n          d = Math.max(a, b, c),\r\n          e = Math.min(a, b, c),\r\n          f = d - e;\r\n        e = (d + e) / 2;\r\n        if (0 === f) var g = (a = 0);\r\n        else {\r\n          switch (d) {\r\n            case a:\r\n              g = ((b - c) / f) % 6;\r\n              break;\r\n            case b:\r\n              g = (c - a) / f + 2;\r\n              break;\r\n            case c:\r\n              g = (a - b) / f + 4;\r\n          }\r\n          g *= 60;\r\n          0 > g && (g += 360);\r\n          a = f / (1 - Math.abs(2 * e - 1));\r\n        }\r\n        fi.l = Math.round(g);\r\n        fi.L = Math.round(100 * a);\r\n        fi.w = Math.round(100 * e);\r\n        fi.aa = zm.aa;\r\n      }\r\n\r\n      function Bm(a) {\r\n        a /= 255;\r\n        return 0.04045 >= a ? a / 12.92 : Math.pow((a + 0.055) / 1.055, 2.4);\r\n      }\r\n\r\n      function Jm(a) {\r\n        return 0.0031308 >= a\r\n          ? 12.92 * a\r\n          : 1.055 * Math.pow(a, 1 / 2.4) - 0.055;\r\n      }\r\n\r\n      function Dm(a) {\r\n        return a > Im ? Math.pow(a, 1 / 3) : (Hm * a + 16) / 116;\r\n      }\r\n\r\n      function Gm(a) {\r\n        var b = a * a * a;\r\n        return b > Im ? b : (116 * a - 16) / Hm;\r\n      }\r\n\r\n      function fm(a, b) {\r\n        \"string\" === typeof a\r\n          ? F &&\r\n            !sm(a) &&\r\n            v('Color \"' + a + '\" is not a valid color string for ' + b)\r\n          : a instanceof Il ||\r\n            v(\r\n              \"Value for \" + b + \" must be a color string or a Brush, not \" + a\r\n            );\r\n      }\r\n\r\n      function rm() {\r\n        tm = ih ? new Sk(null).context : null;\r\n      }\r\n      ma.Object.defineProperties(Il.prototype, {\r\n        type: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.wa;\r\n          },\r\n          set: function (a) {\r\n            this.s && va(this, a);\r\n            hb(a, Il, Il, \"type\");\r\n            this.wa = a;\r\n            this.start.Sb() &&\r\n              (a === Ol ? (this.start = Ic) : a === Jl && (this.start = Mc));\r\n            this.end.Sb() &&\r\n              (a === Ol ? (this.end = Rc) : a === Jl && (this.end = Mc));\r\n            this.ke = null;\r\n          },\r\n        },\r\n        color: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Uk;\r\n          },\r\n          set: function (a) {\r\n            this.s && va(this, a);\r\n            F &&\r\n              !sm(a) &&\r\n              v(\r\n                'Color \"' + a + '\" is not a valid color string for Brush.color'\r\n              );\r\n            this.Uk = a;\r\n            this.ke = null;\r\n          },\r\n        },\r\n        start: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.xd;\r\n          },\r\n          set: function (a) {\r\n            this.s && va(this, a);\r\n            w(a, M, Il, \"start\");\r\n            this.xd = a.J();\r\n            this.ke = null;\r\n          },\r\n        },\r\n        end: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.hl;\r\n          },\r\n          set: function (a) {\r\n            this.s && va(this, a);\r\n            w(a, M, Il, \"end\");\r\n            this.hl = a.J();\r\n            this.ke = null;\r\n          },\r\n        },\r\n        startRadius: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Qs;\r\n          },\r\n          set: function (a) {\r\n            this.s && va(this, a);\r\n            C(a, Il, \"startRadius\");\r\n            0 > a && ya(a, \">= zero\", Il, \"startRadius\");\r\n            this.Qs = a;\r\n            this.ke = null;\r\n          },\r\n        },\r\n        endRadius: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.Fr;\r\n          },\r\n          set: function (a) {\r\n            this.s && va(this, a);\r\n            C(a, Il, \"endRadius\");\r\n            0 > a && ya(a, \">= zero\", Il, \"endRadius\");\r\n            this.Fr = a;\r\n            this.ke = null;\r\n          },\r\n        },\r\n        colorStops: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.je;\r\n          },\r\n          set: function (a) {\r\n            this.s && va(this, a);\r\n            F && w(a, Db, Il, \"colorStops\");\r\n            this.je = a;\r\n            this.ke = null;\r\n          },\r\n        },\r\n        pattern: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.zs;\r\n          },\r\n          set: function (a) {\r\n            this.s && va(this, a);\r\n            this.zs = a;\r\n            this.ke = null;\r\n          },\r\n        },\r\n      });\r\n      Il.prototype.isDark = Il.prototype.Zx;\r\n      Il.prototype.darkenBy = Il.prototype.gz;\r\n      Il.prototype.lightenBy = Il.prototype.nA;\r\n      Il.prototype.addColorStop = Il.prototype.addColorStop;\r\n      var Im = 216 / 24389,\r\n        Hm = 24389 / 27,\r\n        Em = [95.047, 100, 108.883],\r\n        tm = null,\r\n        zm = new pm(),\r\n        fi = new pm(),\r\n        Cm = new pm(),\r\n        Fm = new pm(),\r\n        qm = !1;\r\n      Il.className = \"Brush\";\r\n      var Ll;\r\n      Il.Solid = Ll = new E(Il, \"Solid\", 0);\r\n      var Ol;\r\n      Il.Linear = Ol = new E(Il, \"Linear\", 1);\r\n      var Jl;\r\n      Il.Radial = Jl = new E(Il, \"Radial\", 2);\r\n      var Nl;\r\n      Il.Pattern = Nl = new E(Il, \"Pattern\", 4);\r\n      var um;\r\n      Il.Lab = um = new E(Il, \"Lab\", 5);\r\n      var Km;\r\n      Il.HSL = Km = new E(Il, \"HSL\", 6);\r\n      Il.randomColor = function (a, b) {\r\n        void 0 === a && (a = 128);\r\n        F &&\r\n          (C(a, Il, \"randomColor:min\"),\r\n          (0 > a || 255 < a) &&\r\n            ya(a, \"0 <= min <= 255\", Il, \"randomColor:min\"));\r\n        void 0 === b && (b = Math.max(a, 255));\r\n        F &&\r\n          (C(b, Il, \"randomColor:max\"),\r\n          (b < a || 255 < b) &&\r\n            ya(b, \"min <= max <= 255\", Il, \"randomColor:max\"));\r\n        var c = Math.abs(b - a);\r\n        b = Math.floor(a + Math.random() * c).toString(16);\r\n        var d = Math.floor(a + Math.random() * c).toString(16);\r\n        a = Math.floor(a + Math.random() * c).toString(16);\r\n        2 > b.length && (b = \"0\" + b);\r\n        2 > d.length && (d = \"0\" + d);\r\n        2 > a.length && (a = \"0\" + a);\r\n        return \"#\" + b + d + a;\r\n      };\r\n      Il.isValidColor = sm;\r\n      Il.lighten = function (a) {\r\n        return wm(a);\r\n      };\r\n      Il.lightenBy = wm;\r\n      Il.darken = function (a) {\r\n        return xm(a);\r\n      };\r\n      Il.darkenBy = xm;\r\n      Il.mix = ym;\r\n      Il.isDark = Am;\r\n\r\n      function cm() {\r\n        this.name = \"Base\";\r\n      }\r\n      cm.prototype.measure = function () {};\r\n      cm.prototype.qA = function (a, b, c, d, e) {\r\n        a.measure(b, c, d, e);\r\n      };\r\n      cm.prototype.arrange = function () {};\r\n      cm.prototype.Wy = function (a, b, c, d, e, f) {\r\n        a.arrange(b, c, d, e, f);\r\n      };\r\n      cm.prototype.yb = function () {};\r\n      ma.Object.defineProperties(cm.prototype, {\r\n        classType: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return V;\r\n          },\r\n        },\r\n      });\r\n      cm.prototype.arrangeElement = cm.prototype.Wy;\r\n      cm.prototype.measureElement = cm.prototype.qA;\r\n      cm.className = \"PanelLayout\";\r\n\r\n      function Lm() {\r\n        this.name = \"Base\";\r\n        this.name = \"Position\";\r\n      }\r\n      la(Lm, cm);\r\n      Lm.prototype.measure = function (a, b, c, d, e, f, g) {\r\n        var h = d.length;\r\n        a = Mm(a);\r\n        for (var k = 0; k < h; k++) {\r\n          var l = d[k];\r\n          if (l.visible || l === a) {\r\n            var m = l.margin,\r\n              n = m.right + m.left;\r\n            m = m.top + m.bottom;\r\n            l.measure(b, c, f, g);\r\n            var p = l.measuredBounds;\r\n            n = Math.max(p.width + n, 0);\r\n            m = Math.max(p.height + m, 0);\r\n            p = l.position.x;\r\n            var r = l.position.y;\r\n            isFinite(p) || (p = 0);\r\n            isFinite(r) || (r = 0);\r\n            l instanceof $f &&\r\n              l.isGeometryPositioned &&\r\n              ((l = l.strokeWidth / 2), (p -= l), (r -= l));\r\n            pc(e, p, r, n, m);\r\n          }\r\n        }\r\n      };\r\n      Lm.prototype.arrange = function (a, b, c) {\r\n        var d = b.length,\r\n          e = a.padding;\r\n        a = c.x - e.left;\r\n        c = c.y - e.top;\r\n        for (e = 0; e < d; e++) {\r\n          var f = b[e],\r\n            g = f.measuredBounds,\r\n            h = f.margin,\r\n            k = f.position.x,\r\n            l = f.position.y;\r\n          k = isNaN(k) ? -a : k - a;\r\n          l = isNaN(l) ? -c : l - c;\r\n          if (f instanceof $f && f.isGeometryPositioned) {\r\n            var m = f.strokeWidth / 2;\r\n            k -= m;\r\n            l -= m;\r\n          }\r\n          f.visible && f.arrange(k + h.left, l + h.top, g.width, g.height);\r\n        }\r\n      };\r\n\r\n      function Nm() {\r\n        this.name = \"Base\";\r\n        this.name = \"Horizontal\";\r\n      }\r\n      la(Nm, cm);\r\n      Nm.prototype.measure = function (a, b, c, d, e, f, g) {\r\n        var h = d.length;\r\n        b = La();\r\n        f = Mm(a);\r\n        for (var k = 0; k < h; k++) {\r\n          var l = d[k];\r\n          if (l.visible || l === f) {\r\n            var m = zl(l, !1);\r\n            if (m !== Og && m !== kl) b.push(l);\r\n            else {\r\n              l.measure(Infinity, c, 0, g);\r\n              m = l.margin;\r\n              l = l.measuredBounds;\r\n              var n = Math.max(l.height + m.top + m.bottom, 0);\r\n              e.width += Math.max(l.width + m.right + m.left, 0);\r\n              e.height = Math.max(e.height, n);\r\n            }\r\n          }\r\n        }\r\n        d = b.length;\r\n        a.desiredSize.height\r\n          ? (c = Math.min(a.desiredSize.height, a.maxSize.height))\r\n          : 0 !== e.height && (c = Math.min(e.height, a.maxSize.height));\r\n        for (a = 0; a < d; a++)\r\n          if (((k = b[a]), k.visible || k === f))\r\n            (m = k.margin),\r\n              (h = m.right + m.left),\r\n              (m = m.top + m.bottom),\r\n              k.measure(Infinity, c, 0, g),\r\n              (k = k.measuredBounds),\r\n              (m = Math.max(k.height + m, 0)),\r\n              (e.width += Math.max(k.width + h, 0)),\r\n              (e.height = Math.max(e.height, m));\r\n        Na(b);\r\n      };\r\n      Nm.prototype.arrange = function (a, b, c) {\r\n        for (\r\n          var d = b.length,\r\n            e = a.padding,\r\n            f = e.top,\r\n            g = a.isOpposite,\r\n            h = g ? c.width : e.left,\r\n            k = 0;\r\n          k < d;\r\n          k++\r\n        ) {\r\n          var l = f,\r\n            m = b[k];\r\n          if (m.visible) {\r\n            var n = m.measuredBounds,\r\n              p = m.margin,\r\n              r = p.top + p.bottom,\r\n              q = f + e.bottom,\r\n              u = n.height,\r\n              x = zl(m, !1);\r\n            if ((isNaN(m.desiredSize.height) && x === Id) || x === ll)\r\n              u = Math.max(c.height - r - q, 0);\r\n            r = u + r + q;\r\n            q = m.alignment;\r\n            q.Gb() && (q = a.defaultAlignment);\r\n            q.$a() || (q = Mc);\r\n            g && (h -= n.width + p.left + p.right);\r\n            m.arrange(\r\n              h + q.offsetX + p.left,\r\n              l + q.offsetY + p.top + (c.height * q.y - r * q.y),\r\n              n.width,\r\n              u\r\n            );\r\n            g || (h += n.width + p.left + p.right);\r\n          }\r\n        }\r\n      };\r\n\r\n      function Om() {\r\n        this.name = \"Base\";\r\n        this.name = \"Vertical\";\r\n      }\r\n      la(Om, cm);\r\n      Om.prototype.measure = function (a, b, c, d, e, f) {\r\n        var g = d.length;\r\n        c = La();\r\n        for (var h = Mm(a), k = 0; k < g; k++) {\r\n          var l = d[k];\r\n          if (l.visible || l === h) {\r\n            var m = zl(l, !1);\r\n            if (m !== Og && m !== ll) c.push(l);\r\n            else {\r\n              var n = l.margin;\r\n              m = n.right + n.left;\r\n              n = n.top + n.bottom;\r\n              l.measure(b, Infinity, f, 0);\r\n              l = l.measuredBounds;\r\n              gc(\r\n                e,\r\n                Math.max(e.width, Math.max(l.width + m, 0)),\r\n                e.height + Math.max(l.height + n, 0)\r\n              );\r\n            }\r\n          }\r\n        }\r\n        d = c.length;\r\n        if (0 !== d) {\r\n          a.desiredSize.width\r\n            ? (b = Math.min(a.desiredSize.width, a.maxSize.width))\r\n            : 0 !== e.width && (b = Math.min(e.width, a.maxSize.width));\r\n          for (a = 0; a < d; a++)\r\n            if (((k = c[a]), k.visible || k === h))\r\n              (l = k.margin),\r\n                (g = l.right + l.left),\r\n                (l = l.top + l.bottom),\r\n                k.measure(b, Infinity, f, 0),\r\n                (k = k.measuredBounds),\r\n                (l = Math.max(k.height + l, 0)),\r\n                (e.width = Math.max(e.width, Math.max(k.width + g, 0))),\r\n                (e.height += l);\r\n          Na(c);\r\n        }\r\n      };\r\n      Om.prototype.arrange = function (a, b, c) {\r\n        for (\r\n          var d = b.length,\r\n            e = a.padding,\r\n            f = e.left,\r\n            g = a.isOpposite,\r\n            h = g ? c.height : e.top,\r\n            k = 0;\r\n          k < d;\r\n          k++\r\n        ) {\r\n          var l = f,\r\n            m = b[k];\r\n          if (m.visible) {\r\n            var n = m.measuredBounds,\r\n              p = m.margin,\r\n              r = p.left + p.right,\r\n              q = f + e.right,\r\n              u = n.width,\r\n              x = zl(m, !1);\r\n            if ((isNaN(m.desiredSize.width) && x === Id) || x === kl)\r\n              u = Math.max(c.width - r - q, 0);\r\n            r = u + r + q;\r\n            q = m.alignment;\r\n            q.Gb() && (q = a.defaultAlignment);\r\n            q.$a() || (q = Mc);\r\n            g && (h -= n.height + p.bottom + p.top);\r\n            m.arrange(\r\n              l + q.offsetX + p.left + (c.width * q.x - r * q.x),\r\n              h + q.offsetY + p.top,\r\n              u,\r\n              n.height\r\n            );\r\n            g || (h += n.height + p.bottom + p.top);\r\n          }\r\n        }\r\n      };\r\n\r\n      function Pm() {\r\n        this.name = \"Base\";\r\n        this.name = \"Spot\";\r\n      }\r\n      la(Pm, cm);\r\n      Pm.prototype.measure = function (a, b, c, d, e, f, g) {\r\n        var h = d.length,\r\n          k = a.Fb(),\r\n          l = k.margin,\r\n          m = l.right + l.left,\r\n          n = l.top + l.bottom;\r\n        k.measure(b, c, f, g);\r\n        var p = k.measuredBounds;\r\n        f = p.width;\r\n        g = p.height;\r\n        var r = Math.max(f + m, 0);\r\n        var q = Math.max(g + n, 0);\r\n        for (\r\n          var u = a.isClipping,\r\n            x = L.allocAt(-l.left, -l.top, r, q),\r\n            y = !0,\r\n            z = Mm(a),\r\n            B = 0;\r\n          B < h;\r\n          B++\r\n        ) {\r\n          var D = d[B];\r\n          if (D !== k && (D.visible || D === z)) {\r\n            l = D.margin;\r\n            r = l.right + l.left;\r\n            q = l.top + l.bottom;\r\n            p = zl(D, !1);\r\n            switch (p) {\r\n              case Id:\r\n                b = f;\r\n                c = g;\r\n                break;\r\n              case kl:\r\n                b = f;\r\n                break;\r\n              case ll:\r\n                c = g;\r\n            }\r\n            D.measure(b, c, 0, 0);\r\n            p = D.measuredBounds;\r\n            r = Math.max(p.width + r, 0);\r\n            q = Math.max(p.height + q, 0);\r\n            var I = D.alignment;\r\n            I.Gb() && (I = a.defaultAlignment);\r\n            I.$a() || (I = Mc);\r\n            var O = D.alignmentFocus;\r\n            O.Gb() && (O = Mc);\r\n            var R = null;\r\n            D instanceof V &&\r\n              \"\" !== D.Sg &&\r\n              (D.arrange(0, 0, p.width, p.height),\r\n              (R = D.cb(D.Sg)),\r\n              R === D && (R = null));\r\n            if (null !== R) {\r\n              l = R.naturalBounds;\r\n              p = R.margin;\r\n              for (\r\n                l = J.allocAt(\r\n                  O.x * l.width - O.offsetX - p.left,\r\n                  O.y * l.height - O.offsetY - p.top\r\n                );\r\n                R !== D;\r\n\r\n              )\r\n                R.transform.xa(l), (R = R.panel);\r\n              D = I.x * f + I.offsetX - l.x;\r\n              p = I.y * g + I.offsetY - l.y;\r\n              J.free(l);\r\n            } else\r\n              (D = I.x * f + I.offsetX - (O.x * p.width + O.offsetX) - l.left),\r\n                (p =\r\n                  I.y * g + I.offsetY - (O.y * p.height + O.offsetY) - l.top);\r\n            y ? ((y = !1), e.h(D, p, r, q)) : pc(e, D, p, r, q);\r\n          }\r\n        }\r\n        y\r\n          ? e.assign(x)\r\n          : u\r\n          ? e.Iv(x.x, x.y, x.width, x.height)\r\n          : pc(e, x.x, x.y, x.width, x.height);\r\n        L.free(x);\r\n        p = k.stretch;\r\n        p === jl && (p = zl(k, !1));\r\n        switch (p) {\r\n          case Og:\r\n            return;\r\n          case Id:\r\n            if (!isFinite(b) && !isFinite(c)) return;\r\n            break;\r\n          case kl:\r\n            if (!isFinite(b)) return;\r\n            break;\r\n          case ll:\r\n            if (!isFinite(c)) return;\r\n        }\r\n        p = k.measuredBounds;\r\n        f = p.width;\r\n        g = p.height;\r\n        r = Math.max(f + m, 0);\r\n        q = Math.max(g + n, 0);\r\n        l = k.margin;\r\n        x = L.allocAt(-l.left, -l.top, r, q);\r\n        for (b = 0; b < h; b++)\r\n          (c = d[b]),\r\n            c === k ||\r\n              (!c.visible && c !== z) ||\r\n              ((l = c.margin),\r\n              (r = l.right + l.left),\r\n              (q = l.top + l.bottom),\r\n              (p = c.measuredBounds),\r\n              (r = Math.max(p.width + r, 0)),\r\n              (q = Math.max(p.height + q, 0)),\r\n              (m = c.alignment),\r\n              m.Gb() && (m = a.defaultAlignment),\r\n              m.$a() || (m = Mc),\r\n              (c = c.alignmentFocus),\r\n              c.Gb() && (c = Mc),\r\n              y\r\n                ? ((y = !1),\r\n                  e.h(\r\n                    m.x * f + m.offsetX - (c.x * p.width + c.offsetX) - l.left,\r\n                    m.y * g + m.offsetY - (c.y * p.height + c.offsetY) - l.top,\r\n                    r,\r\n                    q\r\n                  ))\r\n                : pc(\r\n                    e,\r\n                    m.x * f + m.offsetX - (c.x * p.width + c.offsetX) - l.left,\r\n                    m.y * g + m.offsetY - (c.y * p.height + c.offsetY) - l.top,\r\n                    r,\r\n                    q\r\n                  ));\r\n        y\r\n          ? e.assign(x)\r\n          : u\r\n          ? e.Iv(x.x, x.y, x.width, x.height)\r\n          : pc(e, x.x, x.y, x.width, x.height);\r\n        L.free(x);\r\n      };\r\n      Pm.prototype.arrange = function (a, b, c) {\r\n        var d = b.length,\r\n          e = a.Fb(),\r\n          f = e.measuredBounds,\r\n          g = f.width;\r\n        f = f.height;\r\n        var h = a.padding,\r\n          k = h.left;\r\n        h = h.top;\r\n        var l = k - c.x,\r\n          m = h - c.y;\r\n        e.arrange(l, m, g, f);\r\n        for (var n = 0; n < d; n++) {\r\n          var p = b[n];\r\n          if (p !== e) {\r\n            var r = p.measuredBounds,\r\n              q = r.width;\r\n            r = r.height;\r\n            m = p.alignment;\r\n            m.Gb() && (m = a.defaultAlignment);\r\n            m.$a() || (m = Mc);\r\n            var u = p.alignmentFocus;\r\n            u.Gb() && (u = Mc);\r\n            l = null;\r\n            p instanceof V &&\r\n              \"\" !== p.Sg &&\r\n              ((l = p.cb(p.Sg)), l === p && (l = null));\r\n            if (null !== l) {\r\n              var x = l.naturalBounds;\r\n              for (\r\n                u = J.allocAt(\r\n                  u.x * x.width - u.offsetX,\r\n                  u.y * x.height - u.offsetY\r\n                );\r\n                l !== p;\r\n\r\n              )\r\n                l.transform.xa(u), (l = l.panel);\r\n              l = m.x * g + m.offsetX - u.x;\r\n              m = m.y * f + m.offsetY - u.y;\r\n              J.free(u);\r\n            } else\r\n              (l = m.x * g + m.offsetX - (u.x * q + u.offsetX)),\r\n                (m = m.y * f + m.offsetY - (u.y * r + u.offsetY));\r\n            l -= c.x;\r\n            m -= c.y;\r\n            p.visible && p.arrange(k + l, h + m, q, r);\r\n          }\r\n        }\r\n      };\r\n\r\n      function Qm() {\r\n        this.name = \"Base\";\r\n        this.name = \"Auto\";\r\n      }\r\n      la(Qm, cm);\r\n      Qm.prototype.measure = function (a, b, c, d, e, f, g) {\r\n        var h = d.length,\r\n          k = a.Fb(),\r\n          l = k.margin,\r\n          m = b,\r\n          n = c,\r\n          p = l.right + l.left,\r\n          r = l.top + l.bottom;\r\n        k.measure(b, c, f, g);\r\n        l = k.measuredBounds;\r\n        var q = 0,\r\n          u = null;\r\n        k instanceof $f && ((u = k), (q = u.strokeWidth * u.scale));\r\n        var x = Math.max(l.width + p, 0);\r\n        l = Math.max(l.height + r, 0);\r\n        var y = Rm(k),\r\n          z = y.x * x + y.offsetX;\r\n        y = y.y * l + y.offsetY;\r\n        var B = Sm(k),\r\n          D = B.x * x + B.offsetX;\r\n        B = B.y * l + B.offsetY;\r\n        isFinite(b) && (m = Math.max(Math.abs(z - D) - q, 0));\r\n        isFinite(c) && (n = Math.max(Math.abs(y - B) - q, 0));\r\n        q = Jb.alloc();\r\n        q.h(0, 0);\r\n        a = Mm(a);\r\n        for (B = 0; B < h; B++)\r\n          (y = d[B]),\r\n            y === k ||\r\n              (!y.visible && y !== a) ||\r\n              ((l = y.margin),\r\n              (x = l.right + l.left),\r\n              (z = l.top + l.bottom),\r\n              y.measure(m, n, 0, 0),\r\n              (l = y.measuredBounds),\r\n              (x = Math.max(l.width + x, 0)),\r\n              (l = Math.max(l.height + z, 0)),\r\n              q.h(Math.max(x, q.width), Math.max(l, q.height)));\r\n        if (1 === h) (e.width = x), (e.height = l), Jb.free(q);\r\n        else {\r\n          y = Rm(k);\r\n          B = Sm(k);\r\n          h = d = 0;\r\n          B.x !== y.x &&\r\n            B.y !== y.y &&\r\n            ((d = q.width / Math.abs(B.x - y.x)),\r\n            (h = q.height / Math.abs(B.y - y.y)));\r\n          Jb.free(q);\r\n          q = 0;\r\n          null !== u &&\r\n            ((q = u.strokeWidth * u.scale),\r\n            Pg(u) === Qg && (d = h = Math.max(d, h)));\r\n          d += Math.abs(y.offsetX) + Math.abs(B.offsetX) + q;\r\n          h += Math.abs(y.offsetY) + Math.abs(B.offsetY) + q;\r\n          u = k.stretch;\r\n          u === jl && (u = zl(k, !1));\r\n          switch (u) {\r\n            case Og:\r\n              g = f = 0;\r\n              break;\r\n            case Id:\r\n              isFinite(b) && (d = b);\r\n              isFinite(c) && (h = c);\r\n              break;\r\n            case kl:\r\n              isFinite(b) && (d = b);\r\n              g = 0;\r\n              break;\r\n            case ll:\r\n              (f = 0), isFinite(c) && (h = c);\r\n          }\r\n          k.xm();\r\n          k.measure(d, h, f, g);\r\n          e.width = k.measuredBounds.width + p;\r\n          e.height = k.measuredBounds.height + r;\r\n        }\r\n      };\r\n      Qm.prototype.arrange = function (a, b) {\r\n        var c = b.length,\r\n          d = a.Fb(),\r\n          e = d.measuredBounds,\r\n          f = L.alloc();\r\n        f.h(0, 0, 1, 1);\r\n        var g = d.margin,\r\n          h = g.left;\r\n        g = g.top;\r\n        var k = a.padding,\r\n          l = k.left;\r\n        k = k.top;\r\n        d.arrange(l + h, k + g, e.width, e.height);\r\n        var m = Rm(d),\r\n          n = Sm(d),\r\n          p = m.y * e.height + m.offsetY,\r\n          r = n.x * e.width + n.offsetX;\r\n        n = n.y * e.height + n.offsetY;\r\n        f.x = m.x * e.width + m.offsetX;\r\n        f.y = p;\r\n        pc(f, r, n, 0, 0);\r\n        f.x += h + l;\r\n        f.y += g + k;\r\n        for (e = 0; e < c; e++)\r\n          (h = b[e]),\r\n            h !== d &&\r\n              ((l = h.measuredBounds),\r\n              (g = h.margin),\r\n              (k = Math.max(l.width + g.right + g.left, 0)),\r\n              (m = Math.max(l.height + g.top + g.bottom, 0)),\r\n              (p = h.alignment),\r\n              p.Gb() && (p = a.defaultAlignment),\r\n              p.$a() || (p = Mc),\r\n              (k = f.width * p.x + p.offsetX - k * p.x + g.left + f.x),\r\n              (g = f.height * p.y + p.offsetY - m * p.y + g.top + f.y),\r\n              h.visible &&\r\n                (sc(f.x, f.y, f.width, f.height, k, g, l.width, l.height)\r\n                  ? h.arrange(k, g, l.width, l.height)\r\n                  : h.arrange(\r\n                      k,\r\n                      g,\r\n                      l.width,\r\n                      l.height,\r\n                      new L(f.x, f.y, f.width, f.height)\r\n                    )));\r\n        L.free(f);\r\n      };\r\n\r\n      function Tm() {\r\n        this.name = \"Base\";\r\n        this.name = \"Table\";\r\n      }\r\n      la(Tm, cm);\r\n      Tm.prototype.measure = function (a, b, c, d, e, f, g) {\r\n        for (var h = d.length, k = La(), l = La(), m = 0; m < h; m++) {\r\n          var n = d[m],\r\n            p = n instanceof V ? n : null;\r\n          if (\r\n            null === p ||\r\n            (p.type !== V.TableRow && p.type !== V.TableColumn) ||\r\n            !n.visible\r\n          )\r\n            k.push(n);\r\n          else {\r\n            F &&\r\n              (p.desiredSize.o() &&\r\n                v(\r\n                  p.toString() +\r\n                    \" TableRow/TableColumn Panels cannot set a desiredSize: \" +\r\n                    p.desiredSize.toString()\r\n                ),\r\n              p.minSize.B(Wb) ||\r\n                v(\r\n                  p.toString() +\r\n                    \" TableRow/TableColumn Panels cannot set a minSize: \" +\r\n                    p.minSize.toString()\r\n                ),\r\n              p.maxSize.B(ac) ||\r\n                v(\r\n                  p.toString() +\r\n                    \" TableRow/TableColumn Panels cannot set a maxSize: \" +\r\n                    p.maxSize.toString()\r\n                ));\r\n            l.push(p);\r\n            for (var r = p.$.j, q = r.length, u = 0; u < q; u++) {\r\n              var x = r[u];\r\n              p.type === V.TableRow\r\n                ? (x.row = n.row)\r\n                : p.type === V.TableColumn && (x.column = n.column);\r\n              k.push(x);\r\n            }\r\n          }\r\n        }\r\n        h = k.length;\r\n        0 === h && (a.getRowDefinition(0), a.getColumnDefinition(0));\r\n        for (var y = [], z = 0; z < h; z++) {\r\n          var B = k[z];\r\n          Bj(B, !0);\r\n          Al(B, !0);\r\n          y[B.row] || (y[B.row] = []);\r\n          y[B.row][B.column] || (y[B.row][B.column] = []);\r\n          y[B.row][B.column].push(B);\r\n        }\r\n        Na(k);\r\n        var D = La(),\r\n          I = La(),\r\n          O = La(),\r\n          R = { count: 0 },\r\n          T = { count: 0 },\r\n          ca = b,\r\n          Z = c,\r\n          sa = a.vb;\r\n        h = sa.length;\r\n        for (var Da = 0; Da < h; Da++) {\r\n          var W = sa[Da];\r\n          void 0 !== W && (W.actual = 0);\r\n        }\r\n        sa = a.qb;\r\n        h = sa.length;\r\n        for (var Ua = 0; Ua < h; Ua++)\r\n          (W = sa[Ua]), void 0 !== W && (W.actual = 0);\r\n        for (var Ya = y.length, xb = 0, $a = 0; $a < Ya; $a++)\r\n          y[$a] && (xb = Math.max(xb, y[$a].length));\r\n        var Fb = Math.min(a.topIndex, Ya - 1),\r\n          Md = Math.min(a.leftIndex, xb - 1),\r\n          Bb = 0;\r\n        Ya = y.length;\r\n        for (var qc = Mm(a), kb = 0; kb < Ya; kb++)\r\n          if (y[kb]) {\r\n            xb = y[kb].length;\r\n            for (\r\n              var ae = a.getRowDefinition(kb), Jc = (ae.actual = 0);\r\n              Jc < xb;\r\n              Jc++\r\n            )\r\n              if (y[kb][Jc]) {\r\n                var Of = a.getColumnDefinition(Jc);\r\n                void 0 === D[Jc] && ((Of.actual = 0), (D[Jc] = !0));\r\n                for (\r\n                  var pf = y[kb][Jc], Te = pf.length, Eh = 0;\r\n                  Eh < Te;\r\n                  Eh++\r\n                ) {\r\n                  var Oc = pf[Eh];\r\n                  if (Oc.visible || Oc === qc) {\r\n                    var Pf = 1 < Oc.rowSpan || 1 < Oc.columnSpan;\r\n                    Pf && (kb < Fb || Jc < Md || I.push(Oc));\r\n                    var qf = Oc.margin,\r\n                      be = qf.right + qf.left,\r\n                      ik = qf.top + qf.bottom;\r\n                    var Ub = Sl(Oc, ae, Of, !1);\r\n                    var Qf = Oc.desiredSize,\r\n                      Nd = !isNaN(Qf.height),\r\n                      zc = !isNaN(Qf.width) && Nd;\r\n                    Pf ||\r\n                      Ub === Og ||\r\n                      zc ||\r\n                      kb < Fb ||\r\n                      Jc < Md ||\r\n                      (void 0 !== R[Jc] ||\r\n                        (Ub !== Id && Ub !== kl) ||\r\n                        ((R[Jc] = -1), R.count++),\r\n                      void 0 !== T[kb] ||\r\n                        (Ub !== Id && Ub !== ll) ||\r\n                        ((T[kb] = -1), T.count++),\r\n                      O.push(Oc));\r\n                    Oc.measure(Infinity, Infinity, 0, 0);\r\n                    if (!(kb < Fb || Jc < Md)) {\r\n                      var rf = Oc.measuredBounds,\r\n                        gd = Math.max(rf.width + be, 0),\r\n                        tg = Math.max(rf.height + ik, 0);\r\n                      if (1 === Oc.rowSpan && (Ub === Og || Ub === kl)) {\r\n                        W = a.getRowDefinition(kb);\r\n                        var Fh = W.zc();\r\n                        Bb = Math.max(tg - W.actual, 0);\r\n                        Bb + Fh > Z && (Bb = Math.max(Z - Fh, 0));\r\n                        var Hn = 0 === W.actual;\r\n                        W.actual = W.actual + Bb;\r\n                        Z = Math.max(Z - (Bb + (Hn ? Fh : 0)), 0);\r\n                      }\r\n                      if (1 === Oc.columnSpan && (Ub === Og || Ub === ll)) {\r\n                        W = a.getColumnDefinition(Jc);\r\n                        var ug = W.zc();\r\n                        Bb = Math.max(gd - W.actual, 0);\r\n                        Bb + ug > ca && (Bb = Math.max(ca - ug, 0));\r\n                        var jk = 0 === W.actual;\r\n                        W.actual = W.actual + Bb;\r\n                        ca = Math.max(ca - (Bb + (jk ? ug : 0)), 0);\r\n                      }\r\n                      Pf && Oc.xm();\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n          }\r\n        Na(D);\r\n        var mc = 0,\r\n          $c = 0;\r\n        h = a.columnCount;\r\n        for (var rc = 0; rc < h; rc++) {\r\n          var vg = a.qb[rc];\r\n          void 0 !== vg && ((mc += vg.na), 0 !== vg.na && (mc += vg.zc()));\r\n        }\r\n        h = a.rowCount;\r\n        for (var Gh = 0; Gh < h; Gh++) {\r\n          var sf = a.vb[Gh];\r\n          void 0 !== sf && (($c += sf.na), 0 !== sf.na && ($c += sf.zc()));\r\n        }\r\n        ca = Math.max(b - mc, 0);\r\n        var Li = (Z = Math.max(c - $c, 0)),\r\n          ye = ca;\r\n        h = O.length;\r\n        for (var Ue = 0; Ue < h; Ue++) {\r\n          var Ac = O[Ue],\r\n            kk = a.getRowDefinition(Ac.row),\r\n            In = a.getColumnDefinition(Ac.column),\r\n            wg = Ac.measuredBounds,\r\n            fc = Ac.margin,\r\n            xg = fc.right + fc.left,\r\n            lk = fc.top + fc.bottom;\r\n          R[Ac.column] =\r\n            0 === In.actual && void 0 !== R[Ac.column]\r\n              ? Math.max(wg.width + xg, R[Ac.column])\r\n              : null;\r\n          T[Ac.row] =\r\n            0 === kk.actual && void 0 !== T[Ac.row]\r\n              ? Math.max(wg.height + lk, T[Ac.row])\r\n              : null;\r\n        }\r\n        var Mi = 0,\r\n          yg = 0,\r\n          Rf;\r\n        for (Rf in T) \"count\" !== Rf && (Mi += T[Rf]);\r\n        for (Rf in R) \"count\" !== Rf && (yg += R[Rf]);\r\n        for (var qb = Jb.alloc(), zg = 0; zg < h; zg++) {\r\n          var Bc = O[zg];\r\n          if (Bc.visible || Bc === qc) {\r\n            var Pc = a.getRowDefinition(Bc.row),\r\n              rb = a.getColumnDefinition(Bc.column),\r\n              Od = 0;\r\n            isFinite(rb.width)\r\n              ? (Od = rb.width)\r\n              : (isFinite(ca) && null !== R[Bc.column]\r\n                  ? 0 === yg\r\n                    ? (Od = rb.actual + ca)\r\n                    : (Od = (R[Bc.column] / yg) * ye)\r\n                  : null !== R[Bc.column]\r\n                  ? (Od = ca)\r\n                  : (Od = rb.actual || ca),\r\n                (Od = Math.max(0, Od - rb.zc())));\r\n            var Pd = 0;\r\n            isFinite(Pc.height)\r\n              ? (Pd = Pc.height)\r\n              : (isFinite(Z) && null !== T[Bc.row]\r\n                  ? 0 === Mi\r\n                    ? (Pd = Pc.actual + Z)\r\n                    : (Pd = (T[Bc.row] / Mi) * Li)\r\n                  : null !== T[Bc.row]\r\n                  ? (Pd = Z)\r\n                  : (Pd = Pc.actual || Z),\r\n                (Pd = Math.max(0, Pd - Pc.zc())));\r\n            qb.h(\r\n              Math.max(rb.minimum, Math.min(Od, rb.maximum)),\r\n              Math.max(Pc.minimum, Math.min(Pd, Pc.maximum))\r\n            );\r\n            Ub = Sl(Bc, Pc, rb, !1);\r\n            switch (Ub) {\r\n              case kl:\r\n                qb.height = Math.max(qb.height, Pc.actual + Z);\r\n                break;\r\n              case ll:\r\n                qb.width = Math.max(qb.width, rb.actual + ca);\r\n            }\r\n            var ce = Bc.margin,\r\n              Jn = ce.right + ce.left,\r\n              Hh = ce.top + ce.bottom;\r\n            Bc.xm();\r\n            Bc.measure(qb.width, qb.height, rb.minimum, Pc.minimum);\r\n            var Ih = Bc.measuredBounds,\r\n              Jh = Math.max(Ih.width + Jn, 0),\r\n              Kh = Math.max(Ih.height + Hh, 0);\r\n            isFinite(ca) && (Jh = Math.min(Jh, qb.width));\r\n            isFinite(Z) && (Kh = Math.min(Kh, qb.height));\r\n            var Ag = 0;\r\n            Ag = Pc.actual;\r\n            Pc.actual = Math.max(Pc.actual, Kh);\r\n            Bb = Pc.actual - Ag;\r\n            Z = Math.max(Z - Bb, 0);\r\n            Ag = rb.actual;\r\n            rb.actual = Math.max(rb.actual, Jh);\r\n            Bb = rb.actual - Ag;\r\n            ca = Math.max(ca - Bb, 0);\r\n          }\r\n        }\r\n        Na(O);\r\n        var Qd = Jb.alloc(),\r\n          hd = La(),\r\n          ze = La();\r\n        h = I.length;\r\n        if (0 !== h)\r\n          for (var Hb = 0; Hb < Ya; Hb++)\r\n            if (y[Hb]) {\r\n              xb = y[Hb].length;\r\n              var Ni = a.getRowDefinition(Hb);\r\n              hd[Hb] = Ni.actual;\r\n              for (var zd = 0; zd < xb; zd++)\r\n                if (y[Hb][zd]) {\r\n                  var Kn = a.getColumnDefinition(zd);\r\n                  ze[zd] = Kn.actual;\r\n                }\r\n            }\r\n        for (var Ae = 0; Ae < h; Ae++) {\r\n          var ab = I[Ae];\r\n          if (ab.visible || ab === qc) {\r\n            var Rd = a.getRowDefinition(ab.row),\r\n              Cc = a.getColumnDefinition(ab.column);\r\n            qb.h(\r\n              Math.max(Cc.minimum, Math.min(b, Cc.maximum)),\r\n              Math.max(Rd.minimum, Math.min(c, Rd.maximum))\r\n            );\r\n            Ub = Sl(ab, Rd, Cc, !1);\r\n            switch (Ub) {\r\n              case Id:\r\n                0 !== ze[Cc.index] &&\r\n                  (qb.width = Math.min(qb.width, ze[Cc.index]));\r\n                0 !== hd[Rd.index] &&\r\n                  (qb.height = Math.min(qb.height, hd[Rd.index]));\r\n                break;\r\n              case kl:\r\n                0 !== ze[Cc.index] &&\r\n                  (qb.width = Math.min(qb.width, ze[Cc.index]));\r\n                break;\r\n              case ll:\r\n                0 !== hd[Rd.index] &&\r\n                  (qb.height = Math.min(qb.height, hd[Rd.index]));\r\n            }\r\n            isFinite(Cc.width) && (qb.width = Cc.width);\r\n            isFinite(Rd.height) && (qb.height = Rd.height);\r\n            Qd.h(0, 0);\r\n            for (\r\n              var Ve = 1;\r\n              Ve < ab.rowSpan && !(ab.row + Ve >= a.rowCount);\r\n              Ve++\r\n            )\r\n              (W = a.getRowDefinition(ab.row + Ve)),\r\n                (Bb = 0),\r\n                (Bb =\r\n                  Ub === Id || Ub === ll\r\n                    ? Math.max(\r\n                        W.minimum,\r\n                        0 === hd[ab.row + Ve]\r\n                          ? W.maximum\r\n                          : Math.min(hd[ab.row + Ve], W.maximum)\r\n                      )\r\n                    : Math.max(\r\n                        W.minimum,\r\n                        isNaN(W.Vc) ? W.maximum : Math.min(W.Vc, W.maximum)\r\n                      )),\r\n                (Qd.height += Bb);\r\n            for (\r\n              var Sf = 1;\r\n              Sf < ab.columnSpan && !(ab.column + Sf >= a.columnCount);\r\n              Sf++\r\n            )\r\n              (W = a.getColumnDefinition(ab.column + Sf)),\r\n                (Bb = 0),\r\n                (Bb =\r\n                  Ub === Id || Ub === kl\r\n                    ? Math.max(\r\n                        W.minimum,\r\n                        0 === ze[ab.column + Sf]\r\n                          ? W.maximum\r\n                          : Math.min(ze[ab.column + Sf], W.maximum)\r\n                      )\r\n                    : Math.max(\r\n                        W.minimum,\r\n                        isNaN(W.Vc) ? W.maximum : Math.min(W.Vc, W.maximum)\r\n                      )),\r\n                (Qd.width += Bb);\r\n            qb.width += Qd.width;\r\n            qb.height += Qd.height;\r\n            var tf = ab.margin,\r\n              de = tf.right + tf.left,\r\n              We = tf.top + tf.bottom;\r\n            ab.measure(qb.width, qb.height, f, g);\r\n            for (\r\n              var uf = ab.measuredBounds,\r\n                Xe = Math.max(uf.width + de, 0),\r\n                Ye = Math.max(uf.height + We, 0),\r\n                Ad = 0,\r\n                Bg = 0;\r\n              Bg < ab.rowSpan && !(ab.row + Bg >= a.rowCount);\r\n              Bg++\r\n            )\r\n              (W = a.getRowDefinition(ab.row + Bg)), (Ad += W.total || 0);\r\n            if (Ad < Ye) {\r\n              var Be = Ye - Ad,\r\n                Ln = Ye - Ad;\r\n              if (null !== ab.spanAllocation)\r\n                for (\r\n                  var Mn = ab.spanAllocation, Bd = 0;\r\n                  Bd < ab.rowSpan && !(0 >= Be) && !(ab.row + Bd >= a.rowCount);\r\n                  Bd++\r\n                ) {\r\n                  W = a.getRowDefinition(ab.row + Bd);\r\n                  var Cg = W.na || 0,\r\n                    Oi = Mn(ab, W, Ln);\r\n                  F &&\r\n                    \"number\" !== typeof Oi &&\r\n                    v(ab + \" spanAllocation does not return a number: \" + Oi);\r\n                  W.actual = Math.min(W.maximum, Cg + Oi);\r\n                  W.na !== Cg && (Be -= W.na - Cg);\r\n                }\r\n              for (; 0 < Be; ) {\r\n                var Lh = W.na || 0;\r\n                isNaN(W.height) &&\r\n                  W.maximum > Lh &&\r\n                  ((W.actual = Math.min(W.maximum, Lh + Be)),\r\n                  W.na !== Lh && (Be -= W.na - Lh));\r\n                if (0 === W.index) break;\r\n                W = a.getRowDefinition(W.index - 1);\r\n              }\r\n            }\r\n            for (\r\n              var mk = 0, nk = 0;\r\n              nk < ab.columnSpan && !(ab.column + nk >= a.columnCount);\r\n              nk++\r\n            )\r\n              (W = a.getColumnDefinition(ab.column + nk)), (mk += W.total || 0);\r\n            if (mk < Xe) {\r\n              var Pi = Xe - mk,\r\n                eu = Xe - mk;\r\n              if (null !== ab.spanAllocation)\r\n                for (\r\n                  var fu = ab.spanAllocation, ok = 0;\r\n                  ok < ab.columnSpan &&\r\n                  !(0 >= Pi) &&\r\n                  !(ab.column + ok >= a.columnCount);\r\n                  ok++\r\n                ) {\r\n                  W = a.getColumnDefinition(ab.column + ok);\r\n                  var Nn = W.na || 0,\r\n                    On = fu(ab, W, eu);\r\n                  F &&\r\n                    \"number\" !== typeof On &&\r\n                    v(ab + \" spanAllocation does not return a number: \" + On);\r\n                  W.actual = Math.min(W.maximum, Nn + On);\r\n                  W.na !== Nn && (Pi -= W.na - Nn);\r\n                }\r\n              for (; 0 < Pi; ) {\r\n                var pk = W.na || 0;\r\n                isNaN(W.width) &&\r\n                  W.maximum > pk &&\r\n                  ((W.actual = Math.min(W.maximum, pk + Pi)),\r\n                  W.na !== pk && (Pi -= W.na - pk));\r\n                if (0 === W.index) break;\r\n                W = a.getColumnDefinition(W.index - 1);\r\n              }\r\n            }\r\n          }\r\n        }\r\n        Na(I);\r\n        Jb.free(Qd);\r\n        Jb.free(qb);\r\n        void 0 !== hd && Na(hd);\r\n        void 0 !== ze && Na(ze);\r\n        var Dg = 0,\r\n          Eg = 0,\r\n          qk = a.desiredSize,\r\n          yr = a.maxSize;\r\n        Ub = zl(a, !0);\r\n        var Qi = ($c = mc = 0),\r\n          Ri = 0;\r\n        h = a.columnCount;\r\n        for (var rk = 0; rk < h; rk++)\r\n          void 0 !== a.qb[rk] &&\r\n            ((W = a.getColumnDefinition(rk)),\r\n            isFinite(W.width)\r\n              ? ((Qi += W.width), (Qi += W.zc()))\r\n              : Um(W) === Vm\r\n              ? ((Qi += W.na), (Qi += W.zc()))\r\n              : 0 !== W.na && ((mc += W.na), (mc += W.zc())));\r\n        isFinite(qk.width)\r\n          ? (Dg = Math.min(qk.width, yr.width))\r\n          : (Dg = Ub !== Og && isFinite(b) ? b : mc);\r\n        Dg = Math.max(Dg, a.minSize.width);\r\n        Dg = Math.max(Dg - Qi, 0);\r\n        for (var gu = 0 === mc ? 1 : Math.max(Dg / mc, 1), tk = 0; tk < h; tk++)\r\n          void 0 !== a.qb[tk] &&\r\n            ((W = a.getColumnDefinition(tk)),\r\n            isFinite(W.width) || Um(W) === Vm || (W.actual = W.na * gu),\r\n            (W.position = e.width),\r\n            0 !== W.na && ((e.width += W.na), (e.width += W.zc())));\r\n        h = a.rowCount;\r\n        for (var uk = 0; uk < h; uk++)\r\n          void 0 !== a.vb[uk] &&\r\n            ((W = a.getRowDefinition(uk)),\r\n            isFinite(W.height)\r\n              ? ((Ri += W.height), (Ri += W.zc()))\r\n              : Um(W) === Vm\r\n              ? ((Ri += W.na), (Ri += W.zc()))\r\n              : 0 !== W.na && (($c += W.na), 0 !== W.na && ($c += W.zc())));\r\n        isFinite(qk.height)\r\n          ? (Eg = Math.min(qk.height, yr.height))\r\n          : (Eg = Ub !== Og && isFinite(c) ? c : $c);\r\n        Eg = Math.max(Eg, a.minSize.height);\r\n        Eg = Math.max(Eg - Ri, 0);\r\n        for (var hu = 0 === $c ? 1 : Math.max(Eg / $c, 1), vk = 0; vk < h; vk++)\r\n          void 0 !== a.vb[vk] &&\r\n            ((W = a.getRowDefinition(vk)),\r\n            isFinite(W.height) || Um(W) === Vm || (W.actual = W.na * hu),\r\n            (W.position = e.height),\r\n            0 !== W.na &&\r\n              ((e.height += W.na), 0 !== W.na && (e.height += W.zc())));\r\n        h = l.length;\r\n        for (var Pn = 0; Pn < h; Pn++) {\r\n          var Cd = l[Pn],\r\n            Qn = 0,\r\n            Rn = 0;\r\n          Cd.type === V.TableRow\r\n            ? ((Qn = e.width),\r\n              (W = a.getRowDefinition(Cd.row)),\r\n              (Rn = W.actual))\r\n            : ((W = a.getColumnDefinition(Cd.column)),\r\n              (Qn = W.actual),\r\n              (Rn = e.height));\r\n          Cd.measuredBounds.h(0, 0, Qn, Rn);\r\n          Bj(Cd, !1);\r\n          y[Cd.row] || (y[Cd.row] = []);\r\n          y[Cd.row][Cd.column] || (y[Cd.row][Cd.column] = []);\r\n          y[Cd.row][Cd.column].push(Cd);\r\n        }\r\n        Na(l);\r\n        a.yp = y;\r\n      };\r\n      Tm.prototype.arrange = function (a, b, c) {\r\n        var d = b.length,\r\n          e = a.padding,\r\n          f = e.left;\r\n        e = e.top;\r\n        for (var g = a.yp, h, k, l = g.length, m = 0, n = 0; n < l; n++)\r\n          g[n] && (m = Math.max(m, g[n].length));\r\n        for (\r\n          n = Math.min(a.topIndex, l - 1);\r\n          n !== l && (void 0 === a.vb[n] || 0 === a.vb[n].na);\r\n\r\n        )\r\n          n++;\r\n        n = Math.min(n, l - 1);\r\n        n = -a.vb[n].position;\r\n        for (\r\n          h = Math.min(a.leftIndex, m - 1);\r\n          h !== m && (void 0 === a.qb[h] || 0 === a.qb[h].na);\r\n\r\n        )\r\n          h++;\r\n        h = Math.min(h, m - 1);\r\n        for (var p = -a.qb[h].position, r = Jb.alloc(), q = 0; q < l; q++)\r\n          if (g[q]) {\r\n            m = g[q].length;\r\n            var u = a.getRowDefinition(q);\r\n            k = u.position + n + e;\r\n            0 !== u.na && (k += u.lv());\r\n            for (var x = 0; x < m; x++)\r\n              if (g[q][x]) {\r\n                var y = a.getColumnDefinition(x);\r\n                h = y.position + p + f;\r\n                0 !== y.na && (h += y.lv());\r\n                for (var z = g[q][x], B = z.length, D = 0; D < B; D++) {\r\n                  var I = z[D],\r\n                    O = I.measuredBounds,\r\n                    R = I instanceof V ? I : null;\r\n                  if (\r\n                    null === R ||\r\n                    (R.type !== V.TableRow && R.type !== V.TableColumn)\r\n                  ) {\r\n                    r.h(0, 0);\r\n                    for (\r\n                      var T = 1;\r\n                      T < I.rowSpan && !(q + T >= a.rowCount);\r\n                      T++\r\n                    )\r\n                      (R = a.getRowDefinition(q + T)), (r.height += R.total);\r\n                    for (\r\n                      T = 1;\r\n                      T < I.columnSpan && !(x + T >= a.columnCount);\r\n                      T++\r\n                    )\r\n                      (R = a.getColumnDefinition(x + T)), (r.width += R.total);\r\n                    var ca = y.na + r.width,\r\n                      Z = u.na + r.height;\r\n                    T = h;\r\n                    R = k;\r\n                    var sa = ca,\r\n                      Da = Z,\r\n                      W = h,\r\n                      Ua = k,\r\n                      Ya = ca,\r\n                      xb = Z;\r\n                    h + ca > c.width && (Ya = Math.max(c.width - h, 0));\r\n                    k + Z > c.height && (xb = Math.max(c.height - k, 0));\r\n                    var $a = I.alignment;\r\n                    if ($a.Gb()) {\r\n                      $a = a.defaultAlignment;\r\n                      $a.$a() || ($a = Mc);\r\n                      var Fb = $a.x;\r\n                      var Md = $a.y;\r\n                      var Bb = $a.offsetX;\r\n                      $a = $a.offsetY;\r\n                      var qc = y.alignment,\r\n                        kb = u.alignment;\r\n                      qc.$a() && ((Fb = qc.x), (Bb = qc.offsetX));\r\n                      kb.$a() && ((Md = kb.y), ($a = kb.offsetY));\r\n                    } else\r\n                      (Fb = $a.x),\r\n                        (Md = $a.y),\r\n                        (Bb = $a.offsetX),\r\n                        ($a = $a.offsetY);\r\n                    if (isNaN(Fb) || isNaN(Md)) (Md = Fb = 0.5), ($a = Bb = 0);\r\n                    qc = O.width;\r\n                    kb = O.height;\r\n                    var ae = I.margin,\r\n                      Jc = ae.left + ae.right,\r\n                      Of = ae.top + ae.bottom,\r\n                      pf = Sl(I, u, y, !1);\r\n                    !isNaN(I.desiredSize.width) ||\r\n                      (pf !== Id && pf !== kl) ||\r\n                      (qc = Math.max(ca - Jc, 0));\r\n                    !isNaN(I.desiredSize.height) ||\r\n                      (pf !== Id && pf !== ll) ||\r\n                      (kb = Math.max(Z - Of, 0));\r\n                    ca = I.maxSize;\r\n                    Z = I.minSize;\r\n                    qc = Math.min(ca.width, qc);\r\n                    kb = Math.min(ca.height, kb);\r\n                    qc = Math.max(Z.width, qc);\r\n                    kb = Math.max(Z.height, kb);\r\n                    ca = kb + Of;\r\n                    T += sa * Fb - (qc + Jc) * Fb + Bb + ae.left;\r\n                    R += Da * Md - ca * Md + $a + ae.top;\r\n                    I.visible &&\r\n                      (sc(W, Ua, Ya, xb, T, R, O.width, O.height)\r\n                        ? I.arrange(T, R, qc, kb)\r\n                        : I.arrange(T, R, qc, kb, new L(W, Ua, Ya, xb)));\r\n                  } else\r\n                    I.yl(),\r\n                      I.actualBounds.ka(),\r\n                      (sa = I.actualBounds),\r\n                      (T = L.allocAt(sa.x, sa.y, sa.width, sa.height)),\r\n                      (sa.x = R.type === V.TableRow ? f : h),\r\n                      (sa.y = R.type === V.TableColumn ? e : k),\r\n                      (sa.width = O.width),\r\n                      (sa.height = O.height),\r\n                      I.actualBounds.freeze(),\r\n                      Al(I, !1),\r\n                      jc(T, sa) ||\r\n                        ((O = I.part), null !== O && (O.Ph(), I.Wo(O))),\r\n                      L.free(T);\r\n                }\r\n              }\r\n          }\r\n        Jb.free(r);\r\n        for (a = 0; a < d; a++)\r\n          (c = b[a]),\r\n            (f = c instanceof V ? c : null),\r\n            null === f ||\r\n              (f.type !== V.TableRow && f.type !== V.TableColumn) ||\r\n              ((f = c.actualBounds),\r\n              c.naturalBounds.ka(),\r\n              c.naturalBounds.h(0, 0, f.width, f.height),\r\n              c.naturalBounds.freeze());\r\n      };\r\n\r\n      function Wm() {\r\n        this.name = \"Base\";\r\n        this.name = \"TableRow\";\r\n      }\r\n      la(Wm, cm);\r\n      Wm.prototype.measure = function () {};\r\n      Wm.prototype.arrange = function () {};\r\n\r\n      function Xm() {\r\n        this.name = \"Base\";\r\n        this.name = \"TableColumn\";\r\n      }\r\n      la(Xm, cm);\r\n      Xm.prototype.measure = function () {};\r\n      Xm.prototype.arrange = function () {};\r\n\r\n      function Ym() {\r\n        this.name = \"Base\";\r\n        this.name = \"Viewbox\";\r\n      }\r\n      la(Ym, cm);\r\n      Ym.prototype.measure = function (a, b, c, d, e, f, g) {\r\n        1 < d.length &&\r\n          v(\"Viewbox Panel cannot contain more than one GraphObject.\");\r\n        d = d[0];\r\n        d.Ea = 1;\r\n        d.xm();\r\n        d.measure(Infinity, Infinity, f, g);\r\n        var h = d.measuredBounds,\r\n          k = d.margin,\r\n          l = k.right + k.left;\r\n        k = k.top + k.bottom;\r\n        if (isFinite(b) || isFinite(c)) {\r\n          var m = d.scale,\r\n            n = h.width;\r\n          h = h.height;\r\n          var p = Math.max(b - l, 0),\r\n            r = Math.max(c - k, 0),\r\n            q = 1;\r\n          a.viewboxStretch === Qg\r\n            ? 0 !== n && 0 !== h && (q = Math.min(p / n, r / h))\r\n            : 0 !== n && 0 !== h && (q = Math.max(p / n, r / h));\r\n          0 === q && (q = 1e-4);\r\n          d.Ea *= q;\r\n          m !== d.scale && (Bj(d, !0), d.measure(Infinity, Infinity, f, g));\r\n        }\r\n        h = d.measuredBounds;\r\n        e.width = isFinite(b) ? b : Math.max(h.width + l, 0);\r\n        e.height = isFinite(c) ? c : Math.max(h.height + k, 0);\r\n      };\r\n      Ym.prototype.arrange = function (a, b, c) {\r\n        b = b[0];\r\n        var d = b.measuredBounds,\r\n          e = b.margin,\r\n          f = Math.max(d.width + (e.right + e.left), 0);\r\n        e = Math.max(d.height + (e.top + e.bottom), 0);\r\n        var g = b.alignment;\r\n        g.Gb() && (g = a.defaultAlignment);\r\n        g.$a() || (g = Mc);\r\n        b.arrange(\r\n          c.width * g.x - f * g.x + g.offsetX,\r\n          c.height * g.y - e * g.y + g.offsetY,\r\n          d.width,\r\n          d.height\r\n        );\r\n      };\r\n\r\n      function Zm() {\r\n        this.name = \"Base\";\r\n        this.name = \"Grid\";\r\n      }\r\n      la(Zm, cm);\r\n      Zm.prototype.measure = function () {};\r\n      Zm.prototype.arrange = function () {};\r\n      Zm.prototype.yb = function (a, b, c) {\r\n        c = a.Df() * c.scale;\r\n        0 >= c && (c = 1);\r\n        var d = a.gridCellSize,\r\n          e = d.width;\r\n        d = d.height;\r\n        var f = a.naturalBounds,\r\n          g = a.actualBounds,\r\n          h = f.width,\r\n          k = f.height,\r\n          l = Math.ceil(h / e),\r\n          m = Math.ceil(k / d),\r\n          n = a.gridOrigin;\r\n        b.save();\r\n        b.beginPath();\r\n        b.rect(0, 0, h, k);\r\n        b.clip();\r\n        for (var p = [], r = a.$.j, q = r.length, u = 0; u < q; u++) {\r\n          var x = r[u],\r\n            y = [];\r\n          p.push(y);\r\n          if (x.visible) {\r\n            x = wk(x.figure);\r\n            for (var z = u + 1; z < q; z++) {\r\n              var B = r[z];\r\n              B.visible &&\r\n                wk(B.figure) === x &&\r\n                ((B = B.interval), 2 <= B && y.push(B));\r\n            }\r\n          }\r\n        }\r\n        r = a.$.j;\r\n        q = r.length;\r\n        for (u = 0; u < q; u++) {\r\n          var D = r[u];\r\n          if (D.visible && ((y = D.interval), !(2 > e * y * c))) {\r\n            x = D.opacity;\r\n            z = 1;\r\n            if (1 !== x) {\r\n              if (0 === x) continue;\r\n              z = b.globalAlpha;\r\n              b.globalAlpha = z * x;\r\n            }\r\n            B = p[u];\r\n            var I = !1,\r\n              O = D.strokeDashArray;\r\n            null !== O && ((I = !0), b.it(O, D.strokeDashOffset));\r\n            if (\"LineV\" === D.figure && null !== D.stroke) {\r\n              b.lineWidth = D.strokeWidth;\r\n              xi(a, b, D.stroke, !1, !1, f, g);\r\n              b.beginPath();\r\n              for (O = D = Math.floor(-n.x / e); O <= D + l; O++) {\r\n                var R = O * e + n.x;\r\n                0 <= R &&\r\n                  R <= h &&\r\n                  $m(O, y, B) &&\r\n                  (b.moveTo(R, 0), b.lineTo(R, k));\r\n              }\r\n              b.stroke();\r\n            } else if (\"LineH\" === D.figure && null !== D.stroke) {\r\n              b.lineWidth = D.strokeWidth;\r\n              xi(a, b, D.stroke, !1, !1, f, g);\r\n              b.beginPath();\r\n              for (O = D = Math.floor(-n.y / d); O <= D + m; O++)\r\n                (R = O * d + n.y),\r\n                  0 <= R &&\r\n                    R <= k &&\r\n                    $m(O, y, B) &&\r\n                    (b.moveTo(0, R), b.lineTo(h, R));\r\n              b.stroke();\r\n            } else if (\"BarV\" === D.figure && null !== D.fill)\r\n              for (\r\n                xi(a, b, D.fill, !0, !1, f, g),\r\n                  D = D.width,\r\n                  isNaN(D) && (D = e),\r\n                  R = O = Math.floor(-n.x / e);\r\n                R <= O + l;\r\n                R++\r\n              ) {\r\n                var T = R * e + n.x;\r\n                0 <= T && T <= h && $m(R, y, B) && b.fillRect(T, 0, D, k);\r\n              }\r\n            else if (\"BarH\" === D.figure && null !== D.fill)\r\n              for (\r\n                xi(a, b, D.fill, !0, !1, f, g),\r\n                  D = D.height,\r\n                  isNaN(D) && (D = d),\r\n                  R = O = Math.floor(-n.y / d);\r\n                R <= O + m;\r\n                R++\r\n              )\r\n                (T = R * d + n.y),\r\n                  0 <= T && T <= k && $m(R, y, B) && b.fillRect(0, T, h, D);\r\n            I && b.gt();\r\n            1 !== x && (b.globalAlpha = z);\r\n          }\r\n        }\r\n        b.restore();\r\n        b.Xc(!1);\r\n      };\r\n\r\n      function $m(a, b, c) {\r\n        if (0 !== a % b) return !1;\r\n        b = c.length;\r\n        for (var d = 0; d < b; d++) if (0 === a % c[d]) return !1;\r\n        return !0;\r\n      }\r\n\r\n      function an() {\r\n        this.name = \"Base\";\r\n        this.name = \"Link\";\r\n      }\r\n      la(an, cm);\r\n      an.prototype.measure = function (a, b, c, d, e) {\r\n        c = d.length;\r\n        if (a instanceof Pe || a instanceof Q) {\r\n          var f = null,\r\n            g = null,\r\n            h = null;\r\n          a instanceof Q && (g = f = a);\r\n          a instanceof Pe && ((h = a), (f = h.adornedPart));\r\n          if (f instanceof Q) {\r\n            var k = f;\r\n            if (0 === c)\r\n              gc(a.naturalBounds, 0, 0), a.measuredBounds.h(0, 0, 0, 0);\r\n            else {\r\n              var l = a instanceof Pe ? null : f.path,\r\n                m = f.routeBounds;\r\n              b = a.Eg;\r\n              b.h(0, 0, m.width, m.height);\r\n              var n = k.points;\r\n              f = f.pointsCount;\r\n              null !== h ? h.wk(!1) : null !== g && g.wk(!1);\r\n              var p = m.width,\r\n                r = m.height;\r\n              a.location.h(m.x, m.y);\r\n              a.l.length = 0;\r\n              null !== l &&\r\n                (bn(a, p, r, l), (h = l.measuredBounds), b.Nc(h), a.l.push(h));\r\n              h = Kb.alloc();\r\n              for (var q = J.alloc(), u = J.alloc(), x = 0; x < c; x++) {\r\n                var y = d[x];\r\n                if (y !== l)\r\n                  if (y.isPanelMain && y instanceof $f) {\r\n                    bn(a, p, r, y);\r\n                    var z = y.measuredBounds;\r\n                    b.Nc(z);\r\n                    a.l.push(z);\r\n                  } else if (2 > f)\r\n                    y.measure(Infinity, Infinity, 0, 0),\r\n                      (z = y.measuredBounds),\r\n                      b.Nc(z),\r\n                      a.l.push(z);\r\n                  else {\r\n                    var B = y.segmentIndex;\r\n                    z = y.segmentFraction;\r\n                    var D = y.alignmentFocus;\r\n                    D.Sb() && (D = Mc);\r\n                    var I = y.segmentOrientation,\r\n                      O = y.segmentOffset;\r\n                    if (B < -f || B >= f) {\r\n                      z = k.midPoint;\r\n                      var R = k.midAngle;\r\n                      if (I !== qg) {\r\n                        var T = k.computeAngle(y, I, R);\r\n                        y.ic = T;\r\n                      }\r\n                      T = z.x - m.x;\r\n                      var ca = z.y - m.y;\r\n                    } else {\r\n                      T = 0;\r\n                      if (0 <= B) {\r\n                        ca = n.O(B);\r\n                        var Z = B < f - 1 ? n.O(B + 1) : ca;\r\n                      } else\r\n                        (T = f + B),\r\n                          (ca = n.O(T)),\r\n                          (Z = 0 < T ? n.O(T - 1) : ca);\r\n                      if (ca.Sa(Z)) {\r\n                        0 <= B\r\n                          ? ((R = 0 < B ? n.O(B - 1) : ca),\r\n                            (T = B < f - 2 ? n.O(B + 2) : Z))\r\n                          : ((R = T < f - 1 ? n.O(T + 1) : ca),\r\n                            (T = 1 < T ? n.O(T - 2) : Z));\r\n                        var sa = R.Je(ca),\r\n                          Da = Z.Je(T);\r\n                        R =\r\n                          sa > Da + 10\r\n                            ? 0 <= B\r\n                              ? R.Xa(ca)\r\n                              : ca.Xa(R)\r\n                            : Da > sa + 10\r\n                            ? 0 <= B\r\n                              ? Z.Xa(T)\r\n                              : T.Xa(Z)\r\n                            : 0 <= B\r\n                            ? R.Xa(T)\r\n                            : T.Xa(R);\r\n                      } else R = 0 <= B ? ca.Xa(Z) : Z.Xa(ca);\r\n                      I !== qg && ((T = k.computeAngle(y, I, R)), (y.ic = T));\r\n                      T = ca.x + (Z.x - ca.x) * z - m.x;\r\n                      ca = ca.y + (Z.y - ca.y) * z - m.y;\r\n                    }\r\n                    y.measure(Infinity, Infinity, 0, 0);\r\n                    z = y.measuredBounds;\r\n                    Z = y.naturalBounds;\r\n                    var W = 0;\r\n                    y instanceof $f && (W = y.strokeWidth);\r\n                    sa = Z.width + W;\r\n                    Da = Z.height + W;\r\n                    h.reset();\r\n                    h.translate(-z.x, -z.y);\r\n                    h.scale(y.scale, y.scale);\r\n                    h.rotate(I === qg ? y.angle : R, sa / 2, Da / 2);\r\n                    (I !== cn && I !== dn) || h.rotate(90, sa / 2, Da / 2);\r\n                    (I !== en && I !== fn) || h.rotate(-90, sa / 2, Da / 2);\r\n                    I === gn &&\r\n                      ((45 < R && 135 > R) || (225 < R && 315 > R)) &&\r\n                      h.rotate(-R, sa / 2, Da / 2);\r\n                    Z = new L(0, 0, sa, Da);\r\n                    q.mj(Z, D);\r\n                    h.xa(q);\r\n                    D = -q.x + (W / 2) * y.scale;\r\n                    y = -q.y + (W / 2) * y.scale;\r\n                    u.assign(O);\r\n                    W = isNaN(O.x);\r\n                    var Ua = isNaN(O.y);\r\n                    if (W || Ua) {\r\n                      sa = sa / 2 + 3;\r\n                      Da = Da / 2 + 3;\r\n                      var Ya = 45 <= R && 135 >= R,\r\n                        xb = 225 <= R && 315 >= R;\r\n                      I === qg && (Ya || xb)\r\n                        ? ((u.x = Ua ? sa : O.y),\r\n                          (u.y = W ? Da : O.x),\r\n                          Ya\r\n                            ? 0 <= B || !W || (u.y = -Da)\r\n                            : xb &&\r\n                              (0 <= B && W && (u.y = -Da), Ua && (u.x = -sa)))\r\n                        : (W && (u.x = 0 <= B ? sa : -sa),\r\n                          Ua && (u.y = -Da),\r\n                          u.rotate(R));\r\n                    } else u.rotate(R);\r\n                    T += u.x;\r\n                    ca += u.y;\r\n                    Z.set(z);\r\n                    Z.h(T + D, ca + y, z.width, z.height);\r\n                    a.l.push(Z);\r\n                    b.Nc(Z);\r\n                  }\r\n              }\r\n              if (null !== g)\r\n                for (d = g.labelNodes; d.next(); )\r\n                  d.value.measure(Infinity, Infinity);\r\n              a.Eg = b;\r\n              a = a.location;\r\n              a.h(a.x + b.x, a.y + b.y);\r\n              gc(e, b.width || 0, b.height || 0);\r\n              Kb.free(h);\r\n              J.free(q);\r\n              J.free(u);\r\n            }\r\n          }\r\n        }\r\n      };\r\n      an.prototype.arrange = function (a, b) {\r\n        var c = b.length;\r\n        if (a instanceof Pe || a instanceof Q) {\r\n          var d = null,\r\n            e = null,\r\n            f = null;\r\n          a instanceof Q && (e = d = a);\r\n          a instanceof Pe && ((f = a), (d = f.adornedPart));\r\n          var g = a instanceof Pe ? null : d.path;\r\n          if (0 !== a.l.length) {\r\n            var h = a.l,\r\n              k = 0;\r\n            if (null !== g && k < a.l.length) {\r\n              var l = h[k];\r\n              k++;\r\n              g.arrange(l.x - a.Eg.x, l.y - a.Eg.y, l.width, l.height);\r\n            }\r\n            for (l = 0; l < c; l++) {\r\n              var m = b[l];\r\n              if (m !== g && k < a.l.length) {\r\n                var n = h[k];\r\n                k++;\r\n                m.arrange(n.x - a.Eg.x, n.y - a.Eg.y, n.width, n.height);\r\n              }\r\n            }\r\n          }\r\n          b = d.points;\r\n          c = b.count;\r\n          if (2 <= c && a instanceof Q)\r\n            for (d = a.labelNodes; d.next(); ) {\r\n              n = a;\r\n              g = d.value;\r\n              h = g.segmentIndex;\r\n              var p = g.segmentFraction;\r\n              l = g.alignmentFocus;\r\n              var r = g.segmentOrientation;\r\n              k = g.segmentOffset;\r\n              if (h < -c || h >= c) {\r\n                var q = n.midPoint;\r\n                m = n.midAngle;\r\n                r !== qg && ((n = n.computeAngle(g, r, m)), (g.angle = n));\r\n                n = q.x;\r\n                var u = q.y;\r\n              } else {\r\n                var x = 0;\r\n                0 <= h\r\n                  ? ((u = b.j[h]), (q = h < c - 1 ? b.j[h + 1] : u))\r\n                  : ((x = c + h), (u = b.j[x]), (q = 0 < x ? b.j[x - 1] : u));\r\n                if (u.Sa(q)) {\r\n                  0 <= h\r\n                    ? ((m = 0 < h ? b.j[h - 1] : u),\r\n                      (x = h < c - 2 ? b.j[h + 2] : q))\r\n                    : ((m = x < c - 1 ? b.j[x + 1] : u),\r\n                      (x = 1 < x ? b.j[x - 2] : q));\r\n                  var y = m.Je(u),\r\n                    z = q.Je(x);\r\n                  m =\r\n                    y > z + 10\r\n                      ? 0 <= h\r\n                        ? m.Xa(u)\r\n                        : u.Xa(m)\r\n                      : z > y + 10\r\n                      ? 0 <= h\r\n                        ? q.Xa(x)\r\n                        : x.Xa(q)\r\n                      : 0 <= h\r\n                      ? m.Xa(x)\r\n                      : x.Xa(m);\r\n                } else m = 0 <= h ? u.Xa(q) : q.Xa(u);\r\n                r !== qg && ((n = n.computeAngle(g, r, m)), (g.angle = n));\r\n                n = u.x + (q.x - u.x) * p;\r\n                u = u.y + (q.y - u.y) * p;\r\n              }\r\n              l.zq()\r\n                ? (g.location = new J(n, u))\r\n                : (l.Sb() && (l = Mc),\r\n                  (q = Kb.alloc()),\r\n                  q.reset(),\r\n                  q.scale(g.scale, g.scale),\r\n                  q.rotate(g.angle, 0, 0),\r\n                  (p = g.naturalBounds),\r\n                  (p = L.allocAt(0, 0, p.width, p.height)),\r\n                  (r = J.alloc()),\r\n                  r.mj(p, l),\r\n                  q.xa(r),\r\n                  (l = -r.x),\r\n                  (x = -r.y),\r\n                  (k = k.copy()),\r\n                  isNaN(k.x) && (0 <= h ? (k.x = r.x + 3) : (k.x = -(r.x + 3))),\r\n                  isNaN(k.y) && (k.y = -(r.y + 3)),\r\n                  k.rotate(m),\r\n                  (n += k.x),\r\n                  (u += k.y),\r\n                  q.tw(p),\r\n                  (l += p.x),\r\n                  (x += p.y),\r\n                  (h = J.allocAt(n + l, u + x)),\r\n                  g.move(h),\r\n                  J.free(h),\r\n                  J.free(r),\r\n                  L.free(p),\r\n                  Kb.free(q));\r\n            }\r\n          null !== f ? f.wk(!1) : null !== e && e.wk(!1);\r\n        }\r\n      };\r\n\r\n      function bn(a, b, c, d) {\r\n        if (!1 !== Gj(d)) {\r\n          var e = d.strokeWidth;\r\n          0 === e &&\r\n            a instanceof Pe &&\r\n            a.type === V.Link &&\r\n            a.adornedObject instanceof $f &&\r\n            (e = a.adornedObject.strokeWidth);\r\n          e *= d.Ea;\r\n          a instanceof Q && null !== a.ua\r\n            ? ((a = a.ua.bounds),\r\n              wl(d, a.x - e / 2, a.y - e / 2, a.width + e, a.height + e))\r\n            : a instanceof Pe && null !== a.adornedPart.ua\r\n            ? ((a = a.adornedPart.ua.bounds),\r\n              wl(d, a.x - e / 2, a.y - e / 2, a.width + e, a.height + e))\r\n            : wl(d, -(e / 2), -(e / 2), b + e, c + e);\r\n          Bj(d, !1);\r\n        }\r\n      }\r\n\r\n      function hn() {\r\n        this.name = \"Base\";\r\n        this.name = \"Graduated\";\r\n      }\r\n      la(hn, cm);\r\n      hn.prototype.measure = function (a, b, c, d, e, f, g) {\r\n        var h = a.Fb();\r\n        a.ih = [];\r\n        var k = h.margin,\r\n          l = k.right + k.left,\r\n          m = k.top + k.bottom;\r\n        h.measure(b, c, f, g);\r\n        var n = h.measuredBounds,\r\n          p = new L(\r\n            -k.left,\r\n            -k.top,\r\n            Math.max(n.width + l, 0),\r\n            Math.max(n.height + m, 0)\r\n          );\r\n        a.ih.push(p);\r\n        e.assign(p);\r\n        for (\r\n          var r = h.geometry,\r\n            q = h.strokeWidth,\r\n            u = r.flattenedSegments,\r\n            x = r.flattenedLengths,\r\n            y = r.flattenedTotalLength,\r\n            z = u.length,\r\n            B = 0,\r\n            D = 0,\r\n            I = La(),\r\n            O = 0;\r\n          O < z;\r\n          O++\r\n        ) {\r\n          var R = u[O],\r\n            T = [];\r\n          D = B = 0;\r\n          for (var ca = R.length, Z = 0; Z < ca; Z += 2) {\r\n            var sa = R[Z],\r\n              Da = R[Z + 1];\r\n            if (0 !== Z) {\r\n              var W = (180 * Math.atan2(Da - D, sa - B)) / Math.PI;\r\n              0 > W && (W += 360);\r\n              T.push(W);\r\n            }\r\n            B = sa;\r\n            D = Da;\r\n          }\r\n          I.push(T);\r\n        }\r\n        if (null === a.jh) {\r\n          for (var Ua = [], Ya = a.$.j, xb = Ya.length, $a = 0; $a < xb; $a++) {\r\n            var Fb = Ya[$a],\r\n              Md = [];\r\n            Ua.push(Md);\r\n            if (Fb.visible)\r\n              for (var Bb = Fb.interval, qc = 0; qc < xb; qc++) {\r\n                var kb = Ya[qc];\r\n                if (\r\n                  kb.visible &&\r\n                  Fb !== kb &&\r\n                  !(\r\n                    (Fb instanceof $f && !(kb instanceof $f)) ||\r\n                    (Fb instanceof kh && !(kb instanceof kh))\r\n                  )\r\n                ) {\r\n                  var ae = kb.interval;\r\n                  ae > Bb && Md.push(ae);\r\n                }\r\n              }\r\n          }\r\n          a.jh = Ua;\r\n        }\r\n        var Jc = a.jh;\r\n        var Of = a.$.j,\r\n          pf = Of.length,\r\n          Te = 0,\r\n          Eh = 0,\r\n          Oc = y;\r\n        a.Aj = [];\r\n        for (var Pf, qf = 0; qf < pf; qf++) {\r\n          var be = Of[qf];\r\n          Pf = [];\r\n          if (be.visible && be !== h) {\r\n            var ik = be.interval,\r\n              Ub = a.graduatedTickUnit;\r\n            if (!(2 > (Ub * ik * y) / a.graduatedRange)) {\r\n              var Qf = x[0][0],\r\n                Nd = 0,\r\n                zc = 0;\r\n              Eh = y * be.graduatedStart - 1e-4;\r\n              Oc = y * be.graduatedEnd + 1e-4;\r\n              var rf = Ub * ik,\r\n                gd = a.graduatedTickBase;\r\n              if (gd < a.graduatedMin) {\r\n                var tg = (a.graduatedMin - gd) / rf;\r\n                tg = 0 === tg % 1 ? tg : Math.floor(tg + 1);\r\n                gd += tg * rf;\r\n              } else\r\n                gd > a.graduatedMin + rf &&\r\n                  (gd -= Math.floor((gd - a.graduatedMin) / rf) * rf);\r\n              for (var Fh = Jc[qf]; gd <= a.graduatedMax; ) {\r\n                a: {\r\n                  for (var Hn = Fh.length, ug = 0; ug < Hn; ug++)\r\n                    if (\r\n                      K.ba(\r\n                        (gd - a.graduatedTickBase) %\r\n                          (Fh[ug] * a.graduatedTickUnit),\r\n                        0\r\n                      )\r\n                    ) {\r\n                      var jk = !1;\r\n                      break a;\r\n                    }\r\n                  jk = !0;\r\n                }\r\n                if (\r\n                  jk &&\r\n                  (null === be.graduatedSkip || !be.graduatedSkip(gd)) &&\r\n                  ((Te = ((gd - a.graduatedMin) * y) / a.graduatedRange),\r\n                  Te > y && (Te = y),\r\n                  Eh <= Te && Te <= Oc)\r\n                ) {\r\n                  for (var mc = I[Nd][zc], $c = x[Nd][zc]; Nd < x.length; ) {\r\n                    for (; Te > Qf && zc < x[Nd].length - 1; )\r\n                      zc++, (mc = I[Nd][zc]), ($c = x[Nd][zc]), (Qf += $c);\r\n                    if (Te <= Qf) break;\r\n                    Nd++;\r\n                    zc = 0;\r\n                    mc = I[Nd][zc];\r\n                    $c = x[Nd][zc];\r\n                    Qf += $c;\r\n                  }\r\n                  var rc = u[Nd],\r\n                    vg = rc[2 * zc],\r\n                    Gh = rc[2 * zc + 1],\r\n                    sf = (Te - (Qf - $c)) / $c,\r\n                    Li = new J(\r\n                      vg + (rc[2 * zc + 2] - vg) * sf + q / 2 - r.bounds.x,\r\n                      Gh + (rc[2 * zc + 3] - Gh) * sf + q / 2 - r.bounds.y\r\n                    );\r\n                  Li.scale(h.scale, h.scale);\r\n                  var ye = mc,\r\n                    Ue = I[Nd];\r\n                  1e-4 > sf\r\n                    ? 0 < zc\r\n                      ? (ye = Ue[zc - 1])\r\n                      : K.ba(rc[0], rc[rc.length - 2]) &&\r\n                        K.ba(rc[1], rc[rc.length - 1]) &&\r\n                        (ye = Ue[Ue.length - 1])\r\n                    : 0.9999 < sf &&\r\n                      (zc + 1 < Ue.length\r\n                        ? (ye = Ue[zc + 1])\r\n                        : K.ba(rc[0], rc[rc.length - 2]) &&\r\n                          K.ba(rc[1], rc[rc.length - 1]) &&\r\n                          (ye = Ue[0]));\r\n                  mc !== ye &&\r\n                    (180 < Math.abs(mc - ye) &&\r\n                      (mc < ye ? (mc += 360) : (ye += 360)),\r\n                    (mc = ((mc + ye) / 2) % 360));\r\n                  if (be instanceof kh) {\r\n                    var Ac = \"\";\r\n                    null !== be.graduatedFunction\r\n                      ? ((Ac = be.graduatedFunction(gd)),\r\n                        (Ac =\r\n                          null !== Ac && void 0 !== Ac ? Ac.toString() : \"\"))\r\n                      : (Ac = (+gd.toFixed(2)).toString());\r\n                    \"\" !== Ac && Pf.push({ Hm: Li, angle: mc, text: Ac });\r\n                  } else\r\n                    Pf.push({\r\n                      Hm: Li,\r\n                      angle: mc,\r\n                    });\r\n                }\r\n                gd += rf;\r\n              }\r\n            }\r\n          }\r\n          a.Aj.push(Pf);\r\n        }\r\n        Na(I);\r\n        var kk = a.Aj;\r\n        if (null !== kk)\r\n          for (var In = d.length, wg = 0; wg < In; wg++) {\r\n            var fc = d[wg],\r\n              xg = kk[wg];\r\n            if (fc.visible && fc !== h && 0 !== xg.length) {\r\n              if (fc instanceof $f) {\r\n                var lk = a,\r\n                  Mi = e,\r\n                  yg = fc.alignmentFocus;\r\n                yg.Sb() && (yg = Ic);\r\n                var Rf = fc.angle;\r\n                fc.ic = 0;\r\n                fc.measure(Infinity, Infinity, 0, 0);\r\n                fc.ic = Rf;\r\n                var qb = fc.measuredBounds,\r\n                  zg = qb.width,\r\n                  Bc = qb.height,\r\n                  Pc = L.allocAt(0, 0, zg, Bc),\r\n                  rb = J.alloc();\r\n                rb.mj(Pc, yg);\r\n                L.free(Pc);\r\n                for (\r\n                  var Od = -rb.x,\r\n                    Pd = -rb.y,\r\n                    ce = new L(),\r\n                    Jn = xg.length,\r\n                    Hh = 0;\r\n                  Hh < Jn;\r\n                  Hh++\r\n                )\r\n                  for (\r\n                    var Ih = xg[Hh],\r\n                      Jh = Ih.Hm.x,\r\n                      Kh = Ih.Hm.y,\r\n                      Ag = Ih.angle,\r\n                      Qd = 0;\r\n                    4 > Qd;\r\n                    Qd++\r\n                  ) {\r\n                    switch (Qd) {\r\n                      case 0:\r\n                        rb.h(Od, Pd);\r\n                        break;\r\n                      case 1:\r\n                        rb.h(Od + zg, Pd);\r\n                        break;\r\n                      case 2:\r\n                        rb.h(Od, Pd + Bc);\r\n                        break;\r\n                      case 3:\r\n                        rb.h(Od + zg, Pd + Bc);\r\n                    }\r\n                    rb.rotate(Ag + fc.angle);\r\n                    rb.offset(Jh, Kh);\r\n                    0 === Hh && 0 === Qd ? ce.h(rb.x, rb.y, 0, 0) : ce.Pe(rb);\r\n                    rb.offset(-Jh, -Kh);\r\n                    rb.rotate(-Ag - fc.angle);\r\n                  }\r\n                J.free(rb);\r\n                null !== lk.ih && lk.ih.push(ce);\r\n                pc(Mi, ce.x, ce.y, ce.width, ce.height);\r\n              } else if (fc instanceof kh) {\r\n                var hd = a,\r\n                  ze = e;\r\n                null === hd.Ch && (hd.Ch = new kh());\r\n                var Hb = hd.Ch;\r\n                jn(Hb, fc);\r\n                var Ni = fc.alignmentFocus;\r\n                Ni.Sb() && (Ni = Ic);\r\n                for (\r\n                  var zd = fc.segmentOrientation,\r\n                    Kn = fc.segmentOffset,\r\n                    Ae = new L(),\r\n                    ab = 0,\r\n                    Rd = 0,\r\n                    Cc = 0,\r\n                    Ve = 0,\r\n                    Sf = xg.length,\r\n                    tf = 0;\r\n                  tf < Sf;\r\n                  tf++\r\n                ) {\r\n                  var de = xg[tf];\r\n                  ab = de.Hm.x;\r\n                  Rd = de.Hm.y;\r\n                  Cc = de.angle;\r\n                  zd !== qg && ((Ve = Q.computeAngle(zd, Cc)), (Hb.ic = Ve));\r\n                  Hb.text = de.text || \"\";\r\n                  Hb.measure(Infinity, Infinity, 0, 0);\r\n                  var We = Hb.measuredBounds,\r\n                    uf = Hb.naturalBounds,\r\n                    Xe = uf.width,\r\n                    Ye = uf.height,\r\n                    Ad = Kb.alloc();\r\n                  Ad.reset();\r\n                  Ad.translate(-We.x, -We.y);\r\n                  Ad.scale(Hb.scale, Hb.scale);\r\n                  Ad.rotate(zd === qg ? Hb.angle : Cc, Xe / 2, Ye / 2);\r\n                  (zd !== cn && zd !== dn) || Ad.rotate(90, Xe / 2, Ye / 2);\r\n                  (zd !== en && zd !== fn) || Ad.rotate(-90, Xe / 2, Ye / 2);\r\n                  zd === gn &&\r\n                    ((45 < Cc && 135 > Cc) || (225 < Cc && 315 > Cc)) &&\r\n                    Ad.rotate(-Cc, Xe / 2, Ye / 2);\r\n                  var Bg = L.allocAt(0, 0, Xe, Ye),\r\n                    Be = J.alloc();\r\n                  Be.mj(Bg, Ni);\r\n                  Ad.xa(Be);\r\n                  var Ln = -Be.x,\r\n                    Mn = -Be.y,\r\n                    Bd = J.alloc();\r\n                  Bd.assign(Kn);\r\n                  isNaN(Bd.x) && (Bd.x = Xe / 2 + 3);\r\n                  isNaN(Bd.y) && (Bd.y = -(Ye / 2 + 3));\r\n                  Bd.rotate(Cc);\r\n                  ab += Bd.x + Ln;\r\n                  Rd += Bd.y + Mn;\r\n                  var Cg = new L(ab, Rd, We.width, We.height),\r\n                    Oi = new L(We.x, We.y, We.width, We.height),\r\n                    Lh = new L(uf.x, uf.y, uf.width, uf.height);\r\n                  de.kA = Ve;\r\n                  de.lineCount = Hb.lineCount;\r\n                  de.lines = [Hb.tb, Hb.yi, Hb.oe, Hb.Be, Hb.Ub, Hb.lb, Hb.me];\r\n                  de.actualBounds = Cg;\r\n                  de.measuredBounds = Oi;\r\n                  de.naturalBounds = Lh;\r\n                  0 === tf ? Ae.assign(Cg) : Ae.Nc(Cg);\r\n                  J.free(Bd);\r\n                  J.free(Be);\r\n                  L.free(Bg);\r\n                  Kb.free(Ad);\r\n                }\r\n                null !== hd.ih && hd.ih.push(Ae);\r\n                pc(ze, Ae.x, Ae.y, Ae.width, Ae.height);\r\n              }\r\n              Bj(fc, !1);\r\n            }\r\n          }\r\n      };\r\n      hn.prototype.arrange = function (a, b, c) {\r\n        if (null !== a.ih) {\r\n          var d = a.Fb(),\r\n            e = a.Aj;\r\n          if (null !== e) {\r\n            var f = a.ih,\r\n              g = 0,\r\n              h = f[g];\r\n            g++;\r\n            null !== d && d.arrange(h.x - c.x, h.y - c.y, h.width, h.height);\r\n            for (var k = b.length, l = 0; l < k; l++) {\r\n              var m = b[l];\r\n              h = e[l];\r\n              m.visible &&\r\n                m !== d &&\r\n                0 !== h.length &&\r\n                ((h = f[g]),\r\n                g++,\r\n                m.arrange(h.x - c.x, h.y - c.y, h.width, h.height));\r\n            }\r\n            a.ih = null;\r\n          }\r\n        }\r\n      };\r\n      hn.prototype.yb = function (a, b, c) {\r\n        var d = c.Ej;\r\n        c.Ej = !0;\r\n        var e = a.naturalBounds,\r\n          f = e.width;\r\n        e = e.height;\r\n        b.save();\r\n        b.beginPath();\r\n        b.rect(-1, -1, f + 1, e + 1);\r\n        b.clip();\r\n        f = a.Fb();\r\n        f.yb(b, c);\r\n        e = a.Df() * c.scale;\r\n        0 >= e && (e = 1);\r\n        for (\r\n          var g = f.actualBounds, h = a.$.j, k = a.Aj, l = h.length, m = 0;\r\n          m < l;\r\n          m++\r\n        ) {\r\n          var n = h[m],\r\n            p = k[m],\r\n            r = p.length;\r\n          if (n.visible && n !== f && 0 !== p.length)\r\n            if (n instanceof $f) {\r\n              if (\r\n                !(\r\n                  2 >\r\n                  ((a.graduatedTickUnit *\r\n                    n.interval *\r\n                    f.geometry.flattenedTotalLength) /\r\n                    a.graduatedRange) *\r\n                    e\r\n                )\r\n              ) {\r\n                var q = n.measuredBounds,\r\n                  u = n.strokeWidth * n.scale,\r\n                  x = n.alignmentFocus;\r\n                x.Sb() && (x = Ic);\r\n                for (var y = 0; y < r; y++) {\r\n                  var z = p[y].Hm,\r\n                    B = p[y].angle,\r\n                    D = x,\r\n                    I = n.xb;\r\n                  I.reset();\r\n                  I.translate(z.x + g.x, z.y + g.y);\r\n                  I.rotate(B + n.angle, 0, 0);\r\n                  I.translate(\r\n                    -q.width * D.x + D.offsetX + u / 2,\r\n                    -q.height * D.y + D.offsetY + u / 2\r\n                  );\r\n                  I.scale(n.scale, n.scale);\r\n                  Pl(n, !1);\r\n                  n.Vh.set(n.xb);\r\n                  n.gl = n.scale;\r\n                  Ql(n, !1);\r\n                  n.yb(b, c);\r\n                  n.xb.reset();\r\n                }\r\n              }\r\n            } else if (n instanceof kh)\r\n              for (\r\n                null === a.Ch && (a.Ch = new kh()), q = a.Ch, jn(q, n), n = 0;\r\n                n < r;\r\n                n++\r\n              )\r\n                (u = p[n]),\r\n                  u.actualBounds &&\r\n                    u.measuredBounds &&\r\n                    u.naturalBounds &&\r\n                    ((q.Xb = u.text || \"\"),\r\n                    (q.ic = u.kA || 0),\r\n                    (q.Tc = u.lineCount || 0),\r\n                    (x = u.lines),\r\n                    void 0 !== x &&\r\n                      ((q.tb = x[0]),\r\n                      (q.yi = x[1]),\r\n                      (q.oe = x[2]),\r\n                      (q.Be = x[3]),\r\n                      (q.Ub = x[4]),\r\n                      (q.lb = x[5]),\r\n                      (q.me = x[6])),\r\n                    u.naturalBounds && (q.uc = u.naturalBounds),\r\n                    u.actualBounds &&\r\n                      ((x = u.actualBounds),\r\n                      q.arrange(x.x, x.y, x.width, x.height)),\r\n                    (x = u.actualBounds),\r\n                    q.arrange(x.x, x.y, x.width, x.height),\r\n                    (y = u.measuredBounds),\r\n                    (u = u.naturalBounds),\r\n                    (z = q.xb),\r\n                    z.reset(),\r\n                    z.translate(x.x + g.x, x.y + g.y),\r\n                    z.translate(-y.x, -y.y),\r\n                    xl(q, z, u.x, u.y, u.width, u.height),\r\n                    Pl(q, !1),\r\n                    q.Vh.set(q.xb),\r\n                    (q.gl = q.scale),\r\n                    Ql(q, !1),\r\n                    q.yb(b, c));\r\n        }\r\n        c.Ej = d;\r\n        b.restore();\r\n        b.Xc(!0);\r\n      };\r\n\r\n      function V(a) {\r\n        N.call(this);\r\n        void 0 === a\r\n          ? (this.wa = V.Position)\r\n          : (w(a, cm, V, \"type\"), (this.wa = a));\r\n        null === this.wa &&\r\n          v(\"Panel type not specified or PanelLayout not loaded: \" + a);\r\n        this.$ = new G();\r\n        this.ib = Ec;\r\n        this.wa === V.Grid && (this.isAtomic = !0);\r\n        this.En = kd;\r\n        this.Zf = jl;\r\n        this.wa === V.Table && kn(this);\r\n        this.cq = Qg;\r\n        this.$n = $b;\r\n        this.ao = Qb;\r\n        this.Xn = 0;\r\n        this.Wn = 100;\r\n        this.Zn = 10;\r\n        this.Yn = 0;\r\n        this.hi = this.nb = this.jh = this.ih = this.Aj = null;\r\n        this.po = NaN;\r\n        this.re = this.xi = null;\r\n        this.Bl = \"category\";\r\n        this.Od = null;\r\n        this.Eg = new L(NaN, NaN, NaN, NaN);\r\n        this.Ch = this.yp = this.Ni = null;\r\n        this.Sg = \"\";\r\n      }\r\n      la(V, N);\r\n\r\n      function kn(a) {\r\n        a.vj = Ec;\r\n        a.ah = 1;\r\n        a.ni = null;\r\n        a.mi = null;\r\n        a.$g = 1;\r\n        a.Zg = null;\r\n        a.li = null;\r\n        a.vb = [];\r\n        a.qb = [];\r\n        a.Uj = ln;\r\n        a.tj = ln;\r\n        a.Qi = 0;\r\n        a.Ai = 0;\r\n      }\r\n      V.prototype.cloneProtected = function (a) {\r\n        N.prototype.cloneProtected.call(this, a);\r\n        a.wa = this.wa;\r\n        a.ib = this.ib.J();\r\n        a.En = this.En.J();\r\n        a.Zf = this.Zf;\r\n        if (a.wa === V.Table) {\r\n          a.vj = this.vj.J();\r\n          a.ah = this.ah;\r\n          a.ni = this.ni;\r\n          a.mi = this.mi;\r\n          a.$g = this.$g;\r\n          a.Zg = this.Zg;\r\n          a.li = this.li;\r\n          var b = [];\r\n          if (0 < this.vb.length)\r\n            for (var c = this.vb, d = c.length, e = 0; e < d; e++)\r\n              if (void 0 !== c[e]) {\r\n                var f = c[e].copy();\r\n                f.lj(a);\r\n                b[e] = f;\r\n              }\r\n          a.vb = b;\r\n          b = [];\r\n          if (0 < this.qb.length)\r\n            for (c = this.qb, d = c.length, e = 0; e < d; e++)\r\n              void 0 !== c[e] && ((f = c[e].copy()), f.lj(a), (b[e] = f));\r\n          a.qb = b;\r\n          a.Uj = this.Uj;\r\n          a.tj = this.tj;\r\n          a.Qi = this.Qi;\r\n          a.Ai = this.Ai;\r\n        }\r\n        a.cq = this.cq;\r\n        a.$n = this.$n.J();\r\n        a.ao = this.ao.J();\r\n        a.Xn = this.Xn;\r\n        a.Wn = this.Wn;\r\n        a.Zn = this.Zn;\r\n        a.Yn = this.Yn;\r\n        a.Aj = this.Aj;\r\n        a.jh = this.jh;\r\n        a.nb = this.nb;\r\n        a.hi = this.hi;\r\n        a.po = this.po;\r\n        a.xi = this.xi;\r\n        a.re = this.re;\r\n        a.Bl = this.Bl;\r\n        a.Eg.assign(this.Eg);\r\n        a.Sg = this.Sg;\r\n        null !== this.yp && (a.yp = this.yp);\r\n      };\r\n      V.prototype.Bf = function (a) {\r\n        N.prototype.Bf.call(this, a);\r\n        a.$ = this.$;\r\n        for (var b = a.$.j, c = b.length, d = 0; d < c; d++) b[d].wg = a;\r\n        a.Ni = null;\r\n      };\r\n      V.prototype.copy = function () {\r\n        var a = N.prototype.copy.call(this);\r\n        if (null !== a) {\r\n          for (var b = this.$.j, c = b.length, d = 0; d < c; d++) {\r\n            var e = b[d].copy();\r\n            e.lj(a);\r\n            e.Rj = null;\r\n            var f = a.$,\r\n              g = f.count;\r\n            f.Qb(g, e);\r\n            f = a.part;\r\n            if (null !== f) {\r\n              f.Nj = null;\r\n              null !== e.portId && f instanceof U && (f.Oh = !0);\r\n              var h = a.diagram;\r\n              (null !== h && h.undoManager.isUndoingRedoing) ||\r\n                f.eb(Fe, \"elements\", a, null, e, null, g);\r\n            }\r\n          }\r\n          return a;\r\n        }\r\n        return null;\r\n      };\r\n      t = V.prototype;\r\n      t.toString = function () {\r\n        return \"Panel(\" + this.type + \")#\" + sb(this);\r\n      };\r\n      t.Wo = function (a) {\r\n        N.prototype.Wo.call(this, a);\r\n        for (var b = this.$.j, c = b.length, d = 0; d < c; d++) b[d].Wo(a);\r\n      };\r\n      t.Xi = function (a, b) {\r\n        if (this.wa === V.Grid) this.wa.yb(this, a, b);\r\n        else if (this.wa === V.Graduated) this.wa.yb(this, a, b);\r\n        else {\r\n          this.wa === V.Table &&\r\n            ((a.lineCap = \"butt\"),\r\n            mn(this, a, !0, this.vb, !0),\r\n            mn(this, a, !1, this.qb, !0),\r\n            nn(this, a, !0, this.vb),\r\n            nn(this, a, !1, this.qb),\r\n            mn(this, a, !0, this.vb, !1),\r\n            mn(this, a, !1, this.qb, !1));\r\n          var c = this.isClipping;\r\n          c &&\r\n            (a.save(),\r\n            F &&\r\n              this.type !== V.Spot &&\r\n              Ca(\r\n                \"Warning: Panel.isClipping set on non-Spot Panel: \" +\r\n                  this.toString()\r\n              ));\r\n          for (\r\n            var d = this.Fb(), e = this.$.j, f = e.length, g = 0;\r\n            g < f;\r\n            g++\r\n          ) {\r\n            var h = e[g];\r\n            c && h === d && (a.clipInsteadOfFill = !0);\r\n            h.yb(a, b);\r\n            c && h === d && (a.clipInsteadOfFill = !1);\r\n          }\r\n          c && (a.restore(), a.Xc(!0));\r\n        }\r\n      };\r\n\r\n      function nn(a, b, c, d) {\r\n        for (\r\n          var e = d.length,\r\n            f = a.actualBounds,\r\n            g = a.naturalBounds,\r\n            h = !0,\r\n            k = 0;\r\n          k < e;\r\n          k++\r\n        ) {\r\n          var l = d[k];\r\n          if (void 0 !== l)\r\n            if (h) h = !1;\r\n            else if (0 !== l.actual) {\r\n              if (c) {\r\n                if (l.position > f.height) continue;\r\n              } else if (l.position > f.width) continue;\r\n              var m = l.separatorStrokeWidth;\r\n              isNaN(m) && (m = c ? a.ah : a.$g);\r\n              var n = l.separatorStroke;\r\n              null === n && (n = c ? a.ni : a.Zg);\r\n              if (0 !== m && null !== n) {\r\n                xi(a, b, n, !1, !1, g, f);\r\n                n = !1;\r\n                var p = l.separatorDashArray;\r\n                null === p && (p = c ? a.mi : a.li);\r\n                null !== p && ((n = !0), b.it(p, 0));\r\n                b.beginPath();\r\n                p = l.position + m;\r\n                c\r\n                  ? p > f.height && (m -= p - f.height)\r\n                  : p > f.width && (m -= p - f.width);\r\n                l = l.position + m / 2;\r\n                b.lineWidth = m;\r\n                m = a.ib;\r\n                c\r\n                  ? ((l += m.top),\r\n                    (p = f.width - m.right),\r\n                    b.moveTo(m.left, l),\r\n                    b.lineTo(p, l))\r\n                  : ((l += m.left),\r\n                    (p = f.height - m.bottom),\r\n                    b.moveTo(l, m.top),\r\n                    b.lineTo(l, p));\r\n                b.stroke();\r\n                n && b.gt();\r\n              }\r\n            }\r\n        }\r\n      }\r\n\r\n      function mn(a, b, c, d, e) {\r\n        for (\r\n          var f = d.length, g = a.actualBounds, h = a.naturalBounds, k = 0;\r\n          k < f;\r\n          k++\r\n        ) {\r\n          var l = d[k];\r\n          if (\r\n            void 0 !== l &&\r\n            null !== l.background &&\r\n            l.coversSeparators !== e &&\r\n            0 !== l.actual\r\n          ) {\r\n            var m = c ? g.height : g.width;\r\n            if (!(l.position > m)) {\r\n              var n = l.zc(),\r\n                p = l.separatorStrokeWidth;\r\n              isNaN(p) && (p = c ? a.ah : a.$g);\r\n              var r = l.separatorStroke;\r\n              null === r && (r = c ? a.ni : a.Zg);\r\n              null === r && (p = 0);\r\n              n -= p;\r\n              p = l.position + p;\r\n              n += l.actual;\r\n              p + n > m && (n = m - p);\r\n              0 >= n ||\r\n                ((m = a.ib),\r\n                xi(a, b, l.background, !0, !1, h, g),\r\n                c\r\n                  ? b.fillRect(\r\n                      m.left,\r\n                      p + m.top,\r\n                      g.width - (m.left + m.right),\r\n                      n\r\n                    )\r\n                  : b.fillRect(\r\n                      p + m.left,\r\n                      m.top,\r\n                      n,\r\n                      g.height - (m.top + m.bottom)\r\n                    ));\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      function wk(a) {\r\n        return \"LineV\" === a || \"BarV\" === a;\r\n      }\r\n      t.qk = function (a, b, c, d, e) {\r\n        var f = this.fe(),\r\n          g = this.transform,\r\n          h = 1 / (g.m11 * g.m22 - g.m12 * g.m21),\r\n          k = g.m22 * h,\r\n          l = -g.m12 * h,\r\n          m = -g.m21 * h,\r\n          n = g.m11 * h,\r\n          p = h * (g.m21 * g.dy - g.m22 * g.dx),\r\n          r = h * (g.m12 * g.dx - g.m11 * g.dy);\r\n        if (null !== this.areaBackground)\r\n          return (\r\n            (g = this.actualBounds),\r\n            K.Zc(g.left, g.top, g.right, g.bottom, a, b, c, d, e)\r\n          );\r\n        if (null !== this.background)\r\n          return (\r\n            (f = a * k + b * m + p),\r\n            (h = a * l + b * n + r),\r\n            (a = c * k + d * m + p),\r\n            (k = c * l + d * n + r),\r\n            e.h(0, 0),\r\n            (c = this.naturalBounds),\r\n            (f = K.Zc(0, 0, c.width, c.height, f, h, a, k, e)),\r\n            e.transform(g),\r\n            f\r\n          );\r\n        f || ((k = 1), (m = l = 0), (n = 1), (r = p = 0));\r\n        h = a * k + b * m + p;\r\n        a = a * l + b * n + r;\r\n        k = c * k + d * m + p;\r\n        c = c * l + d * n + r;\r\n        e.h(k, c);\r\n        d = (k - h) * (k - h) + (c - a) * (c - a);\r\n        l = !1;\r\n        n = this.$.j;\r\n        r = n.length;\r\n        m = J.alloc();\r\n        p = null;\r\n        b = Infinity;\r\n        var q = null;\r\n        this.isClipping &&\r\n          ((q = J.alloc()),\r\n          (p = this.Fb()),\r\n          (l = p.qk(h, a, k, c, q)) &&\r\n            (b = (h - q.x) * (h - q.x) + (a - q.y) * (a - q.y)));\r\n        for (var u = 0; u < r; u++) {\r\n          var x = n[u];\r\n          x.visible &&\r\n            x !== p &&\r\n            x.qk(h, a, k, c, m) &&\r\n            ((l = !0),\r\n            (x = (h - m.x) * (h - m.x) + (a - m.y) * (a - m.y)),\r\n            x < d && ((d = x), e.set(m)));\r\n        }\r\n        this.isClipping && (b > d && e.set(q), J.free(q));\r\n        J.free(m);\r\n        f && e.transform(g);\r\n        return l;\r\n      };\r\n      t.v = function (a) {\r\n        if (!0 !== Gj(this)) {\r\n          N.prototype.v.call(this, a);\r\n          a = null;\r\n          if (this.wa === V.Auto || this.wa === V.Link) a = this.Fb();\r\n          for (var b = this.$.j, c = b.length, d = 0; d < c; d++) {\r\n            var e = b[d];\r\n            (e === a || e.isPanelMain) && e.v(!0);\r\n            if (!e.desiredSize.o()) {\r\n              var f = zl(e, !1);\r\n              (e instanceof Mg ||\r\n                e instanceof V ||\r\n                e instanceof kh ||\r\n                f !== Og) &&\r\n                e.v(!0);\r\n            }\r\n          }\r\n        }\r\n      };\r\n      t.xm = function () {\r\n        if (!1 === Gj(this)) {\r\n          Bj(this, !0);\r\n          Al(this, !0);\r\n          for (var a = this.$.j, b = a.length, c = 0; c < b; c++) a[c].xm();\r\n        }\r\n      };\r\n      t.yl = function () {\r\n        if ((0 !== (this.I & 2048)) === !1) {\r\n          Pl(this, !0);\r\n          Ql(this, !0);\r\n          for (var a = this.$.j, b = a.length, c = 0; c < b; c++) a[c].Kv();\r\n        }\r\n      };\r\n      t.Kv = function () {\r\n        Ql(this, !0);\r\n        for (var a = this.$.j, b = a.length, c = 0; c < b; c++) a[c].Kv();\r\n      };\r\n      t.Bm = function (a, b, c, d) {\r\n        var e = this.Eg;\r\n        e.h(0, 0, 0, 0);\r\n        var f = this.desiredSize,\r\n          g = this.minSize;\r\n        void 0 === c && ((c = g.width), (d = g.height));\r\n        c = Math.max(c, g.width);\r\n        d = Math.max(d, g.height);\r\n        var h = this.maxSize;\r\n        isNaN(f.width) || (a = Math.min(f.width, h.width));\r\n        isNaN(f.height) || (b = Math.min(f.height, h.height));\r\n        a = Math.max(c, a);\r\n        b = Math.max(d, b);\r\n        var k = this.ib;\r\n        a = Math.max(a - k.left - k.right, 0);\r\n        b = Math.max(b - k.top - k.bottom, 0);\r\n        var l = this.$.j;\r\n        0 !== l.length && this.wa.measure(this, a, b, l, e, c, d);\r\n        a = e.width + k.left + k.right;\r\n        k = e.height + k.top + k.bottom;\r\n        isFinite(f.width) && (a = f.width);\r\n        isFinite(f.height) && (k = f.height);\r\n        a = Math.min(h.width, a);\r\n        k = Math.min(h.height, k);\r\n        a = Math.max(g.width, a);\r\n        k = Math.max(g.height, k);\r\n        a = Math.max(c, a);\r\n        k = Math.max(d, k);\r\n        gc(e, a, k);\r\n        gc(this.naturalBounds, a, k);\r\n        wl(this, 0, 0, a, k);\r\n      };\r\n      t.Fb = function () {\r\n        if (null === this.Ni) {\r\n          var a = this.$.j,\r\n            b = a.length;\r\n          if (0 === b) return null;\r\n          for (var c = 0; c < b; c++) {\r\n            var d = a[c];\r\n            if (!0 === d.isPanelMain) return (this.Ni = d);\r\n          }\r\n          this.Ni = a[0];\r\n        }\r\n        return this.Ni;\r\n      };\r\n\r\n      function Mm(a) {\r\n        return null !== a.part ? a.part.locationObject : null;\r\n      }\r\n      t.Lh = function (a, b, c, d) {\r\n        var e = this.$.j;\r\n        this.actualBounds.h(a, b, c, d);\r\n        if (0 !== e.length) {\r\n          if (!this.desiredSize.o()) {\r\n            a = zl(this, !0);\r\n            var f = this.measuredBounds;\r\n            b = f.width;\r\n            f = f.height;\r\n            var g = this.oh,\r\n              h = g.left + g.right;\r\n            g = g.top + g.bottom;\r\n            b === c && f === d && (a = Og);\r\n            switch (a) {\r\n              case Og:\r\n                if (b > c || f > d)\r\n                  this.v(), this.measure(b > c ? c : b, f > d ? d : f, 0, 0);\r\n                break;\r\n              case Id:\r\n                this.v(!0);\r\n                this.measure(c + h, d + g, 0, 0);\r\n                break;\r\n              case kl:\r\n                this.v(!0);\r\n                this.measure(c + h, f + g, 0, 0);\r\n                break;\r\n              case ll:\r\n                this.v(!0), this.measure(b + h, d + g, 0, 0);\r\n            }\r\n          }\r\n          this.wa.arrange(this, e, this.Eg);\r\n        }\r\n      };\r\n      t.Nh = function (a) {\r\n        var b = this.naturalBounds,\r\n          c = Mm(this);\r\n        if (sc(0, 0, b.width, b.height, a.x, a.y)) {\r\n          b = this.$.j;\r\n          for (var d = b.length, e = J.allocAt(0, 0); d--; ) {\r\n            var f = b[d];\r\n            if (f.visible || f === c)\r\n              if ((Lb(e.set(a), f.transform), f.ea(e))) return J.free(e), !0;\r\n          }\r\n          J.free(e);\r\n          return null === this.mb && null === this.jc ? !1 : !0;\r\n        }\r\n        return !1;\r\n      };\r\n      t.jt = function (a) {\r\n        if (this.Sk === a) return this;\r\n        for (var b = this.$.j, c = b.length, d = 0; d < c; d++) {\r\n          var e = b[d].jt(a);\r\n          if (null !== e) return e;\r\n        }\r\n        return null;\r\n      };\r\n      t.Hk = function (a, b) {\r\n        b(this, a);\r\n        if (a instanceof V) {\r\n          a = a.$.j;\r\n          for (var c = a.length, d = 0; d < c; d++) this.Hk(a[d], b);\r\n        }\r\n      };\r\n\r\n      function Tj(a, b) {\r\n        on(a, a, b);\r\n      }\r\n\r\n      function on(a, b, c) {\r\n        c(b);\r\n        b = b.$.j;\r\n        for (var d = b.length, e = 0; e < d; e++) {\r\n          var f = b[e];\r\n          f instanceof V && on(a, f, c);\r\n        }\r\n      }\r\n\r\n      function pn(a, b) {\r\n        qn(a, a, b);\r\n      }\r\n\r\n      function qn(a, b, c) {\r\n        c(b);\r\n        if (b instanceof V) {\r\n          b = b.$.j;\r\n          for (var d = b.length, e = 0; e < d; e++) qn(a, b[e], c);\r\n        }\r\n      }\r\n      t.rm = function (a) {\r\n        return rn(this, this, a);\r\n      };\r\n\r\n      function rn(a, b, c) {\r\n        if (c(b)) return b;\r\n        if (b instanceof V) {\r\n          b = b.$.j;\r\n          for (var d = b.length, e = 0; e < d; e++) {\r\n            var f = rn(a, b[e], c);\r\n            if (null !== f) return f;\r\n          }\r\n        }\r\n        return null;\r\n      }\r\n      t.cb = function (a) {\r\n        if (this.name === a) return this;\r\n        var b = this.$.j,\r\n          c = b.length;\r\n        (null === this.xi && null === this.re) || (c = sn(this));\r\n        for (var d = 0; d < c; d++) {\r\n          var e = b[d];\r\n          if (e instanceof V) {\r\n            var f = e.cb(a);\r\n            if (null !== f) return f;\r\n          }\r\n          if (e.name === a) return e;\r\n        }\r\n        return null;\r\n      };\r\n\r\n      function tn(a) {\r\n        a = a.$.j;\r\n        for (var b = a.length, c = 0, d = 0; d < b; d++) {\r\n          var e = a[d];\r\n          if (e instanceof V) c = Math.max(c, tn(e));\r\n          else if (e instanceof $f) {\r\n            a: {\r\n              switch (e.il) {\r\n                case \"None\":\r\n                case \"Square\":\r\n                case \"Ellipse\":\r\n                case \"Circle\":\r\n                case \"LineH\":\r\n                case \"LineV\":\r\n                case \"FramedRectangle\":\r\n                case \"RoundedRectangle\":\r\n                case \"Line1\":\r\n                case \"Line2\":\r\n                case \"Border\":\r\n                case \"Cube1\":\r\n                case \"Cube2\":\r\n                case \"Junction\":\r\n                case \"Cylinder1\":\r\n                case \"Cylinder2\":\r\n                case \"Cylinder3\":\r\n                case \"Cylinder4\":\r\n                case \"PlusLine\":\r\n                case \"XLine\":\r\n                case \"ThinCross\":\r\n                case \"ThickCross\":\r\n                  e = 0;\r\n                  break a;\r\n              }\r\n              e = (e.Ah / 2) * e.Wj * e.Df();\r\n            }\r\n            c = Math.max(c, e);\r\n          }\r\n        }\r\n        return c;\r\n      }\r\n      t.fe = function () {\r\n        return !(this.type === V.TableRow || this.type === V.TableColumn);\r\n      };\r\n      t.Yb = function (a, b, c) {\r\n        if (!1 === this.pickable) return null;\r\n        void 0 === b && (b = null);\r\n        void 0 === c && (c = null);\r\n        if (Hj(this)) return null;\r\n        var d = this.naturalBounds,\r\n          e = 1 / this.Df(),\r\n          f = this.fe(),\r\n          g = f ? a : Lb(J.allocAt(a.x, a.y), this.transform),\r\n          h = this.diagram,\r\n          k = 10,\r\n          l = 5;\r\n        null !== h && ((k = h.vm(\"extraTouchArea\")), (l = k / 2));\r\n        if (\r\n          sc(-(l * e), -(l * e), d.width + k * e, d.height + k * e, g.x, g.y)\r\n        ) {\r\n          if (!this.isAtomic) {\r\n            e = this.$.j;\r\n            var m = e.length;\r\n            h = J.alloc();\r\n            l = (k = this.isClipping) ? this.Fb() : null;\r\n            if (k && (l.fe() ? Lb(h.set(a), l.transform) : h.set(a), !l.ea(h)))\r\n              return J.free(h), f || J.free(g), null;\r\n            for (var n = Mm(this); m--; ) {\r\n              var p = e[m];\r\n              if (p.visible || p === n)\r\n                if (\r\n                  (p.fe() ? Lb(h.set(a), p.transform) : h.set(a), !k || p !== l)\r\n                ) {\r\n                  var r = null;\r\n                  p instanceof V\r\n                    ? (r = p.Yb(h, b, c))\r\n                    : !0 === p.pickable && p.ea(h) && (r = p);\r\n                  if (\r\n                    null !== r &&\r\n                    (null !== b && (r = b(r)),\r\n                    null !== r && (null === c || c(r)))\r\n                  )\r\n                    return J.free(h), f || J.free(g), r;\r\n                }\r\n            }\r\n            J.free(h);\r\n          }\r\n          if (null === this.background && null === this.areaBackground)\r\n            return f || J.free(g), null;\r\n          a = sc(0, 0, d.width, d.height, g.x, g.y) ? this : null;\r\n          f || J.free(g);\r\n          return a;\r\n        }\r\n        f || J.free(g);\r\n        return null;\r\n      };\r\n      t.$i = function (a, b, c, d) {\r\n        if (!1 === this.pickable) return !1;\r\n        void 0 === b && (b = null);\r\n        void 0 === c && (c = null);\r\n        var e = this.naturalBounds,\r\n          f = this.fe(),\r\n          g = f ? a : Lb(J.allocAt(a.x, a.y), this.transform),\r\n          h = this.type === V.TableRow || this.type === V.TableColumn;\r\n        e = sc(0, 0, e.width, e.height, g.x, g.y);\r\n        if (h || e) {\r\n          if (!this.isAtomic) {\r\n            h = this.$.j;\r\n            for (var k = h.length, l = J.alloc(), m = Mm(this); k--; ) {\r\n              var n = h[k];\r\n              if (n.visible || n === m) {\r\n                n.fe() ? Lb(l.set(a), n.transform) : l.set(a);\r\n                var p = n;\r\n                n = n instanceof V ? n : null;\r\n                (null !== n ? n.$i(l, b, c, d) : p.ea(l)) &&\r\n                  !1 !== p.pickable &&\r\n                  (null !== b && (p = b(p)),\r\n                  null === p || (null !== c && !c(p)) || d.add(p));\r\n              }\r\n            }\r\n            J.free(l);\r\n          }\r\n          f || J.free(g);\r\n          return (\r\n            e && (null !== this.background || null !== this.areaBackground)\r\n          );\r\n        }\r\n        f || J.free(g);\r\n        return !1;\r\n      };\r\n      t.Cf = function (a, b, c, d, e, f) {\r\n        if (!1 === this.pickable) return !1;\r\n        void 0 === b && (b = null);\r\n        void 0 === c && (c = null);\r\n        var g = f;\r\n        void 0 === f && ((g = Kb.alloc()), g.reset());\r\n        g.multiply(this.transform);\r\n        if (this.Mh(a, g))\r\n          return un(this, b, c, e), void 0 === f && Kb.free(g), !0;\r\n        if (this.Mc(a, g)) {\r\n          if (!this.isAtomic)\r\n            for (var h = Mm(this), k = this.$.j, l = k.length; l--; ) {\r\n              var m = k[l];\r\n              if (m.visible || m === h) {\r\n                var n = m.actualBounds,\r\n                  p = this.naturalBounds;\r\n                if (\r\n                  !(\r\n                    n.x > p.width ||\r\n                    n.y > p.height ||\r\n                    0 > n.x + n.width ||\r\n                    0 > n.y + n.height\r\n                  )\r\n                ) {\r\n                  n = m;\r\n                  m = m instanceof V ? m : null;\r\n                  p = Kb.alloc();\r\n                  p.set(g);\r\n                  if (null !== m ? m.Cf(a, b, c, d, e, p) : yl(n, a, d, p))\r\n                    null !== b && (n = b(n)),\r\n                      null === n || (null !== c && !c(n)) || e.add(n);\r\n                  Kb.free(p);\r\n                }\r\n              }\r\n            }\r\n          void 0 === f && Kb.free(g);\r\n          return d;\r\n        }\r\n        void 0 === f && Kb.free(g);\r\n        return !1;\r\n      };\r\n\r\n      function un(a, b, c, d) {\r\n        for (var e = a.$.j, f = e.length; f--; ) {\r\n          var g = e[f];\r\n          if (g.visible) {\r\n            var h = g.actualBounds,\r\n              k = a.naturalBounds;\r\n            h.x > k.width ||\r\n              h.y > k.height ||\r\n              0 > h.x + h.width ||\r\n              0 > h.y + h.height ||\r\n              (g instanceof V && un(g, b, c, d),\r\n              null !== b && (g = b(g)),\r\n              null === g || (null !== c && !c(g)) || d.add(g));\r\n          }\r\n        }\r\n      }\r\n      t.Jg = function (a, b, c, d, e, f) {\r\n        if (!1 === this.pickable) return !1;\r\n        void 0 === c && (c = null);\r\n        void 0 === d && (d = null);\r\n        var g = this.naturalBounds,\r\n          h = this.fe(),\r\n          k = h ? a : Lb(J.allocAt(a.x, a.y), this.transform),\r\n          l = h ? b : Lb(J.allocAt(b.x, b.y), this.transform),\r\n          m = k.Je(l),\r\n          n =\r\n            (0 < k.x && k.x < g.width && 0 < k.y && k.y < g.height) ||\r\n            Mb(k.x, k.y, 0, 0, 0, g.height) <= m ||\r\n            Mb(k.x, k.y, 0, g.height, g.width, g.height) <= m ||\r\n            Mb(k.x, k.y, g.width, g.height, g.width, 0) <= m ||\r\n            Mb(k.x, k.y, g.width, 0, 0, 0) <= m;\r\n        g =\r\n          k.ld(0, 0) <= m &&\r\n          k.ld(0, g.height) <= m &&\r\n          k.ld(g.width, 0) <= m &&\r\n          k.ld(g.width, g.height) <= m;\r\n        h || (J.free(k), J.free(l));\r\n        if (n) {\r\n          if (!this.isAtomic) {\r\n            k = J.alloc();\r\n            l = J.alloc();\r\n            m = Mm(this);\r\n            for (var p = this.$.j, r = p.length; r--; ) {\r\n              var q = p[r];\r\n              if (q.visible || q === m) {\r\n                var u = q.actualBounds,\r\n                  x = this.naturalBounds;\r\n                if (\r\n                  !h ||\r\n                  !(\r\n                    u.x > x.width ||\r\n                    u.y > x.height ||\r\n                    0 > u.x + u.width ||\r\n                    0 > u.y + u.height\r\n                  )\r\n                )\r\n                  if (\r\n                    (q.fe()\r\n                      ? ((u = q.transform), Lb(k.set(a), u), Lb(l.set(b), u))\r\n                      : (k.set(a), l.set(b)),\r\n                    (u = q),\r\n                    (q = q instanceof V ? q : null),\r\n                    null !== q ? q.Jg(k, l, c, d, e, f) : u.Sx(k, l, e))\r\n                  )\r\n                    null !== c && (u = c(u)),\r\n                      null === u || (null !== d && !d(u)) || f.add(u);\r\n              }\r\n            }\r\n            J.free(k);\r\n            J.free(l);\r\n          }\r\n          return e ? n : g;\r\n        }\r\n        return !1;\r\n      };\r\n\r\n      function Rm(a) {\r\n        var b = null;\r\n        a instanceof $f &&\r\n          ((b = a.spot1),\r\n          b === kd && (b = null),\r\n          (a = a.geometry),\r\n          null !== a && null === b && (b = a.spot1));\r\n        null === b && (b = Hc);\r\n        return b;\r\n      }\r\n\r\n      function Sm(a) {\r\n        var b = null;\r\n        a instanceof $f &&\r\n          ((b = a.spot2),\r\n          b === kd && (b = null),\r\n          (a = a.geometry),\r\n          null !== a && null === b && (b = a.spot2));\r\n        null === b && (b = Sc);\r\n        return b;\r\n      }\r\n      t.add = function (a) {\r\n        w(a, N, V, \"add:element\");\r\n        this.Qb(this.$.count, a);\r\n      };\r\n      t.O = function (a) {\r\n        return this.$.O(a);\r\n      };\r\n      t.Qb = function (a, b) {\r\n        b instanceof S &&\r\n          v(\"Cannot add a Part to a Panel: \" + b + \"; use a Panel instead\");\r\n        if (this === b || this.Mg(b))\r\n          this === b &&\r\n            v(\"Cannot make a Panel contain itself: \" + this.toString()),\r\n            v(\r\n              \"Cannot make a Panel indirectly contain itself: \" +\r\n                this.toString() +\r\n                \" already contains \" +\r\n                b.toString()\r\n            );\r\n        var c = b.panel;\r\n        null !== c &&\r\n          c !== this &&\r\n          v(\r\n            \"Cannot add a GraphObject that already belongs to another Panel to this Panel: \" +\r\n              b.toString() +\r\n              \", already contained by \" +\r\n              c.toString() +\r\n              \", cannot be shared by this Panel: \" +\r\n              this.toString()\r\n          );\r\n        this.wa !== V.Grid ||\r\n          b instanceof $f ||\r\n          v(\"Can only add Shapes to a Grid Panel, not: \" + b);\r\n        this.wa !== V.Graduated ||\r\n          b instanceof $f ||\r\n          b instanceof kh ||\r\n          v(\r\n            \"Can only add Shapes or TextBlocks to a Graduated Panel, not: \" + b\r\n          );\r\n        b.lj(this);\r\n        b.Rj = null;\r\n        if (null !== this.itemArray) {\r\n          var d = b.data;\r\n          null !== d &&\r\n            \"object\" === typeof d &&\r\n            (null === this.Od && (this.Od = new Db()), this.Od.add(d, b));\r\n        }\r\n        var e = this.$;\r\n        d = -1;\r\n        if (c === this) {\r\n          for (var f = -1, g = this.$.j, h = g.length, k = 0; k < h; k++)\r\n            if (g[k] === b) {\r\n              f = k;\r\n              break;\r\n            }\r\n          if (-1 !== f) {\r\n            if (f === a || (f + 1 >= e.count && a >= e.count)) return;\r\n            e.pb(f);\r\n            d = f;\r\n          } else\r\n            v(\r\n              \"element \" +\r\n                b.toString() +\r\n                \" has panel \" +\r\n                c.toString() +\r\n                \" but is not contained by it.\"\r\n            );\r\n        }\r\n        if (0 > a || a > e.count) a = e.count;\r\n        e.Qb(a, b);\r\n        if (0 === a || b.isPanelMain) this.Ni = null;\r\n        Gj(this) || this.v();\r\n        b.v(!1);\r\n        null !== b.portId\r\n          ? (this.Oh = !0)\r\n          : b instanceof V && !0 === b.Oh && (this.Oh = !0);\r\n        this.jh = null;\r\n        c = this.part;\r\n        null !== c &&\r\n          ((c.Nj = null),\r\n          (c.ph = NaN),\r\n          this.Oh && c instanceof U && (c.Oh = !0),\r\n          c.Oh && c instanceof U && (c.xc = null),\r\n          (e = this.diagram),\r\n          (null !== e && e.undoManager.isUndoingRedoing) ||\r\n            (-1 !== d && c.eb(Ge, \"elements\", this, b, null, d, null),\r\n            c.eb(Fe, \"elements\", this, null, b, null, a),\r\n            this.Ng() || vn(this, b, !1)));\r\n      };\r\n\r\n      function wn(a, b) {\r\n        a.I = b ? a.I | 16777216 : a.I & -16777217;\r\n      }\r\n      t.remove = function (a) {\r\n        w(a, N, V, \"remove:element\");\r\n        for (var b = this.$.j, c = b.length, d = -1, e = 0; e < c; e++)\r\n          if (b[e] === a) {\r\n            d = e;\r\n            break;\r\n          }\r\n        -1 !== d && this.Lc(d, !0);\r\n      };\r\n      t.pb = function (a) {\r\n        F && C(a, V, \"removeAt:idx\");\r\n        0 <= a && this.Lc(a, !0);\r\n      };\r\n      t.Lc = function (a, b) {\r\n        var c = this.$,\r\n          d = c.O(a);\r\n        d.Rj = null;\r\n        d.lj(null);\r\n        if (null !== this.Od) {\r\n          var e = d.data;\r\n          \"object\" === typeof e && this.Od.remove(e);\r\n        }\r\n        c.pb(a);\r\n        Bj(this, !1);\r\n        this.v();\r\n        this.Ni === d && (this.Ni = null);\r\n        this.jh = null;\r\n        var f = this.part;\r\n        null !== f &&\r\n          ((f.Nj = null),\r\n          (f.ph = NaN),\r\n          f.Rb(),\r\n          f instanceof U &&\r\n            (d instanceof V\r\n              ? d.Hk(d, function (a, c) {\r\n                  gm(f, c, b);\r\n                })\r\n              : gm(f, d, b)),\r\n          (c = this.diagram),\r\n          (null !== c && c.undoManager.isUndoingRedoing) ||\r\n            f.eb(Ge, \"elements\", this, d, null, a, null));\r\n      };\r\n      V.prototype.getRowDefinition = function (a) {\r\n        F && C(a, V, \"getRowDefinition:idx\");\r\n        0 > a && ya(a, \">= 0\", V, \"getRowDefinition:idx\");\r\n        a = Math.round(a);\r\n        var b = this.vb;\r\n        if (void 0 === b) return null;\r\n        if (void 0 === b[a]) {\r\n          var c = new hk();\r\n          c.lj(this);\r\n          c.isRow = !0;\r\n          c.index = a;\r\n          b[a] = c;\r\n        }\r\n        return b[a];\r\n      };\r\n      V.prototype.aw = function (a) {\r\n        F && C(a, V, \"removeRowDefinition:idx\");\r\n        0 > a && ya(a, \">= 0\", V, \"removeRowDefinition:idx\");\r\n        a = Math.round(a);\r\n        var b = this.vb;\r\n        void 0 !== b &&\r\n          (this.eb(Ge, \"coldefs\", this, b[a], null, a, null),\r\n          b[a] && delete b[a],\r\n          this.v());\r\n      };\r\n      V.prototype.getColumnDefinition = function (a) {\r\n        F && C(a, V, \"getColumnDefinition:idx\");\r\n        0 > a && ya(a, \">= 0\", V, \"getColumnDefinition:idx\");\r\n        a = Math.round(a);\r\n        var b = this.qb;\r\n        if (void 0 === b) return null;\r\n        if (void 0 === b[a]) {\r\n          var c = new hk();\r\n          c.lj(this);\r\n          c.isRow = !1;\r\n          c.index = a;\r\n          b[a] = c;\r\n        }\r\n        return b[a];\r\n      };\r\n      t = V.prototype;\r\n      t.Zv = function (a) {\r\n        F && C(a, V, \"removeColumnDefinition:idx\");\r\n        0 > a && ya(a, \">= 0\", V, \"removeColumnDefinition:idx\");\r\n        a = Math.round(a);\r\n        var b = this.qb;\r\n        void 0 !== b &&\r\n          (this.eb(Ge, \"coldefs\", this, b[a], null, a, null),\r\n          b[a] && delete b[a],\r\n          this.v());\r\n      };\r\n      t.Cz = function (a) {\r\n        if (0 > a || this.type !== V.Table) return -1;\r\n        for (var b = 0, c = this.vb, d = c.length, e = this.Qi; e < d; e++) {\r\n          var f = c[e];\r\n          if (void 0 !== f && ((b += f.total), a < b)) break;\r\n        }\r\n        return e;\r\n      };\r\n      t.uz = function (a) {\r\n        if (0 > a || this.type !== V.Table) return -1;\r\n        for (var b = 0, c = this.qb, d = c.length, e = this.Ai; e < d; e++) {\r\n          var f = c[e];\r\n          if (void 0 !== f && ((b += f.total), a < b)) break;\r\n        }\r\n        return e;\r\n      };\r\n      t.Wz = function (a, b) {\r\n        void 0 === b && (b = new J(NaN, NaN));\r\n        if (this.type !== V.Graduated) return b.h(NaN, NaN), b;\r\n        a = Math.min(Math.max(a, this.graduatedMin), this.graduatedMax);\r\n        var c = this.Fb();\r\n        c.geometry.Ev((a - this.graduatedMin) / this.graduatedRange, b);\r\n        return c.transform.xa(b);\r\n      };\r\n      t.Xz = function (a) {\r\n        if (this.type !== V.Graduated) return NaN;\r\n        var b = this.Fb();\r\n        b.transform.ae(a);\r\n        return b.geometry.Vx(a) * this.graduatedRange + this.graduatedMin;\r\n      };\r\n\r\n      function Xl(a) {\r\n        a = a.hi;\r\n        return null !== a && a.s;\r\n      }\r\n\r\n      function Ng(a) {\r\n        var b = a.hi;\r\n        if (null === b)\r\n          null !== a.data && v(\"Template cannot have .data be non-null: \" + a),\r\n            (a.hi = b = new G());\r\n        else if (b.s) return;\r\n        var c = new G();\r\n        wn(a, !1);\r\n        a.Hk(a, function (a, d) {\r\n          var e = d.gb;\r\n          if (null !== e)\r\n            for (Ul(d, !1), e = e.iterator; e.next(); ) {\r\n              var f = e.value;\r\n              f.mode === xn && Ul(d, !0);\r\n              var g = f.sourceName;\r\n              null !== g &&\r\n                (\"/\" === g && wn(a, !0),\r\n                (g = vl(f, a, d)),\r\n                null !== g &&\r\n                  (c.add(g), null === g.Zl && (g.Zl = new G()), g.Zl.add(f)));\r\n              b.add(f);\r\n            }\r\n          if (d instanceof V && d.type === V.Table) {\r\n            if (0 < d.vb.length)\r\n              for (a = d.vb, e = a.length, f = 0; f < e; f++)\r\n                if (((g = a[f]), void 0 !== g && null !== g.gb))\r\n                  for (var h = g.gb.iterator; h.next(); ) {\r\n                    var k = h.value;\r\n                    k.hd = g;\r\n                    k.Up = 2;\r\n                    k.fm = g.index;\r\n                    b.add(k);\r\n                  }\r\n            if (0 < d.qb.length)\r\n              for (d = d.qb, a = d.length, e = 0; e < a; e++)\r\n                if (((f = d[e]), void 0 !== f && null !== f.gb))\r\n                  for (g = f.gb.iterator; g.next(); )\r\n                    (h = g.value),\r\n                      (h.hd = f),\r\n                      (h.Up = 1),\r\n                      (h.fm = f.index),\r\n                      b.add(h);\r\n          }\r\n        });\r\n        for (var d = c.iterator; d.next(); ) {\r\n          var e = d.value;\r\n          if (null !== e.Zl) {\r\n            Ul(e, !0);\r\n            for (var f = e.Zl.iterator; f.next(); ) {\r\n              var g = f.value;\r\n              null === e.gb && (e.gb = new G());\r\n              e.gb.add(g);\r\n            }\r\n          }\r\n          e.Zl = null;\r\n        }\r\n        for (var h = b.iterator; h.next(); )\r\n          if (((d = h.value), (e = d.hd), null !== e)) {\r\n            d.hd = null;\r\n            g = d.targetProperty;\r\n            var k = g.indexOf(\".\");\r\n            0 < k &&\r\n              e instanceof V &&\r\n              ((f = g.substring(0, k)),\r\n              (g = g.substr(k + 1)),\r\n              (k = e.cb(f)),\r\n              null !== k\r\n                ? ((e = k), (d.targetProperty = g))\r\n                : Ca(\r\n                    'Warning: unable to find GraphObject named \"' +\r\n                      f +\r\n                      '\" for Binding: ' +\r\n                      d.toString()\r\n                  ));\r\n            e instanceof hk\r\n              ? ((f = sb(e.panel)),\r\n                (d.pj = void 0 === f ? -1 : f),\r\n                (e.panel.Sk = d.pj))\r\n              : e instanceof N\r\n              ? ((f = sb(e)), (d.pj = void 0 === f ? -1 : f), (e.Sk = d.pj))\r\n              : v(\"Unknown type of binding target: \" + e);\r\n          }\r\n        b.freeze();\r\n        a instanceof S &&\r\n          (a.$b() && a.Eb(),\r\n          F &&\r\n            !yn &&\r\n            a.Hk(a, function (a, c) {\r\n              if (\r\n                c instanceof V &&\r\n                (c.type === V.Auto ||\r\n                  c.type === V.Spot ||\r\n                  c.type === V.Graduated) &&\r\n                1 >= c.elements.count &&\r\n                !(c instanceof S)\r\n              ) {\r\n                var d = !1;\r\n                if (1 === c.elements.count && ((d = null !== c.itemArray), !d))\r\n                  for (h = b.iterator; h.next(); )\r\n                    if (\"itemArray\" === h.value.targetProperty) {\r\n                      d = !0;\r\n                      break;\r\n                    }\r\n                d ||\r\n                  (Ca(\r\n                    \"Auto, Spot, or Graduated Panel should not have zero or one elements: \" +\r\n                      c.toString() +\r\n                      \" in \" +\r\n                      a.toString()\r\n                  ),\r\n                  (yn = !0));\r\n              }\r\n            }));\r\n      }\r\n      t.ez = function () {\r\n        var a = this.copy();\r\n        pn(a, function (a) {\r\n          a instanceof V && ((a.hi = null), (a.nb = null));\r\n          var b = a.gb;\r\n          null !== b &&\r\n            ((a.gb = null),\r\n            b.each(function (b) {\r\n              a.bind(b.copy());\r\n            }));\r\n          b = a.Tg;\r\n          null !== b &&\r\n            ((a.Tg = null),\r\n            b.each(function (b) {\r\n              Yl(a, b.value.copy());\r\n            }));\r\n        });\r\n        return a;\r\n      };\r\n      t.Fa = function (a) {\r\n        var b = this.hi;\r\n        if (null !== b)\r\n          for (void 0 === a && (a = \"\"), b = b.iterator; b.next(); ) {\r\n            var c = b.value,\r\n              d = c.sourceProperty;\r\n            if (\"\" === a || \"\" === d || d === a)\r\n              if (((d = c.targetProperty), null !== c.converter || \"\" !== d)) {\r\n                d = this.data;\r\n                var e = c.sourceName;\r\n                if (null !== e)\r\n                  d =\r\n                    \"\" === e\r\n                      ? this\r\n                      : \"/\" === e\r\n                      ? this\r\n                      : \".\" === e\r\n                      ? this\r\n                      : \"..\" === e\r\n                      ? this\r\n                      : this.cb(e);\r\n                else {\r\n                  var f = this.diagram;\r\n                  null !== f && c.isToModel && (d = f.model.modelData);\r\n                }\r\n                if (null === d)\r\n                  F &&\r\n                    Ca(\r\n                      \"Binding error: missing GraphObject named \" +\r\n                        e +\r\n                        \" in \" +\r\n                        this.toString()\r\n                    );\r\n                else {\r\n                  f = this;\r\n                  var g = c.pj;\r\n                  if (-1 !== g) {\r\n                    if (((f = this.jt(g)), null === f)) continue;\r\n                  } else null !== c.hd && (f = c.hd);\r\n                  \"/\" === e\r\n                    ? (d = f.part)\r\n                    : \".\" === e\r\n                    ? (d = f)\r\n                    : \"..\" === e && (d = f.panel);\r\n                  e = c.Up;\r\n                  if (0 !== e) {\r\n                    if (!(f instanceof V)) continue;\r\n                    1 === e\r\n                      ? (f = f.getColumnDefinition(c.fm))\r\n                      : 2 === e && (f = f.getRowDefinition(c.fm));\r\n                  }\r\n                  void 0 !== f && c.ww(f, d);\r\n                }\r\n              }\r\n          }\r\n      };\r\n\r\n      function zn(a, b) {\r\n        a = a.$.j;\r\n        for (\r\n          var c = a.length, d = b.length, e = 0, f = null;\r\n          e < c && !((f = a[e]), f instanceof V && null !== f.data);\r\n\r\n        )\r\n          e++, (f = a[e]);\r\n        if (c - e !== d) return !0;\r\n        if (null === f) return 0 < d;\r\n        for (var g = 0; e < c && g < d; ) {\r\n          f = a[e];\r\n          if (!(f instanceof V) || f.data !== b[g]) return !0;\r\n          e++;\r\n          g++;\r\n        }\r\n        return !1;\r\n      }\r\n\r\n      function sn(a) {\r\n        if (a.type === V.Spot || a.type === V.Auto)\r\n          return Math.min(a.$.length, 1);\r\n        if (a.type === V.Link) {\r\n          a = a.$;\r\n          for (var b = a.length, c = 0; c < b; c++) {\r\n            var d = a.O(c);\r\n            if (!(d instanceof $f && d.isPanelMain)) break;\r\n          }\r\n          return c;\r\n        }\r\n        return a.type === V.Table &&\r\n          0 < a.$.length &&\r\n          ((a = a.$.O(0)),\r\n          a.isPanelMain &&\r\n            a instanceof V &&\r\n            (a.type === V.TableRow || a.type === V.TableColumn))\r\n          ? 1\r\n          : 0;\r\n      }\r\n      t.It = function () {\r\n        for (var a = sn(this); this.$.length > a; )\r\n          this.Lc(this.$.length - 1, !1);\r\n        a = this.itemArray;\r\n        if (null !== a)\r\n          for (var b = a.length, c = 0; c < b; c++) An(this, a[c], c);\r\n      };\r\n      t.Rx = function (a) {\r\n        if (void 0 === a || null === a || null === this.Od) return null;\r\n        A(a, \"object\", V, \"findItemPanelForData\");\r\n        return this.Od.K(a);\r\n      };\r\n\r\n      function An(a, b, c) {\r\n        if (!(void 0 === b || null === b || 0 > c)) {\r\n          var d = Bn(a, b),\r\n            e = a.itemTemplateMap,\r\n            f = null;\r\n          null !== e && (f = e.K(d));\r\n          null === f &&\r\n            (Cn ||\r\n              ((Cn = !0),\r\n              Ca(\r\n                'No item template Panel found for category \"' + d + '\" on ' + a\r\n              ),\r\n              Ca(\"  Using default item template.\"),\r\n              (d = new V()),\r\n              (e = new kh()),\r\n              e.bind(new Yi(\"text\", \"\", Pa)),\r\n              d.add(e),\r\n              (Dn = d)),\r\n            (f = Dn));\r\n          d = f;\r\n          null !== d &&\r\n            (Ng(d),\r\n            (d = d.copy()),\r\n            0 !== (d.I & 16777216) && ((e = a.aj()), null !== e && wn(e, !0)),\r\n            \"object\" === typeof b &&\r\n              (null === a.Od && (a.Od = new Db()), a.Od.add(b, d)),\r\n            (e = c + sn(a)),\r\n            a.Qb(e, d),\r\n            (d.nb = b),\r\n            En(a, e, c),\r\n            (d.nb = null),\r\n            (d.data = b));\r\n        }\r\n      }\r\n\r\n      function En(a, b, c) {\r\n        for (a = a.$; b < a.length; ) {\r\n          var d = a.O(b);\r\n          if (d instanceof V) {\r\n            var e = b,\r\n              f = c;\r\n            d.type === V.TableRow\r\n              ? (d.row = e)\r\n              : d.type === V.TableColumn && (d.column = e);\r\n            d.itemIndex = f;\r\n          }\r\n          b++;\r\n          c++;\r\n        }\r\n      }\r\n\r\n      function Bn(a, b) {\r\n        if (null === b) return \"\";\r\n        a = a.Bl;\r\n        if (\"function\" === typeof a) a = a(b);\r\n        else if (\"string\" === typeof a && \"object\" === typeof b) {\r\n          if (\"\" === a) return \"\";\r\n          a = Fn(b, a);\r\n        } else return \"\";\r\n        if (void 0 === a) return \"\";\r\n        if (\"string\" === typeof a) return a;\r\n        v(\r\n          \"Panel.getCategoryForItemData found a non-string category for \" +\r\n            b +\r\n            \": \" +\r\n            a\r\n        );\r\n        return \"\";\r\n      }\r\n\r\n      function vn(a, b, c) {\r\n        var d = b.enabledChanged;\r\n        null !== d && d(b, c);\r\n        if (b instanceof V) {\r\n          b = b.$.j;\r\n          d = b.length;\r\n          for (var e = 0; e < d; e++) {\r\n            var f = b[e];\r\n            (c && f instanceof V && !f.isEnabled) || vn(a, f, c);\r\n          }\r\n        }\r\n      }\r\n\r\n      function Gn(a, b) {\r\n        bm.add(a, b);\r\n      }\r\n      ma.Object.defineProperties(V.prototype, {\r\n        type: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.wa;\r\n          },\r\n          set: function (a) {\r\n            var b = this.wa;\r\n            b !== a &&\r\n              ((this.wa = a),\r\n              this.wa === V.Grid\r\n                ? (this.isAtomic = !0)\r\n                : this.wa === V.Table && kn(this),\r\n              this.v(),\r\n              this.g(\"type\", b, a));\r\n          },\r\n        },\r\n        elements: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.$.iterator;\r\n          },\r\n        },\r\n        naturalBounds: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.uc;\r\n          },\r\n        },\r\n        padding: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ib;\r\n          },\r\n          set: function (a) {\r\n            \"number\" === typeof a\r\n              ? (0 > a && ya(a, \">= 0\", V, \"padding\"), (a = new lc(a)))\r\n              : (w(a, lc, V, \"padding\"),\r\n                0 > a.left && ya(a.left, \">= 0\", V, \"padding:value.left\"),\r\n                0 > a.right && ya(a.right, \">= 0\", V, \"padding:value.right\"),\r\n                0 > a.top && ya(a.top, \">= 0\", V, \"padding:value.top\"),\r\n                0 > a.bottom &&\r\n                  ya(a.bottom, \">= 0\", V, \"padding:value.bottom\"));\r\n            var b = this.ib;\r\n            b.B(a) ||\r\n              ((this.ib = a = a.J()), this.v(), this.g(\"padding\", b, a));\r\n          },\r\n        },\r\n        defaultAlignment: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.En;\r\n          },\r\n          set: function (a) {\r\n            var b = this.En;\r\n            b.B(a) ||\r\n              (F && w(a, M, V, \"defaultAlignment\"),\r\n              (this.En = a = a.J()),\r\n              this.v(),\r\n              this.g(\"defaultAlignment\", b, a));\r\n          },\r\n        },\r\n        defaultStretch: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Zf;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Zf;\r\n            b !== a &&\r\n              (hb(a, N, V, \"defaultStretch\"),\r\n              (this.Zf = a),\r\n              this.v(),\r\n              this.g(\"defaultStretch\", b, a));\r\n          },\r\n        },\r\n        defaultSeparatorPadding: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return void 0 === this.vj ? Ec : this.vj;\r\n          },\r\n          set: function (a) {\r\n            if (void 0 !== this.vj) {\r\n              \"number\" === typeof a\r\n                ? (a = new lc(a))\r\n                : F && w(a, lc, V, \"defaultSeparatorPadding\");\r\n              var b = this.vj;\r\n              b.B(a) ||\r\n                ((this.vj = a = a.J()),\r\n                this.v(),\r\n                this.g(\"defaultSeparatorPadding\", b, a));\r\n            }\r\n          },\r\n        },\r\n        defaultRowSeparatorStroke: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return void 0 === this.ni ? null : this.ni;\r\n          },\r\n          set: function (a) {\r\n            var b = this.ni;\r\n            b !== a &&\r\n              (null === a || \"string\" === typeof a || a instanceof Il) &&\r\n              (a instanceof Il && a.freeze(),\r\n              (this.ni = a),\r\n              this.R(),\r\n              this.g(\"defaultRowSeparatorStroke\", b, a));\r\n          },\r\n        },\r\n        defaultRowSeparatorStrokeWidth: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return void 0 === this.ah ? 1 : this.ah;\r\n          },\r\n          set: function (a) {\r\n            if (void 0 !== this.ah) {\r\n              var b = this.ah;\r\n              b !== a &&\r\n                isFinite(a) &&\r\n                0 <= a &&\r\n                ((this.ah = a),\r\n                this.v(),\r\n                this.g(\"defaultRowSeparatorStrokeWidth\", b, a));\r\n            }\r\n          },\r\n        },\r\n        defaultRowSeparatorDashArray: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return void 0 === this.mi ? null : this.mi;\r\n          },\r\n          set: function (a) {\r\n            if (void 0 !== this.mi) {\r\n              var b = this.mi;\r\n              if (b !== a) {\r\n                null === a ||\r\n                  Array.isArray(a) ||\r\n                  xa(a, \"Array\", V, \"defaultRowSeparatorDashArray:value\");\r\n                if (null !== a) {\r\n                  for (var c = a.length, d = 0, e = 0; e < c; e++) {\r\n                    var f = a[e];\r\n                    (\"number\" === typeof f && 0 <= f && isFinite(f)) ||\r\n                      v(\r\n                        \"defaultRowSeparatorDashArray value \" +\r\n                          f +\r\n                          \" at index \" +\r\n                          e +\r\n                          \" must be a positive number or zero.\"\r\n                      );\r\n                    d += f;\r\n                  }\r\n                  if (0 === d) {\r\n                    if (null === b) return;\r\n                    a = null;\r\n                  }\r\n                }\r\n                this.mi = a;\r\n                this.R();\r\n                this.g(\"defaultRowSeparatorDashArray\", b, a);\r\n              }\r\n            }\r\n          },\r\n        },\r\n        defaultColumnSeparatorStroke: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return void 0 === this.Zg ? null : this.Zg;\r\n          },\r\n          set: function (a) {\r\n            if (void 0 !== this.Zg) {\r\n              var b = this.Zg;\r\n              b !== a &&\r\n                (null === a || \"string\" === typeof a || a instanceof Il) &&\r\n                (a instanceof Il && a.freeze(),\r\n                (this.Zg = a),\r\n                this.R(),\r\n                this.g(\"defaultColumnSeparatorStroke\", b, a));\r\n            }\r\n          },\r\n        },\r\n        defaultColumnSeparatorStrokeWidth: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return void 0 === this.$g ? 1 : this.$g;\r\n          },\r\n          set: function (a) {\r\n            if (void 0 !== this.$g) {\r\n              var b = this.$g;\r\n              b !== a &&\r\n                isFinite(a) &&\r\n                0 <= a &&\r\n                ((this.$g = a),\r\n                this.v(),\r\n                this.g(\"defaultColumnSeparatorStrokeWidth\", b, a));\r\n            }\r\n          },\r\n        },\r\n        defaultColumnSeparatorDashArray: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return void 0 === this.li ? null : this.li;\r\n          },\r\n          set: function (a) {\r\n            if (void 0 !== this.li) {\r\n              var b = this.li;\r\n              if (b !== a) {\r\n                null === a ||\r\n                  Array.isArray(a) ||\r\n                  xa(a, \"Array\", V, \"defaultColumnSeparatorDashArray:value\");\r\n                if (null !== a) {\r\n                  for (var c = a.length, d = 0, e = 0; e < c; e++) {\r\n                    var f = a[e];\r\n                    (\"number\" === typeof f && 0 <= f && isFinite(f)) ||\r\n                      v(\r\n                        \"defaultColumnSeparatorDashArray value \" +\r\n                          f +\r\n                          \" at index \" +\r\n                          e +\r\n                          \" must be a positive number or zero.\"\r\n                      );\r\n                    d += f;\r\n                  }\r\n                  if (0 === d) {\r\n                    if (null === b) return;\r\n                    a = null;\r\n                  }\r\n                }\r\n                this.li = a;\r\n                this.R();\r\n                this.g(\"defaultColumnSeparatorDashArray\", b, a);\r\n              }\r\n            }\r\n          },\r\n        },\r\n        viewboxStretch: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.cq;\r\n          },\r\n          set: function (a) {\r\n            var b = this.cq;\r\n            b !== a &&\r\n              (hb(a, N, V, \"viewboxStretch\"),\r\n              (this.cq = a),\r\n              this.v(),\r\n              this.g(\"viewboxStretch\", b, a));\r\n          },\r\n        },\r\n        gridCellSize: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.$n;\r\n          },\r\n          set: function (a) {\r\n            var b = this.$n;\r\n            if (!b.B(a)) {\r\n              w(a, Jb, V, \"gridCellSize\");\r\n              (a.o() && 0 !== a.width && 0 !== a.height) ||\r\n                v(\"Invalid Panel.gridCellSize: \" + a);\r\n              this.$n = a.J();\r\n              var c = this.diagram;\r\n              null !== c && this === c.grid && Cj(c);\r\n              this.R();\r\n              this.g(\"gridCellSize\", b, a);\r\n            }\r\n          },\r\n        },\r\n        gridOrigin: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ao;\r\n          },\r\n          set: function (a) {\r\n            var b = this.ao;\r\n            if (!b.B(a)) {\r\n              w(a, J, V, \"gridOrigin\");\r\n              a.o() || v(\"Invalid Panel.gridOrigin: \" + a);\r\n              this.ao = a.J();\r\n              var c = this.diagram;\r\n              null !== c && this === c.grid && Cj(c);\r\n              this.R();\r\n              this.g(\"gridOrigin\", b, a);\r\n            }\r\n          },\r\n        },\r\n        graduatedMin: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Xn;\r\n          },\r\n          set: function (a) {\r\n            C(a, V, \"graduatedMin\");\r\n            var b = this.Xn;\r\n            b !== a &&\r\n              ((this.Xn = a),\r\n              this.v(),\r\n              this.g(\"graduatedMin\", b, a),\r\n              tl(this) &&\r\n                ((a = this.part), null !== a && ul(this, a, \"graduatedRange\")));\r\n          },\r\n        },\r\n        graduatedMax: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Wn;\r\n          },\r\n          set: function (a) {\r\n            C(a, V, \"graduatedMax\");\r\n            var b = this.Wn;\r\n            b !== a &&\r\n              ((this.Wn = a),\r\n              this.v(),\r\n              this.g(\"graduatedMax\", b, a),\r\n              tl(this) &&\r\n                ((a = this.part), null !== a && ul(this, a, \"graduatedRange\")));\r\n          },\r\n        },\r\n        graduatedRange: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.graduatedMax - this.graduatedMin;\r\n          },\r\n        },\r\n        graduatedTickUnit: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Zn;\r\n          },\r\n          set: function (a) {\r\n            C(a, V, \"graduatedTickUnit\");\r\n            var b = this.Zn;\r\n            b !== a &&\r\n              0 < a &&\r\n              ((this.Zn = a), this.v(), this.g(\"graduatedTickUnit\", b, a));\r\n          },\r\n        },\r\n        graduatedTickBase: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Yn;\r\n          },\r\n          set: function (a) {\r\n            C(a, V, \"graduatedTickBase\");\r\n            var b = this.Yn;\r\n            b !== a &&\r\n              ((this.Yn = a), this.v(), this.g(\"graduatedTickBase\", b, a));\r\n          },\r\n        },\r\n        Oh: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.I & 8388608);\r\n          },\r\n          set: function (a) {\r\n            (0 !== (this.I & 8388608)) !== a && (this.I ^= 8388608);\r\n          },\r\n        },\r\n        rowCount: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return void 0 === this.vb ? 0 : this.vb.length;\r\n          },\r\n        },\r\n        columnCount: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return void 0 === this.qb ? 0 : this.qb.length;\r\n          },\r\n        },\r\n        rowSizing: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return void 0 === this.Uj ? ln : this.Uj;\r\n          },\r\n          set: function (a) {\r\n            if (void 0 !== this.Uj) {\r\n              var b = this.Uj;\r\n              b !== a &&\r\n                (F &&\r\n                  a !== ln &&\r\n                  a !== Vm &&\r\n                  v(\r\n                    \"Panel.rowSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None, not: \" +\r\n                      a\r\n                  ),\r\n                (this.Uj = a),\r\n                this.v(),\r\n                this.g(\"rowSizing\", b, a));\r\n            }\r\n          },\r\n        },\r\n        columnSizing: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return void 0 === this.tj ? ln : this.tj;\r\n          },\r\n          set: function (a) {\r\n            if (void 0 !== this.tj) {\r\n              var b = this.tj;\r\n              b !== a &&\r\n                (F &&\r\n                  a !== ln &&\r\n                  a !== Vm &&\r\n                  v(\r\n                    \"Panel.columnSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None, not: \" +\r\n                      a\r\n                  ),\r\n                (this.tj = a),\r\n                this.v(),\r\n                this.g(\"columnSizing\", b, a));\r\n            }\r\n          },\r\n        },\r\n        topIndex: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return void 0 === this.Qi ? 0 : this.Qi;\r\n          },\r\n          set: function (a) {\r\n            if (void 0 !== this.Qi) {\r\n              var b = this.Qi;\r\n              b !== a &&\r\n                ((!isFinite(a) || 0 > a) &&\r\n                  v(\r\n                    \"Panel.topIndex must be greater than zero and a real number, not: \" +\r\n                      a\r\n                  ),\r\n                (this.Qi = a),\r\n                this.v(),\r\n                this.g(\"topIndex\", b, a));\r\n            }\r\n          },\r\n        },\r\n        leftIndex: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return void 0 === this.Ai ? 0 : this.Ai;\r\n          },\r\n          set: function (a) {\r\n            if (void 0 !== this.Ai) {\r\n              var b = this.Ai;\r\n              b !== a &&\r\n                ((!isFinite(a) || 0 > a) &&\r\n                  v(\r\n                    \"Panel.leftIndex must be greater than zero and a real number, not: \" +\r\n                      a\r\n                  ),\r\n                (this.Ai = a),\r\n                this.v(),\r\n                this.g(\"leftIndex\", b, a));\r\n            }\r\n          },\r\n        },\r\n        data: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.nb;\r\n          },\r\n          set: function (a) {\r\n            var b = this.nb;\r\n            if (b !== a) {\r\n              var c = this instanceof S && !(this instanceof Pe);\r\n              c && A(a, \"object\", V, \"data\");\r\n              Ng(this);\r\n              this.nb = a;\r\n              var d = this.diagram;\r\n              null !== d &&\r\n                (c\r\n                  ? ((c = d.partManager),\r\n                    this instanceof Q\r\n                      ? (null !== b && c.Ue.remove(b),\r\n                        null !== a && c.Ue.add(a, this))\r\n                      : this instanceof S &&\r\n                        (null !== b && c.Ve.remove(b),\r\n                        null !== a && c.Ve.add(a, this)))\r\n                  : ((c = this.panel),\r\n                    null !== c &&\r\n                      null !== c.Od &&\r\n                      (null !== b && c.Od.remove(b),\r\n                      null !== a && c.Od.add(a, this))));\r\n              this.g(\"data\", b, a);\r\n              (null !== d && d.undoManager.isUndoingRedoing) ||\r\n                (null !== a && this.Fa());\r\n            }\r\n          },\r\n        },\r\n        itemIndex: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.po;\r\n          },\r\n          set: function (a) {\r\n            var b = this.po;\r\n            b !== a && ((this.po = a), this.g(\"itemIndex\", b, a));\r\n          },\r\n        },\r\n        itemArray: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.xi;\r\n          },\r\n          set: function (a) {\r\n            var b = this.xi;\r\n            if (b !== a || (null !== a && zn(this, a))) {\r\n              F &&\r\n                null !== a &&\r\n                !Ga(a) &&\r\n                v(\r\n                  \"Panel.itemArray must be an Array-like object or null, not: \" +\r\n                    a\r\n                );\r\n              var c = this.diagram;\r\n              b !== a &&\r\n                (null !== c && null !== b && Yj(c.partManager, this, c),\r\n                (this.xi = a),\r\n                null !== c && null !== a && Vj(c.partManager, this));\r\n              this.g(\"itemArray\", b, a);\r\n              (null !== c && c.undoManager.isUndoingRedoing) || this.It();\r\n            }\r\n          },\r\n        },\r\n        itemTemplate: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null === this.re ? null : this.re.K(\"\");\r\n          },\r\n          set: function (a) {\r\n            if (null === this.re) {\r\n              if (null === a) return;\r\n              this.re = new Db();\r\n            }\r\n            var b = this.re.K(\"\");\r\n            b !== a &&\r\n              (w(a, V, V, \"itemTemplate\"),\r\n              (a instanceof S || a.isPanelMain) &&\r\n                v(\r\n                  \"Panel.itemTemplate must not be a Part or be Panel.isPanelMain: \" +\r\n                    a\r\n                ),\r\n              this.re.add(\"\", a),\r\n              this.g(\"itemTemplate\", b, a),\r\n              (a = this.diagram),\r\n              (null !== a && a.undoManager.isUndoingRedoing) || this.It());\r\n          },\r\n        },\r\n        itemTemplateMap: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.re;\r\n          },\r\n          set: function (a) {\r\n            var b = this.re;\r\n            if (b !== a) {\r\n              w(a, Db, V, \"itemTemplateMap\");\r\n              for (var c = a.iterator; c.next(); ) {\r\n                var d = c.value;\r\n                F &&\r\n                  (d instanceof S || d.isPanelMain) &&\r\n                  v(\r\n                    \"Template in Panel.itemTemplateMap must not be a Part or be Panel.isPanelMain: \" +\r\n                      d\r\n                  );\r\n              }\r\n              this.re = a;\r\n              this.g(\"itemTemplateMap\", b, a);\r\n              a = this.diagram;\r\n              (null !== a && a.undoManager.isUndoingRedoing) || this.It();\r\n            }\r\n          },\r\n        },\r\n        itemCategoryProperty: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Bl;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Bl;\r\n            b !== a &&\r\n              (\"string\" !== typeof a &&\r\n                \"function\" !== typeof a &&\r\n                xa(a, \"string or function\", V, \"itemCategoryProperty\"),\r\n              (this.Bl = a),\r\n              this.g(\"itemCategoryProperty\", b, a));\r\n          },\r\n        },\r\n        isAtomic: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.I & 1048576);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.I & 1048576);\r\n            b !== a &&\r\n              (A(a, \"boolean\", V, \"isAtomic\"),\r\n              (this.I ^= 1048576),\r\n              this.g(\"isAtomic\", b, a));\r\n          },\r\n        },\r\n        isClipping: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return 0 !== (this.I & 2097152);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.I & 2097152);\r\n            b !== a &&\r\n              (A(a, \"boolean\", V, \"isClipping\"),\r\n              (this.I ^= 2097152),\r\n              this.v(),\r\n              this.g(\"isClipping\", b, a));\r\n          },\r\n        },\r\n        isOpposite: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.I & 33554432);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.I & 33554432);\r\n            b !== a &&\r\n              (A(a, \"boolean\", V, \"isOpposite\"),\r\n              (this.I ^= 33554432),\r\n              this.v(),\r\n              this.g(\"isOpposite\", b, a));\r\n          },\r\n        },\r\n        isEnabled: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.I & 4194304);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.I & 4194304);\r\n            if (b !== a) {\r\n              A(a, \"boolean\", V, \"isEnabled\");\r\n              var c = null === this.panel || this.panel.Ng();\r\n              this.I ^= 4194304;\r\n              this.g(\"isEnabled\", b, a);\r\n              b = this.diagram;\r\n              (null !== b && b.undoManager.isUndoingRedoing) ||\r\n                (c && vn(this, this, a));\r\n            }\r\n          },\r\n        },\r\n        alignmentFocusName: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Sg;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Sg;\r\n            b !== a &&\r\n              (F && A(a, \"string\", V, \"alignmentFocusName\"),\r\n              (this.Sg = a),\r\n              this.v(),\r\n              this.g(\"alignmentFocusName\", b, a));\r\n          },\r\n        },\r\n      });\r\n      ma.Object.defineProperties(V, {\r\n        Position: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return bm.K(\"Position\");\r\n          },\r\n        },\r\n        Horizontal: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return bm.K(\"Horizontal\");\r\n          },\r\n        },\r\n        Vertical: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return bm.K(\"Vertical\");\r\n          },\r\n        },\r\n        Spot: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return bm.K(\"Spot\");\r\n          },\r\n        },\r\n        Auto: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return bm.K(\"Auto\");\r\n          },\r\n        },\r\n        Table: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return bm.K(\"Table\");\r\n          },\r\n        },\r\n        Viewbox: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return bm.K(\"Viewbox\");\r\n          },\r\n        },\r\n        TableRow: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return bm.K(\"TableRow\");\r\n          },\r\n        },\r\n        TableColumn: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return bm.K(\"TableColumn\");\r\n          },\r\n        },\r\n        Link: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return bm.K(\"Link\");\r\n          },\r\n        },\r\n        Grid: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return bm.K(\"Grid\");\r\n          },\r\n        },\r\n        Graduated: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return bm.K(\"Graduated\");\r\n          },\r\n        },\r\n      });\r\n      V.prototype.findItemPanelForData = V.prototype.Rx;\r\n      V.prototype.rebuildItemElements = V.prototype.It;\r\n      V.prototype.updateTargetBindings = V.prototype.Fa;\r\n      V.prototype.copyTemplate = V.prototype.ez;\r\n      V.prototype.graduatedValueForPoint = V.prototype.Xz;\r\n      V.prototype.graduatedPointForValue = V.prototype.Wz;\r\n      V.prototype.findColumnForLocalX = V.prototype.uz;\r\n      V.prototype.findRowForLocalY = V.prototype.Cz;\r\n      V.prototype.removeColumnDefinition = V.prototype.Zv;\r\n      V.prototype.removeRowDefinition = V.prototype.aw;\r\n      V.prototype.removeAt = V.prototype.pb;\r\n      V.prototype.remove = V.prototype.remove;\r\n      V.prototype.insertAt = V.prototype.Qb;\r\n      V.prototype.elt = V.prototype.O;\r\n      V.prototype.add = V.prototype.add;\r\n      V.prototype.findObject = V.prototype.cb;\r\n      V.prototype.findInVisualTree = V.prototype.rm;\r\n      V.prototype.walkVisualTreeFrom = V.prototype.Hk;\r\n      V.prototype.findMainElement = V.prototype.Fb;\r\n      var yn = !1,\r\n        Cn = !1,\r\n        Dn = null,\r\n        bm = new Db();\r\n      V.className = \"Panel\";\r\n      V.definePanelLayout = Gn;\r\n      Gn(\"Position\", new Lm());\r\n      Gn(\"Vertical\", new Om());\r\n      Gn(\"Auto\", new Qm());\r\n      Gn(\"Link\", new an());\r\n\r\n      function hk() {\r\n        fb(this);\r\n        this.wg = null;\r\n        this.Yr = !0;\r\n        this.Ua = 0;\r\n        this.Vc = NaN;\r\n        this.rh = 0;\r\n        this.qh = Infinity;\r\n        this.Bb = kd;\r\n        this.ra = this.na = 0;\r\n        this.gb = null;\r\n        this.Mp = Sn;\r\n        this.Ee = jl;\r\n        this.Gp = this.Ag = null;\r\n        this.Hp = NaN;\r\n        this.mb = this.Vj = null;\r\n        this.An = !1;\r\n      }\r\n      hk.prototype.copy = function () {\r\n        var a = new hk();\r\n        a.Yr = this.Yr;\r\n        a.Ua = this.Ua;\r\n        a.Vc = this.Vc;\r\n        a.rh = this.rh;\r\n        a.qh = this.qh;\r\n        a.Bb = this.Bb;\r\n        a.na = this.na;\r\n        a.ra = this.ra;\r\n        a.Ee = this.Ee;\r\n        a.Mp = this.Mp;\r\n        null === this.Ag ? (a.Ag = null) : (a.Ag = this.Ag.J());\r\n        a.Gp = this.Gp;\r\n        a.Hp = this.Hp;\r\n        a.Vj = null;\r\n        null !== this.Vj &&\r\n          (a.separatorDashArray = Ia(this.separatorDashArray));\r\n        a.mb = this.mb;\r\n        a.An = this.An;\r\n        a.gb = this.gb;\r\n        return a;\r\n      };\r\n      t = hk.prototype;\r\n      t.ft = function (a) {\r\n        w(a, hk, hk, \"copyFrom:pd\");\r\n        a.isRow ? (this.height = a.height) : (this.width = a.width);\r\n        this.minimum = a.minimum;\r\n        this.maximum = a.maximum;\r\n        this.alignment = a.alignment;\r\n        this.stretch = a.stretch;\r\n        this.sizing = a.sizing;\r\n        this.Ag = null === a.separatorPadding ? null : a.separatorPadding.J();\r\n        this.separatorStroke = a.separatorStroke;\r\n        this.separatorStrokeWidth = a.separatorStrokeWidth;\r\n        this.Vj = null;\r\n        a.separatorDashArray && (this.Vj = Ia(a.separatorDashArray));\r\n        this.background = a.background;\r\n        this.coversSeparators = a.coversSeparators;\r\n        this.gb = a.gb;\r\n      };\r\n      t.jb = function (a) {\r\n        a.classType === hk ? (this.sizing = a) : Ba(this, a);\r\n      };\r\n      t.toString = function () {\r\n        return (\r\n          \"RowColumnDefinition \" +\r\n          (this.isRow ? \"(Row \" : \"(Column \") +\r\n          this.index +\r\n          \") #\" +\r\n          sb(this)\r\n        );\r\n      };\r\n      t.lj = function (a) {\r\n        this.wg = a;\r\n      };\r\n      t.lv = function () {\r\n        var a = 0,\r\n          b = 0,\r\n          c = this.wg,\r\n          d = this.isRow;\r\n        if (null !== c && c.type === V.Table)\r\n          for (var e = d ? c.vb.length : c.qb.length, f = 0; f < e; f++) {\r\n            var g = d ? c.vb[f] : c.qb[f];\r\n            if (void 0 !== g) {\r\n              b = g.index;\r\n              break;\r\n            }\r\n          }\r\n        this.index !== b &&\r\n          ((b = this.separatorStroke),\r\n          null === b &&\r\n            null !== c &&\r\n            (b = this.isRow\r\n              ? c.defaultRowSeparatorStroke\r\n              : c.defaultColumnSeparatorStroke),\r\n          null !== b &&\r\n            ((a = this.separatorStrokeWidth),\r\n            isNaN(a) &&\r\n              (null !== c\r\n                ? (a = this.isRow\r\n                    ? c.defaultRowSeparatorStrokeWidth\r\n                    : c.defaultColumnSeparatorStrokeWidth)\r\n                : (a = 0))));\r\n        b = this.Ag;\r\n        if (null === b)\r\n          if (null !== c) b = c.defaultSeparatorPadding;\r\n          else return a;\r\n        return a + (this.isRow ? b.top : b.left);\r\n      };\r\n      t.zc = function () {\r\n        var a = 0,\r\n          b = this.wg,\r\n          c = 0,\r\n          d = this.isRow;\r\n        if (null !== b && b.type === V.Table)\r\n          for (var e = d ? b.vb.length : b.qb.length, f = 0; f < e; f++) {\r\n            var g = d ? b.vb[f] : b.qb[f];\r\n            if (void 0 !== g) {\r\n              c = g.index;\r\n              break;\r\n            }\r\n          }\r\n        this.index !== c &&\r\n          ((c = this.separatorStroke),\r\n          null === c &&\r\n            null !== b &&\r\n            (c = d\r\n              ? b.defaultRowSeparatorStroke\r\n              : b.defaultColumnSeparatorStroke),\r\n          null !== c &&\r\n            ((a = this.separatorStrokeWidth),\r\n            isNaN(a) &&\r\n              (null !== b\r\n                ? (a = d\r\n                    ? b.defaultRowSeparatorStrokeWidth\r\n                    : b.defaultColumnSeparatorStrokeWidth)\r\n                : (a = 0))));\r\n        d = this.Ag;\r\n        if (null === d)\r\n          if (null !== b) d = b.defaultSeparatorPadding;\r\n          else return a;\r\n        return a + (this.isRow ? d.top + d.bottom : d.left + d.right);\r\n      };\r\n      t.Db = function (a, b, c) {\r\n        var d = this.wg;\r\n        if (\r\n          null !== d &&\r\n          (d.eb(De, a, this, b, c, void 0, void 0),\r\n          null !== this.gb &&\r\n            ((b = d.diagram),\r\n            null !== b &&\r\n              !b.skipsModelSourceBindings &&\r\n              ((d = d.aj()), null !== d && ((b = d.data), null !== b))))\r\n        )\r\n          for (c = this.gb.iterator; c.next(); ) c.value.Wq(this, b, a, d);\r\n      };\r\n\r\n      function Um(a) {\r\n        if (a.sizing === Sn) {\r\n          var b = a.wg;\r\n          return a.isRow ? b.rowSizing : b.columnSizing;\r\n        }\r\n        return a.sizing;\r\n      }\r\n      t.bind = function (a) {\r\n        a.hd = this;\r\n        var b = this.panel;\r\n        if (null !== b) {\r\n          var c = b.aj();\r\n          null !== c &&\r\n            Xl(c) &&\r\n            v(\r\n              \"Cannot add a Binding to a RowColumnDefinition that is already frozen: \" +\r\n                a +\r\n                \" on \" +\r\n                b\r\n            );\r\n        }\r\n        null === this.gb && (this.gb = new G());\r\n        this.gb.add(a);\r\n      };\r\n      ma.Object.defineProperties(hk.prototype, {\r\n        panel: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.wg;\r\n          },\r\n        },\r\n        isRow: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Yr;\r\n          },\r\n          set: function (a) {\r\n            this.Yr = a;\r\n          },\r\n        },\r\n        index: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ua;\r\n          },\r\n          set: function (a) {\r\n            this.Ua = a;\r\n          },\r\n        },\r\n        height: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Vc;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Vc;\r\n            b !== a &&\r\n              (F && A(a, \"number\", hk, \"height\"),\r\n              0 > a && ya(a, \">= 0\", hk, \"height\"),\r\n              (this.Vc = a),\r\n              (this.actual = this.na),\r\n              null !== this.panel && this.panel.v(),\r\n              this.Db(\"height\", b, a));\r\n          },\r\n        },\r\n        width: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Vc;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Vc;\r\n            b !== a &&\r\n              (F && A(a, \"number\", hk, \"width\"),\r\n              0 > a && ya(a, \">= 0\", hk, \"width\"),\r\n              (this.Vc = a),\r\n              (this.actual = this.na),\r\n              null !== this.panel && this.panel.v(),\r\n              this.Db(\"width\", b, a));\r\n          },\r\n        },\r\n        minimum: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.rh;\r\n          },\r\n          set: function (a) {\r\n            var b = this.rh;\r\n            b !== a &&\r\n              (F && A(a, \"number\", hk, \"minimum\"),\r\n              (0 > a || !isFinite(a)) && ya(a, \">= 0\", hk, \"minimum\"),\r\n              (this.rh = a),\r\n              (this.actual = this.na),\r\n              null !== this.panel && this.panel.v(),\r\n              this.Db(\"minimum\", b, a));\r\n          },\r\n        },\r\n        maximum: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.qh;\r\n          },\r\n          set: function (a) {\r\n            var b = this.qh;\r\n            b !== a &&\r\n              (F && A(a, \"number\", hk, \"maximum\"),\r\n              0 > a && ya(a, \">= 0\", hk, \"maximum\"),\r\n              (this.qh = a),\r\n              (this.actual = this.na),\r\n              null !== this.panel && this.panel.v(),\r\n              this.Db(\"maximum\", b, a));\r\n          },\r\n        },\r\n        alignment: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Bb;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Bb;\r\n            b.B(a) ||\r\n              (F && w(a, M, hk, \"alignment\"),\r\n              (this.Bb = a.J()),\r\n              null !== this.panel && this.panel.v(),\r\n              this.Db(\"alignment\", b, a));\r\n          },\r\n        },\r\n        stretch: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ee;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Ee;\r\n            b !== a &&\r\n              (F && hb(a, N, hk, \"stretch\"),\r\n              (this.Ee = a),\r\n              null !== this.panel && this.panel.v(),\r\n              this.Db(\"stretch\", b, a));\r\n          },\r\n        },\r\n        separatorPadding: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ag;\r\n          },\r\n          set: function (a) {\r\n            \"number\" === typeof a\r\n              ? (a = new lc(a))\r\n              : null !== a && F && w(a, lc, hk, \"separatorPadding\");\r\n            var b = this.Ag;\r\n            (null !== a && null !== b && b.B(a)) ||\r\n              (null !== a && (a = a.J()),\r\n              (this.Ag = a),\r\n              null !== this.panel && this.panel.v(),\r\n              this.Db(\"separatorPadding\", b, a));\r\n          },\r\n        },\r\n        separatorStroke: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Gp;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Gp;\r\n            b !== a &&\r\n              (null !== a && fm(a, \"RowColumnDefinition.separatorStroke\"),\r\n              a instanceof Il && a.freeze(),\r\n              (this.Gp = a),\r\n              null !== this.panel && this.panel.v(),\r\n              this.Db(\"separatorStroke\", b, a));\r\n          },\r\n        },\r\n        separatorStrokeWidth: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Hp;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Hp;\r\n            b !== a &&\r\n              ((this.Hp = a),\r\n              null !== this.panel && this.panel.v(),\r\n              this.Db(\"separatorStrokeWidth\", b, a));\r\n          },\r\n        },\r\n        separatorDashArray: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Vj;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Vj;\r\n            if (b !== a) {\r\n              null === a ||\r\n                Array.isArray(a) ||\r\n                xa(a, \"Array\", hk, \"separatorDashArray:value\");\r\n              if (null !== a) {\r\n                for (var c = a.length, d = 0, e = 0; e < c; e++) {\r\n                  var f = a[e];\r\n                  (\"number\" === typeof f && 0 <= f && isFinite(f)) ||\r\n                    v(\r\n                      \"separatorDashArray value \" +\r\n                        f +\r\n                        \" at index \" +\r\n                        e +\r\n                        \" must be a positive number or zero.\"\r\n                    );\r\n                  d += f;\r\n                }\r\n                if (0 === d) {\r\n                  if (null === b) return;\r\n                  a = null;\r\n                }\r\n              }\r\n              this.Vj = a;\r\n              null !== this.panel && this.panel.R();\r\n              this.Db(\"separatorDashArray\", b, a);\r\n            }\r\n          },\r\n        },\r\n        background: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.mb;\r\n          },\r\n          set: function (a) {\r\n            var b = this.mb;\r\n            b !== a &&\r\n              (null !== a && fm(a, \"RowColumnDefinition.background\"),\r\n              a instanceof Il && a.freeze(),\r\n              (this.mb = a),\r\n              null !== this.panel && this.panel.R(),\r\n              this.Db(\"background\", b, a));\r\n          },\r\n        },\r\n        coversSeparators: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.An;\r\n          },\r\n          set: function (a) {\r\n            var b = this.An;\r\n            b !== a &&\r\n              (A(a, \"boolean\", hk, \"coversSeparators\"),\r\n              (this.An = a),\r\n              null !== this.panel && this.panel.R(),\r\n              this.Db(\"coversSeparators\", b, a));\r\n          },\r\n        },\r\n        sizing: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Mp;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Mp;\r\n            b !== a &&\r\n              (F && hb(a, hk, hk, \"sizing\"),\r\n              (this.Mp = a),\r\n              null !== this.panel && this.panel.v(),\r\n              this.Db(\"sizing\", b, a));\r\n          },\r\n        },\r\n        actual: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.na;\r\n          },\r\n          set: function (a) {\r\n            this.na = isNaN(this.Vc)\r\n              ? Math.max(Math.min(this.qh, a), this.rh)\r\n              : Math.max(Math.min(this.qh, this.Vc), this.rh);\r\n          },\r\n        },\r\n        total: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.na + this.zc();\r\n          },\r\n          set: function (a) {\r\n            this.na = isNaN(this.Vc)\r\n              ? Math.max(Math.min(this.qh, a), this.rh)\r\n              : Math.max(Math.min(this.qh, this.Vc), this.rh);\r\n            this.na = Math.max(0, this.na - this.zc());\r\n          },\r\n        },\r\n        position: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ra;\r\n          },\r\n          set: function (a) {\r\n            this.ra = a;\r\n          },\r\n        },\r\n      });\r\n      hk.prototype.bind = hk.prototype.bind;\r\n      hk.prototype.computeEffectiveSpacing = hk.prototype.zc;\r\n      hk.prototype.computeEffectiveSpacingTop = hk.prototype.lv;\r\n      var Sn = new E(hk, \"Default\", 0),\r\n        Vm = new E(hk, \"None\", 1),\r\n        ln = new E(hk, \"ProportionalExtra\", 2);\r\n      hk.className = \"RowColumnDefinition\";\r\n      hk.Default = Sn;\r\n      hk.None = Vm;\r\n      hk.ProportionalExtra = ln;\r\n\r\n      function $f() {\r\n        N.call(this);\r\n        this.Xd = this.ua = null;\r\n        this.il = \"None\";\r\n        this.Vn = jl;\r\n        this.Jc = this.jl = \"black\";\r\n        this.Ah = 1;\r\n        this.am = \"butt\";\r\n        this.bm = \"miter\";\r\n        this.Wj = 10;\r\n        this.yh = null;\r\n        this.zh = 0;\r\n        this.sf = this.rf = kd;\r\n        this.ep = this.cp = NaN;\r\n        this.ho = !1;\r\n        this.gp = null;\r\n        this.ml = this.im = \"None\";\r\n        this.Md = 1;\r\n        this.Ld = 0;\r\n        this.Jd = 1;\r\n        this.Kd = null;\r\n      }\r\n      la($f, N);\r\n      $f.prototype.cloneProtected = function (a) {\r\n        N.prototype.cloneProtected.call(this, a);\r\n        a.ua = this.ua;\r\n        a.il = this.il;\r\n        a.Vn = this.Vn;\r\n        a.Xd = this.Xd;\r\n        a.jl = this.jl;\r\n        a.Jc = this.Jc;\r\n        a.Ah = this.Ah;\r\n        a.am = this.am;\r\n        a.bm = this.bm;\r\n        a.Wj = this.Wj;\r\n        null !== this.yh && (a.yh = Ia(this.yh));\r\n        a.zh = this.zh;\r\n        a.rf = this.rf.J();\r\n        a.sf = this.sf.J();\r\n        a.cp = this.cp;\r\n        a.ep = this.ep;\r\n        a.ho = this.ho;\r\n        a.gp = this.gp;\r\n        a.im = this.im;\r\n        a.ml = this.ml;\r\n        a.Md = this.Md;\r\n        a.Ld = this.Ld;\r\n        a.Jd = this.Jd;\r\n        a.Kd = this.Kd;\r\n      };\r\n      t = $f.prototype;\r\n      t.jb = function (a) {\r\n        a === Og || a === Qg || a === ml || a === jl\r\n          ? (this.geometryStretch = a)\r\n          : N.prototype.jb.call(this, a);\r\n      };\r\n      t.toString = function () {\r\n        return (\r\n          \"Shape(\" +\r\n          (\"None\" !== this.figure\r\n            ? this.figure\r\n            : \"None\" !== this.toArrow\r\n            ? this.toArrow\r\n            : this.fromArrow) +\r\n          \")#\" +\r\n          sb(this)\r\n        );\r\n      };\r\n\r\n      function Tn(a, b, c, d) {\r\n        var e = c.length;\r\n        if (!(4 > e)) {\r\n          var f = d.measuredBounds,\r\n            g = Math.max(1, f.width);\r\n          f = f.height;\r\n          for (\r\n            var h = c[0], k = c[1], l, m, n, p, r, q, u = 0, x = La(), y = 2;\r\n            y < e;\r\n            y += 2\r\n          )\r\n            (l = c[y]),\r\n              (m = c[y + 1]),\r\n              (n = l - h),\r\n              (h = m - k),\r\n              0 === n && (n = 0.001),\r\n              (p = h / n),\r\n              (r = Math.atan2(h, n)),\r\n              (q = Math.sqrt(n * n + h * h)),\r\n              x.push([n, r, p, q]),\r\n              (u += q),\r\n              (h = l),\r\n              (k = m);\r\n          h = c[0];\r\n          k = c[1];\r\n          n = d.measuredBounds.width;\r\n          d instanceof $f && (n -= d.strokeWidth);\r\n          1 > n && (n = 1);\r\n          e = c = n;\r\n          l = g / 2;\r\n          m = 0 === l ? !1 : !0;\r\n          y = 0;\r\n          q = x[y];\r\n          n = q[0];\r\n          r = q[1];\r\n          p = q[2];\r\n          q = q[3];\r\n          for (var z = 0; 0.1 <= u; ) {\r\n            0 === z &&\r\n              (m ? ((e = c), (e -= l), (u -= l), (m = !1)) : (e = c),\r\n              0 === e && (e = 1));\r\n            if (e > u) {\r\n              Na(x);\r\n              return;\r\n            }\r\n            e > q ? ((z = e - q), (e = q)) : (z = 0);\r\n            var B = Math.sqrt((e * e) / (1 + p * p));\r\n            0 > n && (B = -B);\r\n            h += B;\r\n            k += p * B;\r\n            a.translate(h, k);\r\n            a.rotate(r);\r\n            a.translate(-(g / 2), -(f / 2));\r\n            0 === z && d.Xi(a, b);\r\n            a.translate(g / 2, f / 2);\r\n            a.rotate(-r);\r\n            a.translate(-h, -k);\r\n            u -= e;\r\n            q -= e;\r\n            if (0 !== z) {\r\n              y++;\r\n              if (y === x.length) {\r\n                Na(x);\r\n                return;\r\n              }\r\n              q = x[y];\r\n              n = q[0];\r\n              r = q[1];\r\n              p = q[2];\r\n              q = q[3];\r\n              e = z;\r\n            }\r\n          }\r\n          Na(x);\r\n        }\r\n      }\r\n      t.Xi = function (a, b) {\r\n        var c = this.Jc,\r\n          d = this.jl;\r\n        if (null !== c || null !== d) {\r\n          var e = this.actualBounds,\r\n            f = this.naturalBounds;\r\n          null !== d && xi(this, a, d, !0, !1, f, e);\r\n          var g = this.part,\r\n            h = this.Ah;\r\n          null !== c &&\r\n            0 === h &&\r\n            null !== g &&\r\n            (h =\r\n              g.type === V.Link &&\r\n              g instanceof Pe &&\r\n              \"Selection\" === g.category &&\r\n              g.adornedObject instanceof $f &&\r\n              g.adornedPart.Fb() === g.adornedObject\r\n                ? g.adornedObject.strokeWidth\r\n                : 0);\r\n          null !== c &&\r\n            0 !== h &&\r\n            (xi(this, a, c, !1, !1, f, e),\r\n            (a.lineWidth = h),\r\n            (a.lineJoin = this.bm),\r\n            (a.lineCap = this.am),\r\n            (a.miterLimit = this.Wj));\r\n          e = !1;\r\n          g && b.Ke(\"drawShadows\") && (e = g.isShadowed);\r\n          g = !0;\r\n          null === c || (null !== d && \"transparent\" !== d) || (g = !1);\r\n          f = !1;\r\n          var k = this.strokeDashArray;\r\n          null !== k && ((f = !0), a.it(k, this.zh));\r\n          var l = this.ua;\r\n          if (null !== l) {\r\n            if (l.type === Jd)\r\n              a.beginPath(),\r\n                a.moveTo(l.startX, l.startY),\r\n                a.lineTo(l.endX, l.endY),\r\n                null !== d && a.$d(d),\r\n                0 !== h && null !== c && a.oj();\r\n            else if (l.type === Td) {\r\n              var m = l.startX;\r\n              k = l.startY;\r\n              var n = l.endX,\r\n                p = l.endY;\r\n              l = Math.min(m, n);\r\n              var r = Math.min(k, p);\r\n              m = Math.abs(n - m);\r\n              k = Math.abs(p - k);\r\n              a.beginPath();\r\n              a.rect(l, r, m, k);\r\n              null !== d && a.$d(d);\r\n              if (null !== c) {\r\n                g && e && Hl(a);\r\n                if (0 !== h) {\r\n                  if (0 === m || 0 === k)\r\n                    a.beginPath(),\r\n                      a.rect(l, r, Math.max(m, 0.1), Math.max(k, 0.1));\r\n                  a.oj();\r\n                }\r\n                g && e && Gl(a);\r\n              }\r\n            } else if (l.type === Ud)\r\n              (m = l.startX),\r\n                (k = l.startY),\r\n                (n = l.endX),\r\n                (p = l.endY),\r\n                (l = Math.abs(n - m) / 2),\r\n                (r = Math.abs(p - k) / 2),\r\n                (m = Math.min(m, n) + l),\r\n                (k = Math.min(k, p) + r),\r\n                a.beginPath(),\r\n                a.moveTo(m, k - r),\r\n                a.bezierCurveTo(\r\n                  m + K.Rg * l,\r\n                  k - r,\r\n                  m + l,\r\n                  k - K.Rg * r,\r\n                  m + l,\r\n                  k\r\n                ),\r\n                a.bezierCurveTo(\r\n                  m + l,\r\n                  k + K.Rg * r,\r\n                  m + K.Rg * l,\r\n                  k + r,\r\n                  m,\r\n                  k + r\r\n                ),\r\n                a.bezierCurveTo(\r\n                  m - K.Rg * l,\r\n                  k + r,\r\n                  m - l,\r\n                  k + K.Rg * r,\r\n                  m - l,\r\n                  k\r\n                ),\r\n                a.bezierCurveTo(\r\n                  m - l,\r\n                  k - K.Rg * r,\r\n                  m - K.Rg * l,\r\n                  k - r,\r\n                  m,\r\n                  k - r\r\n                ),\r\n                a.closePath(),\r\n                null !== d && a.$d(d),\r\n                0 !== h &&\r\n                  null !== c &&\r\n                  (g && e ? (Hl(a), a.oj(), Gl(a)) : a.oj());\r\n            else if (l.type === Hd)\r\n              for (k = l.figures, l = k.length, r = 0; r < l; r++) {\r\n                m = k.j[r];\r\n                a.beginPath();\r\n                a.moveTo(m.startX, m.startY);\r\n                n = m.segments.j;\r\n                p = n.length;\r\n                for (var q = null, u = 0; u < p; u++) {\r\n                  var x = n[u];\r\n                  switch (x.type) {\r\n                    case ie:\r\n                      a.moveTo(x.endX, x.endY);\r\n                      break;\r\n                    case Ld:\r\n                      a.lineTo(x.endX, x.endY);\r\n                      break;\r\n                    case je:\r\n                      a.bezierCurveTo(\r\n                        x.point1X,\r\n                        x.point1Y,\r\n                        x.point2X,\r\n                        x.point2Y,\r\n                        x.endX,\r\n                        x.endY\r\n                      );\r\n                      break;\r\n                    case ke:\r\n                      a.quadraticCurveTo(x.point1X, x.point1Y, x.endX, x.endY);\r\n                      break;\r\n                    case le:\r\n                      if (x.radiusX === x.radiusY) {\r\n                        var y = Math.PI / 180;\r\n                        a.arc(\r\n                          x.point1X,\r\n                          x.point1Y,\r\n                          x.radiusX,\r\n                          x.startAngle * y,\r\n                          (x.startAngle + x.sweepAngle) * y,\r\n                          0 > x.sweepAngle,\r\n                          null !== q ? q.endX : m.startX,\r\n                          null !== q ? q.endY : m.startY\r\n                        );\r\n                      } else if (((q = ne(x, m)), (y = q.length), 0 === y))\r\n                        a.lineTo(x.centerX, x.centerY);\r\n                      else\r\n                        for (var z = 0; z < y; z++) {\r\n                          var B = q[z];\r\n                          0 === z && a.lineTo(B[0], B[1]);\r\n                          a.bezierCurveTo(B[2], B[3], B[4], B[5], B[6], B[7]);\r\n                        }\r\n                      break;\r\n                    case me:\r\n                      z = y = 0;\r\n                      if (null !== q && q.type === le) {\r\n                        q = ne(q, m);\r\n                        B = q.length;\r\n                        if (0 === B) {\r\n                          a.lineTo(x.centerX, x.centerY);\r\n                          break;\r\n                        }\r\n                        q = q[B - 1] || null;\r\n                        null !== q && ((y = q[6]), (z = q[7]));\r\n                      } else\r\n                        (y = null !== q ? q.endX : m.startX),\r\n                          (z = null !== q ? q.endY : m.startY);\r\n                      q = oe(x, m, y, z);\r\n                      y = q.length;\r\n                      if (0 === y) {\r\n                        a.lineTo(x.centerX, x.centerY);\r\n                        break;\r\n                      }\r\n                      for (z = 0; z < y; z++)\r\n                        (B = q[z]),\r\n                          a.bezierCurveTo(B[2], B[3], B[4], B[5], B[6], B[7]);\r\n                      break;\r\n                    default:\r\n                      v(\"Segment not of valid type: \" + x.type);\r\n                  }\r\n                  x.isClosed && a.closePath();\r\n                  q = x;\r\n                }\r\n                e\r\n                  ? m.isShadowed\r\n                    ? (!0 === m.isFilled &&\r\n                        \"transparent\" !== d &&\r\n                        null !== d &&\r\n                        a.$d(d),\r\n                      0 !== h && null !== c && (g && Hl(a), a.oj(), g && Gl(a)))\r\n                    : (g && Hl(a),\r\n                      !0 === m.isFilled &&\r\n                        \"transparent\" !== d &&\r\n                        null !== d &&\r\n                        a.$d(d),\r\n                      0 !== h && null !== c && a.oj(),\r\n                      g && Gl(a))\r\n                  : (!0 === m.isFilled && null !== d && a.$d(d),\r\n                    0 !== h && null !== c && a.oj());\r\n              }\r\n            f && a.gt();\r\n            if (null !== this.pathPattern) {\r\n              c = this.pathPattern;\r\n              c.measure(Infinity, Infinity);\r\n              d = c.measuredBounds;\r\n              c.arrange(0, 0, d.width, d.height);\r\n              h = this.geometry;\r\n              a.save();\r\n              a.beginPath();\r\n              d = La();\r\n              if (h.type === Jd)\r\n                d.push(h.startX),\r\n                  d.push(h.startY),\r\n                  d.push(h.endX),\r\n                  d.push(h.endY),\r\n                  Tn(a, b, d, c);\r\n              else if (h.type === Hd)\r\n                for (h = h.figures.iterator; h.next(); ) {\r\n                  e = h.value;\r\n                  d.length = 0;\r\n                  d.push(e.startX);\r\n                  d.push(e.startY);\r\n                  g = e.startX;\r\n                  f = e.startY;\r\n                  k = g;\r\n                  l = f;\r\n                  r = e.segments.j;\r\n                  m = r.length;\r\n                  for (n = 0; n < m; n++) {\r\n                    p = r[n];\r\n                    switch (p.type) {\r\n                      case ie:\r\n                        Tn(a, b, d, c);\r\n                        d.length = 0;\r\n                        d.push(p.endX);\r\n                        d.push(p.endY);\r\n                        g = p.endX;\r\n                        f = p.endY;\r\n                        k = g;\r\n                        l = f;\r\n                        break;\r\n                      case Ld:\r\n                        d.push(p.endX);\r\n                        d.push(p.endY);\r\n                        g = p.endX;\r\n                        f = p.endY;\r\n                        break;\r\n                      case je:\r\n                        K.Ie(\r\n                          g,\r\n                          f,\r\n                          p.point1X,\r\n                          p.point1Y,\r\n                          p.point2X,\r\n                          p.point2Y,\r\n                          p.endX,\r\n                          p.endY,\r\n                          0.5,\r\n                          d\r\n                        );\r\n                        g = p.endX;\r\n                        f = p.endY;\r\n                        break;\r\n                      case ke:\r\n                        K.Iq(\r\n                          g,\r\n                          f,\r\n                          p.point1X,\r\n                          p.point1Y,\r\n                          p.endX,\r\n                          p.endY,\r\n                          0.5,\r\n                          d\r\n                        );\r\n                        g = p.endX;\r\n                        f = p.endY;\r\n                        break;\r\n                      case le:\r\n                        u = ne(p, e);\r\n                        x = u.length;\r\n                        if (0 === x) {\r\n                          d.push(p.centerX);\r\n                          d.push(p.centerY);\r\n                          g = p.centerX;\r\n                          f = p.centerY;\r\n                          break;\r\n                        }\r\n                        for (q = 0; q < x; q++)\r\n                          (y = u[q]),\r\n                            K.Ie(\r\n                              g,\r\n                              f,\r\n                              y[2],\r\n                              y[3],\r\n                              y[4],\r\n                              y[5],\r\n                              y[6],\r\n                              y[7],\r\n                              0.5,\r\n                              d\r\n                            ),\r\n                            (g = y[6]),\r\n                            (f = y[7]);\r\n                        break;\r\n                      case me:\r\n                        u = oe(p, e, g, f);\r\n                        x = u.length;\r\n                        if (0 === x) {\r\n                          d.push(p.centerX);\r\n                          d.push(p.centerY);\r\n                          g = p.centerX;\r\n                          f = p.centerY;\r\n                          break;\r\n                        }\r\n                        for (q = 0; q < x; q++)\r\n                          (y = u[q]),\r\n                            K.Ie(\r\n                              g,\r\n                              f,\r\n                              y[2],\r\n                              y[3],\r\n                              y[4],\r\n                              y[5],\r\n                              y[6],\r\n                              y[7],\r\n                              0.5,\r\n                              d\r\n                            ),\r\n                            (g = y[6]),\r\n                            (f = y[7]);\r\n                        break;\r\n                      default:\r\n                        v(\"Segment not of valid type: \" + p.type);\r\n                    }\r\n                    p.isClosed && (d.push(k), d.push(l), Tn(a, b, d, c));\r\n                  }\r\n                  Tn(a, b, d, c);\r\n                }\r\n              else if (h.type === Td)\r\n                d.push(h.startX),\r\n                  d.push(h.startY),\r\n                  d.push(h.endX),\r\n                  d.push(h.startY),\r\n                  d.push(h.endX),\r\n                  d.push(h.endY),\r\n                  d.push(h.startX),\r\n                  d.push(h.endY),\r\n                  d.push(h.startX),\r\n                  d.push(h.startY),\r\n                  Tn(a, b, d, c);\r\n              else if (h.type === Ud) {\r\n                f = new se();\r\n                f.startX = h.endX;\r\n                f.startY = (h.startY + h.endY) / 2;\r\n                g = new te(le);\r\n                g.startAngle = 0;\r\n                g.sweepAngle = 360;\r\n                g.centerX = (h.startX + h.endX) / 2;\r\n                g.centerY = (h.startY + h.endY) / 2;\r\n                g.radiusX = Math.abs(h.startX - h.endX) / 2;\r\n                g.radiusY = Math.abs(h.startY - h.endY) / 2;\r\n                f.add(g);\r\n                h = ne(g, f);\r\n                e = h.length;\r\n                if (0 === e) d.push(g.centerX), d.push(g.centerY);\r\n                else\r\n                  for (g = f.startX, f = f.startY, k = 0; k < e; k++)\r\n                    (l = h[k]),\r\n                      K.Ie(g, f, l[2], l[3], l[4], l[5], l[6], l[7], 0.5, d),\r\n                      (g = l[6]),\r\n                      (f = l[7]);\r\n                Tn(a, b, d, c);\r\n              }\r\n              Na(d);\r\n              a.restore();\r\n              a.Xc(!1);\r\n            }\r\n          }\r\n        }\r\n      };\r\n      t.ma = function (a, b) {\r\n        void 0 === b && (b = new J());\r\n        if (a instanceof M) {\r\n          a.Sb() &&\r\n            v(\r\n              \"getDocumentPoint Spot must be a real, specific Spot, not: \" +\r\n                a.toString()\r\n            );\r\n          var c = this.naturalBounds,\r\n            d = this.strokeWidth;\r\n          b.h(\r\n            a.x * (c.width + d) - d / 2 + c.x + a.offsetX,\r\n            a.y * (c.height + d) - d / 2 + c.y + a.offsetY\r\n          );\r\n        } else b.set(a);\r\n        this.yd.xa(b);\r\n        return b;\r\n      };\r\n      t.tq = function (a) {\r\n        void 0 === a && (a = new L());\r\n        var b = this.naturalBounds,\r\n          c = this.yd;\r\n        b = L.allocAt(b.x, b.y, b.width, b.height);\r\n        var d = this.strokeWidth;\r\n        b.$c(d / 2, d / 2);\r\n        d = J.allocAt(b.x, b.y).transform(c);\r\n        a.h(d.x, d.y, 0, 0);\r\n        d.h(b.right, b.y).transform(c);\r\n        pc(a, d.x, d.y, 0, 0);\r\n        d.h(b.right, b.bottom).transform(c);\r\n        pc(a, d.x, d.y, 0, 0);\r\n        d.h(b.x, b.bottom).transform(c);\r\n        pc(a, d.x, d.y, 0, 0);\r\n        L.free(b);\r\n        J.free(d);\r\n        return a;\r\n      };\r\n      t.Nh = function (a, b) {\r\n        var c = this.geometry;\r\n        if (null === c || (null === this.fill && null === this.stroke))\r\n          return !1;\r\n        var d = c.bounds,\r\n          e = this.strokeWidth / 2;\r\n        c.type !== Jd || b || (e += 2);\r\n        var f = L.alloc();\r\n        f.assign(d);\r\n        f.$c(e + 2, e + 2);\r\n        if (!f.ea(a)) return L.free(f), !1;\r\n        d = e + 1e-4;\r\n        if (c.type === Jd) {\r\n          if (null === this.stroke) return !1;\r\n          d =\r\n            (c.endX - c.startX) * (a.x - c.startX) +\r\n            (c.endY - c.startY) * (a.y - c.startY);\r\n          if (\r\n            0 >\r\n              (c.startX - c.endX) * (a.x - c.endX) +\r\n                (c.startY - c.endY) * (a.y - c.endY) ||\r\n            0 > d\r\n          )\r\n            return !1;\r\n          L.free(f);\r\n          return K.bc(c.startX, c.startY, c.endX, c.endY, e, a.x, a.y);\r\n        }\r\n        if (c.type === Td) {\r\n          b = c.startX;\r\n          var g = c.startY,\r\n            h = c.endX;\r\n          c = c.endY;\r\n          f.x = Math.min(b, h);\r\n          f.y = Math.min(g, c);\r\n          f.width = Math.abs(h - b);\r\n          f.height = Math.abs(c - g);\r\n          if (null === this.fill) {\r\n            f.$c(-d, -d);\r\n            if (f.ea(a)) return L.free(f), !1;\r\n            f.$c(d, d);\r\n          }\r\n          null !== this.stroke && f.$c(e, e);\r\n          a = f.ea(a);\r\n          L.free(f);\r\n          return a;\r\n        }\r\n        if (c.type === Ud) {\r\n          g = c.startX;\r\n          e = c.startY;\r\n          h = c.endX;\r\n          var k = c.endY;\r\n          c = Math.min(g, h);\r\n          b = Math.min(e, k);\r\n          g = Math.abs(h - g) / 2;\r\n          e = Math.abs(k - e) / 2;\r\n          c = a.x - (c + g);\r\n          b = a.y - (b + e);\r\n          if (null === this.fill) {\r\n            g -= d;\r\n            e -= d;\r\n            if (0 >= g || 0 >= e || 1 >= (c * c) / (g * g) + (b * b) / (e * e))\r\n              return L.free(f), !1;\r\n            g += d;\r\n            e += d;\r\n          }\r\n          null !== this.stroke && ((g += d), (e += d));\r\n          L.free(f);\r\n          return 0 >= g || 0 >= e\r\n            ? !1\r\n            : 1 >= (c * c) / (g * g) + (b * b) / (e * e);\r\n        }\r\n        if (c.type === Hd)\r\n          return (\r\n            L.free(f),\r\n            null === this.fill\r\n              ? qe(c, a.x, a.y, e)\r\n              : c.ea(a, e, 1 < this.strokeWidth, b)\r\n          );\r\n        v(\"Unknown Geometry type: \" + c.type);\r\n        return !1;\r\n      };\r\n      t.Bm = function (a, b, c, d) {\r\n        var e = this.desiredSize,\r\n          f = this.Ah;\r\n        a = Math.max(a, 0);\r\n        b = Math.max(b, 0);\r\n        if (null !== this.Xd) var g = this.geometry.bounds;\r\n        else {\r\n          var h = this.figure,\r\n            k = Un[h];\r\n          if (void 0 === k) {\r\n            var l = K.ge[h];\r\n            \"string\" === typeof l && (l = K.ge[l]);\r\n            \"function\" === typeof l\r\n              ? ((k = l(null, 100, 100)), (Un[h] = k))\r\n              : v(\"Unsupported Figure: \" + h);\r\n          }\r\n          g = k.bounds;\r\n        }\r\n        h = g.width;\r\n        k = g.height;\r\n        l = g.width;\r\n        var m = g.height;\r\n        switch (zl(this, !0)) {\r\n          case Og:\r\n            d = c = 0;\r\n            break;\r\n          case Id:\r\n            l = Math.max(a - f, 0);\r\n            m = Math.max(b - f, 0);\r\n            break;\r\n          case kl:\r\n            l = Math.max(a - f, 0);\r\n            d = 0;\r\n            break;\r\n          case ll:\r\n            (c = 0), (m = Math.max(b - f, 0));\r\n        }\r\n        isFinite(e.width) && (l = e.width);\r\n        isFinite(e.height) && (m = e.height);\r\n        e = this.maxSize;\r\n        g = this.minSize;\r\n        c = Math.max(c - f, g.width);\r\n        d = Math.max(d - f, g.height);\r\n        l = Math.min(e.width, l);\r\n        m = Math.min(e.height, m);\r\n        l = isFinite(l) ? Math.max(c, l) : Math.max(h, c);\r\n        m = isFinite(m) ? Math.max(d, m) : Math.max(k, d);\r\n        c = Pg(this);\r\n        switch (c) {\r\n          case Og:\r\n            break;\r\n          case Id:\r\n            h = l;\r\n            k = m;\r\n            break;\r\n          case Qg:\r\n            c = Math.min(l / h, m / k);\r\n            isFinite(c) || (c = 1);\r\n            h *= c;\r\n            k *= c;\r\n            break;\r\n          default:\r\n            v(c + \" is not a valid geometryStretch.\");\r\n        }\r\n        null !== this.Xd\r\n          ? ((h = Math.max(h, 0.01)),\r\n            (k = Math.max(k, 0.01)),\r\n            (g = null !== this.Xd ? this.Xd : this.ua),\r\n            (e = h),\r\n            (d = k),\r\n            (c = g.copy()),\r\n            (g = g.bounds),\r\n            (e /= g.width),\r\n            (d /= g.height),\r\n            isFinite(e) || (e = 1),\r\n            isFinite(d) || (d = 1),\r\n            (1 === e && 1 === d) || c.scale(e, d),\r\n            F && c.freeze(),\r\n            (this.ua = c))\r\n          : (null !== this.ua &&\r\n              K.ba(this.ua.xl, a - f) &&\r\n              K.ba(this.ua.vl, b - f)) ||\r\n            (this.ua = $f.makeGeometry(this, h, k));\r\n        g = this.ua.bounds;\r\n        Infinity === a || Infinity === b\r\n          ? wl(\r\n              this,\r\n              g.x - f / 2,\r\n              g.y - f / 2,\r\n              0 === a && 0 === h ? 0 : g.width + f,\r\n              0 === b && 0 === k ? 0 : g.height + f\r\n            )\r\n          : wl(this, -(f / 2), -(f / 2), l + f, m + f);\r\n      };\r\n\r\n      function Pg(a) {\r\n        var b = a.geometryStretch;\r\n        return null !== a.Xd\r\n          ? b === jl\r\n            ? Id\r\n            : b\r\n          : b === jl\r\n          ? Un[a.figure].defaultStretch\r\n          : b;\r\n      }\r\n      t.Lh = function (a, b, c, d) {\r\n        Bl(this, a, b, c, d);\r\n      };\r\n      t.Zc = function (a, b, c) {\r\n        return this.qk(a.x, a.y, b.x, b.y, c);\r\n      };\r\n      t.qk = function (a, b, c, d, e) {\r\n        var f = this.transform,\r\n          g = 1 / (f.m11 * f.m22 - f.m12 * f.m21),\r\n          h = f.m22 * g,\r\n          k = -f.m12 * g,\r\n          l = -f.m21 * g,\r\n          m = f.m11 * g,\r\n          n = g * (f.m21 * f.dy - f.m22 * f.dx),\r\n          p = g * (f.m12 * f.dx - f.m11 * f.dy);\r\n        f = a * h + b * l + n;\r\n        g = a * k + b * m + p;\r\n        h = c * h + d * l + n;\r\n        k = c * k + d * m + p;\r\n        n = this.Ah / 2;\r\n        l = this.ua;\r\n        null === l && (this.measure(Infinity, Infinity), (l = this.ua));\r\n        p = l.bounds;\r\n        m = !1;\r\n        if (l.type === Jd)\r\n          if (1.5 >= this.strokeWidth)\r\n            m = K.Me(l.startX, l.startY, l.endX, l.endY, f, g, h, k, e);\r\n          else {\r\n            l.startX === l.endX\r\n              ? ((d = n), (m = 0))\r\n              : ((b = (l.endY - l.startY) / (l.endX - l.startX)),\r\n                (m = n / Math.sqrt(1 + b * b)),\r\n                (d = m * b));\r\n            b = La();\r\n            a = new J();\r\n            K.Me(\r\n              l.startX + d,\r\n              l.startY + m,\r\n              l.endX + d,\r\n              l.endY + m,\r\n              f,\r\n              g,\r\n              h,\r\n              k,\r\n              a\r\n            ) && b.push(a);\r\n            a = new J();\r\n            K.Me(\r\n              l.startX - d,\r\n              l.startY - m,\r\n              l.endX - d,\r\n              l.endY - m,\r\n              f,\r\n              g,\r\n              h,\r\n              k,\r\n              a\r\n            ) && b.push(a);\r\n            a = new J();\r\n            K.Me(\r\n              l.startX + d,\r\n              l.startY + m,\r\n              l.startX - d,\r\n              l.startY - m,\r\n              f,\r\n              g,\r\n              h,\r\n              k,\r\n              a\r\n            ) && b.push(a);\r\n            a = new J();\r\n            K.Me(\r\n              l.endX + d,\r\n              l.endY + m,\r\n              l.endX - d,\r\n              l.endY - m,\r\n              f,\r\n              g,\r\n              h,\r\n              k,\r\n              a\r\n            ) && b.push(a);\r\n            h = b.length;\r\n            if (0 === h) return Na(b), !1;\r\n            m = !0;\r\n            k = Infinity;\r\n            for (d = 0; d < h; d++)\r\n              (a = b[d]),\r\n                (c = (a.x - f) * (a.x - f) + (a.y - g) * (a.y - g)),\r\n                c < k && ((k = c), (e.x = a.x), (e.y = a.y));\r\n            Na(b);\r\n          }\r\n        else if (l.type === Td)\r\n          m = K.Zc(\r\n            p.x - n,\r\n            p.y - n,\r\n            p.x + p.width + n,\r\n            p.y + p.height + n,\r\n            f,\r\n            g,\r\n            h,\r\n            k,\r\n            e\r\n          );\r\n        else if (l.type === Ud) {\r\n          b = L.allocAt(p.x, p.y, p.width, p.height).$c(n, n);\r\n          a: if (0 === b.width)\r\n            m = K.Me(b.x, b.y, b.x, b.y + b.height, f, g, h, k, e);\r\n          else if (0 === b.height)\r\n            m = K.Me(b.x, b.y, b.x + b.width, b.y, f, g, h, k, e);\r\n          else {\r\n            a = b.width / 2;\r\n            l = b.height / 2;\r\n            d = b.x + a;\r\n            m = b.y + l;\r\n            c = 9999;\r\n            f !== h && (c = (g - k) / (f - h));\r\n            if (9999 > Math.abs(c)) {\r\n              k = g - m - c * (f - d);\r\n              if (0 > a * a * c * c + l * l - k * k) {\r\n                e.x = NaN;\r\n                e.y = NaN;\r\n                m = !1;\r\n                break a;\r\n              }\r\n              n = Math.sqrt(a * a * c * c + l * l - k * k);\r\n              h = (-(a * a * c * k) + a * l * n) / (l * l + a * a * c * c) + d;\r\n              a = (-(a * a * c * k) - a * l * n) / (l * l + a * a * c * c) + d;\r\n              l = c * (h - d) + k + m;\r\n              k = c * (a - d) + k + m;\r\n              Math.abs((f - h) * (f - h)) + Math.abs((g - l) * (g - l)) <\r\n              Math.abs((f - a) * (f - a)) + Math.abs((g - k) * (g - k))\r\n                ? ((e.x = h), (e.y = l))\r\n                : ((e.x = a), (e.y = k));\r\n            } else {\r\n              h = l * l;\r\n              k = f - d;\r\n              h -= (h / (a * a)) * k * k;\r\n              if (0 > h) {\r\n                e.x = NaN;\r\n                e.y = NaN;\r\n                m = !1;\r\n                break a;\r\n              }\r\n              k = Math.sqrt(h);\r\n              h = m + k;\r\n              k = m - k;\r\n              Math.abs(h - g) < Math.abs(k - g)\r\n                ? ((e.x = f), (e.y = h))\r\n                : ((e.x = f), (e.y = k));\r\n            }\r\n            m = !0;\r\n          }\r\n          L.free(b);\r\n        } else if (l.type === Hd) {\r\n          p = J.alloc();\r\n          var r = h - f;\r\n          var q = k - g;\r\n          var u = r * r + q * q;\r\n          e.x = h;\r\n          e.y = k;\r\n          for (var x = 0; x < l.figures.count; x++) {\r\n            var y = l.figures.j[x],\r\n              z = y.segments;\r\n            r = y.startX;\r\n            q = y.startY;\r\n            for (var B = r, D = q, I = 0; I < z.count; I++) {\r\n              var O = z.j[I],\r\n                R = O.type;\r\n              var T = O.endX;\r\n              var ca = O.endY;\r\n              var Z = !1;\r\n              switch (R) {\r\n                case ie:\r\n                  B = T;\r\n                  D = ca;\r\n                  break;\r\n                case Ld:\r\n                  Z = Vn(r, q, T, ca, f, g, h, k, p);\r\n                  break;\r\n                case je:\r\n                  Z = K.jq(\r\n                    r,\r\n                    q,\r\n                    O.point1X,\r\n                    O.point1Y,\r\n                    O.point2X,\r\n                    O.point2Y,\r\n                    T,\r\n                    ca,\r\n                    f,\r\n                    g,\r\n                    h,\r\n                    k,\r\n                    0.6,\r\n                    p\r\n                  );\r\n                  break;\r\n                case ke:\r\n                  Z = K.jq(\r\n                    r,\r\n                    q,\r\n                    (r + 2 * O.point1X) / 3,\r\n                    (q + 2 * O.point1Y) / 3,\r\n                    (2 * O.point1X + T) / 3,\r\n                    (2 * O.point1X + T) / 3,\r\n                    T,\r\n                    ca,\r\n                    f,\r\n                    g,\r\n                    h,\r\n                    k,\r\n                    0.6,\r\n                    p\r\n                  );\r\n                  break;\r\n                case le:\r\n                case me:\r\n                  R = O.type === le ? ne(O, y) : oe(O, y, r, q);\r\n                  var sa = R.length;\r\n                  if (0 === sa) {\r\n                    Z = Vn(r, q, O.centerX, O.centerY, f, g, h, k, p);\r\n                    break;\r\n                  }\r\n                  ca = null;\r\n                  for (T = 0; T < sa; T++) {\r\n                    ca = R[T];\r\n                    if (0 === T && Vn(r, q, ca[0], ca[1], f, g, h, k, p)) {\r\n                      var Da = Wn(f, g, p, u, e);\r\n                      Da < u && ((u = Da), (m = !0));\r\n                    }\r\n                    K.jq(\r\n                      ca[0],\r\n                      ca[1],\r\n                      ca[2],\r\n                      ca[3],\r\n                      ca[4],\r\n                      ca[5],\r\n                      ca[6],\r\n                      ca[7],\r\n                      f,\r\n                      g,\r\n                      h,\r\n                      k,\r\n                      0.6,\r\n                      p\r\n                    ) &&\r\n                      ((Da = Wn(f, g, p, u, e)),\r\n                      Da < u && ((u = Da), (m = !0)));\r\n                  }\r\n                  T = ca[6];\r\n                  ca = ca[7];\r\n                  break;\r\n                default:\r\n                  v(\"Unknown Segment type: \" + R);\r\n              }\r\n              r = T;\r\n              q = ca;\r\n              Z && ((Z = Wn(f, g, p, u, e)), Z < u && ((u = Z), (m = !0)));\r\n              O.isClosed &&\r\n                ((T = B),\r\n                (ca = D),\r\n                Vn(r, q, T, ca, f, g, h, k, p) &&\r\n                  ((O = Wn(f, g, p, u, e)), O < u && ((u = O), (m = !0))));\r\n            }\r\n          }\r\n          f = c - a;\r\n          g = d - b;\r\n          h = Math.sqrt(f * f + g * g);\r\n          0 !== h && ((f /= h), (g /= h));\r\n          e.x -= f * n;\r\n          e.y -= g * n;\r\n          J.free(p);\r\n        } else v(\"Unknown Geometry type: \" + l.type);\r\n        if (!m) return !1;\r\n        this.transform.xa(e);\r\n        return !0;\r\n      };\r\n\r\n      function Wn(a, b, c, d, e) {\r\n        a = c.x - a;\r\n        b = c.y - b;\r\n        b = a * a + b * b;\r\n        return b < d ? ((e.x = c.x), (e.y = c.y), b) : d;\r\n      }\r\n\r\n      function Vn(a, b, c, d, e, f, g, h, k) {\r\n        var l = !1,\r\n          m = (e - g) * (b - d) - (f - h) * (a - c);\r\n        if (0 === m) return !1;\r\n        k.x = ((e * h - f * g) * (a - c) - (e - g) * (a * d - b * c)) / m;\r\n        k.y = ((e * h - f * g) * (b - d) - (f - h) * (a * d - b * c)) / m;\r\n        (a > c ? a - c : c - a) < (b > d ? b - d : d - b)\r\n          ? ((a = b < d ? b : d),\r\n            (b = b < d ? d : b),\r\n            (k.y > a || K.ba(k.y, a)) && (k.y < b || K.ba(k.y, b)) && (l = !0))\r\n          : ((b = a < c ? a : c),\r\n            (a = a < c ? c : a),\r\n            (k.x > b || K.ba(k.x, b)) && (k.x < a || K.ba(k.x, a)) && (l = !0));\r\n        return l;\r\n      }\r\n      t.Mh = function (a, b) {\r\n        if (void 0 === b) return a.Af(this.actualBounds);\r\n        var c = this.ua;\r\n        null === c && (this.measure(Infinity, Infinity), (c = this.ua));\r\n        c = c.bounds;\r\n        var d = this.strokeWidth / 2,\r\n          e = !1,\r\n          f = J.alloc();\r\n        f.h(c.x - d, c.y - d);\r\n        a.ea(b.xa(f)) &&\r\n          (f.h(c.x - d, c.bottom + d),\r\n          a.ea(b.xa(f)) &&\r\n            (f.h(c.right + d, c.bottom + d),\r\n            a.ea(b.xa(f)) &&\r\n              (f.h(c.right + d, c.y - d), a.ea(b.xa(f)) && (e = !0))));\r\n        J.free(f);\r\n        return e;\r\n      };\r\n      t.Mc = function (a, b) {\r\n        if (\r\n          this.Mh(a, b) ||\r\n          (void 0 === b && ((b = this.transform), a.Af(this.actualBounds)))\r\n        )\r\n          return !0;\r\n        var c = Kb.alloc();\r\n        c.set(b);\r\n        c.vt();\r\n        var d = a.left,\r\n          e = a.right,\r\n          f = a.top;\r\n        a = a.bottom;\r\n        var g = J.alloc();\r\n        g.h(d, f);\r\n        c.xa(g);\r\n        if (this.Nh(g, !0)) return J.free(g), !0;\r\n        g.h(e, f);\r\n        c.xa(g);\r\n        if (this.Nh(g, !0)) return J.free(g), !0;\r\n        g.h(d, a);\r\n        c.xa(g);\r\n        if (this.Nh(g, !0)) return J.free(g), !0;\r\n        g.h(e, a);\r\n        c.xa(g);\r\n        if (this.Nh(g, !0)) return J.free(g), !0;\r\n        var h = J.alloc(),\r\n          k = J.alloc();\r\n        c.set(b);\r\n        c.Ov(this.transform);\r\n        c.vt();\r\n        h.x = e;\r\n        h.y = f;\r\n        h.transform(c);\r\n        g.x = d;\r\n        g.y = f;\r\n        g.transform(c);\r\n        b = !1;\r\n        Xn(this, g, h, k)\r\n          ? (b = !0)\r\n          : ((g.x = e),\r\n            (g.y = a),\r\n            g.transform(c),\r\n            Xn(this, g, h, k)\r\n              ? (b = !0)\r\n              : ((h.x = d),\r\n                (h.y = a),\r\n                h.transform(c),\r\n                Xn(this, g, h, k)\r\n                  ? (b = !0)\r\n                  : ((g.x = d),\r\n                    (g.y = f),\r\n                    g.transform(c),\r\n                    Xn(this, g, h, k) && (b = !0))));\r\n        J.free(g);\r\n        Kb.free(c);\r\n        J.free(h);\r\n        J.free(k);\r\n        return b;\r\n      };\r\n\r\n      function Xn(a, b, c, d) {\r\n        if (!a.Zc(b, c, d)) return !1;\r\n        a = b.x;\r\n        b = b.y;\r\n        var e = c.x,\r\n          f = c.y;\r\n        c = d.x;\r\n        d = d.y;\r\n        if (a === e)\r\n          return b < f ? ((a = b), (b = f)) : (a = f), d >= a && d <= b;\r\n        a < e ? ((d = a), (a = e)) : (d = e);\r\n        return c >= d && c <= a;\r\n      }\r\n      t.Sx = function (a, b, c) {\r\n        function d(a, b) {\r\n          for (var c = a.length, d = 0; d < c; d += 2)\r\n            if (b.ld(a[d], a[d + 1]) > e) return !0;\r\n          return !1;\r\n        }\r\n        if (c && null !== this.fill && this.Nh(a, !0)) return !0;\r\n        var e = a.Je(b),\r\n          f = e;\r\n        1.5 < this.strokeWidth &&\r\n          ((e = this.strokeWidth / 2 + Math.sqrt(e)), (e *= e));\r\n        b = this.ua;\r\n        if (\r\n          null === b &&\r\n          (this.measure(Infinity, Infinity), (b = this.ua), null === b)\r\n        )\r\n          return !1;\r\n        if (!c) {\r\n          var g = b.bounds,\r\n            h = g.x,\r\n            k = g.y,\r\n            l = g.x + g.width;\r\n          g = g.y + g.height;\r\n          if (\r\n            Nb(a.x, a.y, h, k) <= e &&\r\n            Nb(a.x, a.y, l, k) <= e &&\r\n            Nb(a.x, a.y, h, g) <= e &&\r\n            Nb(a.x, a.y, l, g) <= e\r\n          )\r\n            return !0;\r\n        }\r\n        h = b.startX;\r\n        k = b.startY;\r\n        l = b.endX;\r\n        g = b.endY;\r\n        if (b.type === Jd) {\r\n          if (\r\n            ((c = Mb(a.x, a.y, h, k, l, g)),\r\n            (b = (h - l) * (a.x - l) + (k - g) * (a.y - g)),\r\n            c <=\r\n              (0 <= (l - h) * (a.x - h) + (g - k) * (a.y - k) && 0 <= b\r\n                ? e\r\n                : f))\r\n          )\r\n            return !0;\r\n        } else {\r\n          if (b.type === Td)\r\n            return (\r\n              (b = !1),\r\n              c &&\r\n                (b =\r\n                  Mb(a.x, a.y, h, k, h, g) <= e ||\r\n                  Mb(a.x, a.y, h, k, l, k) <= e ||\r\n                  Mb(a.x, a.y, l, k, l, g) <= e ||\r\n                  Mb(a.x, a.y, h, g, l, g) <= e),\r\n              b\r\n            );\r\n          if (b.type === Ud) {\r\n            b = a.x - (h + l) / 2;\r\n            f = a.y - (k + g) / 2;\r\n            var m = Math.abs(l - h) / 2,\r\n              n = Math.abs(g - k) / 2;\r\n            if (0 === m || 0 === n)\r\n              return Mb(a.x, a.y, h, k, l, g) <= e ? !0 : !1;\r\n            if (c) {\r\n              if (((a = K.kz(m, n, b, f)), a * a <= e)) return !0;\r\n            } else\r\n              return Nb(b, f, -m, 0) >= e ||\r\n                Nb(b, f, 0, -n) >= e ||\r\n                Nb(b, f, 0, n) >= e ||\r\n                Nb(b, f, m, 0) >= e\r\n                ? !1\r\n                : !0;\r\n          } else if (b.type === Hd) {\r\n            l = b.bounds;\r\n            f = l.x;\r\n            h = l.y;\r\n            k = l.x + l.width;\r\n            l = l.y + l.height;\r\n            if (\r\n              a.x > k &&\r\n              a.x < f &&\r\n              a.y > l &&\r\n              a.y < h &&\r\n              Mb(a.x, a.y, f, h, f, l) > e &&\r\n              Mb(a.x, a.y, f, h, k, h) > e &&\r\n              Mb(a.x, a.y, k, l, f, l) > e &&\r\n              Mb(a.x, a.y, k, l, k, h) > e\r\n            )\r\n              return !1;\r\n            f = Math.sqrt(e);\r\n            if (c) {\r\n              if (null === this.fill ? qe(b, a.x, a.y, f) : b.ea(a, f, !0))\r\n                return !0;\r\n            } else {\r\n              c = b.figures;\r\n              for (b = 0; b < c.count; b++) {\r\n                f = c.j[b];\r\n                g = f.startX;\r\n                m = f.startY;\r\n                if (a.ld(g, m) > e) return !1;\r\n                h = f.segments.j;\r\n                k = h.length;\r\n                for (l = 0; l < k; l++)\r\n                  switch (((n = h[l]), n.type)) {\r\n                    case ie:\r\n                    case Ld:\r\n                      g = n.endX;\r\n                      m = n.endY;\r\n                      if (a.ld(g, m) > e) return !1;\r\n                      break;\r\n                    case je:\r\n                      var p = La();\r\n                      K.Ie(\r\n                        g,\r\n                        m,\r\n                        n.point1X,\r\n                        n.point1Y,\r\n                        n.point2X,\r\n                        n.point2Y,\r\n                        n.endX,\r\n                        n.endY,\r\n                        0.8,\r\n                        p\r\n                      );\r\n                      g = d(p, a);\r\n                      Na(p);\r\n                      if (g) return !1;\r\n                      g = n.endX;\r\n                      m = n.endY;\r\n                      if (a.ld(g, m) > e) return !1;\r\n                      break;\r\n                    case ke:\r\n                      p = La();\r\n                      K.Iq(g, m, n.point1X, n.point1Y, n.endX, n.endY, 0.8, p);\r\n                      g = d(p, a);\r\n                      Na(p);\r\n                      if (g) return !1;\r\n                      g = n.endX;\r\n                      m = n.endY;\r\n                      if (a.ld(g, m) > e) return !1;\r\n                      break;\r\n                    case le:\r\n                    case me:\r\n                      p = n.type === le ? ne(n, f) : oe(n, f, g, m);\r\n                      var r = p.length;\r\n                      if (0 === r) {\r\n                        g = n.centerX;\r\n                        m = n.centerY;\r\n                        if (a.ld(g, m) > e) return !1;\r\n                        break;\r\n                      }\r\n                      n = null;\r\n                      for (var q = La(), u = 0; u < r; u++)\r\n                        if (\r\n                          ((n = p[u]),\r\n                          (q.length = 0),\r\n                          K.Ie(\r\n                            n[0],\r\n                            n[1],\r\n                            n[2],\r\n                            n[3],\r\n                            n[4],\r\n                            n[5],\r\n                            n[6],\r\n                            n[7],\r\n                            0.8,\r\n                            q\r\n                          ),\r\n                          d(q, a))\r\n                        )\r\n                          return Na(q), !1;\r\n                      Na(q);\r\n                      null !== n && ((g = n[6]), (m = n[7]));\r\n                      break;\r\n                    default:\r\n                      v(\"Unknown Segment type: \" + n.type);\r\n                  }\r\n              }\r\n              return !0;\r\n            }\r\n          }\r\n        }\r\n        return !1;\r\n      };\r\n      t.hc = function () {\r\n        this.ua = null;\r\n      };\r\n\r\n      function Yn(a) {\r\n        var b = a.diagram;\r\n        (null !== b && b.undoManager.isUndoingRedoing) ||\r\n          ((a.segmentOrientation = Zn),\r\n          \"None\" !== a.im\r\n            ? ((a.segmentIndex = -1), (a.alignmentFocus = rd))\r\n            : \"None\" !== a.ml &&\r\n              ((a.segmentIndex = 0),\r\n              (a.alignmentFocus = new M(1 - rd.x, rd.y))));\r\n      }\r\n      $f.makeGeometry = function (a, b, c) {\r\n        if (\"None\" !== a.toArrow) var d = $n[a.toArrow];\r\n        else\r\n          \"None\" !== a.fromArrow\r\n            ? (d = $n[a.fromArrow])\r\n            : ((d = K.ge[a.figure]),\r\n              \"string\" === typeof d && (d = K.ge[d]),\r\n              void 0 === d && v(\"Unknown Shape.figure: \" + a.figure),\r\n              (d = d(a, b, c)),\r\n              (d.xl = b),\r\n              (d.vl = c));\r\n        if (null === d) {\r\n          var e = K.ge.Rectangle;\r\n          \"function\" === typeof e && (d = e(a, b, c));\r\n        }\r\n        F &&\r\n          (d.bounds.width > b + 1e-5 || d.bounds.height > c + 1e-5) &&\r\n          v(\r\n            'Geometry made with figure \"' +\r\n              a.figure +\r\n              '\" has bounds ' +\r\n              d.bounds.toString() +\r\n              \" that are too large for the given size (\" +\r\n              b +\r\n              \",\" +\r\n              c +\r\n              \"). See documentation for Shape.defineFigureGenerator.\"\r\n          );\r\n        return d;\r\n      };\r\n\r\n      function ao(a) {\r\n        var b = $n[a];\r\n        if (void 0 === b) {\r\n          var c = a.toLowerCase();\r\n          if (\"none\" === c) return \"None\";\r\n          b = $n[c];\r\n          if (void 0 === b) {\r\n            var d = null,\r\n              e;\r\n            for (e in K.Wm)\r\n              if (e.toLowerCase() === c) {\r\n                d = e;\r\n                break;\r\n              }\r\n            if (null !== d)\r\n              return (\r\n                (a = Vd(K.Wm[d], !1)), ($n[d] = a), c !== d && ($n[c] = d), d\r\n              );\r\n          }\r\n        }\r\n        return \"string\" === typeof b ? b : b instanceof Gd ? a : null;\r\n      }\r\n      ma.Object.defineProperties($f.prototype, {\r\n        geometry: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.ua ? this.ua : this.Xd;\r\n          },\r\n          set: function (a) {\r\n            var b = this.ua;\r\n            if (b !== a) {\r\n              null !== a\r\n                ? (F && w(a, Gd, $f, \"geometry\"),\r\n                  (this.Xd = this.ua = a.freeze()))\r\n                : (this.Xd = this.ua = null);\r\n              var c = this.part;\r\n              null !== c && (c.ph = NaN);\r\n              this.v();\r\n              this.g(\"geometry\", b, a);\r\n              tl(this) &&\r\n                ((a = this.part), null !== a && ul(this, a, \"geometryString\"));\r\n            }\r\n          },\r\n        },\r\n        geometryString: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null === this.geometry ? \"\" : this.geometry.toString();\r\n          },\r\n          set: function (a) {\r\n            a = Vd(a);\r\n            var b = a.normalize();\r\n            this.geometry = a;\r\n            this.position = a = J.allocAt(-b.x, -b.y);\r\n            J.free(a);\r\n          },\r\n        },\r\n        isGeometryPositioned: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ho;\r\n          },\r\n          set: function (a) {\r\n            F && A(a, \"boolean\", $f, \"isGeometryPositioned\");\r\n            var b = this.ho;\r\n            b !== a &&\r\n              ((this.ho = a), this.v(), this.g(\"isGeometryPositioned\", b, a));\r\n          },\r\n        },\r\n        fill: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.jl;\r\n          },\r\n          set: function (a) {\r\n            var b = this.jl;\r\n            b !== a &&\r\n              (null !== a && fm(a, \"Shape.fill\"),\r\n              a instanceof Il && a.freeze(),\r\n              (this.jl = a),\r\n              this.R(),\r\n              this.g(\"fill\", b, a));\r\n          },\r\n        },\r\n        stroke: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Jc;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Jc;\r\n            b !== a &&\r\n              (null !== a && fm(a, \"Shape.stroke\"),\r\n              a instanceof Il && a.freeze(),\r\n              (this.Jc = a),\r\n              this.R(),\r\n              this.g(\"stroke\", b, a));\r\n          },\r\n        },\r\n        strokeWidth: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ah;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Ah;\r\n            if (b !== a)\r\n              if ((F && C(a, $f, \"strokeWidth\"), 0 <= a)) {\r\n                this.Ah = a;\r\n                this.v();\r\n                var c = this.part;\r\n                null !== c && (c.ph = NaN);\r\n                this.g(\"strokeWidth\", b, a);\r\n              } else ya(a, \"value >= 0\", $f, \"strokeWidth:value\");\r\n          },\r\n        },\r\n        strokeCap: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.am;\r\n          },\r\n          set: function (a) {\r\n            var b = this.am;\r\n            b !== a &&\r\n              (\"string\" !== typeof a ||\r\n              (\"butt\" !== a && \"round\" !== a && \"square\" !== a)\r\n                ? ya(a, '\"butt\", \"round\", or \"square\"', $f, \"strokeCap\")\r\n                : ((this.am = a), this.R(), this.g(\"strokeCap\", b, a)));\r\n          },\r\n        },\r\n        strokeJoin: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.bm;\r\n          },\r\n          set: function (a) {\r\n            var b = this.bm;\r\n            b !== a &&\r\n              (\"string\" !== typeof a ||\r\n              (\"miter\" !== a && \"bevel\" !== a && \"round\" !== a)\r\n                ? ya(a, '\"miter\", \"bevel\", or \"round\"', $f, \"strokeJoin\")\r\n                : ((this.bm = a), this.R(), this.g(\"strokeJoin\", b, a)));\r\n          },\r\n        },\r\n        strokeMiterLimit: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Wj;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Wj;\r\n            if (b !== a)\r\n              if ((F && C(a, $f, \"strokeMiterLimit\"), 1 <= a)) {\r\n                this.Wj = a;\r\n                this.R();\r\n                var c = this.part;\r\n                null !== c && (c.ph = NaN);\r\n                this.g(\"strokeMiterLimit\", b, a);\r\n              } else F && ya(a, \"value >= 1\", $f, \"strokeWidth:value\");\r\n          },\r\n        },\r\n        strokeDashArray: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.yh;\r\n          },\r\n          set: function (a) {\r\n            var b = this.yh;\r\n            if (b !== a) {\r\n              null === a ||\r\n                Array.isArray(a) ||\r\n                xa(a, \"Array\", $f, \"strokeDashArray:value\");\r\n              if (null !== a) {\r\n                for (var c = a.length, d = 0, e = 0; e < c; e++) {\r\n                  var f = a[e];\r\n                  ((!F || \"number\" === typeof f) && 0 <= f && isFinite(f)) ||\r\n                    v(\r\n                      \"strokeDashArray:value \" +\r\n                        f +\r\n                        \" at index \" +\r\n                        e +\r\n                        \" must be a positive number or zero.\"\r\n                    );\r\n                  d += f;\r\n                }\r\n                if (0 === d) {\r\n                  if (null === b) return;\r\n                  a = null;\r\n                }\r\n              }\r\n              this.yh = a;\r\n              this.R();\r\n              this.g(\"strokeDashArray\", b, a);\r\n            }\r\n          },\r\n        },\r\n        strokeDashOffset: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.zh;\r\n          },\r\n          set: function (a) {\r\n            var b = this.zh;\r\n            b !== a &&\r\n              (F && C(a, $f, \"strokeDashOffset\"),\r\n              0 <= a &&\r\n                ((this.zh = a), this.R(), this.g(\"strokeDashOffset\", b, a)));\r\n          },\r\n        },\r\n        figure: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.il;\r\n          },\r\n          set: function (a) {\r\n            var b = this.il;\r\n            if (b !== a) {\r\n              F && A(a, \"string\", $f, \"figure\");\r\n              var c = K.ge[a];\r\n              \"function\" === typeof c\r\n                ? (c = a)\r\n                : (c = K.ge[a.toLowerCase()]) ||\r\n                  v(\"Unknown Shape.figure: \" + a);\r\n              b !== c &&\r\n                ((a = this.part),\r\n                null !== a && (a.ph = NaN),\r\n                (this.il = c),\r\n                (this.Xd = null),\r\n                this.hc(),\r\n                this.v(),\r\n                this.g(\"figure\", b, c));\r\n            }\r\n          },\r\n        },\r\n        toArrow: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.im;\r\n          },\r\n          set: function (a) {\r\n            var b = this.im;\r\n            !0 === a ? (a = \"Standard\") : !1 === a && (a = \"\");\r\n            if (b !== a) {\r\n              F && A(a, \"string\", $f, \"toArrow\");\r\n              var c = ao(a);\r\n              null === c\r\n                ? v(\"Unknown Shape.toArrow: \" + a)\r\n                : b !== c &&\r\n                  ((this.im = c),\r\n                  (this.Xd = null),\r\n                  this.hc(),\r\n                  this.v(),\r\n                  Yn(this),\r\n                  this.g(\"toArrow\", b, c));\r\n            }\r\n          },\r\n        },\r\n        fromArrow: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ml;\r\n          },\r\n          set: function (a) {\r\n            var b = this.ml;\r\n            !0 === a ? (a = \"Standard\") : !1 === a && (a = \"\");\r\n            if (b !== a) {\r\n              F && A(a, \"string\", $f, \"fromArrow\");\r\n              var c = ao(a);\r\n              null === c\r\n                ? v(\"Unknown Shape.fromArrow: \" + a)\r\n                : b !== c &&\r\n                  ((this.ml = c),\r\n                  (this.Xd = null),\r\n                  this.hc(),\r\n                  this.v(),\r\n                  Yn(this),\r\n                  this.g(\"fromArrow\", b, c));\r\n            }\r\n          },\r\n        },\r\n        spot1: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.rf;\r\n          },\r\n          set: function (a) {\r\n            w(a, M, $f, \"spot1\");\r\n            var b = this.rf;\r\n            b.B(a) || ((this.rf = a = a.J()), this.v(), this.g(\"spot1\", b, a));\r\n          },\r\n        },\r\n        spot2: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.sf;\r\n          },\r\n          set: function (a) {\r\n            w(a, M, $f, \"spot2\");\r\n            var b = this.sf;\r\n            b.B(a) || ((this.sf = a = a.J()), this.v(), this.g(\"spot2\", b, a));\r\n          },\r\n        },\r\n        parameter1: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.cp;\r\n          },\r\n          set: function (a) {\r\n            var b = this.cp;\r\n            b !== a &&\r\n              ((this.cp = a), this.hc(), this.v(), this.g(\"parameter1\", b, a));\r\n          },\r\n        },\r\n        parameter2: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ep;\r\n          },\r\n          set: function (a) {\r\n            var b = this.ep;\r\n            b !== a &&\r\n              ((this.ep = a), this.hc(), this.v(), this.g(\"parameter2\", b, a));\r\n          },\r\n        },\r\n        naturalBounds: {\r\n          configurable: !0,\r\n          get: function () {\r\n            if (null !== this.ua)\r\n              return this.uc.assign(this.ua.bounds), this.uc;\r\n            var a = this.desiredSize;\r\n            return new L(0, 0, a.width, a.height);\r\n          },\r\n        },\r\n        pathPattern: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.gp;\r\n          },\r\n          set: function (a) {\r\n            var b = this.gp;\r\n            b !== a &&\r\n              (F && null !== a && w(a, N, $f, \"pathPattern\"),\r\n              (this.gp = a),\r\n              this.R(),\r\n              this.g(\"pathPattern\", b, a));\r\n          },\r\n        },\r\n        geometryStretch: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.Vn;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Vn;\r\n            b !== a &&\r\n              (hb(a, N, $f, \"geometryStretch\"),\r\n              (this.Vn = a),\r\n              this.g(\"geometryStretch\", b, a));\r\n          },\r\n        },\r\n        interval: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Md;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Md;\r\n            F && C(a, $f, \"interval\");\r\n            a = Math.floor(a);\r\n            if (b !== a && 0 <= a) {\r\n              this.Md = a;\r\n              var c = this.diagram;\r\n              null !== c && this.panel === c.grid && Cj(c);\r\n              this.v();\r\n              c = this.panel;\r\n              null !== c && (c.jh = null);\r\n              this.g(\"interval\", b, a);\r\n            }\r\n          },\r\n        },\r\n        graduatedStart: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ld;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Ld;\r\n            F && C(a, $f, \"graduatedStart\");\r\n            b !== a &&\r\n              (0 > a ? (a = 0) : 1 < a && (a = 1),\r\n              (this.Ld = a),\r\n              this.v(),\r\n              this.g(\"graduatedStart\", b, a));\r\n          },\r\n        },\r\n        graduatedEnd: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Jd;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Jd;\r\n            F && C(a, $f, \"graduatedEnd\");\r\n            b !== a &&\r\n              (0 > a ? (a = 0) : 1 < a && (a = 1),\r\n              (this.Jd = a),\r\n              this.v(),\r\n              this.g(\"graduatedEnd\", b, a));\r\n          },\r\n        },\r\n        graduatedSkip: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Kd;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Kd;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", $f, \"graduatedSkip\"),\r\n              (this.Kd = a),\r\n              this.v(),\r\n              this.g(\"graduatedSkip\", b, a));\r\n          },\r\n        },\r\n      });\r\n      $f.prototype.intersectsRect = $f.prototype.Mc;\r\n      $f.prototype.containedInRect = $f.prototype.Mh;\r\n      $f.prototype.getNearestIntersectionPoint = $f.prototype.Zc;\r\n      $f.prototype.getDocumentBounds = $f.prototype.tq;\r\n      $f.prototype.getDocumentPoint = $f.prototype.ma;\r\n      var $n = new jb(),\r\n        Un = new jb();\r\n      $f.className = \"Shape\";\r\n      $f.getFigureGenerators = function () {\r\n        var a = new Db(),\r\n          b;\r\n        for (b in K.ge) b !== b.toLowerCase() && a.add(b, K.ge[b]);\r\n        a.freeze();\r\n        return a;\r\n      };\r\n      $f.defineFigureGenerator = function (a, b) {\r\n        A(a, \"string\", $f, \"defineFigureGenerator:name\");\r\n        \"string\" === typeof b\r\n          ? !F ||\r\n            (\"\" !== b && K.ge[b]) ||\r\n            v(\r\n              \"Shape.defineFigureGenerator synonym must not be empty or None or not a defined figure name: \" +\r\n                b\r\n            )\r\n          : A(b, \"function\", $f, \"defineFigureGenerator:func\");\r\n        var c = a.toLowerCase();\r\n        !F ||\r\n          (\"\" !== a && a !== c) ||\r\n          v(\r\n            \"Shape.defineFigureGenerator name must not be empty or all-lower-case: \" +\r\n              a\r\n          );\r\n        var d = K.ge;\r\n        d[a] = b;\r\n        d[c] = a;\r\n      };\r\n      $f.getArrowheadGeometries = function () {\r\n        var a = new Db();\r\n        for (d in K.Wm)\r\n          if (void 0 === $n[d]) {\r\n            var b = Vd(K.Wm[d], !1);\r\n            $n[d] = b;\r\n            b = d.toLowerCase();\r\n            b !== d && ($n[b] = d);\r\n          }\r\n        for (var c in $n)\r\n          if (c !== c.toLowerCase()) {\r\n            var d = $n[c];\r\n            d instanceof Gd && a.add(c, d);\r\n          }\r\n        a.freeze();\r\n        return a;\r\n      };\r\n      $f.defineArrowheadGeometry = function (a, b) {\r\n        A(a, \"string\", $f, \"defineArrowheadGeometry:name\");\r\n        \"string\" === typeof b\r\n          ? (A(b, \"string\", $f, \"defineArrowheadGeometry:pathstr\"),\r\n            (b = Vd(b, !1)))\r\n          : w(b, Gd, $f, \"defineArrowheadGeometry:pathstr\");\r\n        var c = a.toLowerCase();\r\n        ((F && \"\" === a) || \"none\" === c || a === c) &&\r\n          v(\r\n            \"Shape.defineArrowheadGeometry name must not be empty or None or all-lower-case: \" +\r\n              a\r\n          );\r\n        var d = $n;\r\n        d[a] = b;\r\n        d[c] = a;\r\n      };\r\n\r\n      function kh() {\r\n        N.call(this);\r\n        bo || ((co = ih ? new Sk(null).context : null), (bo = !0));\r\n        this.kx = this.Xb = \"\";\r\n        this.Jc = \"black\";\r\n        this.ne = \"13px sans-serif\";\r\n        this.Oi = \"start\";\r\n        this.Hd = Og;\r\n        this.Ti = nd;\r\n        this.Fj = !0;\r\n        this.vi = this.wi = !1;\r\n        this.ug = eo;\r\n        this.Fg = fo;\r\n        this.ks = this.tb = this.Tc = 0;\r\n        this.Au = this.Bu = null;\r\n        this.Nn = !1;\r\n        this.Hc = this.pn = this.Vp = this.Pi = this.Wp = null;\r\n        this.qf = this.pf = 0;\r\n        this.ue = Infinity;\r\n        this.yi = 0;\r\n        this.oe = null;\r\n        this.Be = 0;\r\n        this.me = this.lb = this.Ub = null;\r\n        this.Md = 1;\r\n        this.Ld = 0;\r\n        this.Jd = 1;\r\n        this.Kd = this.zj = null;\r\n      }\r\n      la(kh, N);\r\n      kh.prototype.cloneProtected = function (a) {\r\n        N.prototype.cloneProtected.call(this, a);\r\n        a.Xb = this.Xb;\r\n        a.kx = this.kx;\r\n        a.Jc = this.Jc;\r\n        a.ne = this.ne;\r\n        a.Oi = this.Oi;\r\n        a.Hd = this.Hd;\r\n        a.Ti = this.Ti;\r\n        a.Fj = this.Fj;\r\n        a.wi = this.wi;\r\n        a.vi = this.vi;\r\n        a.ug = this.ug;\r\n        a.Fg = this.Fg;\r\n        a.Tc = this.Tc;\r\n        a.ks = this.ks;\r\n        a.tb = this.tb;\r\n        a.Bu = this.Bu;\r\n        a.Au = this.Au;\r\n        a.Nn = this.Nn;\r\n        a.Wp = this.Wp;\r\n        a.Pi = this.Pi;\r\n        a.Vp = this.Vp;\r\n        a.pn = this.pn;\r\n        a.Hc = this.Hc;\r\n        a.pf = this.pf;\r\n        a.qf = this.qf;\r\n        a.ue = this.ue;\r\n        a.oe = this.oe;\r\n        a.Be = this.Be;\r\n        a.Ub = this.Ub;\r\n        a.lb = this.lb;\r\n        a.me = this.me;\r\n        a.yi = this.yi;\r\n        a.Md = this.Md;\r\n        a.Ld = this.Ld;\r\n        a.Jd = this.Jd;\r\n        a.zj = this.zj;\r\n        a.Kd = this.Kd;\r\n      };\r\n\r\n      function jn(a, b) {\r\n        a.I = b.I | 6144;\r\n        a.ub = b.opacity;\r\n        a.mb = b.background;\r\n        a.jc = b.areaBackground;\r\n        a.Rc = b.desiredSize.J();\r\n        a.lg = b.minSize.J();\r\n        a.kg = b.maxSize.J();\r\n        a.ig = b.ig.copy();\r\n        a.Ea = b.scale;\r\n        a.ic = b.angle;\r\n        a.Ee = b.stretch;\r\n        a.oh = b.margin.J();\r\n        a.Bb = b.alignment.J();\r\n        a.Nk = b.alignmentFocus.J();\r\n        a.Sl = b.segmentFraction;\r\n        a.Tl = b.segmentOffset.J();\r\n        a.Ul = b.segmentOrientation;\r\n        null !== b.rd && (a.rd = b.rd.copy());\r\n        a.Wl = b.shadowVisible;\r\n        b instanceof kh &&\r\n          ((a.Xb = b.Xb),\r\n          (a.Jc = b.Jc),\r\n          (a.ne = b.ne),\r\n          (a.Oi = b.Oi),\r\n          (a.Hd = b.Hd),\r\n          (a.Ti = b.Ti),\r\n          (a.Fj = b.Fj),\r\n          (a.wi = b.wi),\r\n          (a.vi = b.vi),\r\n          (a.ug = b.ug),\r\n          (a.Fg = b.Fg),\r\n          (a.oe = null),\r\n          (a.pf = b.pf),\r\n          (a.qf = b.qf),\r\n          (a.ue = b.ue),\r\n          (a.yi = b.yi),\r\n          (a.Md = b.Md),\r\n          (a.Ld = b.Ld),\r\n          (a.Jd = b.Jd),\r\n          (a.zj = b.zj),\r\n          (a.Kd = b.Kd));\r\n      }\r\n      t = kh.prototype;\r\n      t.jb = function (a) {\r\n        a.classType === kh ? (this.wrap = a) : N.prototype.jb.call(this, a);\r\n      };\r\n      t.toString = function () {\r\n        return 22 < this.Xb.length\r\n          ? 'TextBlock(\"' + this.Xb.substring(0, 20) + '\"...)'\r\n          : 'TextBlock(\"' + this.Xb + '\")';\r\n      };\r\n      t.v = function () {\r\n        N.prototype.v.call(this);\r\n        this.Au = this.Bu = null;\r\n      };\r\n\r\n      function go(a) {\r\n        bo || ((co = ih ? new Sk(null).context : null), (bo = !0));\r\n        if (null === co) return !0;\r\n        var b = co.font;\r\n        if (a === b || \"10px sans-serif\" === a) return !0;\r\n        co.font = \"10px sans-serif\";\r\n        co.font = a;\r\n        var c = co.font;\r\n        if (\"10px sans-serif\" !== c) return (co.font = b), !0;\r\n        co.font = \"19px serif\";\r\n        var d = co.font;\r\n        co.font = a;\r\n        c = co.font;\r\n        co.font = b;\r\n        return c !== d;\r\n      }\r\n      t.Xi = function (a, b) {\r\n        if (null !== this.Jc && 0 !== this.Xb.length && null !== this.ne) {\r\n          var c = this.naturalBounds,\r\n            d = this.actualBounds,\r\n            e = c.width,\r\n            f = c.height,\r\n            g = ho(this),\r\n            h = (a.textAlign = this.Oi),\r\n            k = b.jo;\r\n          \"start\" === h\r\n            ? (h = k ? \"right\" : \"left\")\r\n            : \"end\" === h && (h = k ? \"left\" : \"right\");\r\n          k = this.wi;\r\n          var l = this.vi;\r\n          xi(this, a, this.Jc, !0, !1, c, d);\r\n          (k || l) && xi(this, a, this.Jc, !1, !1, c, d);\r\n          d = 0;\r\n          c = !1;\r\n          var m = J.allocAt(0, 0);\r\n          this.yd.xa(m);\r\n          var n = J.allocAt(0, g);\r\n          this.yd.xa(n);\r\n          var p = m.Je(n);\r\n          J.free(m);\r\n          J.free(n);\r\n          m = b.scale;\r\n          8 > p * m * m && (c = !0);\r\n          b.cd !== a && (c = !1);\r\n          !1 === b.Ke(\"textGreeking\") && (c = !1);\r\n          b = this.pf;\r\n          p = this.qf;\r\n          switch (this.flip) {\r\n            case ol:\r\n              a.translate(e, 0);\r\n              a.scale(-1, 1);\r\n              break;\r\n            case nl:\r\n              a.translate(0, f);\r\n              a.scale(1, -1);\r\n              break;\r\n            case pl:\r\n              a.translate(e, f), a.scale(-1, -1);\r\n          }\r\n          m = this.Tc;\r\n          n = (b + g + p) * m;\r\n          f > n && ((d = this.Ti), (d = d.y * f - d.y * n + d.offsetY));\r\n          if (1 === m && null !== this.me)\r\n            (p = this.tb),\r\n              p > e && (p = e),\r\n              io(this, this.me, a, d + b, e, g, p, c, h, k, l);\r\n          else if (null !== this.Ub && null !== this.lb)\r\n            for (n = 0; n < m; n++) {\r\n              var r = this.Ub[n];\r\n              r > e && (r = e);\r\n              d += b;\r\n              io(this, this.lb[n], a, d, e, g, r, c, h, k, l);\r\n              d += g + p;\r\n            }\r\n          switch (this.flip) {\r\n            case ol:\r\n              a.scale(-1, 1);\r\n              a.translate(-e, 0);\r\n              break;\r\n            case nl:\r\n              a.scale(1, -1);\r\n              a.translate(0, -f);\r\n              break;\r\n            case pl:\r\n              a.scale(-1, -1), a.translate(-e, -f);\r\n          }\r\n        }\r\n      };\r\n\r\n      function io(a, b, c, d, e, f, g, h, k, l, m) {\r\n        var n = 0;\r\n        h\r\n          ? (\"left\" === k\r\n              ? (n = 0)\r\n              : \"right\" === k\r\n              ? (n = e - g)\r\n              : \"center\" === k && (n = (e - g) / 2),\r\n            c.fillRect(0 + n, d + 0.25 * f, g, 1))\r\n          : (\"left\" === k\r\n              ? (n = 0)\r\n              : \"right\" === k\r\n              ? (n = e)\r\n              : \"center\" === k && (n = e / 2),\r\n            (e = null !== jo ? jo(a, f) : 0.75 * f),\r\n            c.fillText(b, 0 + n, d + e),\r\n            (b = (f / 20) | 0),\r\n            0 === b && (b = 1),\r\n            \"right\" === k ? (n -= g) : \"center\" === k && (n -= g / 2),\r\n            l &&\r\n              ((a = null !== ko ? ko(a, f) : 0.8 * f),\r\n              c.beginPath(),\r\n              (c.lineWidth = b),\r\n              c.moveTo(0 + n, d + a),\r\n              c.lineTo(0 + n + g, d + a),\r\n              c.stroke()),\r\n            m &&\r\n              (c.beginPath(),\r\n              (c.lineWidth = b),\r\n              (d = (d + f - f / 2.2) | 0),\r\n              0 !== b % 2 && (d += 0.5),\r\n              c.moveTo(0 + n, d),\r\n              c.lineTo(0 + n + g, d),\r\n              c.stroke()));\r\n      }\r\n      t.Bm = function (a, b, c, d) {\r\n        this.yi = a;\r\n        var e = this.ne;\r\n        null !== co && lo !== e && (lo = co.font = e);\r\n        this.tb = this.Be = 0;\r\n        this.me = this.lb = this.Ub = this.oe = null;\r\n        var f;\r\n        if (isNaN(this.desiredSize.width)) {\r\n          e = this.Xb.replace(/\\r\\n/g, \"\\n\").replace(/\\r/g, \"\\n\");\r\n          if (0 === e.length) e = 0;\r\n          else if (this.isMultiline) {\r\n            for (var g = (f = 0), h = !1; !h; ) {\r\n              var k = e.indexOf(\"\\n\", g);\r\n              -1 === k && ((k = e.length), (h = !0));\r\n              f = Math.max(f, mo(e.substr(g, k - g).trim()));\r\n              g = k + 1;\r\n            }\r\n            e = f;\r\n          } else\r\n            (f = e.indexOf(\"\\n\", 0)),\r\n              0 <= f && (e = e.substr(0, f)),\r\n              (e = mo(e));\r\n          e = Math.min(e, a / this.scale);\r\n          e = Math.max(8, e);\r\n        } else e = this.desiredSize.width;\r\n        null !== this.panel && (e = Math.min(e, this.panel.maxSize.width));\r\n        f = no(this, e);\r\n        isNaN(this.desiredSize.height)\r\n          ? (f = Math.min(f, b / this.scale))\r\n          : (f = this.desiredSize.height);\r\n        g = f;\r\n        if (\r\n          0 !== this.tb &&\r\n          null !== this.Ub &&\r\n          null !== this.lb &&\r\n          this.ug === oo &&\r\n          ((b = this.ne),\r\n          (b = this.ug === oo ? po(b) : 0),\r\n          (h = this.pf + this.qf),\r\n          (h = Math.max(0, ho(this) + h)),\r\n          (g = Math.min(\r\n            this.maxLines - 1,\r\n            Math.max(Math.floor(g / h + 0.01) - 1, 0)\r\n          )),\r\n          !(g + 1 >= this.lb.length))\r\n        ) {\r\n          h = this.lb[g];\r\n          for (b = Math.max(1, a - b); mo(h) > b && 1 < h.length; )\r\n            h = h.substr(0, h.length - 1);\r\n          h += qo;\r\n          b = mo(h);\r\n          this.lb[g] = h;\r\n          this.lb = this.lb.slice(0, g + 1);\r\n          this.Ub[g] = b;\r\n          this.Ub = this.Ub.slice(0, g + 1);\r\n          this.Be = this.lb.length;\r\n          this.tb = Math.max(this.tb, b);\r\n          this.Tc = this.Be;\r\n          1 === this.Tc && (this.me = this.lb[0]);\r\n        }\r\n        if (this.wrap === ro || isNaN(this.desiredSize.width))\r\n          (e = isNaN(a) ? this.tb : Math.min(a, this.tb)),\r\n            isNaN(this.desiredSize.width) && (e = Math.max(8, e));\r\n        e = Math.max(c, e);\r\n        f = Math.max(d, f);\r\n        gc(this.uc, e, f);\r\n        wl(this, 0, 0, e, f);\r\n      };\r\n      t.Lh = function (a, b, c, d) {\r\n        Bl(this, a, b, c, d);\r\n      };\r\n\r\n      function so(a, b, c) {\r\n        if (null === a.me) (a.me = b), (a.tb = c);\r\n        else {\r\n          if (null === a.lb || null === a.Ub)\r\n            (a.lb = []), (a.Ub = []), a.lb.push(a.me), a.Ub.push(a.tb);\r\n          a.lb.push(b);\r\n          a.Ub.push(c);\r\n        }\r\n      }\r\n\r\n      function to(a, b, c, d) {\r\n        b = b.trim();\r\n        var e = 0;\r\n        var f = a.ne;\r\n        var g = a.pf + a.qf;\r\n        g = Math.max(0, ho(a) + g);\r\n        var h = a.ug === oo ? po(f) : 0;\r\n        if (a.Tc >= a.ue) null !== d && d.h(0, g);\r\n        else {\r\n          var k = b;\r\n          if (a.Fg === uo)\r\n            if (((a.Be = 1), (f = mo(b)), 0 === h || f <= c))\r\n              (a.tb = Math.max(a.tb, f)),\r\n                so(a, b, a.tb),\r\n                null !== d && d.h(f, g);\r\n            else {\r\n              e = vo(a, k);\r\n              k = k.substr(e.length);\r\n              b = vo(a, k);\r\n              for (f = mo(e + b); 0 < b.length && f <= c; )\r\n                (e += b),\r\n                  (k = k.substr(b.length)),\r\n                  (b = vo(a, k)),\r\n                  (f = mo((e + b).trim()));\r\n              e += b.trim();\r\n              for (c = Math.max(1, c - h); mo(e) > c && 1 < e.length; )\r\n                e = e.substr(0, e.length - 1);\r\n              e += qo;\r\n              b = mo(e);\r\n              a.tb = b;\r\n              so(a, e, b);\r\n              null !== d && d.h(b, g);\r\n            }\r\n          else {\r\n            h = 0;\r\n            0 === k.length && ((h = 1), so(a, k, 0));\r\n            for (; 0 < k.length; ) {\r\n              var l = vo(a, k);\r\n              for (k = k.substr(l.length); mo(l) > c; ) {\r\n                var m = 1;\r\n                f = mo(l.substr(0, m));\r\n                for (b = 0; f <= c; ) m++, (b = f), (f = mo(l.substr(0, m)));\r\n                if (1 === m) {\r\n                  var n = f;\r\n                  e = Math.max(e, f);\r\n                } else (n = b), (e = Math.max(e, b));\r\n                m--;\r\n                1 > m && (m = 1);\r\n                so(a, l.substr(0, m), n);\r\n                h++;\r\n                l = l.substr(m);\r\n                if (a.Tc + h > a.ue) break;\r\n              }\r\n              b = vo(a, k);\r\n              for (f = mo(l + b); 0 < b.length && f <= c; )\r\n                (l += b),\r\n                  (k = k.substr(b.length)),\r\n                  (b = vo(a, k)),\r\n                  (f = mo((l + b).trim()));\r\n              l = l.trim();\r\n              if (\r\n                \"\" !== l &&\r\n                (\"\\u00ad\" === l[l.length - 1] &&\r\n                  (l = l.substring(0, l.length - 1) + \"\\u2010\"),\r\n                0 === b.length\r\n                  ? ((m = f), (e = Math.max(e, f)))\r\n                  : ((m = b = mo(l)), (e = Math.max(e, b))),\r\n                so(a, l, m),\r\n                h++,\r\n                a.Tc + h > a.ue)\r\n              )\r\n                break;\r\n            }\r\n            a.Be = Math.min(a.ue, h);\r\n            a.tb = Math.max(a.tb, e);\r\n            null !== d && d.h(a.tb, g * a.Be);\r\n          }\r\n        }\r\n      }\r\n\r\n      function vo(a, b) {\r\n        if (a.Fg === wo) return b.substr(0, 1);\r\n        a = b.length;\r\n        for (var c = 0, d = xo; c < a && !d.test(b.charAt(c)); ) c++;\r\n        for (; c < a && d.test(b.charAt(c)); ) c++;\r\n        return c >= a ? b : b.substr(0, c);\r\n      }\r\n\r\n      function mo(a) {\r\n        return null === co ? 8 * a.length : co.measureText(a).width;\r\n      }\r\n\r\n      function ho(a) {\r\n        if (null !== a.oe) return a.oe;\r\n        var b = a.ne;\r\n        if (null === co) {\r\n          var c = 16;\r\n          return (a.oe = c);\r\n        }\r\n        void 0 !== yo[b] && 5e3 > zo\r\n          ? (c = yo[b])\r\n          : ((c = 1.3 * co.measureText(\"M\").width), (yo[b] = c), zo++);\r\n        return (a.oe = c);\r\n      }\r\n\r\n      function po(a) {\r\n        if (null === co) return 6;\r\n        if (void 0 !== Ao[a] && 5e3 > Bo) var b = Ao[a];\r\n        else (b = co.measureText(qo).width), (Ao[a] = b), Bo++;\r\n        return b;\r\n      }\r\n\r\n      function no(a, b) {\r\n        var c = a.Xb.replace(/\\r\\n/g, \"\\n\").replace(/\\r/g, \"\\n\"),\r\n          d = a.pf + a.qf;\r\n        d = Math.max(0, ho(a) + d);\r\n        if (0 === c.length) return (a.tb = 0), (a.Tc = 1), d;\r\n        if (!a.isMultiline) {\r\n          var e = c.indexOf(\"\\n\", 0);\r\n          0 <= e && (c = c.substr(0, e));\r\n        }\r\n        e = 0;\r\n        for (var f = (a.Tc = 0), g, h = !1; !h; ) {\r\n          g = c.indexOf(\"\\n\", f);\r\n          -1 === g && ((g = c.length), (h = !0));\r\n          if (f <= g) {\r\n            f = c.substr(f, g - f);\r\n            if (a.Fg !== uo) {\r\n              a.Be = 0;\r\n              var k = Jb.alloc();\r\n              to(a, f, b, k);\r\n              e += k.height;\r\n              Jb.free(k);\r\n              a.Tc += a.Be;\r\n            } else to(a, f, b, null), (e += d), a.Tc++;\r\n            a.Tc === a.ue && (h = !0);\r\n          }\r\n          f = g + 1;\r\n        }\r\n        return (a.ks = e);\r\n      }\r\n      ma.Object.defineProperties(kh.prototype, {\r\n        font: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ne;\r\n          },\r\n          set: function (a) {\r\n            var b = this.ne;\r\n            b !== a &&\r\n              (F &&\r\n                (A(a, \"string\", kh, \"font\"),\r\n                go(a) || v('Not a valid font: \"' + a + '\"')),\r\n              (this.ne = a),\r\n              (this.oe = null),\r\n              this.v(),\r\n              this.g(\"font\", b, a));\r\n          },\r\n        },\r\n        text: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Xb;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Xb;\r\n            null !== a && void 0 !== a ? (a = a.toString()) : (a = \"\");\r\n            b !== a && ((this.Xb = a), this.v(), this.g(\"text\", b, a));\r\n          },\r\n        },\r\n        textAlign: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Oi;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Oi;\r\n            b !== a &&\r\n              (F && A(a, \"string\", kh, \"textAlign\"),\r\n              \"start\" === a ||\r\n              \"end\" === a ||\r\n              \"left\" === a ||\r\n              \"right\" === a ||\r\n              \"center\" === a\r\n                ? ((this.Oi = a), this.R(), this.g(\"textAlign\", b, a))\r\n                : F &&\r\n                  ya(\r\n                    a,\r\n                    '\"start\", \"end\", \"left\", \"right\", or \"center\"',\r\n                    kh,\r\n                    \"textAlign\"\r\n                  ));\r\n          },\r\n        },\r\n        flip: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Hd;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Hd;\r\n            b !== a &&\r\n              (hb(a, N, kh, \"flip\"),\r\n              (this.Hd = a),\r\n              this.R(),\r\n              this.g(\"flip\", b, a));\r\n          },\r\n        },\r\n        verticalAlignment: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ti;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Ti;\r\n            b.B(a) ||\r\n              (F &&\r\n                (w(a, M, kh, \"verticalAlignment\"),\r\n                a.Sb() &&\r\n                  v(\r\n                    \"TextBlock.verticalAlignment for \" +\r\n                      this +\r\n                      \" must be a real Spot, not:\" +\r\n                      a\r\n                  )),\r\n              (this.Ti = a = a.J()),\r\n              Rl(this),\r\n              this.g(\"verticalAlignment\", b, a));\r\n          },\r\n        },\r\n        naturalBounds: {\r\n          configurable: !0,\r\n          get: function () {\r\n            if (!this.uc.o()) {\r\n              var a = Jb.alloc();\r\n              to(this, this.Xb, 999999, a);\r\n              var b = a.width;\r\n              Jb.free(a);\r\n              a = no(this, b);\r\n              var c = this.desiredSize;\r\n              isNaN(c.width) || (b = c.width);\r\n              isNaN(c.height) || (a = c.height);\r\n              gc(this.uc, b, a);\r\n            }\r\n            return this.uc;\r\n          },\r\n        },\r\n        isMultiline: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Fj;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Fj;\r\n            b !== a &&\r\n              (F && A(a, \"boolean\", kh, \"isMultiline\"),\r\n              (this.Fj = a),\r\n              this.v(),\r\n              this.g(\"isMultiline\", b, a));\r\n          },\r\n        },\r\n        isUnderline: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.wi;\r\n          },\r\n          set: function (a) {\r\n            var b = this.wi;\r\n            b !== a &&\r\n              (F && A(a, \"boolean\", kh, \"isUnderline\"),\r\n              (this.wi = a),\r\n              this.R(),\r\n              this.g(\"isUnderline\", b, a));\r\n          },\r\n        },\r\n        isStrikethrough: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.vi;\r\n          },\r\n          set: function (a) {\r\n            var b = this.vi;\r\n            b !== a &&\r\n              (F && A(a, \"boolean\", kh, \"isStrikethrough\"),\r\n              (this.vi = a),\r\n              this.R(),\r\n              this.g(\"isStrikethrough\", b, a));\r\n          },\r\n        },\r\n        wrap: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Fg;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Fg;\r\n            b !== a &&\r\n              (F && hb(a, kh, kh, \"wrap\"),\r\n              (this.Fg = a),\r\n              this.v(),\r\n              this.g(\"wrap\", b, a));\r\n          },\r\n        },\r\n        overflow: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ug;\r\n          },\r\n          set: function (a) {\r\n            var b = this.ug;\r\n            b !== a &&\r\n              (F && hb(a, kh, kh, \"overflow\"),\r\n              (this.ug = a),\r\n              this.v(),\r\n              this.g(\"overflow\", b, a));\r\n          },\r\n        },\r\n        stroke: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Jc;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Jc;\r\n            b !== a &&\r\n              (null !== a && fm(a, \"TextBlock.stroke\"),\r\n              a instanceof Il && a.freeze(),\r\n              (this.Jc = a),\r\n              this.R(),\r\n              this.g(\"stroke\", b, a));\r\n          },\r\n        },\r\n        lineCount: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Tc;\r\n          },\r\n        },\r\n        editable: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Nn;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Nn;\r\n            b !== a &&\r\n              (F && A(a, \"boolean\", kh, \"editable\"),\r\n              (this.Nn = a),\r\n              this.g(\"editable\", b, a));\r\n          },\r\n        },\r\n        textEditor: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Wp;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Wp;\r\n            b !== a &&\r\n              (!F ||\r\n                a instanceof $e ||\r\n                v(\"TextBlock.textEditor must be an HTMLInfo.\"),\r\n              (this.Wp = a),\r\n              this.g(\"textEditor\", b, a));\r\n          },\r\n        },\r\n        errorFunction: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Hc;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Hc;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", kh, \"errorFunction\"),\r\n              (this.Hc = a),\r\n              this.g(\"errorFunction\", b, a));\r\n          },\r\n        },\r\n        interval: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Md;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Md;\r\n            F && C(a, kh, \"interval\");\r\n            a = Math.floor(a);\r\n            if (b !== a && 0 <= a) {\r\n              this.Md = a;\r\n              this.v();\r\n              var c = this.panel;\r\n              null !== c && (c.jh = null);\r\n              this.g(\"interval\", b, a);\r\n            }\r\n          },\r\n        },\r\n        graduatedStart: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.Ld;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Ld;\r\n            F && C(a, kh, \"graduatedStart\");\r\n            b !== a &&\r\n              (0 > a ? (a = 0) : 1 < a && (a = 1),\r\n              (this.Ld = a),\r\n              this.v(),\r\n              this.g(\"graduatedStart\", b, a));\r\n          },\r\n        },\r\n        graduatedEnd: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Jd;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Jd;\r\n            F && C(a, kh, \"graduatedEnd\");\r\n            b !== a &&\r\n              (0 > a ? (a = 0) : 1 < a && (a = 1),\r\n              (this.Jd = a),\r\n              this.v(),\r\n              this.g(\"graduatedEnd\", b, a));\r\n          },\r\n        },\r\n        graduatedFunction: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.zj;\r\n          },\r\n          set: function (a) {\r\n            var b = this.zj;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", kh, \"graduatedFunction\"),\r\n              (this.zj = a),\r\n              this.v(),\r\n              this.g(\"graduatedFunction\", b, a));\r\n          },\r\n        },\r\n        graduatedSkip: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Kd;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Kd;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", kh, \"graduatedSkip\"),\r\n              (this.Kd = a),\r\n              this.v(),\r\n              this.g(\"graduatedSkip\", b, a));\r\n          },\r\n        },\r\n        textValidation: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Pi;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Pi;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", kh, \"textValidation\"),\r\n              (this.Pi = a),\r\n              this.g(\"textValidation\", b, a));\r\n          },\r\n        },\r\n        textEdited: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Vp;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Vp;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", kh, \"textEdited\"),\r\n              (this.Vp = a),\r\n              this.g(\"textEdited\", b, a));\r\n          },\r\n        },\r\n        spacingAbove: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.pf;\r\n          },\r\n          set: function (a) {\r\n            var b = this.pf;\r\n            b !== a &&\r\n              (F && A(a, \"number\", kh, \"spacingAbove\"),\r\n              (this.pf = a),\r\n              this.g(\"spacingAbove\", b, a));\r\n          },\r\n        },\r\n        spacingBelow: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.qf;\r\n          },\r\n          set: function (a) {\r\n            var b = this.qf;\r\n            b !== a &&\r\n              (F && A(a, \"number\", kh, \"spacingBelow\"),\r\n              (this.qf = a),\r\n              this.g(\"spacingBelow\", b, a));\r\n          },\r\n        },\r\n        maxLines: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ue;\r\n          },\r\n          set: function (a) {\r\n            var b = this.ue;\r\n            b !== a &&\r\n              (F && A(a, \"number\", kh, \"maxLines\"),\r\n              (a = Math.floor(a)),\r\n              0 >= a && ya(a, \"> 0\", kh, \"maxLines\"),\r\n              (this.ue = a),\r\n              this.g(\"maxLines\", b, a),\r\n              this.v());\r\n          },\r\n        },\r\n        metrics: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return {\r\n              arrSize: null !== this.Ub ? this.Ub : [this.tb],\r\n              arrText: null !== this.lb ? this.lb : [this.me],\r\n              maxLineWidth: this.tb,\r\n              fontHeight: this.oe,\r\n            };\r\n          },\r\n        },\r\n        choices: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.pn;\r\n          },\r\n          set: function (a) {\r\n            var b = this.pn;\r\n            b !== a &&\r\n              (F &&\r\n                null !== a &&\r\n                !Array.isArray(a) &&\r\n                xa(a, \"Array\", kh, \"choices:value\"),\r\n              (this.pn = a),\r\n              this.g(\"choices\", b, a));\r\n          },\r\n        },\r\n      });\r\n      var jo = null,\r\n        ko = null,\r\n        uo = new E(kh, \"None\", 0),\r\n        ro = new E(kh, \"WrapFit\", 1),\r\n        fo = new E(kh, \"WrapDesiredSize\", 2),\r\n        wo = new E(kh, \"WrapBreakAll\", 3),\r\n        eo = new E(kh, \"OverflowClip\", 0),\r\n        oo = new E(kh, \"OverflowEllipsis\", 1),\r\n        xo = /[ \\u200b\\u00ad]/,\r\n        yo = new jb(),\r\n        zo = 0,\r\n        Ao = new jb(),\r\n        Bo = 0,\r\n        qo = \"...\",\r\n        lo = \"\",\r\n        co = null,\r\n        bo = !1;\r\n      kh.className = \"TextBlock\";\r\n      kh.getEllipsis = function () {\r\n        return qo;\r\n      };\r\n      kh.setEllipsis = function (a) {\r\n        qo = a;\r\n        Ao = new jb();\r\n        Bo = 0;\r\n      };\r\n      kh.getBaseline = function () {\r\n        return jo;\r\n      };\r\n      kh.setBaseline = function (a) {\r\n        jo = a;\r\n        a = Ta();\r\n        for (var b = a.length, c = 0; c < b; c++) a[c].Jf();\r\n      };\r\n      kh.getUnderline = function () {\r\n        return ko;\r\n      };\r\n      kh.setUnderline = function (a) {\r\n        ko = a;\r\n        a = Ta();\r\n        for (var b = a.length, c = 0; c < b; c++) a[c].Jf();\r\n      };\r\n      kh.isValidFont = go;\r\n      kh.None = uo;\r\n      kh.WrapFit = ro;\r\n      kh.WrapDesiredSize = fo;\r\n      kh.WrapBreakAll = wo;\r\n      kh.OverflowClip = eo;\r\n      kh.OverflowEllipsis = oo;\r\n\r\n      function Co() {\r\n        this.Ub = [];\r\n        this.lb = [];\r\n      }\r\n      Co.prototype.reset = function () {\r\n        this.Ub = [];\r\n        this.lb = [];\r\n      };\r\n      Co.prototype.ft = function (a) {\r\n        this.Ub = Ia(a.Ub);\r\n        this.lb = Ia(a.lb);\r\n      };\r\n      Co.className = \"TextBlockMetrics\";\r\n\r\n      function Ak() {\r\n        N.call(this);\r\n        this.eh = null;\r\n        this.Op = \"\";\r\n        this.xh = wc;\r\n        this.rl = Id;\r\n        this.tf = this.Hc = null;\r\n        this.ql = Mc;\r\n        this.Hd = Og;\r\n        this.dm = null;\r\n        this.tu = !1;\r\n        this.kl = !0;\r\n        this.Hl = !1;\r\n        this.Xl = null;\r\n      }\r\n      la(Ak, N);\r\n      Ak.prototype.cloneProtected = function (a) {\r\n        N.prototype.cloneProtected.call(this, a);\r\n        a.element = this.eh;\r\n        a.Op = this.Op;\r\n        a.xh = this.xh.J();\r\n        a.rl = this.rl;\r\n        a.Hd = this.Hd;\r\n        a.Hc = this.Hc;\r\n        a.tf = this.tf;\r\n        a.ql = this.ql.J();\r\n        a.kl = this.kl;\r\n        a.Xl = this.Xl;\r\n      };\r\n      t = Ak.prototype;\r\n      t.jb = function (a) {\r\n        a === Og || a === Qg || a === ml\r\n          ? (this.imageStretch = a)\r\n          : N.prototype.jb.call(this, a);\r\n      };\r\n      t.toString = function () {\r\n        return \"Picture(\" + this.source + \")#\" + sb(this);\r\n      };\r\n\r\n      function Ck(a) {\r\n        void 0 === a && (a = \"\");\r\n        A(a, \"string\", Ak, \"clearCache:url\");\r\n        \"\" !== a ? Do[a] && (delete Do[a], Eo--) : ((Do = new jb()), (Eo = 0));\r\n      }\r\n\r\n      function Fo(a, b) {\r\n        a.Wr = !0;\r\n        a.nl = !1;\r\n        for (var c, d = Ta(), e = d.length, f = 0; f < e; f++) {\r\n          var g = d[f];\r\n          c = a.getAttribute(\"src\");\r\n          var h = g.Sj.K(c);\r\n          if (null !== h)\r\n            for (var k = h.length, l = 0; l < k; l++)\r\n              (c = h[l]),\r\n                g.Hu.add(c),\r\n                g.cc(),\r\n                void 0 === a.Pu && ((a.Pu = b), null !== c.tf && c.tf(c, b));\r\n        }\r\n      }\r\n\r\n      function Go(a, b) {\r\n        a.nl = b;\r\n        for (var c, d = Ta(), e = d.length, f = 0; f < e; f++) {\r\n          var g = d[f],\r\n            h = a.getAttribute(\"src\");\r\n          c = g.Sj.K(h);\r\n          if (null !== c) {\r\n            g = c.length;\r\n            h = La();\r\n            for (var k = 0; k < g; k++) h.push(c[k]);\r\n            for (k = 0; k < g; k++) (c = h[k]), null !== c.Hc && c.Hc(c, b);\r\n            Na(h);\r\n          }\r\n        }\r\n      }\r\n      t.Jf = function () {\r\n        this.R();\r\n      };\r\n      t.Xi = function (a, b) {\r\n        var c = this.eh;\r\n        if (null !== c) {\r\n          var d = c.getAttribute(\"src\");\r\n          c instanceof HTMLImageElement &&\r\n            (null === d || \"\" === d) &&\r\n            v('Element has no source (\"src\") attribute: ' + c);\r\n          if (!(c.nl instanceof Event)) {\r\n            d = this.naturalBounds;\r\n            var e = 0,\r\n              f = 0,\r\n              g = this.tu,\r\n              h = g ? +c.width : c.naturalWidth;\r\n            g = g ? +c.height : c.naturalHeight;\r\n            void 0 === h && c.videoWidth && (h = c.videoWidth);\r\n            void 0 === g && c.videoHeight && (g = c.videoHeight);\r\n            h = h || d.width;\r\n            g = g || d.height;\r\n            if (0 !== h && 0 !== g) {\r\n              var k = h,\r\n                l = g;\r\n              this.sourceRect.o() &&\r\n                ((e = this.xh.x),\r\n                (f = this.xh.y),\r\n                (h = this.xh.width),\r\n                (g = this.xh.height));\r\n              var m = h,\r\n                n = g,\r\n                p = this.rl,\r\n                r = this.ql;\r\n              switch (p) {\r\n                case Og:\r\n                  if (this.sourceRect.o()) break;\r\n                  m >= d.width &&\r\n                    (e = e + r.offsetX + (m * r.x - d.width * r.x));\r\n                  n >= d.height &&\r\n                    (f = f + r.offsetY + (n * r.y - d.height * r.y));\r\n                  h = Math.min(d.width, m);\r\n                  g = Math.min(d.height, n);\r\n                  break;\r\n                case Id:\r\n                  m = d.width;\r\n                  n = d.height;\r\n                  break;\r\n                case Qg:\r\n                case ml:\r\n                  p === Qg\r\n                    ? ((p = Math.min(d.height / n, d.width / m)),\r\n                      (m *= p),\r\n                      (n *= p))\r\n                    : p === ml &&\r\n                      ((p = Math.max(d.height / n, d.width / m)),\r\n                      (m *= p),\r\n                      (n *= p),\r\n                      m >= d.width &&\r\n                        (e =\r\n                          (e + r.offsetX + (m * r.x - d.width * r.x) / m) * h),\r\n                      n >= d.height &&\r\n                        (f =\r\n                          (f + r.offsetY + (n * r.y - d.height * r.y) / n) * g),\r\n                      (h *= 1 / (m / d.width)),\r\n                      (g *= 1 / (n / d.height)),\r\n                      (m = d.width),\r\n                      (n = d.height));\r\n              }\r\n              p = this.Df() * b.scale;\r\n              var q = m * p * n * p,\r\n                u = (h * g) / q,\r\n                x = c.__goCache;\r\n              p = null;\r\n              var y = Ho;\r\n              if (c.Wr && void 0 !== x && 4 < q && u > y * y)\r\n                for (\r\n                  null === x.Vi && (Io(x, 4, k, l, c), Io(x, 16, k, l, c)),\r\n                    k = x.Vi,\r\n                    l = k.length,\r\n                    q = 0;\r\n                  q < l;\r\n                  q++\r\n                )\r\n                  if (k[q].ratio * k[q].ratio < u) p = k[q];\r\n                  else break;\r\n              if (!b.Kn) {\r\n                if (null === this.dm)\r\n                  if (null === this.eh) this.dm = !1;\r\n                  else {\r\n                    k = new Sk(null).context;\r\n                    k.drawImage(this.eh, 0, 0);\r\n                    try {\r\n                      k.getImageData(0, 0, 1, 1).data[3] && (this.dm = !1),\r\n                        (this.dm = !1);\r\n                    } catch (z) {\r\n                      this.dm = !0;\r\n                    }\r\n                  }\r\n                if (this.dm) return;\r\n              }\r\n              k = 0;\r\n              m < d.width && (k = r.offsetX + (d.width * r.x - m * r.x));\r\n              l = 0;\r\n              n < d.height && (l = r.offsetY + (d.height * r.y - n * r.y));\r\n              switch (this.flip) {\r\n                case ol:\r\n                  a.translate(Math.min(d.width, m), 0);\r\n                  a.scale(-1, 1);\r\n                  break;\r\n                case nl:\r\n                  a.translate(0, Math.min(d.height, n));\r\n                  a.scale(1, -1);\r\n                  break;\r\n                case pl:\r\n                  a.translate(Math.min(d.width, m), Math.min(d.height, n)),\r\n                    a.scale(-1, -1);\r\n              }\r\n              if (\r\n                b.Ke(\"pictureRatioOptimization\") &&\r\n                !b.Ej &&\r\n                void 0 !== x &&\r\n                null !== p &&\r\n                1 !== p.ratio\r\n              ) {\r\n                a.save();\r\n                b = p.ratio;\r\n                try {\r\n                  a.drawImage(\r\n                    p.source,\r\n                    e / b,\r\n                    f / b,\r\n                    Math.min(p.source.width, h / b),\r\n                    Math.min(p.source.height, g / b),\r\n                    k,\r\n                    l,\r\n                    Math.min(d.width, m),\r\n                    Math.min(d.height, n)\r\n                  );\r\n                } catch (z) {\r\n                  F && this.kl && Ca(z.toString()), (this.kl = !1);\r\n                }\r\n                a.restore();\r\n              } else\r\n                try {\r\n                  a.drawImage(\r\n                    c,\r\n                    e,\r\n                    f,\r\n                    h,\r\n                    g,\r\n                    k,\r\n                    l,\r\n                    Math.min(d.width, m),\r\n                    Math.min(d.height, n)\r\n                  );\r\n                } catch (z) {\r\n                  F && this.kl && Ca(z.toString()), (this.kl = !1);\r\n                }\r\n              switch (this.flip) {\r\n                case ol:\r\n                  a.scale(-1, 1);\r\n                  a.translate(-Math.min(d.width, m), 0);\r\n                  break;\r\n                case nl:\r\n                  a.scale(1, -1);\r\n                  a.translate(0, -Math.min(d.height, n));\r\n                  break;\r\n                case pl:\r\n                  a.scale(-1, -1),\r\n                    a.translate(-Math.min(d.width, m), -Math.min(d.height, n));\r\n              }\r\n            }\r\n          }\r\n        }\r\n      };\r\n      t.Bm = function (a, b, c, d) {\r\n        var e = this.desiredSize,\r\n          f = zl(this, !0),\r\n          g = this.eh,\r\n          h = this.tu;\r\n        if (h || (!this.Hl && g && g.complete)) this.Hl = !0;\r\n        null === g &&\r\n          (isFinite(e.width) || (a = 0), isFinite(e.height) || (b = 0));\r\n        isFinite(e.width) || f === Id || f === kl\r\n          ? (isFinite(a) ||\r\n              (a = this.sourceRect.o()\r\n                ? this.sourceRect.width\r\n                : h\r\n                ? +g.width\r\n                : g.naturalWidth),\r\n            (c = 0))\r\n          : null !== g &&\r\n            !1 !== this.Hl &&\r\n            (a = this.sourceRect.o()\r\n              ? this.sourceRect.width\r\n              : h\r\n              ? +g.width\r\n              : g.naturalWidth);\r\n        isFinite(e.height) || f === Id || f === ll\r\n          ? (isFinite(b) ||\r\n              (b = this.sourceRect.o()\r\n                ? this.sourceRect.height\r\n                : h\r\n                ? +g.height\r\n                : g.naturalHeight),\r\n            (d = 0))\r\n          : null !== g &&\r\n            !1 !== this.Hl &&\r\n            (b = this.sourceRect.o()\r\n              ? this.sourceRect.height\r\n              : h\r\n              ? +g.height\r\n              : g.naturalHeight);\r\n        isFinite(e.width) && (a = e.width);\r\n        isFinite(e.height) && (b = e.height);\r\n        e = this.maxSize;\r\n        f = this.minSize;\r\n        c = Math.max(c, f.width);\r\n        d = Math.max(d, f.height);\r\n        a = Math.min(e.width, a);\r\n        b = Math.min(e.height, b);\r\n        a = Math.max(c, a);\r\n        b = Math.max(d, b);\r\n        null === g ||\r\n          g.complete ||\r\n          (isFinite(a) || (a = 0), isFinite(b) || (b = 0));\r\n        gc(this.uc, a, b);\r\n        wl(this, 0, 0, a, b);\r\n      };\r\n      t.Lh = function (a, b, c, d) {\r\n        Bl(this, a, b, c, d);\r\n      };\r\n      ma.Object.defineProperties(Ak.prototype, {\r\n        element: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.eh;\r\n          },\r\n          set: function (a) {\r\n            var b = this.eh;\r\n            if (b !== a) {\r\n              null === a ||\r\n                a instanceof HTMLImageElement ||\r\n                a instanceof HTMLVideoElement ||\r\n                a instanceof HTMLCanvasElement ||\r\n                v(\r\n                  \"Picture.element must be an instance of Image, Canvas, or Video, not: \" +\r\n                    a\r\n                );\r\n              this.tu = a instanceof HTMLCanvasElement;\r\n              this.eh = a;\r\n              if (null !== a)\r\n                if (a instanceof HTMLCanvasElement || !0 === a.complete)\r\n                  a.nl instanceof Event &&\r\n                    null !== this.Hc &&\r\n                    this.Hc(this, a.nl),\r\n                    !0 === a.Wr && null !== this.tf && this.tf(this, a.Pu),\r\n                    (a.Wr = !0),\r\n                    this.desiredSize.o() || (Bj(this, !1), this.v());\r\n                else {\r\n                  var c = this;\r\n                  a.Xw ||\r\n                    (a.addEventListener(\"load\", function (b) {\r\n                      Fo(a, b);\r\n                      c.desiredSize.o() || (Bj(c, !1), c.v());\r\n                    }),\r\n                    a.addEventListener(\"error\", function (b) {\r\n                      Go(a, b);\r\n                    }),\r\n                    (a.Xw = !0));\r\n                }\r\n              this.g(\"element\", b, a);\r\n              this.R();\r\n            }\r\n          },\r\n        },\r\n        source: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Op;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Op;\r\n            if (b !== a) {\r\n              A(a, \"string\", Ak, \"source\");\r\n              this.Op = a;\r\n              var c = Do,\r\n                d = this.diagram,\r\n                e = null;\r\n              if (void 0 !== c[a]) e = c[a];\r\n              else {\r\n                30 < Eo && (Ck(), (c = Do));\r\n                e = ua(\"img\");\r\n                var f = this;\r\n                e.addEventListener(\"load\", function (a) {\r\n                  Fo(e, a);\r\n                  f.desiredSize.o() || (Bj(f, !1), f.v());\r\n                });\r\n                e.addEventListener(\"error\", function (a) {\r\n                  Go(e, a);\r\n                });\r\n                e.Xw = !0;\r\n                var g = this.Xl;\r\n                null !== g && (e.crossOrigin = g(this));\r\n                e.src = a;\r\n                c[a] = e;\r\n                Eo++;\r\n              }\r\n              null !== d && Bk(d, this);\r\n              this.element = e;\r\n              null !== d && zk(d, this);\r\n              void 0 === e.__goCache && (e.__goCache = new Jo());\r\n              this.v();\r\n              this.R();\r\n              this.g(\"source\", b, a);\r\n            }\r\n          },\r\n        },\r\n        sourceCrossOrigin: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Xl;\r\n          },\r\n          set: function (a) {\r\n            if (\r\n              this.Xl !== a &&\r\n              (null !== a && A(a, \"function\", Ak, \"sourceCrossOrigin\"),\r\n              (this.Xl = a),\r\n              null !== this.element)\r\n            ) {\r\n              var b = this.element.getAttribute(\"src\");\r\n              null === a && \"string\" === typeof b\r\n                ? (this.element.crossOrigin = null)\r\n                : null !== a && (this.element.crossOrigin = a(this));\r\n              this.element.src = b;\r\n            }\r\n          },\r\n        },\r\n        sourceRect: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.xh;\r\n          },\r\n          set: function (a) {\r\n            var b = this.xh;\r\n            b.B(a) ||\r\n              (w(a, L, Ak, \"sourceRect\"),\r\n              (this.xh = a = a.J()),\r\n              this.R(),\r\n              this.g(\"sourceRect\", b, a));\r\n          },\r\n        },\r\n        imageStretch: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.rl;\r\n          },\r\n          set: function (a) {\r\n            var b = this.rl;\r\n            b !== a &&\r\n              (hb(a, N, Ak, \"imageStretch\"),\r\n              (this.rl = a),\r\n              this.R(),\r\n              this.g(\"imageStretch\", b, a));\r\n          },\r\n        },\r\n        flip: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Hd;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Hd;\r\n            b !== a &&\r\n              (hb(a, N, Ak, \"flip\"),\r\n              (this.Hd = a),\r\n              this.R(),\r\n              this.g(\"flip\", b, a));\r\n          },\r\n        },\r\n        imageAlignment: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ql;\r\n          },\r\n          set: function (a) {\r\n            w(a, M, Ak, \"imageAlignment\");\r\n            var b = this.ql;\r\n            b.B(a) ||\r\n              ((this.ql = a = a.J()), this.v(), this.g(\"imageAlignment\", b, a));\r\n          },\r\n        },\r\n        errorFunction: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.Hc;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Hc;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", Ak, \"errorFunction\"),\r\n              (this.Hc = a),\r\n              this.g(\"errorFunction\", b, a));\r\n          },\r\n        },\r\n        successFunction: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.tf;\r\n          },\r\n          set: function (a) {\r\n            var b = this.tf;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", Ak, \"successFunction\"),\r\n              (this.tf = a),\r\n              this.g(\"successFunction\", b, a));\r\n          },\r\n        },\r\n        naturalBounds: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.uc;\r\n          },\r\n        },\r\n      });\r\n      var Do = null,\r\n        Eo = 0,\r\n        Ho = 4;\r\n      Ak.className = \"Picture\";\r\n      Do = new jb();\r\n      Ak.clearCache = Ck;\r\n\r\n      function Jo() {\r\n        this.Vi = null;\r\n      }\r\n\r\n      function Io(a, b, c, d, e) {\r\n        null === a.Vi && (a.Vi = []);\r\n        var f = new Sk(null),\r\n          g = f.context,\r\n          h = 1 / b;\r\n        f.width = c / b;\r\n        f.height = d / b;\r\n        0 !== f.width &&\r\n          0 !== f.height &&\r\n          ((b = new Ko(f.Ia, b)),\r\n          (c = 1),\r\n          0 < a.Vi.length &&\r\n            ((c = a.Vi[a.Vi.length - 1]), (e = c.source), (c = c.ratio)),\r\n          g.setTransform(h * c, 0, 0, h * c, 0, 0),\r\n          g.drawImage(e, 0, 0),\r\n          a.Vi.push(b));\r\n      }\r\n      Jo.className = \"PictureCacheArray\";\r\n\r\n      function Ko(a, b) {\r\n        this.source = a;\r\n        this.ratio = b;\r\n      }\r\n      Ko.className = \"PictureCacheInstance\";\r\n\r\n      function Lo() {\r\n        this.nt = new Gd();\r\n        this.kc = null;\r\n      }\r\n      t = Lo.prototype;\r\n      t.reset = function (a) {\r\n        null !== a\r\n          ? (a.ka(), (this.nt = a), a.figures.clear())\r\n          : (this.nt = new Gd());\r\n        this.kc = null;\r\n      };\r\n\r\n      function Xd(a, b, c, d, e) {\r\n        a.kc = new se();\r\n        a.kc.startX = b;\r\n        a.kc.startY = c;\r\n        a.kc.isFilled = d;\r\n        a.nt.figures.add(a.kc);\r\n        void 0 !== e && (a.kc.isShadowed = e);\r\n      }\r\n\r\n      function ee(a) {\r\n        var b = a.kc.segments.length;\r\n        0 < b && a.kc.segments.O(b - 1).close();\r\n      }\r\n      t.Rq = function (a) {\r\n        this.kc.isShadowed = a;\r\n      };\r\n      t.moveTo = function (a, b, c) {\r\n        void 0 === c && (c = !1);\r\n        var d = new te(ie);\r\n        d.endX = a;\r\n        d.endY = b;\r\n        c && d.close();\r\n        this.kc.segments.add(d);\r\n      };\r\n      t.lineTo = function (a, b, c) {\r\n        void 0 === c && (c = !1);\r\n        var d = new te(Ld);\r\n        d.endX = a;\r\n        d.endY = b;\r\n        c && d.close();\r\n        this.kc.segments.add(d);\r\n      };\r\n\r\n      function Yd(a, b, c, d, e, f, g) {\r\n        var h;\r\n        void 0 === h && (h = !1);\r\n        var k = new te(je);\r\n        k.point1X = b;\r\n        k.point1Y = c;\r\n        k.point2X = d;\r\n        k.point2Y = e;\r\n        k.endX = f;\r\n        k.endY = g;\r\n        h && k.close();\r\n        a.kc.segments.add(k);\r\n      }\r\n\r\n      function Zd(a, b, c, d, e) {\r\n        var f;\r\n        void 0 === f && (f = !1);\r\n        var g = new te(ke);\r\n        g.point1X = b;\r\n        g.point1Y = c;\r\n        g.endX = d;\r\n        g.endY = e;\r\n        f && g.close();\r\n        a.kc.segments.add(g);\r\n      }\r\n      t.arcTo = function (a, b, c, d, e, f, g) {\r\n        void 0 === f && (f = 0);\r\n        void 0 === g && (g = !1);\r\n        var h = new te(le);\r\n        h.startAngle = a;\r\n        h.sweepAngle = b;\r\n        h.centerX = c;\r\n        h.centerY = d;\r\n        h.radiusX = e;\r\n        h.radiusY = 0 !== f ? f : e;\r\n        g && h.close();\r\n        this.kc.segments.add(h);\r\n      };\r\n\r\n      function $d(a, b, c, d, e, f, g, h) {\r\n        var k;\r\n        void 0 === k && (k = !1);\r\n        b = new te(me, g, h, b, c, d, e, f);\r\n        k && b.close();\r\n        a.kc.segments.add(b);\r\n      }\r\n\r\n      function Wd(a) {\r\n        var b = fe;\r\n        if (null !== b) return (fe = null), b.reset(a), b;\r\n        b = new Lo();\r\n        b.reset(a);\r\n        return b;\r\n      }\r\n      var fe = null;\r\n      Lo.className = \"StreamGeometryContext\";\r\n\r\n      function Mo(a, b) {\r\n        var c = a.toLowerCase(),\r\n          d = K.ge;\r\n        d[a] = b;\r\n        d[c] = a;\r\n      }\r\n      Mo(\"Rectangle\", function (a, b, c) {\r\n        a = 50 > K.Qf;\r\n        var d = \"r\" + b + \",\" + c,\r\n          e = K.Pf[d];\r\n        if (void 0 !== e) return e;\r\n        e = new Gd(Td);\r\n        e.endX = b;\r\n        e.endY = c;\r\n        a && ((K.Pf[d] = e), K.Qf++);\r\n        return e;\r\n      });\r\n      Mo(\"Square\", function (a, b, c) {\r\n        a = 50 > K.Qf;\r\n        var d = \"s\" + b + \",\" + c,\r\n          e = K.Pf[d];\r\n        if (void 0 !== e) return e;\r\n        e = new Gd(Td);\r\n        e.endX = b;\r\n        e.endY = c;\r\n        e.defaultStretch = Qg;\r\n        a && ((K.Pf[d] = e), K.Qf++);\r\n        return e;\r\n      });\r\n      Mo(\"RoundedRectangle\", function (a, b, c) {\r\n        var d = 50 > K.Qf,\r\n          e = \"rr\" + b + \",\" + c,\r\n          f = K.Pf[e];\r\n        if (void 0 === f) {\r\n          f = a ? a.parameter1 : NaN;\r\n          if (isNaN(f) || 0 >= f) f = 5;\r\n          f = Math.min(f, b / 3);\r\n          f = Math.min(f, c / 3);\r\n          a = f * K.Rg;\r\n          f = new Gd().add(\r\n            new se(f, 0, !0)\r\n              .add(new te(Ld, b - f, 0))\r\n              .add(new te(je, b, f, b - a, 0, b, a))\r\n              .add(new te(Ld, b, c - f))\r\n              .add(new te(je, b - f, c, b, c - a, b - a, c))\r\n              .add(new te(Ld, f, c))\r\n              .add(new te(je, 0, c - f, a, c, 0, c - a))\r\n              .add(new te(Ld, 0, f))\r\n              .add(new te(je, f, 0, 0, a, a, 0).close())\r\n          );\r\n          1 < a &&\r\n            ((f.spot1 = new M(0, 0, a, a)), (f.spot2 = new M(1, 1, -a, -a)));\r\n          d && ((K.Pf[e] = f), K.Qf++);\r\n        }\r\n        return f;\r\n      });\r\n      Mo(\"Border\", \"RoundedRectangle\");\r\n      Mo(\"Ellipse\", function (a, b, c) {\r\n        a = 50 > K.Qf;\r\n        var d = \"e\" + b + \",\" + c,\r\n          e = K.Pf[d];\r\n        if (void 0 !== e) return e;\r\n        e = new Gd(Ud);\r\n        e.endX = b;\r\n        e.endY = c;\r\n        e.spot1 = td;\r\n        e.spot2 = ud;\r\n        a && ((K.Pf[d] = e), K.Qf++);\r\n        return e;\r\n      });\r\n      Mo(\"Circle\", function (a, b, c) {\r\n        a = 50 > K.Qf;\r\n        var d = \"c\" + b + \",\" + c,\r\n          e = K.Pf[d];\r\n        if (void 0 !== e) return e;\r\n        e = new Gd(Ud);\r\n        e.endX = b;\r\n        e.endY = c;\r\n        e.spot1 = td;\r\n        e.spot2 = ud;\r\n        e.defaultStretch = Qg;\r\n        a && ((K.Pf[d] = e), K.Qf++);\r\n        return e;\r\n      });\r\n      Mo(\"TriangleRight\", function (a, b, c) {\r\n        return new Gd()\r\n          .add(\r\n            new se(0, 0)\r\n              .add(new te(Ld, b, 0.5 * c))\r\n              .add(new te(Ld, 0, c).close())\r\n          )\r\n          .Tm(0, 0.25, 0.5, 0.75);\r\n      });\r\n      Mo(\"TriangleDown\", function (a, b, c) {\r\n        return new Gd()\r\n          .add(\r\n            new se(0, 0)\r\n              .add(new te(Ld, b, 0))\r\n              .add(new te(Ld, 0.5 * b, c).close())\r\n          )\r\n          .Tm(0.25, 0, 0.75, 0.5);\r\n      });\r\n      Mo(\"TriangleLeft\", function (a, b, c) {\r\n        return new Gd()\r\n          .add(\r\n            new se(b, c)\r\n              .add(new te(Ld, 0, 0.5 * c))\r\n              .add(new te(Ld, b, 0).close())\r\n          )\r\n          .Tm(0.5, 0.25, 1, 0.75);\r\n      });\r\n      Mo(\"TriangleUp\", function (a, b, c) {\r\n        return new Gd()\r\n          .add(\r\n            new se(b, c)\r\n              .add(new te(Ld, 0, c))\r\n              .add(new te(Ld, 0.5 * b, 0).close())\r\n          )\r\n          .Tm(0.25, 0.5, 0.75, 1);\r\n      });\r\n      Mo(\"Triangle\", \"TriangleUp\");\r\n      Mo(\"Diamond\", function (a, b, c) {\r\n        return new Gd()\r\n          .add(\r\n            new se(0.5 * b, 0)\r\n              .add(new te(Ld, 0, 0.5 * c))\r\n              .add(new te(Ld, 0.5 * b, c))\r\n              .add(new te(Ld, b, 0.5 * c).close())\r\n          )\r\n          .Tm(0.25, 0.25, 0.75, 0.75);\r\n      });\r\n      Mo(\"LineH\", function (a, b, c) {\r\n        a = new Gd(Jd);\r\n        a.startX = 0;\r\n        a.startY = c / 2;\r\n        a.endX = b;\r\n        a.endY = c / 2;\r\n        return a;\r\n      });\r\n      Mo(\"LineV\", function (a, b, c) {\r\n        a = new Gd(Jd);\r\n        a.startX = b / 2;\r\n        a.startY = 0;\r\n        a.endX = b / 2;\r\n        a.endY = c;\r\n        return a;\r\n      });\r\n      Mo(\"None\", \"Rectangle\");\r\n      Mo(\"BarH\", \"Rectangle\");\r\n      Mo(\"BarV\", \"Rectangle\");\r\n      Mo(\"MinusLine\", \"LineH\");\r\n      Mo(\"PlusLine\", function (a, b, c) {\r\n        return new Gd().add(\r\n          new se(0, c / 2, !1)\r\n            .add(new te(Ld, b, c / 2))\r\n            .add(new te(ie, b / 2, 0))\r\n            .add(new te(Ld, b / 2, c))\r\n        );\r\n      });\r\n      Mo(\"XLine\", function (a, b, c) {\r\n        return new Gd().add(\r\n          new se(0, c, !1)\r\n            .add(new te(Ld, b, 0))\r\n            .add(new te(ie, 0, 0))\r\n            .add(new te(Ld, b, c))\r\n        );\r\n      });\r\n      K.Wm = {\r\n        \"\": \"\",\r\n        Standard: \"F1 m 0,0 l 8,4 -8,4 2,-4 z\",\r\n        Backward: \"F1 m 8,0 l -2,4 2,4 -8,-4 z\",\r\n        Triangle: \"F1 m 0,0 l 8,4.62 -8,4.62 z\",\r\n        BackwardTriangle: \"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z\",\r\n        Boomerang: \"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z\",\r\n        BackwardBoomerang: \"F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z\",\r\n        SidewaysV: \"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z\",\r\n        BackwardV: \"m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z\",\r\n        OpenTriangle: \"m 0,0 l 8,4 -8,4\",\r\n        BackwardOpenTriangle: \"m 8,0 l -8,4 8,4\",\r\n        OpenTriangleLine: \"m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8\",\r\n        BackwardOpenTriangleLine: \"m 8,0 l  -8,4 8,4 m -8.5,0 l 0,-8\",\r\n        OpenTriangleTop: \"m 0,0 l 8,4 m 0,4\",\r\n        BackwardOpenTriangleTop: \"m 8,0 l -8,4 m 0,4\",\r\n        OpenTriangleBottom: \"m 0,8 l 8,-4\",\r\n        BackwardOpenTriangleBottom: \"m 0,4 l 8,4\",\r\n        HalfTriangleTop: \"F1 m 0,0 l 0,4 8,0 z m 0,8\",\r\n        BackwardHalfTriangleTop: \"F1 m 8,0 l 0,4 -8,0 z m 0,8\",\r\n        HalfTriangleBottom: \"F1 m 0,4 l 0,4 8,-4 z\",\r\n        BackwardHalfTriangleBottom: \"F1 m 8,4 l 0,4 -8,-4 z\",\r\n        ForwardSemiCircle: \"m 4,0 b 270 180 0 4 4\",\r\n        BackwardSemiCircle: \"m 4,8 b 90 180 0 -4 4\",\r\n        Feather: \"m 0,0 l 3,4 -3,4\",\r\n        BackwardFeather: \"m 3,0 l -3,4 3,4\",\r\n        DoubleFeathers: \"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4\",\r\n        BackwardDoubleFeathers: \"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4\",\r\n        TripleFeathers: \"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4\",\r\n        BackwardTripleFeathers:\r\n          \"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4\",\r\n        ForwardSlash: \"m 0,8 l 5,-8\",\r\n        BackSlash: \"m 0,0 l 5,8\",\r\n        DoubleForwardSlash: \"m 0,8 l 4,-8 m -2,8 l 4,-8\",\r\n        DoubleBackSlash: \"m 0,0 l 4,8 m -2,-8 l 4,8\",\r\n        TripleForwardSlash: \"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8\",\r\n        TripleBackSlash: \"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8\",\r\n        Fork: \"m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4\",\r\n        BackwardFork: \"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4\",\r\n        LineFork: \"m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4\",\r\n        BackwardLineFork:\r\n          \"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8\",\r\n        CircleFork:\r\n          \"F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4\",\r\n        BackwardCircleFork:\r\n          \"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3\",\r\n        CircleLineFork:\r\n          \"F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4\",\r\n        BackwardCircleLineFork:\r\n          \"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3\",\r\n        Circle: \"F1 m 8,4 b 0 360 -4 0 4 z\",\r\n        Block: \"F1 m 0,0 l 0,8 8,0 0,-8 z\",\r\n        StretchedDiamond: \"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z\",\r\n        Diamond: \"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z\",\r\n        Chevron: \"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z\",\r\n        StretchedChevron: \"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z\",\r\n        NormalArrow: \"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z\",\r\n        X: \"m 0,0 l 8,8 m 0,-8 l -8,8\",\r\n        TailedNormalArrow:\r\n          \"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z\",\r\n        DoubleTriangle: \"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z\",\r\n        BigEndArrow: \"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z\",\r\n        ConcaveTailArrow:\r\n          \"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z\",\r\n        RoundedTriangle:\r\n          \"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z\",\r\n        SimpleArrow:\r\n          \"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z\",\r\n        AccelerationArrow:\r\n          \"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z\",\r\n        BoxArrow:\r\n          \"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z\",\r\n        TriangleLine: \"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8\",\r\n        CircleEndedArrow:\r\n          \"F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z\",\r\n        DynamicWidthArrow:\r\n          \"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z\",\r\n        EquilibriumArrow: \"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3\",\r\n        FastForward:\r\n          \"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z\",\r\n        Kite: \"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z\",\r\n        HalfArrowTop: \"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8\",\r\n        HalfArrowBottom: \"F1 m 0,8 l 4,-4 4,0 -8,4 z\",\r\n        OpposingDirectionDoubleArrow:\r\n          \"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z\",\r\n        PartialDoubleTriangle: \"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z\",\r\n        LineCircle: \"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z\",\r\n        DoubleLineCircle: \"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z\",\r\n        TripleLineCircle:\r\n          \"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z\",\r\n        CircleLine: \"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8\",\r\n        DiamondCircle: \"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z\",\r\n        PlusCircle: \"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8\",\r\n        OpenRightTriangleTop: \"m 8,0 l 0,4 -8,0 m 0,4\",\r\n        OpenRightTriangleBottom: \"m 8,8 l 0,-4 -8,0\",\r\n        Line: \"m 0,0 l 0,8\",\r\n        DoubleLine: \"m 0,0 l 0,8 m 2,0 l 0,-8\",\r\n        TripleLine: \"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8\",\r\n        PentagonArrow: \"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z\",\r\n      };\r\n\r\n      function S(a) {\r\n        V.call(this, a);\r\n        this.F = 2408959;\r\n        this.mh = this.Uf = \"\";\r\n        this.qp = this.mp = this.Dp = this.so = null;\r\n        this.Fp = \"\";\r\n        this.Rf = this.bo = this.Ep = this.vh = null;\r\n        this.op = \"\";\r\n        this.np = bc;\r\n        this.Xb = this.rp = \"\";\r\n        this.zi = this.sn = this.ii = null;\r\n        this.jg = new J(NaN, NaN).freeze();\r\n        this.yo = \"\";\r\n        this.ff = null;\r\n        this.zo = Hc;\r\n        this.sp = kd;\r\n        this.Ho = Rb;\r\n        this.Ao = Sb;\r\n        this.Jn = null;\r\n        this.to = 127;\r\n        this.Jp = Tb;\r\n        this.Ip = \"gray\";\r\n        this.mf = 4;\r\n        this.ax = -1;\r\n        this.gq = NaN;\r\n        this.Fy = new L();\r\n        this.Nj = null;\r\n        this.ph = NaN;\r\n      }\r\n      la(S, V);\r\n      S.prototype.cloneProtected = function (a) {\r\n        V.prototype.cloneProtected.call(this, a);\r\n        a.F = (this.F & -4097) | 49152;\r\n        a.Uf = this.Uf;\r\n        a.mh = this.mh;\r\n        a.so = this.so;\r\n        a.Dp = this.Dp;\r\n        a.mp = this.mp;\r\n        a.qp = this.qp;\r\n        a.Fp = this.Fp;\r\n        a.Ep = this.Ep;\r\n        a.bo = this.bo;\r\n        a.Rf = null;\r\n        a.op = this.op;\r\n        a.np = this.np.J();\r\n        a.rp = this.rp;\r\n        a.sp = this.sp.J();\r\n        a.Xb = this.Xb;\r\n        a.sn = this.sn;\r\n        a.jg.assign(this.jg);\r\n        a.yo = this.yo;\r\n        a.zo = this.zo.J();\r\n        a.Ho = this.Ho.J();\r\n        a.Ao = this.Ao.J();\r\n        a.Jn = this.Jn;\r\n        a.to = this.to;\r\n        a.Jp = this.Jp.J();\r\n        a.Ip = this.Ip;\r\n        a.mf = this.mf;\r\n        a.gq = this.gq;\r\n      };\r\n      S.prototype.Bf = function (a) {\r\n        V.prototype.Bf.call(this, a);\r\n        a.Ph();\r\n        a.vh = null;\r\n        a.ff = null;\r\n        a.Nj = null;\r\n      };\r\n      S.prototype.toString = function () {\r\n        var a = Oa(this.constructor) + \"#\" + sb(this);\r\n        null !== this.data && (a += \"(\" + Pa(this.data) + \")\");\r\n        return a;\r\n      };\r\n      S.prototype.Dk = function (a, b, c, d, e, f, g) {\r\n        var h = this.diagram;\r\n        null !== h &&\r\n          (a === Fe && \"elements\" === b\r\n            ? e instanceof V\r\n              ? Tj(e, function (a) {\r\n                  Vj(h.partManager, a);\r\n                  Uj(h, a);\r\n                })\r\n              : zk(h, e)\r\n            : a === Ge &&\r\n              \"elements\" === b &&\r\n              (e instanceof V\r\n                ? Tj(e, function (a) {\r\n                    Yj(h.partManager, a, h);\r\n                  })\r\n                : Bk(h, e)),\r\n          h.eb(a, b, c, d, e, f, g));\r\n      };\r\n      S.prototype.Fa = function (a) {\r\n        V.prototype.Fa.call(this, a);\r\n        if (null !== this.data) {\r\n          for (var b = this.$.j, c = b.length, d = 0; d < c; d++) {\r\n            var e = b[d];\r\n            e instanceof V &&\r\n              Tj(e, function (a) {\r\n                null !== a.data && a.Fa();\r\n              });\r\n          }\r\n          for (b = this.adornments; b.next(); ) b.value.Fa(a);\r\n        }\r\n      };\r\n      S.prototype.updateRelationshipsFromData = function () {\r\n        null !== this.data &&\r\n          this.diagram.partManager.updateRelationshipsFromData(this);\r\n      };\r\n      S.prototype.nk = function (a) {\r\n        F && A(a, \"string\", S, \"findAdornment:category\");\r\n        var b = this.Rf;\r\n        return null === b ? null : b.K(a);\r\n      };\r\n      S.prototype.Ih = function (a, b) {\r\n        if (null !== b) {\r\n          F &&\r\n            (A(a, \"string\", S, \"addAdornment:category\"),\r\n            w(b, Pe, S, \"addAdornment:ad\"));\r\n          var c = null,\r\n            d = this.Rf;\r\n          null !== d && (c = d.K(a));\r\n          if (c !== b) {\r\n            if (null !== c) {\r\n              var e = c.diagram;\r\n              null !== e && e.remove(c);\r\n            }\r\n            null === d && (this.Rf = d = new Db());\r\n            b.Uf !== a && (b.category = a);\r\n            d.add(a, b);\r\n            a = this.diagram;\r\n            null !== a &&\r\n              (a.add(b),\r\n              (a = b.adornedObject),\r\n              null !== a && ((a = a.aj()), null !== a && (b.data = a.data)));\r\n          }\r\n        }\r\n      };\r\n      S.prototype.Kf = function (a) {\r\n        F && A(a, \"string\", S, \"removeAdornment:category\");\r\n        var b = this.Rf;\r\n        if (null !== b) {\r\n          var c = b.K(a);\r\n          if (null !== c) {\r\n            var d = c.diagram;\r\n            null !== d && d.remove(c);\r\n          }\r\n          b.remove(a);\r\n          0 === b.count && (this.Rf = null);\r\n        }\r\n      };\r\n      S.prototype.fk = function () {\r\n        var a = this.Rf;\r\n        if (null !== a) {\r\n          var b = La();\r\n          for (a = a.iterator; a.next(); ) b.push(a.key);\r\n          a = b.length;\r\n          for (var c = 0; c < a; c++) this.Kf(b[c]);\r\n          Na(b);\r\n        }\r\n      };\r\n      S.prototype.updateAdornments = function () {\r\n        var a = this.diagram;\r\n        if (null !== a) {\r\n          for (var b = this.adornments; b.next(); ) {\r\n            var c = b.value;\r\n            c.v();\r\n            c.placeholder && c.placeholder.v();\r\n          }\r\n          a: {\r\n            if (\r\n              this.isSelected &&\r\n              this.selectionAdorned &&\r\n              ((b = this.selectionObject),\r\n              null !== b &&\r\n                this.actualBounds.o() &&\r\n                this.isVisible() &&\r\n                b.If() &&\r\n                b.actualBounds.o())\r\n            ) {\r\n              c = this.nk(\"Selection\");\r\n              if (null === c) {\r\n                c = this.selectionAdornmentTemplate;\r\n                null === c &&\r\n                  (c = this.Qh()\r\n                    ? a.linkSelectionAdornmentTemplate\r\n                    : this instanceof Kf\r\n                    ? a.groupSelectionAdornmentTemplate\r\n                    : a.nodeSelectionAdornmentTemplate);\r\n                if (!(c instanceof Pe)) break a;\r\n                Ng(c);\r\n                c = c.copy();\r\n                null !== c &&\r\n                  (this.Qh() &&\r\n                    this.selectionObject === this.path &&\r\n                    (c.type = V.Link),\r\n                  (c.adornedObject = b));\r\n              }\r\n              if (null !== c) {\r\n                c.type === V.Link ? c.v() : ((b = J.alloc()), J.free(b));\r\n                this.Ih(\"Selection\", c);\r\n                break a;\r\n              }\r\n            }\r\n            this.Kf(\"Selection\");\r\n          }\r\n          No(this, a);\r\n          for (b = this.adornments; b.next(); ) b.value.Fa();\r\n        }\r\n      };\r\n      S.prototype.Rb = function () {\r\n        var a = this.diagram;\r\n        null !== a &&\r\n          (fj(a), (0 !== (this.F & 16384)) !== !0 && (ui(this, !0), a.cc()));\r\n      };\r\n\r\n      function ti(a) {\r\n        (0 !== (a.F & 16384)) !== !1 && (a.updateAdornments(), ui(a, !1));\r\n      }\r\n\r\n      function No(a, b) {\r\n        b.toolManager.mouseDownTools.each(function (b) {\r\n          b.isEnabled && b.updateAdornments(a);\r\n        });\r\n        b.toolManager.updateAdornments(a);\r\n      }\r\n\r\n      function Oo(a) {\r\n        if (!1 === Ij(a)) {\r\n          Po(a, !0);\r\n          a.yl();\r\n          var b = a.diagram;\r\n          null !== b && (b.Nd.add(a), b.cc());\r\n        }\r\n      }\r\n\r\n      function Qo(a) {\r\n        a.F |= 2097152;\r\n        if (!1 !== Ij(a)) {\r\n          var b = a.position,\r\n            c = a.location;\r\n          (c.o() && b.o()) || Ro(a, b, c);\r\n          c = a.Ab;\r\n          var d = L.alloc().assign(c);\r\n          c.ka();\r\n          c.x = b.x;\r\n          c.y = b.y;\r\n          c.freeze();\r\n          a.Gt(d, c);\r\n          L.free(d);\r\n          Po(a, !1);\r\n        }\r\n      }\r\n      S.prototype.move = function (a, b) {\r\n        !0 === b ? (this.location = a) : (this.position = a);\r\n      };\r\n      S.prototype.moveTo = function (a, b, c) {\r\n        a = J.allocAt(a, b);\r\n        this.move(a, c);\r\n        J.free(a);\r\n      };\r\n      S.prototype.isVisible = function () {\r\n        if (!this.visible) return !1;\r\n        var a = this.layer;\r\n        if (null !== a && !a.visible) return !1;\r\n        a = this.diagram;\r\n        if (null !== a && a.animationManager.Ft(this)) return !0;\r\n        a = this.containingGroup;\r\n        return null === a || (a.isSubGraphExpanded && a.isVisible()) ? !0 : !1;\r\n      };\r\n      t = S.prototype;\r\n      t.Tb = function (a) {\r\n        var b = this.diagram;\r\n        a\r\n          ? (this.D(4), this.Rb(), null !== b && b.Nd.add(this))\r\n          : (this.D(8), this.fk());\r\n        this.Ph();\r\n        null !== b && (b.Ya(), b.R());\r\n      };\r\n      t.cb = function (a) {\r\n        if (this.name === a) return this;\r\n        var b = this.Nj;\r\n        null === b && (this.Nj = b = new Db());\r\n        if (null !== b.K(a)) return b.K(a);\r\n        var c = V.prototype.cb.call(this, a);\r\n        if (null !== c) return b.set(a, c), c;\r\n        b.set(a, null);\r\n        return null;\r\n      };\r\n      t.Ef = function (a, b, c) {\r\n        void 0 === c && (c = new J());\r\n        b = b.Sb() ? Mc : b;\r\n        var d = a.naturalBounds;\r\n        c.h(d.width * b.x + b.offsetX, d.height * b.y + b.offsetY);\r\n        if (null === a || a === this) return c;\r\n        a.transform.xa(c);\r\n        for (a = a.panel; null !== a && a !== this; )\r\n          a.transform.xa(c), (a = a.panel);\r\n        this.ig.xa(c);\r\n        c.offset(-this.tc.x, -this.tc.y);\r\n        return c;\r\n      };\r\n      t.tq = function (a) {\r\n        void 0 === a && (a = new L());\r\n        return a.assign(this.actualBounds);\r\n      };\r\n      t.Eb = function () {\r\n        !0 === Gj(this) && this.measure(Infinity, Infinity);\r\n        this.arrange();\r\n      };\r\n\r\n      function Rj(a, b) {\r\n        var c = a.Fy;\r\n        isNaN(a.ph) && (a.ph = tn(a));\r\n        var d = a.ph;\r\n        var e = 2 * d;\r\n        if (!a.isShadowed)\r\n          return (\r\n            c.h(b.x - 1 - d, b.y - 1 - d, b.width + 2 + e, b.height + 2 + e), c\r\n          );\r\n        d = b.x;\r\n        e = b.y;\r\n        var f = b.width;\r\n        b = b.height;\r\n        var g = a.shadowBlur;\r\n        a = a.shadowOffset;\r\n        f += g;\r\n        b += g;\r\n        d -= g / 2;\r\n        e -= g / 2;\r\n        0 < a.x ? (f += a.x) : ((d += a.x), (f -= a.x));\r\n        0 < a.y ? (b += a.y) : ((e += a.y), (b -= a.y));\r\n        c.h(d - 1, e - 1, f + 2, b + 2);\r\n        return c;\r\n      }\r\n      S.prototype.arrange = function () {\r\n        if (!1 === Hj(this)) Qo(this);\r\n        else {\r\n          var a = this.Ab,\r\n            b = L.alloc();\r\n          b.assign(a);\r\n          a.ka();\r\n          var c = Lg(this);\r\n          this.Lh(0, 0, this.tc.width, this.tc.height);\r\n          var d = this.position;\r\n          Ro(this, d, this.location);\r\n          a.x = d.x;\r\n          a.y = d.y;\r\n          a.freeze();\r\n          this.Gt(b, a);\r\n          Al(this, !1);\r\n          b.B(a)\r\n            ? this.Dd(c)\r\n            : !this.$b() ||\r\n              (K.C(b.width, a.width) && K.C(b.height, a.height)) ||\r\n              (0 <= this.ax && this.D(16));\r\n          L.free(b);\r\n          Po(this, !1);\r\n        }\r\n      };\r\n      t = S.prototype;\r\n      t.Gt = function (a, b) {\r\n        var c = this.diagram;\r\n        if (null !== c) {\r\n          var d = !1;\r\n          if (!1 === c.Bj && a.o()) {\r\n            var e = L.alloc();\r\n            e.assign(c.documentBounds);\r\n            e.nw(c.padding);\r\n            a.x > e.x &&\r\n              a.y > e.y &&\r\n              a.right < e.right &&\r\n              a.bottom < e.bottom &&\r\n              b.x > e.x &&\r\n              b.y > e.y &&\r\n              b.right < e.right &&\r\n              b.bottom < e.bottom &&\r\n              (d = !0);\r\n            L.free(e);\r\n          }\r\n          ((0 !== (this.F & 65536)) !== !0 && a.B(b)) || Wj(this, d, c);\r\n          c.R();\r\n          jc(a, b) ||\r\n            (this instanceof U && !c.undoManager.isUndoingRedoing && this.nd(),\r\n            this.Ph());\r\n        }\r\n      };\r\n      t.jw = function (a, b) {\r\n        if (this.Qh() || !a.o()) return !1;\r\n        var c = this.diagram;\r\n        if (\r\n          null !== c &&\r\n          (So(this, c, a, b), !0 === c.undoManager.isUndoingRedoing)\r\n        )\r\n          return !0;\r\n        this.ra = a;\r\n        this.F &= -2097153;\r\n        c = this.jg;\r\n        if (c.o()) {\r\n          var d = c.copy();\r\n          c.h(c.x + (a.x - b.x), c.y + (a.y - b.y));\r\n          this.g(\"location\", d, c.copy());\r\n        }\r\n        !1 === Ij(this) && !1 === Hj(this) && (Oo(this), Qo(this));\r\n        return !0;\r\n      };\r\n\r\n      function So(a, b, c, d) {\r\n        null === b ||\r\n          a instanceof Pe ||\r\n          ((b = b.animationManager), b.gf && Xh(b, a, d.copy(), c.copy()));\r\n      }\r\n      t.Qq = function (a, b, c) {\r\n        var d = this.jg,\r\n          e = this.ra;\r\n        if (c) {\r\n          if (d.x === a && d.y === b) return;\r\n          Ij(this) || Hj(this)\r\n            ? e.h(NaN, NaN)\r\n            : e.h(e.x + a - d.x, e.y + b - d.y);\r\n          d.h(a, b);\r\n        } else {\r\n          if (e.x === a && e.y === b) return;\r\n          Ij(this) || Hj(this)\r\n            ? d.h(NaN, NaN)\r\n            : d.h(d.x + a - e.x, d.y + b - e.y);\r\n          e.h(a, b);\r\n        }\r\n        Oo(this);\r\n      };\r\n      t.kw = function () {\r\n        this.F &= -2097153;\r\n        Oo(this);\r\n      };\r\n\r\n      function Ro(a, b, c) {\r\n        var d = J.alloc(),\r\n          e = a.locationSpot,\r\n          f = a.locationObject;\r\n        e.Sb() &&\r\n          v(\r\n            \"determineOffset: Part's locationSpot must be real: \" + e.toString()\r\n          );\r\n        var g = f.naturalBounds,\r\n          h = f instanceof $f ? f.strokeWidth : 0;\r\n        d.Fk(0, 0, g.width + h, g.height + h, e);\r\n        if (f !== a)\r\n          for (\r\n            d.offset(-h / 2, -h / 2), f.transform.xa(d), e = f.panel;\r\n            null !== e && e !== a;\r\n\r\n          )\r\n            e.transform.xa(d), (e = e.panel);\r\n        a.ig.xa(d);\r\n        d.offset(-a.tc.x, -a.tc.y);\r\n        e = a.diagram;\r\n        f = c.o();\r\n        g = b.o();\r\n        f && g\r\n          ? 0 !== (a.F & 2097152)\r\n            ? To(a, b, c, e, d)\r\n            : Uo(a, b, c, e, d)\r\n          : f\r\n          ? To(a, b, c, e, d)\r\n          : g && Uo(a, b, c, e, d);\r\n        a.F |= 2097152;\r\n        J.free(d);\r\n        a.yl();\r\n      }\r\n\r\n      function To(a, b, c, d, e) {\r\n        var f = b.x,\r\n          g = b.y;\r\n        b.h(c.x - e.x, c.y - e.y);\r\n        null !== d &&\r\n          ((c = d.animationManager),\r\n          (e = c.isAnimating) ||\r\n            !c.gf ||\r\n            a instanceof Pe ||\r\n            Xh(c, a, new J(f, g), b),\r\n          e ||\r\n            (b.x === f && b.y === g) ||\r\n            ((c = d.skipsUndoManager),\r\n            (d.skipsUndoManager = !0),\r\n            a.g(\"position\", new J(f, g), b),\r\n            (d.skipsUndoManager = c)));\r\n      }\r\n\r\n      function Uo(a, b, c, d, e) {\r\n        var f = c.copy();\r\n        c.h(b.x + e.x, b.y + e.y);\r\n        c.B(f) ||\r\n          null === d ||\r\n          ((b = d.skipsUndoManager),\r\n          (d.skipsUndoManager = !0),\r\n          a.g(\"location\", f, c.copy()),\r\n          (d.skipsUndoManager = b));\r\n      }\r\n\r\n      function Wj(a, b, c) {\r\n        Cl(a, !1);\r\n        a instanceof U && Nk(c, a);\r\n        a.layer.isTemporary || b || c.Ya();\r\n        b = a.Ab;\r\n        var d = c.viewportBounds;\r\n        d.o()\r\n          ? Lg(a)\r\n            ? (oc(b, d) || a.Dd(!1), a.updateAdornments())\r\n            : b.Mc(d)\r\n            ? (a.Dd(!0), a.updateAdornments())\r\n            : a.Rb()\r\n          : (c.ti = !0);\r\n      }\r\n      t.jj = function () {\r\n        return !0;\r\n      };\r\n      t.$b = function () {\r\n        return !0;\r\n      };\r\n      t.Qh = function () {\r\n        return !1;\r\n      };\r\n      t.Gf = function () {\r\n        return !0;\r\n      };\r\n\r\n      function Vo(a, b, c, d) {\r\n        b.constructor === a.constructor ||\r\n          Wo ||\r\n          ((Wo = !0),\r\n          Ca(\r\n            'Should not change the class of the Part when changing category from \"' +\r\n              c +\r\n              '\" to \"' +\r\n              d +\r\n              '\"'\r\n          ),\r\n          Ca(\r\n            \"  Old class: \" +\r\n              Oa(a.constructor) +\r\n              \", new class: \" +\r\n              Oa(b.constructor) +\r\n              \", part: \" +\r\n              a.toString()\r\n          ));\r\n        a.fk();\r\n        var e = a.data;\r\n        c = a.layerName;\r\n        var f = a.isSelected,\r\n          g = a.isHighlighted,\r\n          h = !0,\r\n          k = !0,\r\n          l = !1;\r\n        a instanceof U &&\r\n          ((h = a.isTreeLeaf), (k = a.isTreeExpanded), (l = a.wasTreeExpanded));\r\n        b.Bf(a);\r\n        b.cloneProtected(a);\r\n        a.Uf = d;\r\n        a.v();\r\n        a.R();\r\n        b = a.diagram;\r\n        d = !0;\r\n        null !== b && ((d = b.skipsUndoManager), (b.skipsUndoManager = !0));\r\n        a.nb = e;\r\n        a.F = f ? a.F | 4096 : a.F & -4097;\r\n        a.F = g ? a.F | 524288 : a.F & -524289;\r\n        a instanceof U &&\r\n          ((a.T = h ? a.T | 4 : a.T & -5),\r\n          (a.T = k ? a.T | 1 : a.T & -2),\r\n          (a.T = l ? a.T | 2 : a.T & -3));\r\n        null !== e && a.Fa();\r\n        e = a.layerName;\r\n        e !== c && ((a.mh = c), (a.layerName = e));\r\n        null !== b && (b.skipsUndoManager = d);\r\n        a.$b() && a.D(64);\r\n      }\r\n      S.prototype.canCopy = function () {\r\n        if (!this.copyable) return !1;\r\n        var a = this.layer;\r\n        if (null === a) return !0;\r\n        if (!a.allowCopy) return !1;\r\n        a = a.diagram;\r\n        return null === a ? !0 : a.allowCopy ? !0 : !1;\r\n      };\r\n      S.prototype.canDelete = function () {\r\n        if (!this.deletable) return !1;\r\n        var a = this.layer;\r\n        if (null === a) return !0;\r\n        if (!a.allowDelete) return !1;\r\n        a = a.diagram;\r\n        return null === a ? !0 : a.allowDelete ? !0 : !1;\r\n      };\r\n      S.prototype.canEdit = function () {\r\n        if (!this.textEditable) return !1;\r\n        var a = this.layer;\r\n        if (null === a) return !0;\r\n        if (!a.allowTextEdit) return !1;\r\n        a = a.diagram;\r\n        return null === a ? !0 : a.allowTextEdit ? !0 : !1;\r\n      };\r\n      S.prototype.canGroup = function () {\r\n        if (!this.groupable) return !1;\r\n        var a = this.layer;\r\n        if (null === a) return !0;\r\n        if (!a.allowGroup) return !1;\r\n        a = a.diagram;\r\n        return null === a ? !0 : a.allowGroup ? !0 : !1;\r\n      };\r\n      S.prototype.canMove = function () {\r\n        if (!this.movable) return !1;\r\n        var a = this.layer;\r\n        if (null === a) return !0;\r\n        if (!a.allowMove) return !1;\r\n        a = a.diagram;\r\n        return null === a ? !0 : a.allowMove ? !0 : !1;\r\n      };\r\n      S.prototype.canReshape = function () {\r\n        if (!this.reshapable) return !1;\r\n        var a = this.layer;\r\n        if (null === a) return !0;\r\n        if (!a.allowReshape) return !1;\r\n        a = a.diagram;\r\n        return null === a ? !0 : a.allowReshape ? !0 : !1;\r\n      };\r\n      S.prototype.canResize = function () {\r\n        if (!this.resizable) return !1;\r\n        var a = this.layer;\r\n        if (null === a) return !0;\r\n        if (!a.allowResize) return !1;\r\n        a = a.diagram;\r\n        return null === a ? !0 : a.allowResize ? !0 : !1;\r\n      };\r\n      S.prototype.canRotate = function () {\r\n        if (!this.rotatable) return !1;\r\n        var a = this.layer;\r\n        if (null === a) return !0;\r\n        if (!a.allowRotate) return !1;\r\n        a = a.diagram;\r\n        return null === a ? !0 : a.allowRotate ? !0 : !1;\r\n      };\r\n      S.prototype.canSelect = function () {\r\n        if (!this.selectable) return !1;\r\n        var a = this.layer;\r\n        if (null === a) return !0;\r\n        if (!a.allowSelect) return !1;\r\n        a = a.diagram;\r\n        return null === a ? !0 : a.allowSelect ? !0 : !1;\r\n      };\r\n\r\n      function ui(a, b) {\r\n        a.F = b ? a.F | 16384 : a.F & -16385;\r\n      }\r\n\r\n      function Ij(a) {\r\n        return 0 !== (a.F & 32768);\r\n      }\r\n\r\n      function Po(a, b) {\r\n        a.F = b ? a.F | 32768 : a.F & -32769;\r\n      }\r\n\r\n      function Cl(a, b) {\r\n        a.F = b ? a.F | 65536 : a.F & -65537;\r\n      }\r\n\r\n      function Lg(a) {\r\n        return 0 !== (a.F & 131072);\r\n      }\r\n      t = S.prototype;\r\n      t.Dd = function (a) {\r\n        this.F = a ? this.F | 131072 : this.F & -131073;\r\n      };\r\n\r\n      function Xo(a, b) {\r\n        a.F = b ? a.F | 1048576 : a.F & -1048577;\r\n      }\r\n      t.Ph = function () {\r\n        var a = this.containingGroup;\r\n        null !== a &&\r\n          (a.v(), null !== a.placeholder && a.placeholder.v(), a.nd());\r\n      };\r\n      t.R = function () {\r\n        var a = this.diagram;\r\n        null !== a &&\r\n          !Hj(this) &&\r\n          !Ij(this) &&\r\n          this.isVisible() &&\r\n          this.Ab.o() &&\r\n          a.R(Rj(this, this.Ab));\r\n      };\r\n      t.v = function () {\r\n        V.prototype.v.call(this);\r\n        var a = this.diagram;\r\n        null !== a &&\r\n          (a.Nd.add(this),\r\n          this instanceof U &&\r\n            null !== this.labeledLink &&\r\n            Rl(this.labeledLink),\r\n          a.cc(!0));\r\n      };\r\n      t.wq = function (a) {\r\n        a || ((a = this.ii), null !== a && Yo(a, this));\r\n      };\r\n      t.xq = function (a) {\r\n        a || ((a = this.ii), null !== a && Zo(a, this));\r\n      };\r\n      t.lk = function () {\r\n        var a = this.data;\r\n        if (null !== a) {\r\n          var b = this.diagram;\r\n          null !== b && ((b = b.model), null !== b && b.Km(a));\r\n        }\r\n      };\r\n      t.Dz = function () {\r\n        return $o(this, this);\r\n      };\r\n\r\n      function $o(a, b) {\r\n        var c = b.containingGroup;\r\n        return null !== c\r\n          ? 1 + $o(a, c)\r\n          : b instanceof U && ((b = b.labeledLink), null !== b)\r\n          ? $o(a, b)\r\n          : 0;\r\n      }\r\n      t.Gz = function () {\r\n        return ap(this, this);\r\n      };\r\n\r\n      function ap(a, b) {\r\n        var c = b.containingGroup;\r\n        return null !== c ||\r\n          (b instanceof U && ((c = b.labeledLink), null !== c))\r\n          ? ap(a, c)\r\n          : b;\r\n      }\r\n      t.be = function (a) {\r\n        return a instanceof Kf ? bp(this, this, a) : !1;\r\n      };\r\n\r\n      function bp(a, b, c) {\r\n        if (b === c || null === c) return !1;\r\n        var d = b.containingGroup;\r\n        return null === d || (d !== c && !bp(a, d, c))\r\n          ? b instanceof U && ((b = b.labeledLink), null !== b)\r\n            ? bp(a, b, c)\r\n            : !1\r\n          : !0;\r\n      }\r\n      t.Qx = function (a) {\r\n        if (null === a) return null;\r\n        F && w(a, S, S, \"findCommonContainingGroup:other\");\r\n        if (this === a) return this.containingGroup;\r\n        for (var b = this; null !== b; ) {\r\n          b instanceof Kf && Xo(b, !0);\r\n          if (b instanceof U) {\r\n            var c = b.labeledLink;\r\n            null !== c && (b = c);\r\n          }\r\n          b = b.containingGroup;\r\n        }\r\n        c = null;\r\n        for (b = a; null !== b; ) {\r\n          if (0 !== (b.F & 1048576)) {\r\n            c = b;\r\n            break;\r\n          }\r\n          b instanceof U && ((a = b.labeledLink), null !== a && (b = a));\r\n          b = b.containingGroup;\r\n        }\r\n        for (b = this; null !== b; )\r\n          b instanceof Kf && Xo(b, !1),\r\n            b instanceof U && ((a = b.labeledLink), null !== a && (b = a)),\r\n            (b = b.containingGroup);\r\n        return c;\r\n      };\r\n      S.prototype.canLayout = function () {\r\n        if (!this.isLayoutPositioned || !this.isVisible()) return !1;\r\n        var a = this.layer;\r\n        return (null !== a && a.isTemporary) ||\r\n          (this instanceof U && this.isLinkLabel)\r\n          ? !1\r\n          : !0;\r\n      };\r\n      S.prototype.D = function (a) {\r\n        void 0 === a && (a = 16777215);\r\n        if (this.isLayoutPositioned && 0 !== (a & this.layoutConditions)) {\r\n          var b = this.layer;\r\n          (null !== b && b.isTemporary) ||\r\n          (this instanceof U && this.isLinkLabel)\r\n            ? (b = !1)\r\n            : ((b = this.diagram),\r\n              (b = null !== b && b.undoManager.isUndoingRedoing ? !1 : !0));\r\n        } else b = !1;\r\n        if (b)\r\n          if (((b = this.ii), null !== b)) {\r\n            var c = b.layout;\r\n            null !== c ? c.D() : b.D(a);\r\n          } else\r\n            (a = this.diagram),\r\n              null !== a && ((a = a.layout), null !== a && a.D());\r\n      };\r\n\r\n      function Xj(a) {\r\n        if (!a.isVisible()) return !1;\r\n        a = a.layer;\r\n        return null !== a && a.isTemporary ? !1 : !0;\r\n      }\r\n\r\n      function gl(a, b, c, d, e, f) {\r\n        void 0 === f && (f = null);\r\n        if (!(a.contains(b) || (null !== f && !f(b)) || b instanceof Pe))\r\n          if ((a.add(b), b instanceof U)) {\r\n            if (c && b instanceof Kf)\r\n              for (var g = b.memberParts; g.next(); )\r\n                gl(a, g.value, c, d, e, f);\r\n            if (!1 !== e)\r\n              for (g = b.linksConnected; g.next(); ) {\r\n                var h = g.value;\r\n                if (!a.contains(h)) {\r\n                  var k = h.fromNode,\r\n                    l = h.toNode;\r\n                  k = null === k || a.contains(k);\r\n                  l = null === l || a.contains(l);\r\n                  (e ? k && l : k || l) && gl(a, h, c, d, e, f);\r\n                }\r\n              }\r\n            if (1 < d)\r\n              for (b = b.Bv(); b.next(); ) gl(a, b.value, c, d - 1, e, f);\r\n          } else if (b instanceof Q)\r\n            for (b = b.labelNodes; b.next(); ) gl(a, b.value, c, d, e, f);\r\n      }\r\n      ma.Object.defineProperties(S.prototype, {\r\n        key: {\r\n          configurable: !0,\r\n          get: function () {\r\n            var a = this.diagram;\r\n            if (null !== a) return a.model.pa(this.data);\r\n          },\r\n        },\r\n        adornments: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null === this.Rf ? mb : this.Rf.iteratorValues;\r\n          },\r\n        },\r\n        layer: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.zi;\r\n          },\r\n        },\r\n        diagram: {\r\n          configurable: !0,\r\n          get: function () {\r\n            var a = this.zi;\r\n            return null !== a ? a.diagram : null;\r\n          },\r\n        },\r\n        layerName: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.mh;\r\n          },\r\n          set: function (a) {\r\n            var b = this.mh;\r\n            if (b !== a) {\r\n              A(a, \"string\", S, \"layerName\");\r\n              var c = this.diagram;\r\n              if (\r\n                null === c ||\r\n                (null !== c.sm(a) && !c.partManager.addsToTemporaryLayer)\r\n              )\r\n                if (\r\n                  ((this.mh = a),\r\n                  null !== c && c.Ya(),\r\n                  this.g(\"layerName\", b, a),\r\n                  (b = this.layer),\r\n                  null !== b &&\r\n                    b.name !== a &&\r\n                    ((c = b.diagram),\r\n                    null !== c && ((a = c.sm(a)), null !== a && a !== b)))\r\n                ) {\r\n                  var d = b.Lc(-1, this, !0);\r\n                  0 <= d && c.eb(Ge, \"parts\", b, this, null, d, !0);\r\n                  d = a.hj(99999999, this, !0);\r\n                  b.visible !== a.visible && this.Tb(a.visible);\r\n                  0 <= d && c.eb(Fe, \"parts\", a, null, this, !0, d);\r\n                  d = this.layerChanged;\r\n                  if (null !== d) {\r\n                    var e = c.fa;\r\n                    c.fa = !0;\r\n                    d(this, b, a);\r\n                    c.fa = e;\r\n                  }\r\n                }\r\n            }\r\n          },\r\n        },\r\n        layerChanged: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.so;\r\n          },\r\n          set: function (a) {\r\n            var b = this.so;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", S, \"layerChanged\"),\r\n              (this.so = a),\r\n              this.g(\"layerChanged\", b, a));\r\n          },\r\n        },\r\n        zOrder: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.gq;\r\n          },\r\n          set: function (a) {\r\n            var b = this.gq;\r\n            if (b !== a) {\r\n              A(a, \"number\", S, \"zOrder\");\r\n              this.gq = a;\r\n              var c = this.layer;\r\n              null !== c && yi(c, -1, this);\r\n              this.g(\"zOrder\", b, a);\r\n              a = this.diagram;\r\n              null !== a && a.R();\r\n            }\r\n          },\r\n        },\r\n        locationObject: {\r\n          configurable: !0,\r\n          get: function () {\r\n            if (null === this.ff) {\r\n              var a = this.locationObjectName;\r\n              \"\" !== a\r\n                ? ((a = this.cb(a)),\r\n                  null !== a ? (this.ff = a) : (this.ff = this))\r\n                : this instanceof Pe\r\n                ? this.type !== V.Link && null !== this.placeholder\r\n                  ? (this.ff = this.placeholder)\r\n                  : (this.ff = this)\r\n                : (this.ff = this);\r\n            }\r\n            return this.ff.visible ? this.ff : this;\r\n          },\r\n        },\r\n        minLocation: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ho;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Ho;\r\n            b.B(a) ||\r\n              (F && w(a, J, S, \"minLocation\"),\r\n              (this.Ho = a = a.J()),\r\n              this.g(\"minLocation\", b, a));\r\n          },\r\n        },\r\n        maxLocation: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ao;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Ao;\r\n            b.B(a) ||\r\n              (F && w(a, J, S, \"maxLocation\"),\r\n              (this.Ao = a = a.J()),\r\n              this.g(\"maxLocation\", b, a));\r\n          },\r\n        },\r\n        locationObjectName: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.yo;\r\n          },\r\n          set: function (a) {\r\n            var b = this.yo;\r\n            b !== a &&\r\n              (F && A(a, \"string\", S, \"locationObjectName\"),\r\n              (this.yo = a),\r\n              (this.ff = null),\r\n              this.v(),\r\n              this.g(\"locationObjectName\", b, a));\r\n          },\r\n        },\r\n        locationSpot: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.zo;\r\n          },\r\n          set: function (a) {\r\n            var b = this.zo;\r\n            b.B(a) ||\r\n              (F &&\r\n                (w(a, M, S, \"locationSpot\"),\r\n                a.$a() ||\r\n                  v(\r\n                    \"Part.locationSpot must be a specific Spot value, not: \" + a\r\n                  )),\r\n              (this.zo = a = a.J()),\r\n              this.v(),\r\n              this.g(\"locationSpot\", b, a));\r\n          },\r\n        },\r\n        location: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.jg;\r\n          },\r\n          set: function (a) {\r\n            F && w(a, J, S, \"location\");\r\n            var b = a.x,\r\n              c = a.y,\r\n              d = this.jg,\r\n              e = d.x,\r\n              f = d.y;\r\n            ((e === b || (isNaN(e) && isNaN(b))) &&\r\n              (f === c || (isNaN(f) && isNaN(c)))) ||\r\n              ((a = a.copy()),\r\n              (b = a),\r\n              this.Qh()\r\n                ? (b = !1)\r\n                : ((this.jg = b),\r\n                  (this.F |= 2097152),\r\n                  !1 === Hj(this) &&\r\n                    (Oo(this),\r\n                    (c = this.ra),\r\n                    c.o() &&\r\n                      ((e = c.copy()),\r\n                      c.h(c.x + (b.x - d.x), c.y + (b.y - d.y)),\r\n                      So(this, this.diagram, c, e),\r\n                      this.g(\"position\", e, c))),\r\n                  (b = !0)),\r\n              b && this.g(\"location\", d.copy(), a.copy()));\r\n          },\r\n        },\r\n        category: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Uf;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Uf;\r\n            if (b !== a) {\r\n              A(a, \"string\", S, \"category\");\r\n              var c = this.diagram,\r\n                d = this.data,\r\n                e = null;\r\n              if (null !== c && null !== d && !(this instanceof Pe)) {\r\n                var f = c.model.undoManager;\r\n                f.isEnabled &&\r\n                  !f.isUndoingRedoing &&\r\n                  ((e = this.clone()), e.$.addAll(this.$));\r\n              }\r\n              this.Uf = a;\r\n              this.g(\"category\", b, a);\r\n              null === c || null === d || this instanceof Pe\r\n                ? this instanceof Pe &&\r\n                  ((e = this.adornedPart),\r\n                  null !== e &&\r\n                    ((a = e.Rf),\r\n                    null !== a && a.remove(b),\r\n                    e.Ih(this.category, this)))\r\n                : ((f = c.model),\r\n                  f.undoManager.isUndoingRedoing ||\r\n                    (this.Qh()\r\n                      ? (c.partManager.setLinkCategoryForData(d, a),\r\n                        (c = c.partManager.findLinkTemplateForCategory(a)),\r\n                        null !== c &&\r\n                          (Ng(c),\r\n                          (c = c.copy()),\r\n                          null !== c && Vo(this, c, b, a)))\r\n                      : (null !== f && f.Pq(d, a),\r\n                        (c = cp(c.partManager, d, a)),\r\n                        null !== c &&\r\n                          (Ng(c),\r\n                          (c = c.copy()),\r\n                          null === c ||\r\n                            c instanceof Q ||\r\n                            ((d = this.location.copy()),\r\n                            Vo(this, c, b, a),\r\n                            this.location.o() || (this.location = d)))),\r\n                    null !== e &&\r\n                      ((b = this.clone()),\r\n                      b.$.addAll(this.$),\r\n                      this.g(\"self\", e, b))));\r\n            }\r\n          },\r\n        },\r\n        self: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this;\r\n          },\r\n          set: function (a) {\r\n            Vo(this, a, this.category, a.category);\r\n          },\r\n        },\r\n        copyable: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.F & 1);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.F & 1);\r\n            b !== a &&\r\n              (F && A(a, \"boolean\", S, \"copyable\"),\r\n              (this.F ^= 1),\r\n              this.g(\"copyable\", b, a));\r\n          },\r\n        },\r\n        deletable: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.F & 2);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.F & 2);\r\n            b !== a &&\r\n              (F && A(a, \"boolean\", S, \"deletable\"),\r\n              (this.F ^= 2),\r\n              this.g(\"deletable\", b, a));\r\n          },\r\n        },\r\n        textEditable: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.F & 4);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.F & 4);\r\n            b !== a &&\r\n              (F && A(a, \"boolean\", S, \"textEditable\"),\r\n              (this.F ^= 4),\r\n              this.g(\"textEditable\", b, a),\r\n              this.Rb());\r\n          },\r\n        },\r\n        groupable: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.F & 8);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.F & 8);\r\n            b !== a &&\r\n              (F && A(a, \"boolean\", S, \"groupable\"),\r\n              (this.F ^= 8),\r\n              this.g(\"groupable\", b, a));\r\n          },\r\n        },\r\n        movable: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.F & 16);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.F & 16);\r\n            b !== a &&\r\n              (F && A(a, \"boolean\", S, \"movable\"),\r\n              (this.F ^= 16),\r\n              this.g(\"movable\", b, a));\r\n          },\r\n        },\r\n        selectionAdorned: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return 0 !== (this.F & 32);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.F & 32);\r\n            b !== a &&\r\n              (F && A(a, \"boolean\", S, \"selectionAdorned\"),\r\n              (this.F ^= 32),\r\n              this.g(\"selectionAdorned\", b, a),\r\n              this.Rb());\r\n          },\r\n        },\r\n        isInDocumentBounds: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.F & 64);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.F & 64);\r\n            if (b !== a) {\r\n              F && A(a, \"boolean\", S, \"isInDocumentBounds\");\r\n              this.F ^= 64;\r\n              var c = this.diagram;\r\n              null !== c && c.Ya();\r\n              this.g(\"isInDocumentBounds\", b, a);\r\n            }\r\n          },\r\n        },\r\n        isLayoutPositioned: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.F & 128);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.F & 128);\r\n            b !== a &&\r\n              (F && A(a, \"boolean\", S, \"isLayoutPositioned\"),\r\n              (this.F ^= 128),\r\n              this.g(\"isLayoutPositioned\", b, a),\r\n              this.D(a ? 4 : 8));\r\n          },\r\n        },\r\n        selectable: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.F & 256);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.F & 256);\r\n            b !== a &&\r\n              (F && A(a, \"boolean\", S, \"selectable\"),\r\n              (this.F ^= 256),\r\n              this.g(\"selectable\", b, a),\r\n              this.Rb());\r\n          },\r\n        },\r\n        reshapable: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.F & 512);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.F & 512);\r\n            b !== a &&\r\n              (F && A(a, \"boolean\", S, \"reshapable\"),\r\n              (this.F ^= 512),\r\n              this.g(\"reshapable\", b, a),\r\n              this.Rb());\r\n          },\r\n        },\r\n        resizable: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.F & 1024);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.F & 1024);\r\n            b !== a &&\r\n              (F && A(a, \"boolean\", S, \"resizable\"),\r\n              (this.F ^= 1024),\r\n              this.g(\"resizable\", b, a),\r\n              this.Rb());\r\n          },\r\n        },\r\n        rotatable: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.F & 2048);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.F & 2048);\r\n            b !== a &&\r\n              (F && A(a, \"boolean\", S, \"rotatable\"),\r\n              (this.F ^= 2048),\r\n              this.g(\"rotatable\", b, a),\r\n              this.Rb());\r\n          },\r\n        },\r\n        isSelected: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.F & 4096);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.F & 4096);\r\n            if (b !== a) {\r\n              F && A(a, \"boolean\", S, \"isSelected\");\r\n              var c = this.diagram;\r\n              if (\r\n                !a ||\r\n                (this.canSelect() &&\r\n                  !(null !== c && c.selection.count >= c.maxSelectionCount))\r\n              ) {\r\n                this.F ^= 4096;\r\n                var d = !1;\r\n                if (null !== c) {\r\n                  d = c.skipsUndoManager;\r\n                  c.skipsUndoManager = !0;\r\n                  var e = c.selection;\r\n                  e.ka();\r\n                  a ? e.add(this) : e.remove(this);\r\n                  e.freeze();\r\n                }\r\n                this.g(\"isSelected\", b, a);\r\n                this.Rb();\r\n                a = this.selectionChanged;\r\n                null !== a && a(this);\r\n                null !== c && (c.cc(), (c.skipsUndoManager = d));\r\n              }\r\n            }\r\n          },\r\n        },\r\n        isHighlighted: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.F & 524288);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.F & 524288);\r\n            if (b !== a) {\r\n              F && A(a, \"boolean\", S, \"isHighlighted\");\r\n              this.F ^= 524288;\r\n              var c = this.diagram;\r\n              null !== c &&\r\n                ((c = c.highlighteds),\r\n                c.ka(),\r\n                a ? c.add(this) : c.remove(this),\r\n                c.freeze());\r\n              this.g(\"isHighlighted\", b, a);\r\n              this.R();\r\n              a = this.highlightedChanged;\r\n              null !== a && a(this);\r\n            }\r\n          },\r\n        },\r\n        isShadowed: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.F & 8192);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.F & 8192);\r\n            b !== a &&\r\n              (F && A(a, \"boolean\", S, \"isShadowed\"),\r\n              (this.F ^= 8192),\r\n              this.g(\"isShadowed\", b, a),\r\n              this.R());\r\n          },\r\n        },\r\n        isAnimated: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.F & 262144);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.F & 262144);\r\n            b !== a &&\r\n              (F && A(a, \"boolean\", S, \"isAnimated\"),\r\n              (this.F ^= 262144),\r\n              this.g(\"isAnimated\", b, a));\r\n          },\r\n        },\r\n        highlightedChanged: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.bo;\r\n          },\r\n          set: function (a) {\r\n            var b = this.bo;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", S, \"highlightedChanged\"),\r\n              (this.bo = a),\r\n              this.g(\"highlightedChanged\", b, a));\r\n          },\r\n        },\r\n        selectionObjectName: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Fp;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Fp;\r\n            b !== a &&\r\n              (F && A(a, \"string\", S, \"selectionObjectName\"),\r\n              (this.Fp = a),\r\n              (this.vh = null),\r\n              this.g(\"selectionObjectName\", b, a));\r\n          },\r\n        },\r\n        selectionAdornmentTemplate: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Dp;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Dp;\r\n            b !== a &&\r\n              (F && w(a, Pe, S, \"selectionAdornmentTemplate\"),\r\n              (this.Dp = a),\r\n              this.g(\"selectionAdornmentTemplate\", b, a));\r\n          },\r\n        },\r\n        selectionObject: {\r\n          configurable: !0,\r\n          get: function () {\r\n            if (null === this.vh) {\r\n              var a = this.selectionObjectName;\r\n              null !== a && \"\" !== a\r\n                ? ((a = this.cb(a)),\r\n                  null !== a ? (this.vh = a) : (this.vh = this))\r\n                : this instanceof Q\r\n                ? ((a = this.path),\r\n                  null !== a ? (this.vh = a) : (this.vh = this))\r\n                : (this.vh = this);\r\n            }\r\n            return this.vh;\r\n          },\r\n        },\r\n        selectionChanged: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ep;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Ep;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", S, \"selectionChanged\"),\r\n              (this.Ep = a),\r\n              this.g(\"selectionChanged\", b, a));\r\n          },\r\n        },\r\n        resizeAdornmentTemplate: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.mp;\r\n          },\r\n          set: function (a) {\r\n            var b = this.mp;\r\n            b !== a &&\r\n              (F && w(a, Pe, S, \"resizeAdornmentTemplate\"),\r\n              (this.mp = a),\r\n              this.g(\"resizeAdornmentTemplate\", b, a));\r\n          },\r\n        },\r\n        resizeObjectName: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.op;\r\n          },\r\n          set: function (a) {\r\n            var b = this.op;\r\n            b !== a &&\r\n              (F && A(a, \"string\", S, \"resizeObjectName\"),\r\n              (this.op = a),\r\n              this.g(\"resizeObjectName\", b, a));\r\n          },\r\n        },\r\n        resizeObject: {\r\n          configurable: !0,\r\n          get: function () {\r\n            var a = this.resizeObjectName;\r\n            return \"\" !== a && ((a = this.cb(a)), null !== a) ? a : this;\r\n          },\r\n        },\r\n        resizeCellSize: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.np;\r\n          },\r\n          set: function (a) {\r\n            var b = this.np;\r\n            b.B(a) ||\r\n              (F && w(a, Jb, S, \"resizeCellSize\"),\r\n              (this.np = a = a.J()),\r\n              this.g(\"resizeCellSize\", b, a));\r\n          },\r\n        },\r\n        rotateAdornmentTemplate: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.qp;\r\n          },\r\n          set: function (a) {\r\n            var b = this.qp;\r\n            b !== a &&\r\n              (F && w(a, Pe, S, \"rotateAdornmentTemplate\"),\r\n              (this.qp = a),\r\n              this.g(\"rotateAdornmentTemplate\", b, a));\r\n          },\r\n        },\r\n        rotateObjectName: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.rp;\r\n          },\r\n          set: function (a) {\r\n            var b = this.rp;\r\n            b !== a &&\r\n              (F && A(a, \"string\", S, \"rotateObjectName\"),\r\n              (this.rp = a),\r\n              this.g(\"rotateObjectName\", b, a));\r\n          },\r\n        },\r\n        rotateObject: {\r\n          configurable: !0,\r\n          get: function () {\r\n            var a = this.rotateObjectName;\r\n            return \"\" !== a && ((a = this.cb(a)), null !== a) ? a : this;\r\n          },\r\n        },\r\n        rotationSpot: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.sp;\r\n          },\r\n          set: function (a) {\r\n            var b = this.sp;\r\n            b.B(a) ||\r\n              (F &&\r\n                (w(a, M, S, \"rotationSpot\"),\r\n                a === kd ||\r\n                  a.$a() ||\r\n                  v(\r\n                    \"Part.rotationSpot must be a specific Spot value or Spot.Default, not: \" +\r\n                      a\r\n                  )),\r\n              (this.sp = a = a.J()),\r\n              this.g(\"rotationSpot\", b, a));\r\n          },\r\n        },\r\n        text: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Xb;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Xb;\r\n            b !== a &&\r\n              (F && A(a, \"string\", S, \"text\"),\r\n              (this.Xb = a),\r\n              this.g(\"text\", b, a));\r\n          },\r\n        },\r\n        containingGroup: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ii;\r\n          },\r\n          set: function (a) {\r\n            if (this.$b()) {\r\n              var b = this.ii;\r\n              if (b !== a) {\r\n                F && null !== a && w(a, Kf, S, \"containingGroup\");\r\n                null === a ||\r\n                  (this !== a && !a.be(this)) ||\r\n                  (this === a &&\r\n                    v(\r\n                      \"Cannot make a Group a member of itself: \" +\r\n                        this.toString()\r\n                    ),\r\n                  v(\r\n                    \"Cannot make a Group indirectly contain itself: \" +\r\n                      this.toString() +\r\n                      \" already contains \" +\r\n                      a.toString()\r\n                  ));\r\n                this.D(2);\r\n                var c = this.diagram;\r\n                null !== b\r\n                  ? Zo(b, this)\r\n                  : this instanceof Kf && null !== c && c.Ri.remove(this);\r\n                this.ii = a;\r\n                null !== a\r\n                  ? Yo(a, this)\r\n                  : this instanceof Kf && null !== c && c.Ri.add(this);\r\n                this.D(1);\r\n                if (null !== c) {\r\n                  var d = this.data,\r\n                    e = c.model;\r\n                  if (null !== d && e.ij()) {\r\n                    var f = e.pa(null !== a ? a.data : null);\r\n                    e.Ot(d, f);\r\n                  }\r\n                }\r\n                d = this.containingGroupChanged;\r\n                null !== d &&\r\n                  ((e = !0),\r\n                  null !== c && ((e = c.fa), (c.fa = !0)),\r\n                  d(this, b, a),\r\n                  null !== c && (c.fa = e));\r\n                if (this instanceof Kf)\r\n                  for (\r\n                    c = new H(), gl(c, this, !0, 0, !0), c = c.iterator;\r\n                    c.next();\r\n\r\n                  )\r\n                    if (((d = c.value), d instanceof U))\r\n                      for (d = d.linksConnected; d.next(); ) dp(d.value);\r\n                if (this instanceof U) {\r\n                  for (c = this.linksConnected; c.next(); ) dp(c.value);\r\n                  c = this.labeledLink;\r\n                  null !== c && dp(c);\r\n                }\r\n                this.g(\"containingGroup\", b, a);\r\n                null !== a && ((b = a.layer), null !== b && yi(b, -1, a));\r\n              }\r\n            } else\r\n              v(\"cannot set the Part.containingGroup of a Link or Adornment\");\r\n          },\r\n        },\r\n        containingGroupChanged: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.sn;\r\n          },\r\n          set: function (a) {\r\n            var b = this.sn;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", S, \"containingGroupChanged\"),\r\n              (this.sn = a),\r\n              this.g(\"containingGroupChanged\", b, a));\r\n          },\r\n        },\r\n        isTopLevel: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.containingGroup ||\r\n              (this instanceof U && null !== this.labeledLink)\r\n              ? !1\r\n              : !0;\r\n          },\r\n        },\r\n        layoutConditions: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.to;\r\n          },\r\n          set: function (a) {\r\n            var b = this.to;\r\n            b !== a &&\r\n              (F && A(a, \"number\", S, \"layoutConditions\"),\r\n              (this.to = a),\r\n              this.g(\"layoutConditions\", b, a));\r\n          },\r\n        },\r\n        dragComputation: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Jn;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Jn;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", S, \"dragComputation\"),\r\n              (this.Jn = a),\r\n              this.g(\"dragComputation\", b, a));\r\n          },\r\n        },\r\n        shadowOffset: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.Jp;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Jp;\r\n            b.B(a) ||\r\n              (F && w(a, J, S, \"shadowOffset\"),\r\n              (this.Jp = a = a.J()),\r\n              this.R(),\r\n              this.g(\"shadowOffset\", b, a));\r\n          },\r\n        },\r\n        shadowColor: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ip;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Ip;\r\n            b !== a &&\r\n              (F && A(a, \"string\", S, \"shadowColor\"),\r\n              (this.Ip = a),\r\n              this.R(),\r\n              this.g(\"shadowColor\", b, a));\r\n          },\r\n        },\r\n        shadowBlur: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.mf;\r\n          },\r\n          set: function (a) {\r\n            var b = this.mf;\r\n            b !== a &&\r\n              (F && A(a, \"number\", S, \"shadowBlur\"),\r\n              (this.mf = a),\r\n              this.R(),\r\n              this.g(\"shadowBlur\", b, a));\r\n          },\r\n        },\r\n      });\r\n      S.prototype.invalidateLayout = S.prototype.D;\r\n      S.prototype.findCommonContainingGroup = S.prototype.Qx;\r\n      S.prototype.isMemberOf = S.prototype.be;\r\n      S.prototype.findTopLevelPart = S.prototype.Gz;\r\n      S.prototype.findSubGraphLevel = S.prototype.Dz;\r\n      S.prototype.ensureBounds = S.prototype.Eb;\r\n      S.prototype.getDocumentBounds = S.prototype.tq;\r\n      S.prototype.getRelativePoint = S.prototype.Ef;\r\n      S.prototype.findObject = S.prototype.cb;\r\n      S.prototype.moveTo = S.prototype.moveTo;\r\n      S.prototype.invalidateAdornments = S.prototype.Rb;\r\n      S.prototype.clearAdornments = S.prototype.fk;\r\n      S.prototype.removeAdornment = S.prototype.Kf;\r\n      S.prototype.addAdornment = S.prototype.Ih;\r\n      S.prototype.findAdornment = S.prototype.nk;\r\n      S.prototype.updateTargetBindings = S.prototype.Fa;\r\n      var Wo = !1;\r\n      S.className = \"Part\";\r\n      S.LayoutNone = 0;\r\n      S.LayoutAdded = 1;\r\n      S.LayoutRemoved = 2;\r\n      S.LayoutShown = 4;\r\n      S.LayoutHidden = 8;\r\n      S.LayoutNodeSized = 16;\r\n      S.LayoutGroupLayout = 32;\r\n      S.LayoutNodeReplaced = 64;\r\n      S.LayoutStandard = 127;\r\n      S.LayoutAll = 16777215;\r\n\r\n      function Pe(a) {\r\n        S.call(this, a);\r\n        this.F &= -257;\r\n        this.mh = \"Adornment\";\r\n        this.he = null;\r\n        this.gx = 0;\r\n        this.yx = !1;\r\n        this.l = [];\r\n        this.Qa = null;\r\n      }\r\n      la(Pe, S);\r\n      Pe.prototype.toString = function () {\r\n        var a = this.adornedPart;\r\n        return (\r\n          \"Adornment(\" + this.category + \")\" + (null !== a ? a.toString() : \"\")\r\n        );\r\n      };\r\n      Pe.prototype.updateRelationshipsFromData = function () {};\r\n      Pe.prototype.wk = function (a) {\r\n        var b = this.adornedObject.part;\r\n        if (b instanceof Q && this.adornedObject instanceof $f) {\r\n          var c = b.path;\r\n          b.wk(a);\r\n          a = c.geometry;\r\n          b = this.$.j;\r\n          c = b.length;\r\n          for (var d = 0; d < c; d++) {\r\n            var e = b[d];\r\n            e.isPanelMain && e instanceof $f && (e.ua = a);\r\n          }\r\n        }\r\n      };\r\n      Pe.prototype.jj = function () {\r\n        var a = this.he;\r\n        if (null === a) return !0;\r\n        a = a.part;\r\n        return null === a || !Hj(a);\r\n      };\r\n      Pe.prototype.$b = function () {\r\n        return !1;\r\n      };\r\n      Pe.prototype.Dk = function (a, b, c, d, e, f, g) {\r\n        if (a === Fe && \"elements\" === b)\r\n          if (e instanceof Mg)\r\n            null === this.Qa\r\n              ? (this.Qa = e)\r\n              : F &&\r\n                this.Qa !== e &&\r\n                v(\r\n                  \"Cannot insert a second Placeholder into the visual tree of an Adornment.\"\r\n                );\r\n          else {\r\n            if (e instanceof V) {\r\n              var h = e.rm(function (a) {\r\n                return a instanceof Mg;\r\n              });\r\n              h instanceof Mg &&\r\n                (null === this.Qa\r\n                  ? (this.Qa = h)\r\n                  : F &&\r\n                    this.Qa !== h &&\r\n                    v(\r\n                      \"Cannot insert a second Placeholder into the visual tree of an Adornment.\"\r\n                    ));\r\n            }\r\n          }\r\n        else\r\n          a === Ge &&\r\n            \"elements\" === b &&\r\n            null !== this.Qa &&\r\n            (d === this.Qa\r\n              ? (this.Qa = null)\r\n              : d instanceof V && this.Qa.Mg(d) && (this.Qa = null));\r\n        S.prototype.Dk.call(this, a, b, c, d, e, f, g);\r\n      };\r\n      Pe.prototype.updateAdornments = function () {};\r\n      Pe.prototype.lk = function () {};\r\n      ma.Object.defineProperties(Pe.prototype, {\r\n        placeholder: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Qa;\r\n          },\r\n        },\r\n        adornedObject: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.he;\r\n          },\r\n          set: function (a) {\r\n            F && null !== a && w(a, N, S, \"adornedObject:value\");\r\n            var b = this.adornedPart,\r\n              c = null;\r\n            null !== a && (c = a.part);\r\n            null === b || (null !== a && b === c) || b.Kf(this.category);\r\n            this.he = a;\r\n            null !== c && c.Ih(this.category, this);\r\n          },\r\n        },\r\n        adornedPart: {\r\n          configurable: !0,\r\n          get: function () {\r\n            var a = this.he;\r\n            return null !== a ? a.part : null;\r\n          },\r\n        },\r\n        containingGroup: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return null;\r\n          },\r\n        },\r\n      });\r\n      Pe.className = \"Adornment\";\r\n\r\n      function U(a) {\r\n        S.call(this, a);\r\n        this.T = 13;\r\n        this.bb = new G();\r\n        this.$p = this.Cl = this.Ci = this.vo = this.uo = null;\r\n        this.Rk = Fc;\r\n        this.xc = this.Te = null;\r\n        this.jp = ep;\r\n        this.Gh = !1;\r\n      }\r\n      la(U, S);\r\n      U.prototype.cloneProtected = function (a) {\r\n        S.prototype.cloneProtected.call(this, a);\r\n        a.T = this.T;\r\n        a.T = this.T & -17;\r\n        a.uo = this.uo;\r\n        a.vo = this.vo;\r\n        a.Ci = this.Ci;\r\n        a.$p = this.$p;\r\n        a.Rk = this.Rk.J();\r\n        a.jp = this.jp;\r\n      };\r\n      t = U.prototype;\r\n      t.Bf = function (a) {\r\n        S.prototype.Bf.call(this, a);\r\n        a.nd();\r\n        a.Te = this.Te;\r\n        a.xc = null;\r\n      };\r\n\r\n      function fp(a, b) {\r\n        null !== b && (null === a.Te && (a.Te = new H()), a.Te.add(b));\r\n      }\r\n\r\n      function gp(a, b, c, d) {\r\n        if (null === b || null === a.Te) return null;\r\n        for (var e = a.Te.iterator; e.next(); ) {\r\n          var f = e.value;\r\n          if (\r\n            (f.Dt === a && f.Pv === b && f.iy === c && f.jy === d) ||\r\n            (f.Dt === b && f.Pv === a && f.iy === d && f.jy === c)\r\n          )\r\n            return f;\r\n        }\r\n        return null;\r\n      }\r\n      t.eA = function (a, b, c) {\r\n        if (void 0 === b || null === b) b = \"\";\r\n        if (void 0 === c || null === c) c = \"\";\r\n        a = gp(this, a, b, c);\r\n        null !== a && a.wm();\r\n      };\r\n      t.Dk = function (a, b, c, d, e, f, g) {\r\n        a === Fe && \"elements\" === b\r\n          ? (this.xc = null)\r\n          : a === Ge && \"elements\" === b && (this.xc = null);\r\n        S.prototype.Dk.call(this, a, b, c, d, e, f, g);\r\n      };\r\n      t.nd = function (a) {\r\n        void 0 === a && (a = null);\r\n        for (var b = this.linksConnected; b.next(); ) {\r\n          var c = b.value;\r\n          (null !== a && a.contains(c)) ||\r\n            (hp(this, c.fromPort), hp(this, c.toPort), c.Ta());\r\n        }\r\n      };\r\n\r\n      function Dl(a, b) {\r\n        for (var c = a.linksConnected; c.next(); ) {\r\n          var d = c.value;\r\n          if (d.fromPort === b || d.toPort === b)\r\n            hp(a, d.fromPort), hp(a, d.toPort), d.Ta();\r\n        }\r\n      }\r\n\r\n      function hp(a, b) {\r\n        null !== b &&\r\n          ((b = b.ip),\r\n          null !== b && b.wm(),\r\n          (a = a.containingGroup),\r\n          null === a || a.isSubGraphExpanded || hp(a, a.port));\r\n      }\r\n      t.jj = function () {\r\n        return !0;\r\n      };\r\n      U.prototype.getAvoidableRect = function (a) {\r\n        a.set(this.actualBounds);\r\n        a.iq(this.Rk);\r\n        return a;\r\n      };\r\n      U.prototype.findVisibleNode = function () {\r\n        for (var a = this; null !== a && !a.isVisible(); )\r\n          a = a.containingGroup;\r\n        return a;\r\n      };\r\n      U.prototype.isVisible = function () {\r\n        if (!S.prototype.isVisible.call(this)) return !1;\r\n        var a = !0,\r\n          b = Ei,\r\n          c = this.diagram;\r\n        if (null !== c) {\r\n          if (c.animationManager.Ft(this)) return !0;\r\n          a = c.isTreePathToChildren;\r\n          b = c.treeCollapsePolicy;\r\n        }\r\n        if (b === Ei) {\r\n          if (((a = this.Kg()), null !== a && !a.isTreeExpanded)) return !1;\r\n        } else if (b === Vk) {\r\n          if (\r\n            ((a = a ? this.yv() : this.zv()),\r\n            0 < a.count &&\r\n              a.all(function (a) {\r\n                return !a.isTreeExpanded;\r\n              }))\r\n          )\r\n            return !1;\r\n        } else if (\r\n          b === Wk &&\r\n          ((a = a ? this.yv() : this.zv()),\r\n          0 < a.count &&\r\n            a.any(function (a) {\r\n              return !a.isTreeExpanded;\r\n            }))\r\n        )\r\n          return !1;\r\n        a = this.labeledLink;\r\n        return null !== a ? a.isVisible() : !0;\r\n      };\r\n      t = U.prototype;\r\n      t.Tb = function (a) {\r\n        S.prototype.Tb.call(this, a);\r\n        for (var b = this.linksConnected; b.next(); ) b.value.Tb(a);\r\n      };\r\n      t.wv = function (a) {\r\n        void 0 === a && (a = null);\r\n        if (null === a) return this.bb.iterator;\r\n        F && A(a, \"string\", U, \"findLinksConnected:pid\");\r\n        var b = new ob(this.bb),\r\n          c = this;\r\n        b.predicate = function (b) {\r\n          return (\r\n            (b.fromNode === c && b.fromPortId === a) ||\r\n            (b.toNode === c && b.toPortId === a)\r\n          );\r\n        };\r\n        return b;\r\n      };\r\n      t.qq = function (a) {\r\n        void 0 === a && (a = null);\r\n        F && null !== a && A(a, \"string\", U, \"findLinksOutOf:pid\");\r\n        var b = new ob(this.bb),\r\n          c = this;\r\n        b.predicate = function (b) {\r\n          return b.fromNode !== c ? !1 : null === a ? !0 : b.fromPortId === a;\r\n        };\r\n        return b;\r\n      };\r\n      t.zd = function (a) {\r\n        void 0 === a && (a = null);\r\n        F && null !== a && A(a, \"string\", U, \"findLinksInto:pid\");\r\n        var b = new ob(this.bb),\r\n          c = this;\r\n        b.predicate = function (b) {\r\n          return b.toNode !== c ? !1 : null === a ? !0 : b.toPortId === a;\r\n        };\r\n        return b;\r\n      };\r\n      t.xv = function (a) {\r\n        void 0 === a && (a = null);\r\n        F && null !== a && A(a, \"string\", U, \"findNodesConnected:pid\");\r\n        for (var b = null, c = null, d = this.bb.iterator; d.next(); ) {\r\n          var e = d.value;\r\n          if (e.fromNode === this) {\r\n            if (null === a || e.fromPortId === a)\r\n              (e = e.toNode),\r\n                null !== b\r\n                  ? b.add(e)\r\n                  : null !== c && c !== e\r\n                  ? ((b = new H()), b.add(c), b.add(e))\r\n                  : (c = e);\r\n          } else\r\n            e.toNode !== this ||\r\n              (null !== a && e.toPortId !== a) ||\r\n              ((e = e.fromNode),\r\n              null !== b\r\n                ? b.add(e)\r\n                : null !== c && c !== e\r\n                ? ((b = new H()), b.add(c), b.add(e))\r\n                : (c = e));\r\n        }\r\n        return null !== b ? b.iterator : null !== c ? new nb(c) : mb;\r\n      };\r\n      t.zv = function (a) {\r\n        void 0 === a && (a = null);\r\n        F && null !== a && A(a, \"string\", U, \"findNodesOutOf:pid\");\r\n        for (var b = null, c = null, d = this.bb.iterator; d.next(); ) {\r\n          var e = d.value;\r\n          e.fromNode !== this ||\r\n            (null !== a && e.fromPortId !== a) ||\r\n            ((e = e.toNode),\r\n            null !== b\r\n              ? b.add(e)\r\n              : null !== c && c !== e\r\n              ? ((b = new H()), b.add(c), b.add(e))\r\n              : (c = e));\r\n        }\r\n        return null !== b ? b.iterator : null !== c ? new nb(c) : mb;\r\n      };\r\n      t.yv = function (a) {\r\n        void 0 === a && (a = null);\r\n        F && null !== a && A(a, \"string\", U, \"findNodesInto:pid\");\r\n        for (var b = null, c = null, d = this.bb.iterator; d.next(); ) {\r\n          var e = d.value;\r\n          e.toNode !== this ||\r\n            (null !== a && e.toPortId !== a) ||\r\n            ((e = e.fromNode),\r\n            null !== b\r\n              ? b.add(e)\r\n              : null !== c && c !== e\r\n              ? ((b = new H()), b.add(c), b.add(e))\r\n              : (c = e));\r\n        }\r\n        return null !== b ? b.iterator : null !== c ? new nb(c) : mb;\r\n      };\r\n      t.yz = function (a, b, c) {\r\n        void 0 === b && (b = null);\r\n        void 0 === c && (c = null);\r\n        F &&\r\n          (w(a, U, U, \"findLinksBetween:othernode\"),\r\n          null !== b && A(b, \"string\", U, \"findLinksBetween:pid\"),\r\n          null !== c && A(c, \"string\", U, \"findLinksBetween:otherpid\"));\r\n        var d = new ob(this.bb),\r\n          e = this;\r\n        d.predicate = function (d) {\r\n          return (d.fromNode !== e ||\r\n            d.toNode !== a ||\r\n            (null !== b && d.fromPortId !== b) ||\r\n            (null !== c && d.toPortId !== c)) &&\r\n            (d.fromNode !== a ||\r\n              d.toNode !== e ||\r\n              (null !== c && d.fromPortId !== c) ||\r\n              (null !== b && d.toPortId !== b))\r\n            ? !1\r\n            : !0;\r\n        };\r\n        return d;\r\n      };\r\n      t.zz = function (a, b, c) {\r\n        void 0 === b && (b = null);\r\n        void 0 === c && (c = null);\r\n        F &&\r\n          (w(a, U, U, \"findLinksTo:othernode\"),\r\n          null !== b && A(b, \"string\", U, \"findLinksTo:pid\"),\r\n          null !== c && A(c, \"string\", U, \"findLinksTo:otherpid\"));\r\n        var d = new ob(this.bb),\r\n          e = this;\r\n        d.predicate = function (d) {\r\n          return d.fromNode !== e ||\r\n            d.toNode !== a ||\r\n            (null !== b && d.fromPortId !== b) ||\r\n            (null !== c && d.toPortId !== c)\r\n            ? !1\r\n            : !0;\r\n        };\r\n        return d;\r\n      };\r\n\r\n      function ip(a, b, c) {\r\n        hp(a, c);\r\n        var d = a.bb.contains(b);\r\n        d || a.bb.add(b);\r\n        if (!d || b.fromNode === b.toNode) {\r\n          var e = a.linkConnected;\r\n          if (null !== e) {\r\n            var f = !0,\r\n              g = a.diagram;\r\n            null !== g && ((f = g.fa), (g.fa = !0));\r\n            e(a, b, c);\r\n            null !== g && (g.fa = f);\r\n          }\r\n        }\r\n        !d &&\r\n          b.isTreeLink &&\r\n          ((c = b.fromNode),\r\n          (b = b.toNode),\r\n          null !== c &&\r\n            null !== b &&\r\n            c !== b &&\r\n            ((d = !0),\r\n            (a = a.diagram),\r\n            null !== a && (d = a.isTreePathToChildren),\r\n            (e = d ? b : c),\r\n            (f = d ? c : b),\r\n            e.Gh || (e.Gh = f),\r\n            !f.isTreeLeaf ||\r\n              (null !== a && a.undoManager.isUndoingRedoing) ||\r\n              (d\r\n                ? c === f && (f.isTreeLeaf = !1)\r\n                : b === f && (f.isTreeLeaf = !1))));\r\n      }\r\n\r\n      function jp(a, b, c) {\r\n        hp(a, c);\r\n        var d = a.bb.remove(b),\r\n          e = null;\r\n        if (d || b.toNode === b.fromNode) {\r\n          var f = a.linkDisconnected;\r\n          e = a.diagram;\r\n          if (null !== f) {\r\n            var g = !0;\r\n            null !== e && ((g = e.fa), (e.fa = !0));\r\n            f(a, b, c);\r\n            null !== e && (e.fa = g);\r\n          }\r\n        }\r\n        d &&\r\n          b.isTreeLink &&\r\n          ((c = !0),\r\n          null !== e && (c = e.isTreePathToChildren),\r\n          (a = c ? b.toNode : b.fromNode),\r\n          (b = c ? b.fromNode : b.toNode),\r\n          null !== a && (a.Gh = !1),\r\n          null === b ||\r\n            b.isTreeLeaf ||\r\n            (0 === b.bb.count\r\n              ? ((b.Gh = null),\r\n                (null !== e && e.undoManager.isUndoingRedoing) ||\r\n                  (b.isTreeLeaf = !0))\r\n              : Uk(b)));\r\n      }\r\n\r\n      function Uk(a) {\r\n        a.Gh = !1;\r\n        if (0 !== a.bb.count) {\r\n          var b = !0,\r\n            c = a.diagram;\r\n          if (null === c || !c.undoManager.isUndoingRedoing) {\r\n            null !== c && (b = c.isTreePathToChildren);\r\n            for (c = a.bb.iterator; c.next(); ) {\r\n              var d = c.value;\r\n              if (d.isTreeLink)\r\n                if (b) {\r\n                  if (d.fromNode === a) {\r\n                    a.isTreeLeaf = !1;\r\n                    return;\r\n                  }\r\n                } else if (d.toNode === a) {\r\n                  a.isTreeLeaf = !1;\r\n                  return;\r\n                }\r\n            }\r\n            a.isTreeLeaf = !0;\r\n          }\r\n        }\r\n      }\r\n      U.prototype.updateRelationshipsFromData = function () {\r\n        var a = this.diagram;\r\n        null !== a && a.partManager.updateRelationshipsFromData(this);\r\n      };\r\n      t = U.prototype;\r\n      t.wq = function (a) {\r\n        S.prototype.wq.call(this, a);\r\n        a || (Uk(this), (a = this.Cl), null !== a && kp(a, this));\r\n      };\r\n      t.xq = function (a) {\r\n        S.prototype.xq.call(this, a);\r\n        a ||\r\n          ((a = this.Cl),\r\n          null !== a && null !== a.ed && (a.ed.remove(this), a.v()));\r\n      };\r\n      t.lk = function () {\r\n        if (0 < this.bb.count) {\r\n          var a = this.diagram;\r\n          if (null !== a)\r\n            for (\r\n              var b =\r\n                  null !== a.commandHandler\r\n                    ? a.commandHandler.deletesConnectedLinks\r\n                    : !0,\r\n                c = this.bb.copy().iterator;\r\n              c.next();\r\n\r\n            ) {\r\n              var d = c.value;\r\n              b\r\n                ? a.remove(d)\r\n                : (d.fromNode === this && (d.fromNode = null),\r\n                  d.toNode === this && (d.toNode = null));\r\n            }\r\n        }\r\n        this.labeledLink = null;\r\n        S.prototype.lk.call(this);\r\n      };\r\n      t.mt = function (a) {\r\n        F && A(a, \"string\", U, \"findPort:pid\");\r\n        if (null === this.xc) {\r\n          if (\"\" === a && !1 === this.Oh) return this;\r\n          lp(this);\r\n        }\r\n        var b = this.xc.K(a);\r\n        return null !== b || (\"\" !== a && ((b = this.xc.K(\"\")), null !== b))\r\n          ? b\r\n          : this;\r\n      };\r\n\r\n      function lp(a) {\r\n        null === a.xc ? (a.xc = new Db()) : a.xc.clear();\r\n        a.Hk(a, function (a, c) {\r\n          hm(a, c);\r\n        });\r\n        0 === a.xc.count && a.xc.add(\"\", a);\r\n      }\r\n\r\n      function hm(a, b) {\r\n        var c = b.portId;\r\n        null !== c && null !== a.xc && a.xc.add(c, b);\r\n      }\r\n\r\n      function gm(a, b, c) {\r\n        var d = b.portId;\r\n        if (\r\n          null !== d &&\r\n          (null !== a.xc && a.xc.remove(d), (b = a.diagram), null !== b && c)\r\n        ) {\r\n          c = null;\r\n          for (a = a.wv(d); a.next(); )\r\n            (d = a.value), null === c && (c = La()), c.push(d);\r\n          if (null !== c) {\r\n            for (a = 0; a < c.length; a++) b.remove(c[a]);\r\n            Na(c);\r\n          }\r\n        }\r\n      }\r\n      t.gA = function (a) {\r\n        if (null === a || a === this) return !1;\r\n        var b = !0,\r\n          c = this.diagram;\r\n        null !== c && (b = c.isTreePathToChildren);\r\n        c = this;\r\n        if (b)\r\n          for (; c !== a; ) {\r\n            b = null;\r\n            for (var d = c.bb.iterator; d.next(); ) {\r\n              var e = d.value;\r\n              if (e.isTreeLink && ((b = e.fromNode), b !== c && b !== this))\r\n                break;\r\n            }\r\n            if (b === this || null === b || b === c) return !1;\r\n            c = b;\r\n          }\r\n        else\r\n          for (; c !== a; ) {\r\n            b = null;\r\n            for (\r\n              d = c.bb.iterator;\r\n              d.next() &&\r\n              ((e = d.value),\r\n              !e.isTreeLink || ((b = e.toNode), b === c || b === this));\r\n\r\n            );\r\n            if (b === this || null === b || b === c) return !1;\r\n            c = b;\r\n          }\r\n        return !0;\r\n      };\r\n      t.Kz = function () {\r\n        var a = !0,\r\n          b = this.diagram;\r\n        null !== b && (a = b.isTreePathToChildren);\r\n        b = this;\r\n        if (a)\r\n          for (;;) {\r\n            a = null;\r\n            for (var c = b.bb.iterator; c.next(); ) {\r\n              var d = c.value;\r\n              if (d.isTreeLink && ((a = d.fromNode), a !== b && a !== this))\r\n                break;\r\n            }\r\n            if (a === this) return this;\r\n            if (null === a || a === b) return b;\r\n            b = a;\r\n          }\r\n        else\r\n          for (;;) {\r\n            a = null;\r\n            for (\r\n              c = b.bb.iterator;\r\n              c.next() &&\r\n              ((d = c.value),\r\n              !d.isTreeLink || ((a = d.toNode), a === b || a === this));\r\n\r\n            );\r\n            if (a === this) return this;\r\n            if (null === a || a === b) return b;\r\n            b = a;\r\n          }\r\n      };\r\n      t.vz = function (a) {\r\n        if (null === a) return null;\r\n        F && w(a, U, U, \"findCommonTreeParent:other\");\r\n        if (this === a) return this;\r\n        for (var b = this; null !== b; ) Xo(b, !0), (b = b.Kg());\r\n        var c = null;\r\n        for (b = a; null !== b; ) {\r\n          if (0 !== (b.F & 1048576)) {\r\n            c = b;\r\n            break;\r\n          }\r\n          b = b.Kg();\r\n        }\r\n        for (b = this; null !== b; ) Xo(b, !1), (b = b.Kg());\r\n        return c;\r\n      };\r\n      t.bj = function () {\r\n        var a = !0,\r\n          b = this.diagram;\r\n        null !== b && (a = b.isTreePathToChildren);\r\n        b = this.bb.iterator;\r\n        if (a)\r\n          for (; b.next(); ) {\r\n            if (((a = b.value), a.isTreeLink && a.fromNode !== this)) return a;\r\n          }\r\n        else\r\n          for (; b.next(); )\r\n            if (((a = b.value), a.isTreeLink && a.toNode !== this)) return a;\r\n        return null;\r\n      };\r\n      t.Kg = function () {\r\n        var a = this.Gh;\r\n        if (null === a) return null;\r\n        if (a instanceof U) return a;\r\n        var b = !0;\r\n        a = this.diagram;\r\n        null !== a && (b = a.isTreePathToChildren);\r\n        a = this.bb.iterator;\r\n        if (b)\r\n          for (; a.next(); ) {\r\n            if (((b = a.value), b.isTreeLink && ((b = b.fromNode), b !== this)))\r\n              return (this.Gh = b);\r\n          }\r\n        else\r\n          for (; a.next(); )\r\n            if (((b = a.value), b.isTreeLink && ((b = b.toNode), b !== this)))\r\n              return (this.Gh = b);\r\n        return (this.Gh = null);\r\n      };\r\n      t.Iz = function () {\r\n        function a(b, d) {\r\n          if (null !== b) {\r\n            d.add(b);\r\n            var c = b.bj();\r\n            null !== c && (d.add(c), a(b.Kg(), d));\r\n          }\r\n        }\r\n        var b = new H();\r\n        a(this, b);\r\n        return b;\r\n      };\r\n      t.Hz = function () {\r\n        return mp(this, this);\r\n      };\r\n\r\n      function mp(a, b) {\r\n        b = b.Kg();\r\n        return null === b ? 0 : 1 + mp(a, b);\r\n      }\r\n      t.sq = function () {\r\n        var a = !0,\r\n          b = this.diagram;\r\n        null !== b && (a = b.isTreePathToChildren);\r\n        b = new ob(this.bb);\r\n        var c = this;\r\n        b.predicate = a\r\n          ? function (a) {\r\n              return a.isTreeLink && a.fromNode === c ? !0 : !1;\r\n            }\r\n          : function (a) {\r\n              return a.isTreeLink && a.toNode === c ? !0 : !1;\r\n            };\r\n        return b;\r\n      };\r\n      t.Bv = function () {\r\n        var a = !0,\r\n          b = this.diagram;\r\n        null !== b && (a = b.isTreePathToChildren);\r\n        var c = (b = null),\r\n          d = this.bb.iterator;\r\n        if (a)\r\n          for (; d.next(); )\r\n            (a = d.value),\r\n              a.isTreeLink &&\r\n                a.fromNode === this &&\r\n                ((a = a.toNode),\r\n                null !== b\r\n                  ? b.add(a)\r\n                  : null !== c && c !== a\r\n                  ? ((b = new G()), b.add(c), b.add(a))\r\n                  : (c = a));\r\n        else\r\n          for (; d.next(); )\r\n            (a = d.value),\r\n              a.isTreeLink &&\r\n                a.toNode === this &&\r\n                ((a = a.fromNode),\r\n                null !== b\r\n                  ? b.add(a)\r\n                  : null !== c && c !== a\r\n                  ? ((b = new G()), b.add(c), b.add(a))\r\n                  : (c = a));\r\n        return null !== b ? b.iterator : null !== c ? new nb(c) : mb;\r\n      };\r\n      t.Jz = function (a) {\r\n        void 0 === a && (a = Infinity);\r\n        A(a, \"number\", U, \"findTreeParts:level\");\r\n        var b = new H();\r\n        gl(b, this, !1, a, !0);\r\n        return b;\r\n      };\r\n      U.prototype.collapseTree = function (a) {\r\n        void 0 === a && (a = 1);\r\n        C(a, U, \"collapseTree:level\");\r\n        1 > a && (a = 1);\r\n        var b = this.diagram;\r\n        if (null !== b && !b.Le) {\r\n          b.Le = !0;\r\n          var c = new H();\r\n          c.add(this);\r\n          np(\r\n            this,\r\n            c,\r\n            b.isTreePathToChildren,\r\n            a,\r\n            b,\r\n            this,\r\n            b.treeCollapsePolicy === Ei\r\n          );\r\n          b.Le = !1;\r\n        }\r\n      };\r\n\r\n      function np(a, b, c, d, e, f, g) {\r\n        if (1 < d)\r\n          for (var h = c ? a.qq() : a.zd(); h.next(); ) {\r\n            var k = h.value;\r\n            k.isTreeLink &&\r\n              ((k = k.qt(a)),\r\n              null === k ||\r\n                k === a ||\r\n                b.contains(k) ||\r\n                (b.add(k), np(k, b, c, d - 1, e, f, g)));\r\n          }\r\n        else op(a, b, c, e, f, g);\r\n      }\r\n\r\n      function op(a, b, c, d, e, f) {\r\n        for (\r\n          var g = e === a ? !0 : a.isTreeExpanded, h = c ? a.qq() : a.zd();\r\n          h.next();\r\n\r\n        ) {\r\n          var k = h.value;\r\n          if (k.isTreeLink && ((k = k.qt(a)), null !== k && k !== a)) {\r\n            var l = b.contains(k);\r\n            l || b.add(k);\r\n            g && (f && d.$j(k, e), k.Ph(), k.Tb(!1));\r\n            k.isTreeExpanded &&\r\n              ((k.wasTreeExpanded = k.isTreeExpanded),\r\n              l || op(k, b, c, d, e, f));\r\n          }\r\n        }\r\n        a.isTreeExpanded = !1;\r\n      }\r\n      U.prototype.expandTree = function (a) {\r\n        void 0 === a && (a = 2);\r\n        C(a, U, \"expandTree:level\");\r\n        2 > a && (a = 2);\r\n        var b = this.diagram;\r\n        if (null !== b && !b.Le) {\r\n          b.Le = !0;\r\n          var c = new H();\r\n          c.add(this);\r\n          pp(\r\n            this,\r\n            c,\r\n            b.isTreePathToChildren,\r\n            a,\r\n            b,\r\n            this,\r\n            b.treeCollapsePolicy === Ei\r\n          );\r\n          b.Le = !1;\r\n        }\r\n      };\r\n\r\n      function pp(a, b, c, d, e, f, g) {\r\n        for (\r\n          var h = f === a ? !1 : a.isTreeExpanded, k = c ? a.qq() : a.zd();\r\n          k.next();\r\n\r\n        ) {\r\n          var l = k.value;\r\n          l.isTreeLink &&\r\n            (h || l.Ec || l.Ta(),\r\n            (l = l.qt(a)),\r\n            null !== l &&\r\n              l !== a &&\r\n              !b.contains(l) &&\r\n              (b.add(l),\r\n              h || (l.Tb(!0), l.Ph(), g && e.bk(l, f)),\r\n              2 < d || l.wasTreeExpanded)) &&\r\n            ((l.wasTreeExpanded = !1), pp(l, b, c, d - 1, e, f, g));\r\n        }\r\n        a.isTreeExpanded = !0;\r\n      }\r\n      ma.Object.defineProperties(U.prototype, {\r\n        portSpreading: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.jp;\r\n          },\r\n          set: function (a) {\r\n            var b = this.jp;\r\n            b !== a &&\r\n              (F && hb(a, U, U, \"portSpreading\"),\r\n              (this.jp = a),\r\n              this.g(\"portSpreading\", b, a),\r\n              (a = this.diagram),\r\n              (null !== a && a.undoManager.isUndoingRedoing) || this.nd());\r\n          },\r\n        },\r\n        avoidable: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.T & 8);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.T & 8);\r\n            if (b !== a) {\r\n              F && A(a, \"boolean\", U, \"avoidable\");\r\n              this.T ^= 8;\r\n              var c = this.diagram;\r\n              null !== c && Nk(c, this);\r\n              this.g(\"avoidable\", b, a);\r\n            }\r\n          },\r\n        },\r\n        avoidableMargin: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Rk;\r\n          },\r\n          set: function (a) {\r\n            \"number\" === typeof a\r\n              ? (a = new lc(a))\r\n              : w(a, lc, U, \"avoidableMargin\");\r\n            var b = this.Rk;\r\n            if (!b.B(a)) {\r\n              this.Rk = a = a.J();\r\n              var c = this.diagram;\r\n              null !== c && Nk(c, this);\r\n              this.g(\"avoidableMargin\", b, a);\r\n            }\r\n          },\r\n        },\r\n        linksConnected: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.bb.iterator;\r\n          },\r\n        },\r\n        linkConnected: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.uo;\r\n          },\r\n          set: function (a) {\r\n            var b = this.uo;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", U, \"linkConnected\"),\r\n              (this.uo = a),\r\n              this.g(\"linkConnected\", b, a));\r\n          },\r\n        },\r\n        linkDisconnected: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.vo;\r\n          },\r\n          set: function (a) {\r\n            var b = this.vo;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", U, \"linkDisconnected\"),\r\n              (this.vo = a),\r\n              this.g(\"linkDisconnected\", b, a));\r\n          },\r\n        },\r\n        linkValidation: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ci;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Ci;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", U, \"linkValidation\"),\r\n              (this.Ci = a),\r\n              this.g(\"linkValidation\", b, a));\r\n          },\r\n        },\r\n        isLinkLabel: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.Cl;\r\n          },\r\n        },\r\n        labeledLink: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Cl;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Cl;\r\n            if (b !== a) {\r\n              F && null !== a && w(a, Q, U, \"labeledLink\");\r\n              var c = this.diagram,\r\n                d = this.data;\r\n              if (null !== b) {\r\n                null !== b.ed && (b.ed.remove(this), b.v());\r\n                if (\r\n                  null !== c &&\r\n                  null !== d &&\r\n                  !c.undoManager.isUndoingRedoing\r\n                ) {\r\n                  var e = b.data,\r\n                    f = c.model;\r\n                  if (null !== e && f.ym()) {\r\n                    var g = f.pa(d);\r\n                    void 0 !== g && f.ky(e, g);\r\n                  }\r\n                }\r\n                this.containingGroup = null;\r\n              }\r\n              this.Cl = a;\r\n              null !== a &&\r\n                (kp(a, this),\r\n                null === c ||\r\n                  null === d ||\r\n                  c.undoManager.isUndoingRedoing ||\r\n                  ((e = a.data),\r\n                  (c = c.model),\r\n                  null !== e &&\r\n                    c.ym() &&\r\n                    ((d = c.pa(d)), void 0 !== d && c.ev(e, d))),\r\n                (this.containingGroup = a.containingGroup));\r\n              Rl(this);\r\n              this.g(\"labeledLink\", b, a);\r\n            }\r\n          },\r\n        },\r\n        port: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.mt(\"\");\r\n          },\r\n        },\r\n        ports: {\r\n          configurable: !0,\r\n          get: function () {\r\n            null === this.xc && lp(this);\r\n            return this.xc.iteratorValues;\r\n          },\r\n        },\r\n        isTreeExpanded: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.T & 1);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.T & 1);\r\n            if (b !== a) {\r\n              F && A(a, \"boolean\", U, \"isTreeExpanded\");\r\n              this.T ^= 1;\r\n              var c = this.diagram;\r\n              this.g(\"isTreeExpanded\", b, a);\r\n              b = this.treeExpandedChanged;\r\n              if (null !== b) {\r\n                var d = !0;\r\n                null !== c && ((d = c.fa), (c.fa = !0));\r\n                b(this);\r\n                null !== c && (c.fa = d);\r\n              }\r\n              null !== c && c.undoManager.isUndoingRedoing\r\n                ? this.Tb(a)\r\n                : a\r\n                ? this.expandTree()\r\n                : this.collapseTree();\r\n            }\r\n          },\r\n        },\r\n        wasTreeExpanded: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.T & 2);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.T & 2);\r\n            b !== a &&\r\n              (F && A(a, \"boolean\", U, \"wasTreeExpanded\"),\r\n              (this.T ^= 2),\r\n              this.g(\"wasTreeExpanded\", b, a));\r\n          },\r\n        },\r\n        treeExpandedChanged: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.$p;\r\n          },\r\n          set: function (a) {\r\n            var b = this.$p;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", U, \"treeExpandedChanged\"),\r\n              (this.$p = a),\r\n              this.g(\"treeExpandedChanged\", b, a));\r\n          },\r\n        },\r\n        isTreeLeaf: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.T & 4);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.T & 4);\r\n            b !== a &&\r\n              (F && A(a, \"boolean\", U, \"isTreeLeaf\"),\r\n              (this.T ^= 4),\r\n              this.g(\"isTreeLeaf\", b, a));\r\n          },\r\n        },\r\n      });\r\n      U.prototype.expandTree = U.prototype.expandTree;\r\n      U.prototype.collapseTree = U.prototype.collapseTree;\r\n      U.prototype.findTreeParts = U.prototype.Jz;\r\n      U.prototype.findTreeChildrenNodes = U.prototype.Bv;\r\n      U.prototype.findTreeChildrenLinks = U.prototype.sq;\r\n      U.prototype.findTreeLevel = U.prototype.Hz;\r\n      U.prototype.findTreeParentChain = U.prototype.Iz;\r\n      U.prototype.findTreeParentNode = U.prototype.Kg;\r\n      U.prototype.findTreeParentLink = U.prototype.bj;\r\n      U.prototype.findCommonTreeParent = U.prototype.vz;\r\n      U.prototype.findTreeRoot = U.prototype.Kz;\r\n      U.prototype.isInTreeOf = U.prototype.gA;\r\n      U.prototype.findPort = U.prototype.mt;\r\n      U.prototype.findLinksTo = U.prototype.zz;\r\n      U.prototype.findLinksBetween = U.prototype.yz;\r\n      U.prototype.findNodesInto = U.prototype.yv;\r\n      U.prototype.findNodesOutOf = U.prototype.zv;\r\n      U.prototype.findNodesConnected = U.prototype.xv;\r\n      U.prototype.findLinksInto = U.prototype.zd;\r\n      U.prototype.findLinksOutOf = U.prototype.qq;\r\n      U.prototype.findLinksConnected = U.prototype.wv;\r\n      U.prototype.invalidateConnectedLinks = U.prototype.nd;\r\n      U.prototype.invalidateLinkBundle = U.prototype.eA;\r\n      var qp = new E(U, \"SpreadingNone\", 10),\r\n        ep = new E(U, \"SpreadingEvenly\", 11),\r\n        rp = new E(U, \"SpreadingPacked\", 12);\r\n      U.className = \"Node\";\r\n      U.SpreadingNone = qp;\r\n      U.SpreadingEvenly = ep;\r\n      U.SpreadingPacked = rp;\r\n\r\n      function Kf(a) {\r\n        U.call(this, a);\r\n        this.T |= 4608;\r\n        this.Eo = new H();\r\n        this.Ll = new H();\r\n        this.Qa = this.Sp = this.Di = this.Fo = this.Do = null;\r\n        this.nc = new Si();\r\n        this.nc.group = this;\r\n      }\r\n      la(Kf, U);\r\n      Kf.prototype.cloneProtected = function (a) {\r\n        U.prototype.cloneProtected.call(this, a);\r\n        this.T = this.T & -32769;\r\n        a.Do = this.Do;\r\n        a.Fo = this.Fo;\r\n        a.Di = this.Di;\r\n        a.Sp = this.Sp;\r\n        var b = a.rm(function (a) {\r\n          return a instanceof Mg;\r\n        });\r\n        b instanceof Mg ? (a.Qa = b) : (a.Qa = null);\r\n        null !== this.nc\r\n          ? ((a.nc = this.nc.copy()), (a.nc.group = a))\r\n          : (null !== a.nc && (a.nc.group = null), (a.nc = null));\r\n      };\r\n      t = Kf.prototype;\r\n      t.Bf = function (a) {\r\n        U.prototype.Bf.call(this, a);\r\n        var b = a.pk();\r\n        for (a = a.memberParts; a.next(); ) {\r\n          var c = a.value;\r\n          c.v();\r\n          c.D(8);\r\n          c.fk();\r\n          if (c instanceof U) c.nd(b);\r\n          else if (c instanceof Q)\r\n            for (c = c.labelNodes; c.next(); ) c.value.nd(b);\r\n        }\r\n      };\r\n      t.Dk = function (a, b, c, d, e, f, g) {\r\n        if (a === Fe && \"elements\" === b)\r\n          if (e instanceof Mg)\r\n            null === this.Qa\r\n              ? (this.Qa = e)\r\n              : this.Qa !== e &&\r\n                v(\r\n                  \"Cannot insert a second Placeholder into the visual tree of a Group.\"\r\n                );\r\n          else {\r\n            if (e instanceof V) {\r\n              var h = e.rm(function (a) {\r\n                return a instanceof Mg;\r\n              });\r\n              h instanceof Mg &&\r\n                (null === this.Qa\r\n                  ? (this.Qa = h)\r\n                  : this.Qa !== h &&\r\n                    v(\r\n                      \"Cannot insert a second Placeholder into the visual tree of a Group.\"\r\n                    ));\r\n            }\r\n          }\r\n        else\r\n          a === Ge &&\r\n            \"elements\" === b &&\r\n            null !== this.Qa &&\r\n            (d === this.Qa\r\n              ? (this.Qa = null)\r\n              : d instanceof V && this.Qa.Mg(d) && (this.Qa = null));\r\n        U.prototype.Dk.call(this, a, b, c, d, e, f, g);\r\n      };\r\n      t.Lh = function (a, b, c, d) {\r\n        this.ff = this.Qa;\r\n        U.prototype.Lh.call(this, a, b, c, d);\r\n      };\r\n      t.Eb = function () {\r\n        this.memberParts.each(function (a) {\r\n          a.Eb();\r\n        });\r\n        U.prototype.Eb.call(this);\r\n      };\r\n      t.jj = function () {\r\n        if (!U.prototype.jj.call(this)) return !1;\r\n        for (var a = this.memberParts; a.next(); ) {\r\n          var b = a.value;\r\n          if (b instanceof U) {\r\n            if (b.isVisible() && Hj(b)) return !1;\r\n          } else if (\r\n            b instanceof Q &&\r\n            b.isVisible() &&\r\n            Hj(b) &&\r\n            b.fromNode !== this &&\r\n            b.toNode !== this\r\n          )\r\n            return !1;\r\n        }\r\n        return !0;\r\n      };\r\n\r\n      function Yo(a, b) {\r\n        if (a.Eo.add(b)) {\r\n          b instanceof Kf && a.Ll.add(b);\r\n          var c = a.memberAdded;\r\n          if (null !== c) {\r\n            var d = !0,\r\n              e = a.diagram;\r\n            null !== e && ((d = e.fa), (e.fa = !0));\r\n            c(a, b);\r\n            null !== e && (e.fa = d);\r\n          }\r\n          (a.isVisible() && a.isSubGraphExpanded) || b.Tb(!1);\r\n        }\r\n        (b instanceof Q && !a.computesBoundsIncludingLinks) ||\r\n          ((b = a.Qa), null === b && (b = a), b.v());\r\n      }\r\n\r\n      function Zo(a, b) {\r\n        if (a.Eo.remove(b)) {\r\n          b instanceof Kf && a.Ll.remove(b);\r\n          var c = a.memberRemoved;\r\n          if (null !== c) {\r\n            var d = !0,\r\n              e = a.diagram;\r\n            null !== e && ((d = e.fa), (e.fa = !0));\r\n            c(a, b);\r\n            null !== e && (e.fa = d);\r\n          }\r\n          (a.isVisible() && a.isSubGraphExpanded) || b.Tb(!0);\r\n        }\r\n        (b instanceof Q && !a.computesBoundsIncludingLinks) ||\r\n          ((b = a.Qa), null === b && (b = a), b.v());\r\n      }\r\n      t.lk = function () {\r\n        if (0 < this.Eo.count) {\r\n          var a = this.diagram;\r\n          if (null !== a)\r\n            for (var b = this.Eo.copy().iterator; b.next(); ) a.remove(b.value);\r\n        }\r\n        U.prototype.lk.call(this);\r\n      };\r\n      Kf.prototype.canAddMembers = function (a) {\r\n        var b = this.diagram;\r\n        if (null === b) return !1;\r\n        b = b.commandHandler;\r\n        for (a = il(a).iterator; a.next(); )\r\n          if (!b.isValidMember(this, a.value)) return !1;\r\n        return !0;\r\n      };\r\n      Kf.prototype.addMembers = function (a, b) {\r\n        var c = this.diagram;\r\n        if (null === c) return !1;\r\n        c = c.commandHandler;\r\n        var d = !0;\r\n        for (a = il(a).iterator; a.next(); ) {\r\n          var e = a.value;\r\n          !b || c.isValidMember(this, e)\r\n            ? (e.containingGroup = this)\r\n            : (d = !1);\r\n        }\r\n        return d;\r\n      };\r\n      Kf.prototype.canUngroup = function () {\r\n        if (!this.ungroupable) return !1;\r\n        var a = this.layer;\r\n        if (null !== a && !a.allowUngroup) return !1;\r\n        a = a.diagram;\r\n        return null === a || a.allowUngroup ? !0 : !1;\r\n      };\r\n      t = Kf.prototype;\r\n      t.nd = function (a) {\r\n        void 0 === a && (a = null);\r\n        var b = 0 !== (this.T & 65536);\r\n        U.prototype.nd.call(this, a);\r\n        if (!b)\r\n          for (\r\n            (0 !== (this.T & 65536)) !== !0 && (this.T = this.T ^ 65536),\r\n              b = this.vv();\r\n            b.next();\r\n\r\n          ) {\r\n            var c = b.value;\r\n            if (null === a || !a.contains(c)) {\r\n              var d = c.fromNode;\r\n              null !== d && d !== this && d.be(this) && !d.isVisible()\r\n                ? (hp(d, c.fromPort), hp(d, c.toPort), c.Ta())\r\n                : ((d = c.toNode),\r\n                  null !== d &&\r\n                    d !== this &&\r\n                    d.be(this) &&\r\n                    !d.isVisible() &&\r\n                    (hp(d, c.fromPort), hp(d, c.toPort), c.Ta()));\r\n            }\r\n          }\r\n      };\r\n      t.vv = function () {\r\n        var a = this.pk();\r\n        a.add(this);\r\n        for (var b = new H(), c = a.iterator; c.next(); ) {\r\n          var d = c.value;\r\n          if (d instanceof U)\r\n            for (d = d.linksConnected; d.next(); ) {\r\n              var e = d.value;\r\n              a.contains(e) || b.add(e);\r\n            }\r\n        }\r\n        return b.iterator;\r\n      };\r\n      t.xz = function () {\r\n        var a = this.pk();\r\n        a.add(this);\r\n        for (var b = new H(), c = a.iterator; c.next(); ) {\r\n          var d = c.value;\r\n          if (d instanceof U)\r\n            for (d = d.linksConnected; d.next(); ) {\r\n              var e = d.value,\r\n                f = e.fromNode;\r\n              (a.contains(f) && f !== this) || b.add(f);\r\n              e = e.toNode;\r\n              (a.contains(e) && e !== this) || b.add(e);\r\n            }\r\n        }\r\n        return b.iterator;\r\n      };\r\n      t.wz = function () {\r\n        function a(b, d) {\r\n          null !== b && (d.add(b), a(b.containingGroup, d));\r\n        }\r\n        var b = new H();\r\n        a(this, b);\r\n        return b;\r\n      };\r\n      t.pk = function () {\r\n        var a = new H();\r\n        gl(a, this, !0, 0, !0);\r\n        a.remove(this);\r\n        return a;\r\n      };\r\n      t.Tb = function (a) {\r\n        U.prototype.Tb.call(this, a);\r\n        for (var b = this.memberParts; b.next(); ) b.value.Tb(a);\r\n      };\r\n      Kf.prototype.collapseSubGraph = function () {\r\n        var a = this.diagram;\r\n        if (null !== a && !a.Le) {\r\n          a.Le = !0;\r\n          var b = this.pk();\r\n          sp(this, b, a, this);\r\n          a.Le = !1;\r\n        }\r\n      };\r\n\r\n      function sp(a, b, c, d) {\r\n        for (var e = a.memberParts; e.next(); ) {\r\n          var f = e.value;\r\n          f.Tb(!1);\r\n          f instanceof Kf &&\r\n            f.isSubGraphExpanded &&\r\n            ((f.wasSubGraphExpanded = f.isSubGraphExpanded), sp(f, b, c, d));\r\n          if (f instanceof U) f.nd(b), c.$j(f, d);\r\n          else if (f instanceof Q)\r\n            for (f = f.labelNodes; f.next(); ) f.value.nd(b);\r\n        }\r\n        a.isSubGraphExpanded = !1;\r\n      }\r\n      Kf.prototype.expandSubGraph = function () {\r\n        var a = this.diagram;\r\n        if (null !== a && !a.Le) {\r\n          a.Le = !0;\r\n          var b = this.pk();\r\n          tp(this, b, a, this);\r\n          a.Le = !1;\r\n        }\r\n      };\r\n\r\n      function tp(a, b, c, d) {\r\n        for (var e = a.memberParts; e.next(); ) {\r\n          var f = e.value;\r\n          f.Tb(!0);\r\n          f instanceof Kf &&\r\n            f.wasSubGraphExpanded &&\r\n            ((f.wasSubGraphExpanded = !1), tp(f, b, c, d));\r\n          if (f instanceof U) f.nd(b), c.bk(f, d);\r\n          else if (f instanceof Q)\r\n            for (f = f.labelNodes; f.next(); ) f.value.nd(b);\r\n        }\r\n        a.isSubGraphExpanded = !0;\r\n      }\r\n      Kf.prototype.move = function (a, b) {\r\n        void 0 === b && (b = !1);\r\n        var c = b ? this.location : this.position,\r\n          d = c.x;\r\n        c = c.y;\r\n        var e = a.x,\r\n          f = a.y;\r\n        if (\r\n          !(d === e || (isNaN(d) && isNaN(e))) ||\r\n          !(c === f || (isNaN(c) && isNaN(f)))\r\n        ) {\r\n          d = e - (isNaN(d) ? 0 : d);\r\n          c = f - (isNaN(c) ? 0 : c);\r\n          f = J.alloc();\r\n          U.prototype.move.call(this, a, b);\r\n          a = new H();\r\n          for (b = this.pk().iterator; b.next(); )\r\n            if (\r\n              ((e = b.value),\r\n              e instanceof Q &&\r\n                (e.suspendsRouting && a.add(e),\r\n                e.Ec || (e.fromNode !== this && e.toNode !== this)))\r\n            )\r\n              e.suspendsRouting = !0;\r\n          for (b.reset(); b.next(); )\r\n            if (\r\n              ((e = b.value), !(e.Qh() || (e instanceof U && e.isLinkLabel)))\r\n            ) {\r\n              var g = e.position,\r\n                h = e.location;\r\n              g.o()\r\n                ? ((f.x = g.x + d), (f.y = g.y + c), (e.position = f))\r\n                : h.o() && ((f.x = h.x + d), (f.y = h.y + c), (e.location = f));\r\n            }\r\n          for (b.reset(); b.next(); )\r\n            if (\r\n              ((e = b.value),\r\n              e instanceof Q &&\r\n                ((e.suspendsRouting = a.contains(e)),\r\n                e.Ec || (e.fromNode !== this && e.toNode !== this)))\r\n            )\r\n              (g = e.position),\r\n                (f.x = g.x + d),\r\n                (f.y = g.y + c),\r\n                f.o() ? e.move(f) : e.Ta(),\r\n                ek(e) && e.Ta();\r\n          J.free(f);\r\n        }\r\n      };\r\n      ma.Object.defineProperties(Kf.prototype, {\r\n        placeholder: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Qa;\r\n          },\r\n        },\r\n        computesBoundsAfterDrag: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.T & 2048);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.T & 2048);\r\n            b !== a &&\r\n              (A(a, \"boolean\", Kf, \"computesBoundsAfterDrag\"),\r\n              (this.T ^= 2048),\r\n              this.g(\"computesBoundsAfterDrag\", b, a));\r\n          },\r\n        },\r\n        computesBoundsIncludingLinks: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.T & 4096);\r\n          },\r\n          set: function (a) {\r\n            A(a, \"boolean\", Kf, \"computesBoundsIncludingLinks\");\r\n            var b = 0 !== (this.T & 4096);\r\n            b !== a &&\r\n              ((this.T ^= 4096), this.g(\"computesBoundsIncludingLinks\", b, a));\r\n          },\r\n        },\r\n        computesBoundsIncludingLocation: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.T & 8192);\r\n          },\r\n          set: function (a) {\r\n            A(a, \"boolean\", Kf, \"computesBoundsIncludingLocation\");\r\n            var b = 0 !== (this.T & 8192);\r\n            b !== a &&\r\n              ((this.T ^= 8192),\r\n              this.g(\"computesBoundsIncludingLocation\", b, a));\r\n          },\r\n        },\r\n        handlesDragDropForMembers: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.T & 16384);\r\n          },\r\n          set: function (a) {\r\n            A(a, \"boolean\", Kf, \"handlesDragDropForMembers\");\r\n            var b = 0 !== (this.T & 16384);\r\n            b !== a &&\r\n              ((this.T ^= 16384), this.g(\"handlesDragDropForMembers\", b, a));\r\n          },\r\n        },\r\n        memberParts: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Eo.iterator;\r\n          },\r\n        },\r\n        layout: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.nc;\r\n          },\r\n          set: function (a) {\r\n            var b = this.nc;\r\n            if (b !== a) {\r\n              null !== a && w(a, Si, Kf, \"layout\");\r\n              null !== b && ((b.diagram = null), (b.group = null));\r\n              this.nc = a;\r\n              var c = this.diagram;\r\n              null !== a && ((a.diagram = c), (a.group = this));\r\n              null !== c && (c.Ug = !0);\r\n              this.g(\"layout\", b, a);\r\n              null !== c && c.cc();\r\n            }\r\n          },\r\n        },\r\n        memberAdded: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.Do;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Do;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", Kf, \"memberAdded\"),\r\n              (this.Do = a),\r\n              this.g(\"memberAdded\", b, a));\r\n          },\r\n        },\r\n        memberRemoved: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Fo;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Fo;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", Kf, \"memberRemoved\"),\r\n              (this.Fo = a),\r\n              this.g(\"memberRemoved\", b, a));\r\n          },\r\n        },\r\n        memberValidation: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Di;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Di;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", Kf, \"memberValidation\"),\r\n              (this.Di = a),\r\n              this.g(\"memberValidation\", b, a));\r\n          },\r\n        },\r\n        ungroupable: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.T & 256);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.T & 256);\r\n            b !== a &&\r\n              (A(a, \"boolean\", Kf, \"ungroupable\"),\r\n              (this.T ^= 256),\r\n              this.g(\"ungroupable\", b, a));\r\n          },\r\n        },\r\n        isSubGraphExpanded: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.T & 512);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.T & 512);\r\n            if (b !== a) {\r\n              A(a, \"boolean\", Kf, \"isSubGraphExpanded\");\r\n              this.T ^= 512;\r\n              var c = this.diagram;\r\n              this.g(\"isSubGraphExpanded\", b, a);\r\n              b = this.subGraphExpandedChanged;\r\n              if (null !== b) {\r\n                var d = !0;\r\n                null !== c && ((d = c.fa), (c.fa = !0));\r\n                b(this);\r\n                null !== c && (c.fa = d);\r\n              }\r\n              null !== c && c.undoManager.isUndoingRedoing\r\n                ? (null !== this.Qa && this.Qa.v(),\r\n                  this.memberParts.each(function (a) {\r\n                    a.updateAdornments();\r\n                  }))\r\n                : a\r\n                ? this.expandSubGraph()\r\n                : this.collapseSubGraph();\r\n            }\r\n          },\r\n        },\r\n        wasSubGraphExpanded: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.T & 1024);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.T & 1024);\r\n            b !== a &&\r\n              (A(a, \"boolean\", Kf, \"wasSubGraphExpanded\"),\r\n              (this.T ^= 1024),\r\n              this.g(\"wasSubGraphExpanded\", b, a));\r\n          },\r\n        },\r\n        subGraphExpandedChanged: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Sp;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Sp;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", Kf, \"subGraphExpandedChanged\"),\r\n              (this.Sp = a),\r\n              this.g(\"subGraphExpandedChanged\", b, a));\r\n          },\r\n        },\r\n        Ck: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.T & 32768);\r\n          },\r\n          set: function (a) {\r\n            (0 !== (this.T & 32768)) !== a && (this.T ^= 32768);\r\n          },\r\n        },\r\n      });\r\n      Kf.prototype.expandSubGraph = Kf.prototype.expandSubGraph;\r\n      Kf.prototype.collapseSubGraph = Kf.prototype.collapseSubGraph;\r\n      Kf.prototype.findSubGraphParts = Kf.prototype.pk;\r\n      Kf.prototype.findContainingGroupChain = Kf.prototype.wz;\r\n      Kf.prototype.findExternalNodesConnected = Kf.prototype.xz;\r\n      Kf.prototype.findExternalLinksConnected = Kf.prototype.vv;\r\n      Kf.prototype.ensureBounds = Kf.prototype.Eb;\r\n      Kf.className = \"Group\";\r\n\r\n      function Mg() {\r\n        N.call(this);\r\n        this.ib = Ec;\r\n        this.Ap = new L(NaN, NaN, NaN, NaN);\r\n      }\r\n      la(Mg, N);\r\n      Mg.prototype.cloneProtected = function (a) {\r\n        N.prototype.cloneProtected.call(this, a);\r\n        a.ib = this.ib.J();\r\n        a.Ap = this.Ap.copy();\r\n      };\r\n      Mg.prototype.Nh = function (a) {\r\n        if (null === this.background && null === this.areaBackground) return !1;\r\n        var b = this.naturalBounds;\r\n        return sc(0, 0, b.width, b.height, a.x, a.y);\r\n      };\r\n      Mg.prototype.Bm = function () {\r\n        var a = this.part;\r\n        (null !== a && (a instanceof Kf || a instanceof Pe)) ||\r\n          v(\"Placeholder is not inside a Group or Adornment.\");\r\n        if (a instanceof Kf) {\r\n          var b = this.computeBorder(this.Ap),\r\n            c = this.minSize,\r\n            d = this.uc;\r\n          gc(\r\n            d,\r\n            (isFinite(c.width) ? Math.max(c.width, b.width) : b.width) || 0,\r\n            (isFinite(c.height) ? Math.max(c.height, b.height) : b.height) || 0\r\n          );\r\n          wl(this, 0, 0, d.width, d.height);\r\n          d = a.memberParts;\r\n          for (c = !1; d.next(); )\r\n            if (d.value.isVisible()) {\r\n              c = !0;\r\n              break;\r\n            }\r\n          d = a.diagram;\r\n          !c ||\r\n            null === d ||\r\n            d.animationManager.Lv(a) ||\r\n            isNaN(b.x) ||\r\n            isNaN(b.y) ||\r\n            ((c = J.alloc()),\r\n            c.mj(b, a.locationSpot),\r\n            c.B(a.location) || (a.location = new J(c.x, c.y)),\r\n            J.free(c));\r\n        } else {\r\n          b = this.uc;\r\n          c = this.ib;\r\n          d = c.left + c.right;\r\n          var e = c.top + c.bottom,\r\n            f = a.adornedObject;\r\n          a.angle = f.dj();\r\n          var g = 0;\r\n          f instanceof $f && (g = f.strokeWidth);\r\n          var h = f.Df(),\r\n            k = f.naturalBounds,\r\n            l = (k.width + g) * h;\r\n          g = (k.height + g) * h;\r\n          a.type !== V.Link &&\r\n            ((f = f.ma(\r\n              \"Selection\" === a.category ? Hc : a.locationSpot,\r\n              J.alloc()\r\n            )),\r\n            (a.location = f),\r\n            J.free(f));\r\n          isNaN(l) || isNaN(g)\r\n            ? ((a = a.adornedObject),\r\n              (l = a.ma(Hc, J.alloc())),\r\n              (f = L.allocAt(l.x, l.y, 0, 0)),\r\n              f.Pe(a.ma(Sc, l)),\r\n              f.Pe(a.ma(Kc, l)),\r\n              f.Pe(a.ma(Qc, l)),\r\n              gc(b, f.width + d || 0, f.height + e || 0),\r\n              wl(this, -c.left, -c.top, b.width, b.height),\r\n              J.free(l),\r\n              L.free(f))\r\n            : (gc(b, l + d || 0, g + e || 0),\r\n              wl(this, -c.left, -c.top, b.width, b.height));\r\n        }\r\n      };\r\n      Mg.prototype.Lh = function (a, b, c, d) {\r\n        this.actualBounds.h(a, b, c, d);\r\n      };\r\n      Mg.prototype.computeBorder = function (a) {\r\n        var b = this.part,\r\n          c = b.diagram;\r\n        if (\r\n          null !== c &&\r\n          b instanceof Kf &&\r\n          !b.layer.isTemporary &&\r\n          b.computesBoundsAfterDrag &&\r\n          this.Ap.o()\r\n        ) {\r\n          var d = c.toolManager.findTool(\"Dragging\");\r\n          if (\r\n            d === c.currentTool &&\r\n            ((c = d.computeBorder(b, this.Ap, a)), null !== c)\r\n          )\r\n            return c;\r\n        }\r\n        c = L.alloc();\r\n        d = this.computeMemberBounds(c);\r\n        var e = this.ib;\r\n        b instanceof Kf && !b.isSubGraphExpanded\r\n          ? a.h(d.x - e.left, d.y - e.top, 0, 0)\r\n          : a.h(\r\n              d.x - e.left,\r\n              d.y - e.top,\r\n              Math.max(d.width + e.left + e.right, 0),\r\n              Math.max(d.height + e.top + e.bottom, 0)\r\n            );\r\n        L.free(c);\r\n        b instanceof Kf &&\r\n          b.computesBoundsIncludingLocation &&\r\n          b.location.o() &&\r\n          a.Pe(b.location);\r\n        return a;\r\n      };\r\n      Mg.prototype.computeMemberBounds = function (a) {\r\n        if (!(this.part instanceof Kf)) return a.h(0, 0, 0, 0), a;\r\n        for (\r\n          var b = this.part,\r\n            c = Infinity,\r\n            d = Infinity,\r\n            e = -Infinity,\r\n            f = -Infinity,\r\n            g = b.memberParts;\r\n          g.next();\r\n\r\n        ) {\r\n          var h = g.value;\r\n          if (h.isVisible()) {\r\n            if (h instanceof Q) {\r\n              if (!b.computesBoundsIncludingLinks) continue;\r\n              if (Gj(h)) continue;\r\n              if (h.fromNode === b || h.toNode === b) continue;\r\n            }\r\n            h = h.actualBounds;\r\n            h.left < c && (c = h.left);\r\n            h.top < d && (d = h.top);\r\n            h.right > e && (e = h.right);\r\n            h.bottom > f && (f = h.bottom);\r\n          }\r\n        }\r\n        isFinite(c) && isFinite(d)\r\n          ? a.h(c, d, e - c, f - d)\r\n          : ((b = b.location), a.h(b.x, b.y, 0, 0));\r\n        return a;\r\n      };\r\n      ma.Object.defineProperties(Mg.prototype, {\r\n        padding: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ib;\r\n          },\r\n          set: function (a) {\r\n            \"number\" === typeof a ? (a = new lc(a)) : w(a, lc, Mg, \"padding\");\r\n            var b = this.ib;\r\n            b.B(a) || ((this.ib = a = a.J()), this.g(\"padding\", b, a));\r\n          },\r\n        },\r\n      });\r\n      Mg.className = \"Placeholder\";\r\n\r\n      function Q() {\r\n        S.call(this, V.Link);\r\n        this.Va = 8;\r\n        this.Xe = null;\r\n        this.Ye = \"\";\r\n        this.uf = this.Un = null;\r\n        this.vf = \"\";\r\n        this.Zp = null;\r\n        this.dn = qg;\r\n        this.zn = 0;\r\n        this.Bn = qg;\r\n        this.Cn = NaN;\r\n        this.Tj = up;\r\n        this.Np = 0.5;\r\n        this.ed = null;\r\n        this.Cb = new G().freeze();\r\n        this.uh = this.Ic = null;\r\n        this.Rl = new L();\r\n        this.ua = new Gd();\r\n        this.fo = !0;\r\n        this.L = this.w = this.Tf = this.bg = null;\r\n        this.l = [];\r\n        this.Xu = new J();\r\n        this.Jr = this.sx = this.qx = null;\r\n        this.su = NaN;\r\n        this.S = null;\r\n      }\r\n      la(Q, S);\r\n      Q.prototype.cloneProtected = function (a) {\r\n        S.prototype.cloneProtected.call(this, a);\r\n        a.Va = this.Va & -113;\r\n        a.Ye = this.Ye;\r\n        a.Un = this.Un;\r\n        a.vf = this.vf;\r\n        a.Zp = this.Zp;\r\n        a.dn = this.dn;\r\n        a.zn = this.zn;\r\n        a.Bn = this.Bn;\r\n        a.Cn = this.Cn;\r\n        a.Tj = this.Tj;\r\n        a.Np = this.Np;\r\n        null !== this.S && (a.S = this.S.copy());\r\n      };\r\n      t = Q.prototype;\r\n      t.Bf = function (a) {\r\n        S.prototype.Bf.call(this, a);\r\n        this.Ye = a.Ye;\r\n        this.vf = a.vf;\r\n        a.Ic = null;\r\n        a.Ta();\r\n        a.Tf = this.Tf;\r\n        var b = a.fromPort;\r\n        null !== b && hp(a.fromNode, b);\r\n        b = a.toPort;\r\n        null !== b && hp(a.toNode, b);\r\n      };\r\n      t.jb = function (a) {\r\n        a.classType === Q\r\n          ? 2 === (a.value & 2)\r\n            ? (this.routing = a)\r\n            : a === Fg || a === pg || a === og\r\n            ? (this.curve = a)\r\n            : a === vp || a === wp || a === xp\r\n            ? (this.adjusting = a)\r\n            : a !== up &&\r\n              a !== qg &&\r\n              v(\"Unknown Link enum value for a Link property: \" + a)\r\n          : S.prototype.jb.call(this, a);\r\n      };\r\n      t.Kc = function () {\r\n        null === this.S && (this.S = new sl());\r\n      };\r\n      t.jj = function () {\r\n        var a = this.fromNode;\r\n        if (null !== a) {\r\n          var b = a.findVisibleNode();\r\n          null !== b && (a = b);\r\n          if (Hj(a) || Ij(a)) return !1;\r\n        }\r\n        a = this.toNode;\r\n        return null !== a &&\r\n          ((b = a.findVisibleNode()), null !== b && (a = b), Hj(a) || Ij(a))\r\n          ? !1\r\n          : !0;\r\n      };\r\n      t.jw = function () {\r\n        return !1;\r\n      };\r\n      t.kw = function () {};\r\n      t.$b = function () {\r\n        return !1;\r\n      };\r\n      Q.prototype.computeAngle = function (a, b, c) {\r\n        return Q.computeAngle(b, c);\r\n      };\r\n      Q.computeAngle = function (a, b) {\r\n        switch (a) {\r\n          default:\r\n          case qg:\r\n            a = 0;\r\n            break;\r\n          case Zn:\r\n            a = b;\r\n            break;\r\n          case cn:\r\n            a = b + 90;\r\n            break;\r\n          case en:\r\n            a = b - 90;\r\n            break;\r\n          case yp:\r\n            a = b + 180;\r\n            break;\r\n          case zp:\r\n            a = K.Fq(b);\r\n            90 < a && 270 > a && (a -= 180);\r\n            break;\r\n          case dn:\r\n            a = K.Fq(b + 90);\r\n            90 < a && 270 > a && (a -= 180);\r\n            break;\r\n          case fn:\r\n            a = K.Fq(b - 90);\r\n            90 < a && 270 > a && (a -= 180);\r\n            break;\r\n          case gn:\r\n            a = K.Fq(b);\r\n            if ((45 < a && 135 > a) || (225 < a && 315 > a)) return 0;\r\n            90 < a && 270 > a && (a -= 180);\r\n        }\r\n        return K.Fq(a);\r\n      };\r\n\r\n      function dp(a) {\r\n        var b = a.fromNode,\r\n          c = a.toNode,\r\n          d = null;\r\n        null !== b\r\n          ? (d = null !== c ? b.Qx(c) : b.containingGroup)\r\n          : null !== c\r\n          ? (d = c.containingGroup)\r\n          : (d = null);\r\n        b = d;\r\n        c = a.ii;\r\n        if (c !== b) {\r\n          null !== c && Zo(c, a);\r\n          a.ii = b;\r\n          null !== b && Yo(b, a);\r\n          var e = a.containingGroupChanged;\r\n          if (null !== e) {\r\n            var f = !0,\r\n              g = a.diagram;\r\n            null !== g && ((f = g.fa), (g.fa = !0));\r\n            e(a, c, b);\r\n            null !== g && (g.fa = f);\r\n          }\r\n          !a.Ec || (a.qx !== c && a.sx !== c) || a.Ta();\r\n        }\r\n        if (a.isLabeledLink)\r\n          for (a = a.labelNodes; a.next(); ) a.value.containingGroup = d;\r\n      }\r\n      t = Q.prototype;\r\n      t.Ph = function () {\r\n        var a = this.containingGroup;\r\n        null !== a &&\r\n          this.fromNode !== a &&\r\n          this.toNode !== a &&\r\n          a.computesBoundsIncludingLinks &&\r\n          S.prototype.Ph.call(this);\r\n      };\r\n      t.qt = function (a) {\r\n        F && w(a, U, Q, \"getOtherNode:node\");\r\n        var b = this.fromNode;\r\n        return a === b ? this.toNode : b;\r\n      };\r\n      t.Rz = function (a) {\r\n        F && w(a, N, Q, \"getOtherPort:port\");\r\n        var b = this.fromPort;\r\n        return a === b ? this.toPort : b;\r\n      };\r\n\r\n      function kp(a, b) {\r\n        null === a.ed && (a.ed = new H());\r\n        a.ed.add(b);\r\n        a.v();\r\n      }\r\n      t.wq = function (a) {\r\n        S.prototype.wq.call(this, a);\r\n        Ap(this) && this.yq(this.actualBounds);\r\n        if (!a) {\r\n          a = this.Xe;\r\n          var b = null;\r\n          null !== a && ((b = this.fromPort), ip(a, this, b));\r\n          var c = this.uf;\r\n          if (null !== c) {\r\n            var d = this.toPort;\r\n            (c === a && d === b) || ip(c, this, d);\r\n          }\r\n          Bp(this);\r\n        }\r\n      };\r\n      t.xq = function (a) {\r\n        S.prototype.xq.call(this, a);\r\n        Ap(this) && this.yq(this.actualBounds);\r\n        if (!a) {\r\n          a = this.Xe;\r\n          var b = null;\r\n          null !== a && ((b = this.fromPort), jp(a, this, b));\r\n          var c = this.uf;\r\n          if (null !== c) {\r\n            var d = this.toPort;\r\n            (c === a && d === b) || jp(c, this, d);\r\n          }\r\n          Cp(this);\r\n        }\r\n      };\r\n      t.lk = function () {\r\n        this.Ec = !0;\r\n        if (null !== this.ed) {\r\n          var a = this.diagram;\r\n          if (null !== a)\r\n            for (var b = this.ed.copy().iterator; b.next(); ) a.remove(b.value);\r\n        }\r\n        null !== this.data &&\r\n          ((a = this.diagram),\r\n          null !== a && a.partManager.removeDataForLink(this));\r\n      };\r\n      Q.prototype.updateRelationshipsFromData = function () {\r\n        if (null !== this.data) {\r\n          var a = this.diagram;\r\n          null !== a && a.partManager.updateRelationshipsFromData(this);\r\n        }\r\n      };\r\n      Q.prototype.move = function (a, b) {\r\n        var c = b ? this.location : this.position,\r\n          d = c.x;\r\n        isNaN(d) && (d = 0);\r\n        var e = c.y;\r\n        isNaN(e) && (e = 0);\r\n        d = a.x - d;\r\n        e = a.y - e;\r\n        !0 === b\r\n          ? S.prototype.move.call(this, a, !1)\r\n          : ((a = J.allocAt(c.x + d, c.y + e)),\r\n            S.prototype.move.call(this, a, !1),\r\n            J.free(a));\r\n        Df(this, d, e);\r\n        for (a = this.labelNodes; a.next(); )\r\n          (b = a.value), (c = b.position), b.moveTo(c.x + d, c.y + e);\r\n      };\r\n      Q.prototype.canRelinkFrom = function () {\r\n        if (!this.relinkableFrom) return !1;\r\n        var a = this.layer;\r\n        if (null === a) return !0;\r\n        if (!a.allowRelink) return !1;\r\n        a = a.diagram;\r\n        return null === a || a.allowRelink ? !0 : !1;\r\n      };\r\n      Q.prototype.canRelinkTo = function () {\r\n        if (!this.relinkableTo) return !1;\r\n        var a = this.layer;\r\n        if (null === a) return !0;\r\n        if (!a.allowRelink) return !1;\r\n        a = a.diagram;\r\n        return null === a || a.allowRelink ? !0 : !1;\r\n      };\r\n      Q.prototype.computeMidPoint = function (a) {\r\n        var b = this.pointsCount;\r\n        if (0 === b) return a.assign(Vb), a;\r\n        if (1 === b) return a.assign(this.i(0)), a;\r\n        if (2 === b) {\r\n          var c = this.i(0),\r\n            d = this.i(1);\r\n          a.h((c.x + d.x) / 2, (c.y + d.y) / 2);\r\n          return a;\r\n        }\r\n        if (\r\n          this.isOrthogonal &&\r\n          (15 <= this.computeCorner() || this.computeCurve() === Fg)\r\n        )\r\n          return (\r\n            this.ua.Ev(0.5, a),\r\n            a.add(this.i(0)),\r\n            (c = this.ua.figures.first()),\r\n            a.offset(-c.startX, -c.startY),\r\n            a\r\n          );\r\n        if (this.computeCurve() === Fg) {\r\n          if (3 === b) return this.i(1);\r\n          d = ((b - 1) / 3) | 0;\r\n          c = 3 * ((d / 2) | 0);\r\n          if (1 === d % 2) {\r\n            d = this.i(c);\r\n            var e = this.i(c + 1),\r\n              f = this.i(c + 2);\r\n            c = this.i(c + 3);\r\n            K.Zy(d.x, d.y, e.x, e.y, f.x, f.y, c.x, c.y, a);\r\n          } else a.assign(this.i(c));\r\n          return a;\r\n        }\r\n        var g = this.flattenedLengths;\r\n        c = this.flattenedTotalLength;\r\n        for (e = f = d = 0; d < c / 2 && f < b; ) {\r\n          e = g[f];\r\n          if (d + e > c / 2) break;\r\n          d += e;\r\n          f++;\r\n        }\r\n        b = this.i(f);\r\n        f = this.i(f + 1);\r\n        1 > Math.abs(b.x - f.x)\r\n          ? b.y > f.y\r\n            ? a.h(b.x, b.y - (c / 2 - d))\r\n            : a.h(b.x, b.y + (c / 2 - d))\r\n          : 1 > Math.abs(b.y - f.y)\r\n          ? b.x > f.x\r\n            ? a.h(b.x - (c / 2 - d), b.y)\r\n            : a.h(b.x + (c / 2 - d), b.y)\r\n          : ((c = (c / 2 - d) / e),\r\n            a.h(b.x + c * (f.x - b.x), b.y + c * (f.y - b.y)));\r\n        return a;\r\n      };\r\n      Q.prototype.computeMidAngle = function () {\r\n        var a = this.pointsCount;\r\n        if (2 > a) return NaN;\r\n        if (2 === a) return this.i(0).Xa(this.i(1));\r\n        if (\r\n          this.isOrthogonal &&\r\n          (15 <= this.computeCorner() || this.computeCurve() === Fg)\r\n        ) {\r\n          a: {\r\n            a = this.ua;\r\n            var b = 0.5;\r\n            0 > b ? (b = 0) : 1 < b && (b = 1);\r\n            if (a.type === Jd)\r\n              a =\r\n                (180 * Math.atan2(a.endY - a.startY, a.endX - a.startX)) /\r\n                Math.PI;\r\n            else {\r\n              var c = a.flattenedSegments,\r\n                d = a.flattenedLengths,\r\n                e = c.length;\r\n              b = a.flattenedTotalLength * b;\r\n              for (var f = 0, g = 0; g < e; g++) {\r\n                var h = d[g],\r\n                  k = h.length;\r\n                for (a = 0; a < k; a++) {\r\n                  var l = h[a];\r\n                  if (f + l >= b) {\r\n                    b = c[g];\r\n                    c = b[2 * a];\r\n                    d = b[2 * a + 1];\r\n                    e = b[2 * a + 2];\r\n                    a = b[2 * a + 3];\r\n                    a =\r\n                      1 > Math.abs(e - c) && 1 > Math.abs(a - d)\r\n                        ? 0\r\n                        : 1 > Math.abs(e - c)\r\n                        ? 0 <= a - d\r\n                          ? 90\r\n                          : 270\r\n                        : 1 > Math.abs(a - d)\r\n                        ? 0 <= e - c\r\n                          ? 0\r\n                          : 180\r\n                        : (180 * Math.atan2(a - d, e - c)) / Math.PI;\r\n                    break a;\r\n                  }\r\n                  f += l;\r\n                }\r\n              }\r\n              a = NaN;\r\n            }\r\n          }\r\n          return a;\r\n        }\r\n        if (this.computeCurve() === Fg && 4 <= a) {\r\n          d = ((a - 1) / 3) | 0;\r\n          c = 3 * ((d / 2) | 0);\r\n          if (1 === d % 2)\r\n            return (\r\n              (c = Math.floor(c)),\r\n              (a = this.i(c)),\r\n              (d = this.i(c + 1)),\r\n              (e = this.i(c + 2)),\r\n              (c = this.i(c + 3)),\r\n              K.Yy(a.x, a.y, d.x, d.y, e.x, e.y, c.x, c.y)\r\n            );\r\n          if (0 < c && c + 1 < a) return this.i(c - 1).Xa(this.i(c + 1));\r\n        }\r\n        d = this.flattenedLengths;\r\n        e = this.flattenedTotalLength;\r\n        for (c = b = 0; b < e / 2 && c < a; ) {\r\n          f = d[c];\r\n          if (b + f > e / 2) break;\r\n          b += f;\r\n          c++;\r\n        }\r\n        d = this.i(c);\r\n        e = this.i(c + 1);\r\n        if (1 > Math.abs(d.x - e.x) && 1 > Math.abs(d.y - e.y)) {\r\n          if (0 < c && c + 2 < a) return this.i(c - 1).Xa(this.i(c + 2));\r\n        } else {\r\n          if (1 > Math.abs(d.x - e.x)) return d.y > e.y ? 270 : 90;\r\n          if (1 > Math.abs(d.y - e.y)) return d.x > e.x ? 180 : 0;\r\n        }\r\n        return d.Xa(e);\r\n      };\r\n      t = Q.prototype;\r\n      t.i = function (a) {\r\n        return this.Cb.j[a];\r\n      };\r\n      t.pd = function (a, b) {\r\n        F &&\r\n          (w(b, J, Q, \"setPoint\"),\r\n          b.o() ||\r\n            v(\r\n              \"Link.setPoint called with a Point that does not have real numbers: \" +\r\n                b.toString()\r\n            ));\r\n        F &&\r\n          null === this.Ic &&\r\n          v(\"Call Link.startRoute before modifying the points of the route.\");\r\n        this.Cb.od(a, b);\r\n      };\r\n      t.N = function (a, b, c) {\r\n        F && (C(b, Q, \"setPointAt:x\"), C(c, Q, \"setPointAt:y\"));\r\n        F &&\r\n          null === this.Ic &&\r\n          v(\"Call Link.startRoute before modifying the points of the route.\");\r\n        this.Cb.od(a, new J(b, c));\r\n      };\r\n      t.cA = function (a, b) {\r\n        F &&\r\n          (w(b, J, Q, \"insertPoint\"),\r\n          b.o() ||\r\n            v(\r\n              \"Link.insertPoint called with a Point that does not have real numbers: \" +\r\n                b.toString()\r\n            ));\r\n        F &&\r\n          null === this.Ic &&\r\n          v(\"Call Link.startRoute before modifying the points of the route.\");\r\n        this.Cb.Qb(a, b);\r\n      };\r\n      t.m = function (a, b, c) {\r\n        F && (C(b, Q, \"insertPointAt:x\"), C(c, Q, \"insertPointAt:y\"));\r\n        F &&\r\n          null === this.Ic &&\r\n          v(\"Call Link.startRoute before modifying the points of the route.\");\r\n        this.Cb.Qb(a, new J(b, c));\r\n      };\r\n      t.He = function (a) {\r\n        F &&\r\n          (w(a, J, Q, \"addPoint\"),\r\n          a.o() ||\r\n            v(\r\n              \"Link.addPoint called with a Point that does not have real numbers: \" +\r\n                a.toString()\r\n            ));\r\n        F &&\r\n          null === this.Ic &&\r\n          v(\"Call Link.startRoute before modifying the points of the route.\");\r\n        this.Cb.add(a);\r\n      };\r\n      t.yf = function (a, b) {\r\n        F && (C(a, Q, \"insertPointAt:x\"), C(b, Q, \"insertPointAt:y\"));\r\n        F &&\r\n          null === this.Ic &&\r\n          v(\"Call Link.startRoute before modifying the points of the route.\");\r\n        this.Cb.add(new J(a, b));\r\n      };\r\n      t.$v = function (a) {\r\n        F &&\r\n          null === this.Ic &&\r\n          v(\"Call Link.startRoute before modifying the points of the route.\");\r\n        this.Cb.pb(a);\r\n      };\r\n      t.gk = function () {\r\n        F &&\r\n          null === this.Ic &&\r\n          v(\"Call Link.startRoute before modifying the points of the route.\");\r\n        this.Cb.clear();\r\n      };\r\n\r\n      function Df(a, b, c) {\r\n        if (0 !== b || 0 !== c) {\r\n          for (var d = a.Ec, e = new G(), f = a.Cb.iterator; f.next(); ) {\r\n            var g = f.value;\r\n            e.add(new J(g.x + b, g.y + c).freeze());\r\n          }\r\n          e.freeze();\r\n          f = a.Cb;\r\n          a.Cb = e;\r\n          isNaN(b) || isNaN(c) || a.diagram.animationManager.oc\r\n            ? a.v()\r\n            : (a.jg.h(a.jg.x + b, a.jg.y + c),\r\n              a.ra.h(a.ra.x + b, a.ra.y + c),\r\n              Rl(a));\r\n          d && Dp(a);\r\n          b = a.diagram;\r\n          null !== b && b.animationManager.oc && (a.uh = e);\r\n          a.g(\"points\", f, e);\r\n        }\r\n      }\r\n      t.Sh = function () {\r\n        null === this.Ic && ((this.Ic = this.Cb), (this.Cb = this.Cb.copy()));\r\n      };\r\n      t.zf = function () {\r\n        if (null !== this.Ic) {\r\n          for (\r\n            var a = this.Ic,\r\n              b = this.Cb,\r\n              c = Infinity,\r\n              d = Infinity,\r\n              e = a.j,\r\n              f = e.length,\r\n              g = 0;\r\n            g < f;\r\n            g++\r\n          ) {\r\n            var h = e[g];\r\n            c = Math.min(h.x, c);\r\n            d = Math.min(h.y, d);\r\n          }\r\n          h = g = Infinity;\r\n          for (var k = b.j, l = k.length, m = 0; m < l; m++) {\r\n            var n = k[m];\r\n            g = Math.min(n.x, g);\r\n            h = Math.min(n.y, h);\r\n            n.freeze();\r\n          }\r\n          b.freeze();\r\n          if (l === f)\r\n            for (f = 0; f < l; f++) {\r\n              if (\r\n                ((m = e[f]),\r\n                (n = k[f]),\r\n                m.x - c !== n.x - g || m.y - d !== n.y - h)\r\n              ) {\r\n                this.v();\r\n                this.hc();\r\n                break;\r\n              }\r\n            }\r\n          else this.v(), this.hc();\r\n          this.Ic = null;\r\n          c = this.diagram;\r\n          null !== c && c.animationManager.oc && (this.uh = b);\r\n          Dp(this);\r\n          this.g(\"points\", a, b);\r\n        }\r\n      };\r\n      t.my = function () {\r\n        null !== this.Ic && ((this.Cb = this.Ic), (this.Ic = null));\r\n      };\r\n\r\n      function Dp(a) {\r\n        0 === a.Cb.count\r\n          ? (a.Ec = !1)\r\n          : ((a.Ec = !0),\r\n            (a.Jr = null),\r\n            (a.su = NaN),\r\n            (a.defaultFromPoint = a.i(0)),\r\n            (a.defaultToPoint = a.i(a.pointsCount - 1)),\r\n            Ep(a, !1));\r\n      }\r\n      t.Ta = function () {\r\n        if (!this.suspendsRouting) {\r\n          var a = this.diagram;\r\n          if (a) {\r\n            if (a.At.contains(this) || a.undoManager.isUndoingRedoing) return;\r\n            a = a.animationManager;\r\n            if (a.isTicking && !a.isAnimating) return;\r\n            null !== this.uh &&\r\n              !a.isTicking &&\r\n              a.isAnimating &&\r\n              (this.uh = null);\r\n          }\r\n          a = this.path;\r\n          null !== a && ((this.Ec = !1), this.v(), a.v());\r\n        }\r\n      };\r\n      t.qj = function () {\r\n        if (!this.Ec && !this.mv) {\r\n          var a = !0;\r\n          try {\r\n            (this.mv = !0), this.Sh(), (a = this.computePoints());\r\n          } finally {\r\n            (this.mv = !1), a ? this.zf() : this.my();\r\n          }\r\n        }\r\n      };\r\n      Q.prototype.computePoints = function () {\r\n        var a = this.diagram;\r\n        if (null === a) return !1;\r\n        var b = this.fromNode,\r\n          c = null;\r\n        null === b\r\n          ? (a.Ji ||\r\n              ((a.tp = new $f()),\r\n              (a.tp.desiredSize = Wb),\r\n              (a.tp.strokeWidth = 0),\r\n              (a.Ji = new U()),\r\n              a.Ji.add(a.tp),\r\n              a.Ji.Eb()),\r\n            this.defaultFromPoint &&\r\n              ((a.Ji.position = a.Ji.location = this.defaultFromPoint),\r\n              a.Ji.Eb(),\r\n              (b = a.Ji),\r\n              (c = a.tp)))\r\n          : (c = this.fromPort);\r\n        if (null !== c && !b.isVisible()) {\r\n          var d = b.findVisibleNode();\r\n          null !== d && d !== b ? ((b = d), (c = d.port)) : (b = d);\r\n        }\r\n        this.qx = b;\r\n        if (null === b || !b.location.o()) return !1;\r\n        for (; !(null === c || (c.actualBounds.o() && c.If())); ) c = c.panel;\r\n        if (null === c) return !1;\r\n        var e = this.toNode,\r\n          f = null;\r\n        null === e\r\n          ? (a.Ki ||\r\n              ((a.vp = new $f()),\r\n              (a.vp.desiredSize = Wb),\r\n              (a.vp.strokeWidth = 0),\r\n              (a.Ki = new U()),\r\n              a.Ki.add(a.vp),\r\n              a.Ki.Eb()),\r\n            this.defaultToPoint &&\r\n              ((a.Ki.position = a.Ki.location = this.defaultToPoint),\r\n              a.Ki.Eb(),\r\n              (e = a.Ki),\r\n              (f = a.vp)))\r\n          : (f = this.toPort);\r\n        null === f ||\r\n          e.isVisible() ||\r\n          ((a = e.findVisibleNode()),\r\n          null !== a && a !== e ? ((e = a), (f = a.port)) : (e = a));\r\n        this.sx = e;\r\n        if (null === e || !e.location.o()) return !1;\r\n        for (; !(null === f || (f.actualBounds.o() && f.If())); ) f = f.panel;\r\n        if (null === f) return !1;\r\n        var g = this.pointsCount;\r\n        d = this.computeSpot(!0, c);\r\n        a = this.computeSpot(!1, f);\r\n        var h = Fp(d),\r\n          k = Fp(a),\r\n          l = c === f && null !== c,\r\n          m = this.isOrthogonal,\r\n          n = this.curve === Fg;\r\n        this.bg = l && !m ? (n = !0) : !1;\r\n        var p = this.adjusting === qg || l;\r\n        if (!m && !l && h && k) {\r\n          if (\r\n            ((h = !1),\r\n            !p &&\r\n              3 <= g &&\r\n              ((p = this.getLinkPoint(b, c, d, !0, !1, e, f)),\r\n              (k = this.getLinkPoint(e, f, a, !1, !1, b, c)),\r\n              (h = this.adjustPoints(0, p, g - 1, k))) &&\r\n              ((p = this.getLinkPoint(b, c, d, !0, !1, e, f)),\r\n              (k = this.getLinkPoint(e, f, a, !1, !1, b, c)),\r\n              this.adjustPoints(0, p, g - 1, k)),\r\n            !h)\r\n          )\r\n            if ((this.gk(), n)) {\r\n              g = this.getLinkPoint(b, c, d, !0, !1, e, f);\r\n              p = this.getLinkPoint(e, f, a, !1, !1, b, c);\r\n              h = p.x - g.x;\r\n              k = p.y - g.y;\r\n              l = this.computeCurviness();\r\n              n = m = 0;\r\n              var r = g.x + h / 3,\r\n                q = g.y + k / 3,\r\n                u = r,\r\n                x = q;\r\n              K.C(k, 0)\r\n                ? (x = 0 < h ? x - l : x + l)\r\n                : ((m = -h / k),\r\n                  (n = Math.sqrt((l * l) / (m * m + 1))),\r\n                  0 > l && (n = -n),\r\n                  (u = (0 > k ? -1 : 1) * n + r),\r\n                  (x = m * (u - r) + q));\r\n              r = g.x + (2 * h) / 3;\r\n              q = g.y + (2 * k) / 3;\r\n              var y = r,\r\n                z = q;\r\n              K.C(k, 0)\r\n                ? (z = 0 < h ? z - l : z + l)\r\n                : ((y = (0 > k ? -1 : 1) * n + r), (z = m * (y - r) + q));\r\n              this.gk();\r\n              this.He(g);\r\n              this.yf(u, x);\r\n              this.yf(y, z);\r\n              this.He(p);\r\n              this.pd(0, this.getLinkPoint(b, c, d, !0, !1, e, f));\r\n              this.pd(3, this.getLinkPoint(e, f, a, !1, !1, b, c));\r\n            } else\r\n              (d = this.getLinkPoint(b, c, d, !0, !1, e, f)),\r\n                (a = this.getLinkPoint(e, f, a, !1, !1, b, c)),\r\n                this.hasCurviness()\r\n                  ? ((p = a.x - d.x),\r\n                    (e = a.y - d.y),\r\n                    (f = this.computeCurviness()),\r\n                    (b = d.x + p / 2),\r\n                    (c = d.y + e / 2),\r\n                    (g = b),\r\n                    (h = c),\r\n                    K.C(e, 0)\r\n                      ? (h = 0 < p ? h - f : h + f)\r\n                      : ((p = -p / e),\r\n                        (g = Math.sqrt((f * f) / (p * p + 1))),\r\n                        0 > f && (g = -g),\r\n                        (g = (0 > e ? -1 : 1) * g + b),\r\n                        (h = p * (g - b) + c)),\r\n                    this.He(d),\r\n                    this.yf(g, h))\r\n                  : this.He(d),\r\n                this.He(a);\r\n        } else {\r\n          n = this.isAvoiding;\r\n          p && ((m && n) || l) && this.gk();\r\n          var B = l ? this.computeCurviness() : 0;\r\n          n = this.getLinkPoint(b, c, d, !0, m, e, f);\r\n          r = u = q = 0;\r\n          if (m || !h || l)\r\n            (x = this.computeEndSegmentLength(b, c, d, !0)),\r\n              (r = this.getLinkDirection(b, c, n, d, !0, m, e, f)),\r\n              l &&\r\n                (h || d.B(a) || (!m && 1 === d.x + a.x && 1 === d.y + a.y)) &&\r\n                ((r -= m ? 90 : 30), 0 > B && (r -= 180)),\r\n              0 > r ? (r += 360) : 360 <= r && (r -= 360),\r\n              l && (x += Math.abs(B) * (m ? 1 : 2)),\r\n              0 === r\r\n                ? (q = x)\r\n                : 90 === r\r\n                ? (u = x)\r\n                : 180 === r\r\n                ? (q = -x)\r\n                : 270 === r\r\n                ? (u = -x)\r\n                : ((q = x * Math.cos((r * Math.PI) / 180)),\r\n                  (u = x * Math.sin((r * Math.PI) / 180))),\r\n              d.Sb() &&\r\n                l &&\r\n                ((x = c.ma(Mc, J.alloc())),\r\n                (y = J.allocAt(x.x + 1e3 * q, x.y + 1e3 * u)),\r\n                this.getLinkPointFromPoint(b, c, x, y, !0, n),\r\n                J.free(x),\r\n                J.free(y));\r\n          x = this.getLinkPoint(e, f, a, !1, m, b, c);\r\n          var D = (z = y = 0);\r\n          if (m || !k || l) {\r\n            var I = this.computeEndSegmentLength(e, f, a, !1);\r\n            D = this.getLinkDirection(e, f, x, a, !1, m, b, c);\r\n            l &&\r\n              (k || d.B(a) || (!m && 1 === d.x + a.x && 1 === d.y + a.y)) &&\r\n              ((D += m ? 0 : 30), 0 > B && (D += 180));\r\n            0 > D ? (D += 360) : 360 <= D && (D -= 360);\r\n            l && (I += Math.abs(B) * (m ? 1 : 2));\r\n            0 === D\r\n              ? (y = I)\r\n              : 90 === D\r\n              ? (z = I)\r\n              : 180 === D\r\n              ? (y = -I)\r\n              : 270 === D\r\n              ? (z = -I)\r\n              : ((y = I * Math.cos((D * Math.PI) / 180)),\r\n                (z = I * Math.sin((D * Math.PI) / 180)));\r\n            a.Sb() &&\r\n              l &&\r\n              ((a = f.ma(Mc, J.alloc())),\r\n              (d = J.allocAt(a.x + 1e3 * y, a.y + 1e3 * z)),\r\n              this.getLinkPointFromPoint(e, f, a, d, !1, x),\r\n              J.free(a),\r\n              J.free(d));\r\n          }\r\n          a = n;\r\n          if (m || !h || l) a = new J(n.x + q, n.y + u);\r\n          d = x;\r\n          if (m || !k || l) d = new J(x.x + y, x.y + z);\r\n          !p && !m && h && 3 < g && this.adjustPoints(0, n, g - 2, d)\r\n            ? this.pd(g - 1, x)\r\n            : !p && !m && k && 3 < g && this.adjustPoints(1, a, g - 1, x)\r\n            ? this.pd(0, n)\r\n            : !p && (m ? 6 <= g : 4 < g) && this.adjustPoints(1, a, g - 2, d)\r\n            ? (this.pd(0, n), this.pd(g - 1, x))\r\n            : (this.gk(),\r\n              this.He(n),\r\n              (m || !h || l) && this.He(a),\r\n              m && this.addOrthoPoints(a, r, d, D, b, e),\r\n              (m || !k || l) && this.He(d),\r\n              this.He(x));\r\n        }\r\n        return !0;\r\n      };\r\n\r\n      function Gp(a, b) {\r\n        Math.abs(b.x - a.x) > Math.abs(b.y - a.y)\r\n          ? (b.x >= a.x ? (b.x = a.x + 9e9) : (b.x = a.x - 9e9), (b.y = a.y))\r\n          : (b.y >= a.y ? (b.y = a.y + 9e9) : (b.y = a.y - 9e9), (b.x = a.x));\r\n        return b;\r\n      }\r\n      Q.prototype.getLinkPointFromPoint = function (a, b, c, d, e, f) {\r\n        void 0 === f && (f = new J());\r\n        if (null === a || null === b) return f.assign(c), f;\r\n        a.isVisible() ||\r\n          ((e = a.findVisibleNode()), null !== e && e !== a && (b = e.port));\r\n        a = null;\r\n        e = b.panel;\r\n        null === e || e.fe() || (e = e.panel);\r\n        if (null === e) {\r\n          e = d.x;\r\n          d = d.y;\r\n          var g = c.x;\r\n          c = c.y;\r\n        } else {\r\n          a = e.yd;\r\n          e = 1 / (a.m11 * a.m22 - a.m12 * a.m21);\r\n          g = a.m22 * e;\r\n          var h = -a.m12 * e,\r\n            k = -a.m21 * e,\r\n            l = a.m11 * e,\r\n            m = e * (a.m21 * a.dy - a.m22 * a.dx),\r\n            n = e * (a.m12 * a.dx - a.m11 * a.dy);\r\n          e = d.x * g + d.y * k + m;\r\n          d = d.x * h + d.y * l + n;\r\n          g = c.x * g + c.y * k + m;\r\n          c = c.x * h + c.y * l + n;\r\n        }\r\n        b.qk(e, d, g, c, f);\r\n        null !== a && f.transform(a);\r\n        return f;\r\n      };\r\n\r\n      function Hp(a, b) {\r\n        var c = b.ip;\r\n        null === c &&\r\n          ((c = new Ip()), (c.port = b), (c.node = b.part), (b.ip = c));\r\n        return Jp(c, a);\r\n      }\r\n      Q.prototype.getLinkPoint = function (a, b, c, d, e, f, g, h) {\r\n        void 0 === h && (h = new J());\r\n        if (c.$a() && !Fp(c)) return b.ma(c, h), h;\r\n        if (c.Hf()) {\r\n          var k = Hp(this, b);\r\n          if (null !== k) {\r\n            h.assign(k.Cq);\r\n            if (e && this.routing === Kp) {\r\n              var l = Hp(this, g);\r\n              if (null !== l && k.om < l.om) {\r\n                k = J.alloc();\r\n                l = J.alloc();\r\n                var m = new L(b.ma(Hc, k), b.ma(Sc, l)),\r\n                  n = this.computeSpot(!d, g);\r\n                a = this.getLinkPoint(f, g, n, !d, e, a, b, l);\r\n                (c.Ff(Uc) || c.Ff(Vc)) && a.y >= m.y && a.y <= m.y + m.height\r\n                  ? (h.y = a.y)\r\n                  : (c.Ff(Tc) || c.Ff(Wc)) &&\r\n                    a.x >= m.x &&\r\n                    a.x <= m.x + m.width &&\r\n                    (h.x = a.x);\r\n                J.free(k);\r\n                J.free(l);\r\n              }\r\n            }\r\n            return h;\r\n          }\r\n        }\r\n        c = b.ma(0.5 === c.x && 0.5 === c.y ? c : Mc, J.alloc());\r\n        this.pointsCount > (e ? 6 : 2)\r\n          ? ((g = d ? this.i(1) : this.i(this.pointsCount - 2)),\r\n            e && (g = Gp(c, g.copy())))\r\n          : ((k = this.computeSpot(!d, g)),\r\n            (f = J.alloc()),\r\n            (g = g.ma(0.5 === k.x && 0.5 === k.y ? k : Mc, f)),\r\n            e && (g = Gp(c, g)),\r\n            J.free(f));\r\n        this.getLinkPointFromPoint(a, b, c, g, d, h);\r\n        J.free(c);\r\n        return h;\r\n      };\r\n      Q.prototype.getLinkDirection = function (a, b, c, d, e, f, g, h) {\r\n        a: if (d.$a())\r\n          var k =\r\n            d.x > d.y\r\n              ? d.x > 1 - d.y\r\n                ? 0\r\n                : d.x < 1 - d.y\r\n                ? 270\r\n                : 315\r\n              : d.x < d.y\r\n              ? d.x > 1 - d.y\r\n                ? 90\r\n                : d.x < 1 - d.y\r\n                ? 180\r\n                : 135\r\n              : 0.5 > d.x\r\n              ? 225\r\n              : 0.5 < d.x\r\n              ? 45\r\n              : 0;\r\n        else {\r\n          if (d.Hf() && ((k = Hp(this, b)), null !== k))\r\n            switch (k.Dc) {\r\n              case 1:\r\n                k = 270;\r\n                break a;\r\n              case 2:\r\n                k = 180;\r\n                break a;\r\n              default:\r\n              case 4:\r\n                k = 0;\r\n                break a;\r\n              case 8:\r\n                k = 90;\r\n                break a;\r\n            }\r\n          k = b.ma(Mc, J.alloc());\r\n          this.pointsCount > (f ? 6 : 2)\r\n            ? ((h = e ? this.i(1) : this.i(this.pointsCount - 2)),\r\n              (h = f ? Gp(k, h.copy()) : c))\r\n            : ((c = J.alloc()), (h = h.ma(Mc, c)), J.free(c));\r\n          c =\r\n            Math.abs(h.x - k.x) > Math.abs(h.y - k.y)\r\n              ? h.x >= k.x\r\n                ? 0\r\n                : 180\r\n              : h.y >= k.y\r\n              ? 90\r\n              : 270;\r\n          J.free(k);\r\n          k = c;\r\n        }\r\n        d.Sb() && g.be(a) && ((k += 180), 360 <= k && (k -= 360));\r\n        if (Fp(d)) return k;\r\n        a = b.dj();\r\n        if (0 === a) return k;\r\n        45 <= a && 135 > a\r\n          ? (k += 90)\r\n          : 135 <= a && 225 > a\r\n          ? (k += 180)\r\n          : 225 <= a && 315 > a && (k += 270);\r\n        360 <= k && (k -= 360);\r\n        return k;\r\n      };\r\n      Q.prototype.computeEndSegmentLength = function (a, b, c, d) {\r\n        if (null !== b && c.Hf() && ((a = Hp(this, b)), null !== a))\r\n          return a.tv;\r\n        a = d ? this.fromEndSegmentLength : this.toEndSegmentLength;\r\n        null !== b &&\r\n          isNaN(a) &&\r\n          (a = d ? b.fromEndSegmentLength : b.toEndSegmentLength);\r\n        isNaN(a) && (a = 10);\r\n        return a;\r\n      };\r\n      Q.prototype.computeSpot = function (a, b) {\r\n        void 0 === b && (b = null);\r\n        a\r\n          ? ((a = b ? b : this.fromPort),\r\n            null === a\r\n              ? (a = Mc)\r\n              : ((b = this.fromSpot),\r\n                b.Gb() && (b = a.fromSpot),\r\n                (a = b === kd ? Gc : b)))\r\n          : ((a = b ? b : this.toPort),\r\n            null === a\r\n              ? (a = Mc)\r\n              : ((b = this.toSpot),\r\n                b.Gb() && (b = a.toSpot),\r\n                (a = b === kd ? Gc : b)));\r\n        return a;\r\n      };\r\n\r\n      function Fp(a) {\r\n        return a === Gc || (0.5 === a.x && 0.5 === a.y);\r\n      }\r\n      Q.prototype.computeOtherPoint = function (a, b) {\r\n        if (this.adjusting !== qg && 4 < this.pointsCount)\r\n          return this.computeMidPoint(new J());\r\n        a = b.ma(Mc);\r\n        b = b.ip;\r\n        b = null !== b ? Jp(b, this) : null;\r\n        null !== b && (a = b.Cq);\r\n        return a;\r\n      };\r\n      Q.prototype.computeShortLength = function (a) {\r\n        if (a) {\r\n          a = this.fromShortLength;\r\n          if (isNaN(a)) {\r\n            var b = this.fromPort;\r\n            null !== b && (a = b.fromShortLength);\r\n          }\r\n          return isNaN(a) ? 0 : a;\r\n        }\r\n        a = this.toShortLength;\r\n        isNaN(a) && ((b = this.toPort), null !== b && (a = b.toShortLength));\r\n        return isNaN(a) ? 0 : a;\r\n      };\r\n      Q.prototype.Cf = function (a, b, c, d, e, f) {\r\n        if (!1 === this.pickable) return !1;\r\n        void 0 === b && (b = null);\r\n        void 0 === c && (c = null);\r\n        var g = f;\r\n        void 0 === f && ((g = Kb.alloc()), g.reset());\r\n        g.multiply(this.transform);\r\n        if (this.Mh(a, g))\r\n          return un(this, b, c, e), void 0 === f && Kb.free(g), !0;\r\n        if (this.Mc(a, g)) {\r\n          var h = !1;\r\n          if (!this.isAtomic)\r\n            for (var k = this.$.j, l = k.length; l--; ) {\r\n              var m = k[l];\r\n              if (m.visible || m === this.locationObject) {\r\n                var n = m.actualBounds,\r\n                  p = this.naturalBounds;\r\n                if (\r\n                  !(\r\n                    n.x > p.width ||\r\n                    n.y > p.height ||\r\n                    0 > n.x + n.width ||\r\n                    0 > n.y + n.height\r\n                  )\r\n                ) {\r\n                  n = Kb.alloc();\r\n                  n.set(g);\r\n                  if (m instanceof V) h = m.Cf(a, b, c, d, e, n);\r\n                  else if (this.path === m) {\r\n                    if (m instanceof $f)\r\n                      if (((h = a), (p = d), !1 === m.pickable)) h = !1;\r\n                      else if ((n.multiply(m.transform), p))\r\n                        b: {\r\n                          var r = h,\r\n                            q = n;\r\n                          if (m.Mh(r, q)) h = !0;\r\n                          else {\r\n                            if (\r\n                              void 0 === q &&\r\n                              ((q = m.transform), r.Af(m.actualBounds))\r\n                            ) {\r\n                              h = !0;\r\n                              break b;\r\n                            }\r\n                            h = r.left;\r\n                            p = r.right;\r\n                            var u = r.top;\r\n                            r = r.bottom;\r\n                            var x = J.alloc(),\r\n                              y = J.alloc(),\r\n                              z = J.alloc(),\r\n                              B = Kb.alloc();\r\n                            B.set(q);\r\n                            B.Ov(m.transform);\r\n                            B.vt();\r\n                            y.x = p;\r\n                            y.y = u;\r\n                            y.transform(B);\r\n                            x.x = h;\r\n                            x.y = u;\r\n                            x.transform(B);\r\n                            q = !1;\r\n                            Xn(m, x, y, z)\r\n                              ? (q = !0)\r\n                              : ((x.x = p),\r\n                                (x.y = r),\r\n                                x.transform(B),\r\n                                Xn(m, x, y, z)\r\n                                  ? (q = !0)\r\n                                  : ((y.x = h),\r\n                                    (y.y = r),\r\n                                    y.transform(B),\r\n                                    Xn(m, x, y, z)\r\n                                      ? (q = !0)\r\n                                      : ((x.x = h),\r\n                                        (x.y = u),\r\n                                        x.transform(B),\r\n                                        Xn(m, x, y, z) && (q = !0))));\r\n                            Kb.free(B);\r\n                            J.free(x);\r\n                            J.free(y);\r\n                            J.free(z);\r\n                            h = q;\r\n                          }\r\n                        }\r\n                      else h = m.Mh(h, n);\r\n                  } else h = yl(m, a, d, n);\r\n                  h &&\r\n                    ((p = m),\r\n                    null !== b && (p = b(m)),\r\n                    p && (null === c || c(p)) && e.add(p));\r\n                  Kb.free(n);\r\n                }\r\n              }\r\n            }\r\n          void 0 === f && Kb.free(g);\r\n          return h || null !== this.background || null !== this.areaBackground;\r\n        }\r\n        void 0 === f && Kb.free(g);\r\n        return !1;\r\n      };\r\n      Q.prototype.computeCurve = function () {\r\n        if (null === this.bg) {\r\n          var a = this.fromPort,\r\n            b = this.isOrthogonal;\r\n          this.bg = null !== a && a === this.toPort && !b;\r\n        }\r\n        return this.bg ? Fg : this.curve;\r\n      };\r\n      Q.prototype.computeCorner = function () {\r\n        if (this.curve === Fg) return 0;\r\n        var a = this.corner;\r\n        if (isNaN(a) || 0 > a) a = 10;\r\n        return a;\r\n      };\r\n      Q.prototype.findMidLabel = function () {\r\n        for (var a = this.path, b = this.$.j, c = b.length, d = 0; d < c; d++) {\r\n          var e = b[d];\r\n          if (\r\n            e !== a &&\r\n            !e.isPanelMain &&\r\n            (-Infinity === e.segmentIndex || isNaN(e.segmentIndex))\r\n          )\r\n            return e;\r\n        }\r\n        for (a = this.labelNodes; a.next(); )\r\n          if (\r\n            ((b = a.value),\r\n            -Infinity === b.segmentIndex || isNaN(b.segmentIndex))\r\n          )\r\n            return b;\r\n        return null;\r\n      };\r\n      Q.prototype.computeSpacing = function () {\r\n        if (!this.isVisible()) return 0;\r\n        var a = Math.max(14, this.computeThickness());\r\n        var b = this.fromPort,\r\n          c = this.toPort;\r\n        if (null !== b && null !== c) {\r\n          var d = this.findMidLabel();\r\n          if (null !== d) {\r\n            var e = d.naturalBounds,\r\n              f = d.margin,\r\n              g = isNaN(e.width) ? 30 : e.width * d.scale + f.left + f.right;\r\n            e = isNaN(e.height) ? 14 : e.height * d.scale + f.top + f.bottom;\r\n            d = d.segmentOrientation;\r\n            d === Zn || d === zp || d === yp\r\n              ? (a = Math.max(a, e))\r\n              : d === en || d === fn || d === cn || d === dn\r\n              ? (a = Math.max(a, g))\r\n              : ((b = (b.ma(Mc).Xa(c.ma(Mc)) / 180) * Math.PI),\r\n                (a = Math.max(\r\n                  a,\r\n                  Math.abs(Math.sin(b) * g) + Math.abs(Math.cos(b) * e) + 1\r\n                )));\r\n            this.curve === Fg && (a *= 1.333);\r\n          }\r\n        }\r\n        return a;\r\n      };\r\n      Q.prototype.arrangeBundledLinks = function (a, b) {\r\n        if (b)\r\n          for (b = 0; b < a.length; b++) {\r\n            var c = a[b];\r\n            c.adjusting === qg && c.Ta();\r\n          }\r\n      };\r\n      Q.prototype.computeCurviness = function () {\r\n        var a = this.curviness;\r\n        if (isNaN(a)) {\r\n          a = 16;\r\n          var b = this.Tf;\r\n          if (null !== b) {\r\n            for (var c = La(), d = 0, e = b.links, f = 0; f < e.length; f++) {\r\n              var g = e[f].computeSpacing();\r\n              c.push(g);\r\n              d += g;\r\n            }\r\n            d = -d / 2;\r\n            for (f = 0; f < e.length; f++) {\r\n              if (e[f] === this) {\r\n                a = d + c[f] / 2;\r\n                break;\r\n              }\r\n              d += c[f];\r\n            }\r\n            b.Dt === this.fromNode && (a = -a);\r\n            Na(c);\r\n          }\r\n        }\r\n        return a;\r\n      };\r\n      Q.prototype.computeThickness = function () {\r\n        if (!this.isVisible()) return 0;\r\n        var a = this.path;\r\n        return null !== a ? Math.max(a.strokeWidth, 1) : 1;\r\n      };\r\n      Q.prototype.hasCurviness = function () {\r\n        return !isNaN(this.curviness) || null !== this.Tf;\r\n      };\r\n      Q.prototype.adjustPoints = function (a, b, c, d) {\r\n        var e = this.adjusting;\r\n        if (this.isOrthogonal) {\r\n          if (e === wp) return !1;\r\n          e === xp && (e = vp);\r\n        }\r\n        switch (e) {\r\n          case wp:\r\n            var f = this.i(a),\r\n              g = this.i(c);\r\n            if (!f.Sa(b) || !g.Sa(d)) {\r\n              e = f.x;\r\n              f = f.y;\r\n              var h = g.x - e,\r\n                k = g.y - f,\r\n                l = Math.sqrt(h * h + k * k);\r\n              if (!K.ba(l, 0)) {\r\n                if (K.ba(h, 0)) var m = 0 > k ? -Math.PI / 2 : Math.PI / 2;\r\n                else\r\n                  (m = Math.atan(k / Math.abs(h))), 0 > h && (m = Math.PI - m);\r\n                g = b.x;\r\n                var n = b.y;\r\n                h = d.x - g;\r\n                var p = d.y - n;\r\n                k = Math.sqrt(h * h + p * p);\r\n                K.ba(h, 0)\r\n                  ? (p = 0 > p ? -Math.PI / 2 : Math.PI / 2)\r\n                  : ((p = Math.atan(p / Math.abs(h))),\r\n                    0 > h && (p = Math.PI - p));\r\n                l = k / l;\r\n                m = p - m;\r\n                this.pd(a, b);\r\n                for (a += 1; a < c; a++)\r\n                  (b = this.i(a)),\r\n                    (h = b.x - e),\r\n                    (k = b.y - f),\r\n                    (b = Math.sqrt(h * h + k * k)),\r\n                    K.ba(b, 0) ||\r\n                      (K.ba(h, 0)\r\n                        ? (k = 0 > k ? -Math.PI / 2 : Math.PI / 2)\r\n                        : ((k = Math.atan(k / Math.abs(h))),\r\n                          0 > h && (k = Math.PI - k)),\r\n                      (h = k + m),\r\n                      (b *= l),\r\n                      this.N(a, g + b * Math.cos(h), n + b * Math.sin(h)));\r\n                this.pd(c, d);\r\n              }\r\n            }\r\n            return !0;\r\n          case xp:\r\n            f = this.i(a);\r\n            n = this.i(c);\r\n            if (!f.Sa(b) || !n.Sa(d)) {\r\n              e = f.x;\r\n              f = f.y;\r\n              g = n.x;\r\n              n = n.y;\r\n              l = (g - e) * (g - e) + (n - f) * (n - f);\r\n              h = b.x;\r\n              m = b.y;\r\n              k = d.x;\r\n              p = d.y;\r\n              var r = 1;\r\n              if (0 !== k - h) {\r\n                var q = (p - m) / (k - h);\r\n                r = Math.sqrt(1 + 1 / (q * q));\r\n              } else q = 9e9;\r\n              this.pd(a, b);\r\n              for (a += 1; a < c; a++) {\r\n                b = this.i(a);\r\n                var u = b.x,\r\n                  x = b.y,\r\n                  y = 0.5;\r\n                0 !== l && (y = ((e - u) * (e - g) + (f - x) * (f - n)) / l);\r\n                var z = e + y * (g - e),\r\n                  B = f + y * (n - f);\r\n                b = Math.sqrt((u - z) * (u - z) + (x - B) * (x - B));\r\n                x < q * (u - z) + B && (b = -b);\r\n                0 < q && (b = -b);\r\n                u = h + y * (k - h);\r\n                y = m + y * (p - m);\r\n                0 !== q\r\n                  ? ((b = u + b / r), this.N(a, b, y - (b - u) / q))\r\n                  : this.N(a, u, y + b);\r\n              }\r\n              this.pd(c, d);\r\n            }\r\n            return !0;\r\n          case vp:\r\n            a: {\r\n              if (\r\n                this.isOrthogonal &&\r\n                ((e = this.i(a)),\r\n                (f = this.i(a + 1)),\r\n                (g = this.i(a + 2)),\r\n                (h = f.x),\r\n                (m = f.y),\r\n                (n = h),\r\n                (l = m),\r\n                K.C(e.y, f.y)\r\n                  ? K.C(f.x, g.x)\r\n                    ? (m = b.y)\r\n                    : K.C(f.y, g.y) && (h = b.x)\r\n                  : K.C(e.x, f.x) &&\r\n                    (K.C(f.y, g.y) ? (h = b.x) : K.C(f.x, g.x) && (m = b.y)),\r\n                this.N(a + 1, h, m),\r\n                (e = this.i(c)),\r\n                (f = this.i(c - 1)),\r\n                (g = this.i(c - 2)),\r\n                (h = f.x),\r\n                (m = f.y),\r\n                (k = h),\r\n                (p = m),\r\n                K.C(e.y, f.y)\r\n                  ? K.C(f.x, g.x)\r\n                    ? (m = d.y)\r\n                    : K.C(f.y, g.y) && (h = d.x)\r\n                  : K.C(e.x, f.x) &&\r\n                    (K.C(f.y, g.y) ? (h = d.x) : K.C(f.x, g.x) && (m = d.y)),\r\n                this.N(c - 1, h, m),\r\n                ek(this))\r\n              ) {\r\n                this.N(a + 1, n, l);\r\n                this.N(c - 1, k, p);\r\n                c = !1;\r\n                break a;\r\n              }\r\n              this.pd(a, b);\r\n              this.pd(c, d);\r\n              c = !0;\r\n            }\r\n            return c;\r\n          default:\r\n            return !1;\r\n        }\r\n      };\r\n      Q.prototype.addOrthoPoints = function (a, b, c, d, e, f) {\r\n        b =\r\n          -45 <= b && 45 > b\r\n            ? 0\r\n            : 45 <= b && 135 > b\r\n            ? 90\r\n            : 135 <= b && 225 > b\r\n            ? 180\r\n            : 270;\r\n        d =\r\n          -45 <= d && 45 > d\r\n            ? 0\r\n            : 45 <= d && 135 > d\r\n            ? 90\r\n            : 135 <= d && 225 > d\r\n            ? 180\r\n            : 270;\r\n        var g = e.actualBounds.copy(),\r\n          h = f.actualBounds.copy();\r\n        if (g.o() && h.o()) {\r\n          g.$c(8, 8);\r\n          h.$c(8, 8);\r\n          g.Pe(a);\r\n          h.Pe(c);\r\n          if (0 === b)\r\n            if (\r\n              c.x > a.x ||\r\n              (270 === d && c.y < a.y && h.right > a.x) ||\r\n              (90 === d && c.y > a.y && h.right > a.x)\r\n            ) {\r\n              var k = new J(c.x, a.y);\r\n              var l = new J(c.x, (a.y + c.y) / 2);\r\n              180 === d\r\n                ? ((k.x = this.computeMidOrthoPosition(a.x, a.y, c.x, c.y, !1)),\r\n                  (l.x = k.x),\r\n                  (l.y = c.y))\r\n                : (270 === d && c.y < a.y) || (90 === d && c.y > a.y)\r\n                ? ((k.x =\r\n                    a.x < h.left\r\n                      ? this.computeMidOrthoPosition(a.x, a.y, h.left, c.y, !1)\r\n                      : a.x < h.right &&\r\n                        ((270 === d && a.y < h.top) ||\r\n                          (90 === d && a.y > h.bottom))\r\n                      ? this.computeMidOrthoPosition(a.x, a.y, c.x, c.y, !1)\r\n                      : h.right),\r\n                  (l.x = k.x),\r\n                  (l.y = c.y))\r\n                : 0 === d &&\r\n                  a.x < h.left &&\r\n                  a.y > h.top &&\r\n                  a.y < h.bottom &&\r\n                  ((k.x = a.x),\r\n                  (k.y =\r\n                    a.y < c.y ? Math.min(c.y, h.top) : Math.max(c.y, h.bottom)),\r\n                  (l.y = k.y));\r\n            } else {\r\n              k = new J(a.x, c.y);\r\n              l = new J((a.x + c.x) / 2, c.y);\r\n              if (\r\n                180 === d ||\r\n                (90 === d && c.y < g.top) ||\r\n                (270 === d && c.y > g.bottom)\r\n              )\r\n                180 === d && (h.ea(a) || g.ea(c))\r\n                  ? (k.y = this.computeMidOrthoPosition(a.x, a.y, c.x, c.y, !0))\r\n                  : c.y < a.y && (180 === d || 90 === d)\r\n                  ? (k.y = this.computeMidOrthoPosition(\r\n                      a.x,\r\n                      g.top,\r\n                      c.x,\r\n                      Math.max(c.y, h.bottom),\r\n                      !0\r\n                    ))\r\n                  : c.y > a.y &&\r\n                    (180 === d || 270 === d) &&\r\n                    (k.y = this.computeMidOrthoPosition(\r\n                      a.x,\r\n                      g.bottom,\r\n                      c.x,\r\n                      Math.min(c.y, h.top),\r\n                      !0\r\n                    )),\r\n                  (l.x = c.x),\r\n                  (l.y = k.y);\r\n              if (k.y > g.top && k.y < g.bottom)\r\n                if (\r\n                  (c.x >= g.left && c.x <= a.x) ||\r\n                  (a.x <= h.right && a.x >= c.x)\r\n                ) {\r\n                  if (90 === d || 270 === d)\r\n                    (k = new J(Math.max((a.x + c.x) / 2, a.x), a.y)),\r\n                      (l = new J(k.x, c.y));\r\n                } else\r\n                  (k.y =\r\n                    270 === d || ((0 === d || 180 === d) && c.y < a.y)\r\n                      ? Math.min(c.y, 0 === d ? g.top : Math.min(g.top, h.top))\r\n                      : Math.max(\r\n                          c.y,\r\n                          0 === d ? g.bottom : Math.max(g.bottom, h.bottom)\r\n                        )),\r\n                    (l.x = c.x),\r\n                    (l.y = k.y);\r\n            }\r\n          else if (180 === b)\r\n            if (\r\n              c.x < a.x ||\r\n              (270 === d && c.y < a.y && h.left < a.x) ||\r\n              (90 === d && c.y > a.y && h.left < a.x)\r\n            )\r\n              (k = new J(c.x, a.y)),\r\n                (l = new J(c.x, (a.y + c.y) / 2)),\r\n                0 === d\r\n                  ? ((k.x = this.computeMidOrthoPosition(\r\n                      a.x,\r\n                      a.y,\r\n                      c.x,\r\n                      c.y,\r\n                      !1\r\n                    )),\r\n                    (l.x = k.x),\r\n                    (l.y = c.y))\r\n                  : (270 === d && c.y < a.y) || (90 === d && c.y > a.y)\r\n                  ? ((k.x =\r\n                      a.x > h.right\r\n                        ? this.computeMidOrthoPosition(\r\n                            a.x,\r\n                            a.y,\r\n                            h.right,\r\n                            c.y,\r\n                            !1\r\n                          )\r\n                        : a.x > h.left &&\r\n                          ((270 === d && a.y < h.top) ||\r\n                            (90 === d && a.y > h.bottom))\r\n                        ? this.computeMidOrthoPosition(a.x, a.y, c.x, c.y, !1)\r\n                        : h.left),\r\n                    (l.x = k.x),\r\n                    (l.y = c.y))\r\n                  : 180 === d &&\r\n                    a.x > h.right &&\r\n                    a.y > h.top &&\r\n                    a.y < h.bottom &&\r\n                    ((k.x = a.x),\r\n                    (k.y =\r\n                      a.y < c.y\r\n                        ? Math.min(c.y, h.top)\r\n                        : Math.max(c.y, h.bottom)),\r\n                    (l.y = k.y));\r\n            else {\r\n              k = new J(a.x, c.y);\r\n              l = new J((a.x + c.x) / 2, c.y);\r\n              if (\r\n                0 === d ||\r\n                (90 === d && c.y < g.top) ||\r\n                (270 === d && c.y > g.bottom)\r\n              )\r\n                0 === d && (h.ea(a) || g.ea(c))\r\n                  ? (k.y = this.computeMidOrthoPosition(a.x, a.y, c.x, c.y, !0))\r\n                  : c.y < a.y && (0 === d || 90 === d)\r\n                  ? (k.y = this.computeMidOrthoPosition(\r\n                      a.x,\r\n                      g.top,\r\n                      c.x,\r\n                      Math.max(c.y, h.bottom),\r\n                      !0\r\n                    ))\r\n                  : c.y > a.y &&\r\n                    (0 === d || 270 === d) &&\r\n                    (k.y = this.computeMidOrthoPosition(\r\n                      a.x,\r\n                      g.bottom,\r\n                      c.x,\r\n                      Math.min(c.y, h.top),\r\n                      !0\r\n                    )),\r\n                  (l.x = c.x),\r\n                  (l.y = k.y);\r\n              if (k.y > g.top && k.y < g.bottom)\r\n                if (\r\n                  (c.x <= g.right && c.x >= a.x) ||\r\n                  (a.x >= h.left && a.x <= c.x)\r\n                ) {\r\n                  if (90 === d || 270 === d)\r\n                    (k = new J(Math.min((a.x + c.x) / 2, a.x), a.y)),\r\n                      (l = new J(k.x, c.y));\r\n                } else\r\n                  (k.y =\r\n                    270 === d || ((0 === d || 180 === d) && c.y < a.y)\r\n                      ? Math.min(\r\n                          c.y,\r\n                          180 === d ? g.top : Math.min(g.top, h.top)\r\n                        )\r\n                      : Math.max(\r\n                          c.y,\r\n                          180 === d ? g.bottom : Math.max(g.bottom, h.bottom)\r\n                        )),\r\n                    (l.x = c.x),\r\n                    (l.y = k.y);\r\n            }\r\n          else if (90 === b)\r\n            if (\r\n              c.y > a.y ||\r\n              (180 === d && c.x < a.x && h.bottom > a.y) ||\r\n              (0 === d && c.x > a.x && h.bottom > a.y)\r\n            )\r\n              (k = new J(a.x, c.y)),\r\n                (l = new J((a.x + c.x) / 2, c.y)),\r\n                270 === d\r\n                  ? ((k.y = this.computeMidOrthoPosition(\r\n                      a.x,\r\n                      a.y,\r\n                      c.x,\r\n                      c.y,\r\n                      !0\r\n                    )),\r\n                    (l.x = c.x),\r\n                    (l.y = k.y))\r\n                  : (180 === d && c.x < a.x) || (0 === d && c.x > a.x)\r\n                  ? ((k.y =\r\n                      a.y < h.top\r\n                        ? this.computeMidOrthoPosition(a.x, a.y, c.x, h.top, !0)\r\n                        : a.y < h.bottom &&\r\n                          ((180 === d && a.x < h.left) ||\r\n                            (0 === d && a.x > h.right))\r\n                        ? this.computeMidOrthoPosition(a.x, a.y, c.x, c.y, !0)\r\n                        : h.bottom),\r\n                    (l.x = c.x),\r\n                    (l.y = k.y))\r\n                  : 90 === d &&\r\n                    a.y < h.top &&\r\n                    a.x > h.left &&\r\n                    a.x < h.right &&\r\n                    ((k.x =\r\n                      a.x < c.x\r\n                        ? Math.min(c.x, h.left)\r\n                        : Math.max(c.x, h.right)),\r\n                    (k.y = a.y),\r\n                    (l.x = k.x));\r\n            else {\r\n              k = new J(c.x, a.y);\r\n              l = new J(c.x, (a.y + c.y) / 2);\r\n              if (\r\n                270 === d ||\r\n                (0 === d && c.x < g.left) ||\r\n                (180 === d && c.x > g.right)\r\n              )\r\n                270 === d && (h.ea(a) || g.ea(c))\r\n                  ? (k.x = this.computeMidOrthoPosition(a.x, a.y, c.x, c.y, !1))\r\n                  : c.x < a.x && (270 === d || 0 === d)\r\n                  ? (k.x = this.computeMidOrthoPosition(\r\n                      g.left,\r\n                      a.y,\r\n                      Math.max(c.x, h.right),\r\n                      c.y,\r\n                      !1\r\n                    ))\r\n                  : c.x > a.x &&\r\n                    (270 === d || 180 === d) &&\r\n                    (k.x = this.computeMidOrthoPosition(\r\n                      g.right,\r\n                      a.y,\r\n                      Math.min(c.x, h.left),\r\n                      c.y,\r\n                      !1\r\n                    )),\r\n                  (l.x = k.x),\r\n                  (l.y = c.y);\r\n              if (k.x > g.left && k.x < g.right)\r\n                if (\r\n                  (c.y >= g.top && c.y <= a.y) ||\r\n                  (a.y <= h.bottom && a.y >= c.y)\r\n                ) {\r\n                  if (0 === d || 180 === d)\r\n                    (k = new J(a.x, Math.max((a.y + c.y) / 2, a.y))),\r\n                      (l = new J(c.x, k.y));\r\n                } else\r\n                  (k.x =\r\n                    180 === d || ((90 === d || 270 === d) && c.x < a.x)\r\n                      ? Math.min(\r\n                          c.x,\r\n                          90 === d ? g.left : Math.min(g.left, h.left)\r\n                        )\r\n                      : Math.max(\r\n                          c.x,\r\n                          90 === d ? g.right : Math.max(g.right, h.right)\r\n                        )),\r\n                    (l.x = k.x),\r\n                    (l.y = c.y);\r\n            }\r\n          else if (\r\n            c.y < a.y ||\r\n            (180 === d && c.x < a.x && h.top < a.y) ||\r\n            (0 === d && c.x > a.x && h.top < a.y)\r\n          )\r\n            (k = new J(a.x, c.y)),\r\n              (l = new J((a.x + c.x) / 2, c.y)),\r\n              90 === d\r\n                ? ((k.y = this.computeMidOrthoPosition(a.x, a.y, c.x, c.y, !0)),\r\n                  (l.x = c.x),\r\n                  (l.y = k.y))\r\n                : (180 === d && c.x < a.x) || (0 === d && c.x >= a.x)\r\n                ? ((k.y =\r\n                    a.y > h.bottom\r\n                      ? this.computeMidOrthoPosition(\r\n                          a.x,\r\n                          a.y,\r\n                          c.x,\r\n                          h.bottom,\r\n                          !0\r\n                        )\r\n                      : a.y > h.top &&\r\n                        ((180 === d && a.x < h.left) ||\r\n                          (0 === d && a.x > h.right))\r\n                      ? this.computeMidOrthoPosition(a.x, a.y, c.x, c.y, !0)\r\n                      : h.top),\r\n                  (l.x = c.x),\r\n                  (l.y = k.y))\r\n                : 270 === d &&\r\n                  a.y > h.bottom &&\r\n                  a.x > h.left &&\r\n                  a.x < h.right &&\r\n                  ((k.x =\r\n                    a.x < c.x ? Math.min(c.x, h.left) : Math.max(c.x, h.right)),\r\n                  (k.y = a.y),\r\n                  (l.x = k.x));\r\n          else {\r\n            k = new J(c.x, a.y);\r\n            l = new J(c.x, (a.y + c.y) / 2);\r\n            if (\r\n              90 === d ||\r\n              (0 === d && c.x < g.left) ||\r\n              (180 === d && c.x > g.right)\r\n            )\r\n              90 === d && (h.ea(a) || g.ea(c))\r\n                ? (k.x = this.computeMidOrthoPosition(a.x, a.y, c.x, c.y, !1))\r\n                : c.x < a.x && (90 === d || 0 === d)\r\n                ? (k.x = this.computeMidOrthoPosition(\r\n                    g.left,\r\n                    a.y,\r\n                    Math.max(c.x, h.right),\r\n                    c.y,\r\n                    !1\r\n                  ))\r\n                : c.x > a.x &&\r\n                  (90 === d || 180 === d) &&\r\n                  (k.x = this.computeMidOrthoPosition(\r\n                    g.right,\r\n                    a.y,\r\n                    Math.min(c.x, h.left),\r\n                    c.y,\r\n                    !1\r\n                  )),\r\n                (l.x = k.x),\r\n                (l.y = c.y);\r\n            if (k.x > g.left && k.x < g.right)\r\n              if (\r\n                (c.y <= g.bottom && c.y >= a.y) ||\r\n                (a.y >= h.top && a.y <= c.y)\r\n              ) {\r\n                if (0 === d || 180 === d)\r\n                  (k = new J(a.x, Math.min((a.y + c.y) / 2, a.y))),\r\n                    (l = new J(c.x, k.y));\r\n              } else\r\n                (k.x =\r\n                  180 === d || ((90 === d || 270 === d) && c.x < a.x)\r\n                    ? Math.min(\r\n                        c.x,\r\n                        270 === d ? g.left : Math.min(g.left, h.left)\r\n                      )\r\n                    : Math.max(\r\n                        c.x,\r\n                        270 === d ? g.right : Math.max(g.right, h.right)\r\n                      )),\r\n                  (l.x = k.x),\r\n                  (l.y = c.y);\r\n          }\r\n          var m = k,\r\n            n = l,\r\n            p = c;\r\n          if (this.isAvoiding) {\r\n            var r = this.diagram;\r\n            if (\r\n              null === r ||\r\n              !Hk(r) ||\r\n              (g.ea(p) && !f.be(e)) ||\r\n              (h.ea(a) && !e.be(f)) ||\r\n              e === f ||\r\n              this.layer.isTemporary\r\n            )\r\n              b = !1;\r\n            else {\r\n              var q = Ik(r, !0, this.containingGroup, null);\r\n              if (\r\n                q.uk(\r\n                  Math.min(a.x, m.x),\r\n                  Math.min(a.y, m.y),\r\n                  Math.abs(a.x - m.x),\r\n                  Math.abs(a.y - m.y)\r\n                ) &&\r\n                q.uk(\r\n                  Math.min(m.x, n.x),\r\n                  Math.min(m.y, n.y),\r\n                  Math.abs(m.x - n.x),\r\n                  Math.abs(m.y - n.y)\r\n                ) &&\r\n                q.uk(\r\n                  Math.min(n.x, p.x),\r\n                  Math.min(n.y, p.y),\r\n                  Math.abs(n.x - p.x),\r\n                  Math.abs(n.y - p.y)\r\n                )\r\n              )\r\n                b = !1;\r\n              else {\r\n                e = a;\r\n                f = p;\r\n                var u = (c = null);\r\n                if (r.isVirtualized) {\r\n                  r = q.bounds.copy();\r\n                  r.$c(-q.nm, -q.mm);\r\n                  var x = J.alloc();\r\n                  Lp(q, a.x, a.y) ||\r\n                    (K.Zc(\r\n                      r.x,\r\n                      r.y,\r\n                      r.x + r.width,\r\n                      r.y + r.height,\r\n                      a.x,\r\n                      a.y,\r\n                      m.x,\r\n                      m.y,\r\n                      x\r\n                    )\r\n                      ? ((c = a = x.copy()), (b = x.Xa(m)))\r\n                      : K.Zc(\r\n                          r.x,\r\n                          r.y,\r\n                          r.x + r.width,\r\n                          r.y + r.height,\r\n                          m.x,\r\n                          m.y,\r\n                          n.x,\r\n                          n.y,\r\n                          x\r\n                        )\r\n                      ? ((c = a = x.copy()), (b = x.Xa(n)))\r\n                      : K.Zc(\r\n                          r.x,\r\n                          r.y,\r\n                          r.x + r.width,\r\n                          r.y + r.height,\r\n                          n.x,\r\n                          n.y,\r\n                          p.x,\r\n                          p.y,\r\n                          x\r\n                        ) && ((c = a = x.copy()), (b = x.Xa(p))));\r\n                  Lp(q, p.x, p.y) ||\r\n                    (K.Zc(\r\n                      r.x,\r\n                      r.y,\r\n                      r.x + r.width,\r\n                      r.y + r.height,\r\n                      p.x,\r\n                      p.y,\r\n                      n.x,\r\n                      n.y,\r\n                      x\r\n                    )\r\n                      ? ((u = p = x.copy()), (d = n.Xa(x)))\r\n                      : K.Zc(\r\n                          r.x,\r\n                          r.y,\r\n                          r.x + r.width,\r\n                          r.y + r.height,\r\n                          n.x,\r\n                          n.y,\r\n                          m.x,\r\n                          m.y,\r\n                          x\r\n                        )\r\n                      ? ((u = p = x.copy()), (d = m.Xa(x)))\r\n                      : K.Zc(\r\n                          r.x,\r\n                          r.y,\r\n                          r.x + r.width,\r\n                          r.y + r.height,\r\n                          m.x,\r\n                          m.y,\r\n                          a.x,\r\n                          a.y,\r\n                          x\r\n                        ) && ((u = p = x.copy()), (d = a.Xa(x))));\r\n                  J.free(x);\r\n                }\r\n                g = g.copy().Nc(h);\r\n                h = q.HA;\r\n                g.$c(q.nm * h, q.mm * h);\r\n                Mp(q, a, b, p, d, g);\r\n                h = Np(q, p.x, p.y);\r\n                !q.abort &&\r\n                  h >= Op &&\r\n                  (Lk(q),\r\n                  (h = q.lA),\r\n                  g.$c(q.nm * h, q.mm * h),\r\n                  Mp(q, a, b, p, d, g),\r\n                  (h = Np(q, p.x, p.y)));\r\n                !q.abort &&\r\n                  h >= Op &&\r\n                  q.OA &&\r\n                  (Lk(q), Mp(q, a, b, p, d, q.bounds), (h = Np(q, p.x, p.y)));\r\n                if (!q.abort && h < Op && Np(q, p.x, p.y) !== Pp) {\r\n                  Qp(this, q, p.x, p.y, d, !0);\r\n                  g = this.i(2);\r\n                  if (4 > this.pointsCount)\r\n                    0 === b || 180 === b\r\n                      ? ((g.x = a.x), (g.y = p.y))\r\n                      : ((g.x = p.x), (g.y = a.y)),\r\n                      this.N(2, g.x, g.y),\r\n                      this.m(3, g.x, g.y);\r\n                  else if (((p = this.i(3)), 0 === b || 180 === b))\r\n                    K.C(g.x, p.x)\r\n                      ? ((g =\r\n                          0 === b ? Math.max(g.x, a.x) : Math.min(g.x, a.x)),\r\n                        this.N(2, g, a.y),\r\n                        this.N(3, g, p.y))\r\n                      : K.C(g.y, p.y)\r\n                      ? (Math.abs(a.y - g.y) <= q.mm / 2 &&\r\n                          (this.N(2, g.x, a.y), this.N(3, p.x, a.y)),\r\n                        this.m(2, g.x, a.y))\r\n                      : this.N(2, a.x, g.y);\r\n                  else if (90 === b || 270 === b)\r\n                    K.C(g.y, p.y)\r\n                      ? ((g =\r\n                          90 === b ? Math.max(g.y, a.y) : Math.min(g.y, a.y)),\r\n                        this.N(2, a.x, g),\r\n                        this.N(3, p.x, g))\r\n                      : K.C(g.x, p.x)\r\n                      ? (Math.abs(a.x - g.x) <= q.nm / 2 &&\r\n                          (this.N(2, a.x, g.y), this.N(3, a.x, p.y)),\r\n                        this.m(2, a.x, g.y))\r\n                      : this.N(2, g.x, a.y);\r\n                  null !== c &&\r\n                    ((a = this.i(1)),\r\n                    (p = this.i(2)),\r\n                    a.x !== p.x && a.y !== p.y\r\n                      ? 0 === b || 180 === b\r\n                        ? this.m(2, a.x, p.y)\r\n                        : this.m(2, p.x, a.y)\r\n                      : 0 === b || 180 === b\r\n                      ? this.m(2, e.x, c.y)\r\n                      : this.m(2, c.x, e.y));\r\n                  null !== u &&\r\n                    (0 === d || 180 === d\r\n                      ? this.yf(f.x, u.y)\r\n                      : this.yf(u.x, f.y));\r\n                  b = !0;\r\n                } else b = !1;\r\n              }\r\n            }\r\n          } else b = !1;\r\n          b || (this.He(k), this.He(l));\r\n        }\r\n      };\r\n      Q.prototype.computeMidOrthoPosition = function (a, b, c, d, e) {\r\n        var f = 0;\r\n        this.hasCurviness() && (f = this.computeCurviness());\r\n        return e ? (b + d) / 2 + f : (a + c) / 2 + f;\r\n      };\r\n\r\n      function ek(a) {\r\n        if (null === a.diagram || !a.isAvoiding || !Hk(a.diagram)) return !1;\r\n        var b = a.points.j,\r\n          c = b.length;\r\n        if (4 > c) return !1;\r\n        a = Ik(a.diagram, !0, a.containingGroup, null);\r\n        for (var d = 1; d < c - 2; d++) {\r\n          var e = b[d],\r\n            f = b[d + 1];\r\n          if (\r\n            !a.uk(\r\n              Math.min(e.x, f.x),\r\n              Math.min(e.y, f.y),\r\n              Math.abs(e.x - f.x),\r\n              Math.abs(e.y - f.y)\r\n            )\r\n          )\r\n            return !0;\r\n        }\r\n        return !1;\r\n      }\r\n\r\n      function Qp(a, b, c, d, e, f) {\r\n        var g = b.nm,\r\n          h = b.mm,\r\n          k = Np(b, c, d),\r\n          l = c,\r\n          m = d;\r\n        for (\r\n          0 === e\r\n            ? (l += g)\r\n            : 90 === e\r\n            ? (m += h)\r\n            : 180 === e\r\n            ? (l -= g)\r\n            : (m -= h);\r\n          k > Rp && Np(b, l, m) === k - 1;\r\n\r\n        )\r\n          (c = l),\r\n            (d = m),\r\n            0 === e\r\n              ? (l += g)\r\n              : 90 === e\r\n              ? (m += h)\r\n              : 180 === e\r\n              ? (l -= g)\r\n              : (m -= h),\r\n            --k;\r\n        if (f) {\r\n          if (k > Rp)\r\n            if (180 === e || 0 === e) c = Math.floor(c / g) * g + g / 2;\r\n            else if (90 === e || 270 === e) d = Math.floor(d / h) * h + h / 2;\r\n        } else\r\n          (c = Math.floor(c / g) * g + g / 2),\r\n            (d = Math.floor(d / h) * h + h / 2);\r\n        k > Rp &&\r\n          ((f = e),\r\n          (l = c),\r\n          (m = d),\r\n          0 === e\r\n            ? ((f = 90), (m += h))\r\n            : 90 === e\r\n            ? ((f = 180), (l -= g))\r\n            : 180 === e\r\n            ? ((f = 270), (m -= h))\r\n            : 270 === e && ((f = 0), (l += g)),\r\n          Np(b, l, m) === k - 1\r\n            ? Qp(a, b, l, m, f, !1)\r\n            : ((l = c),\r\n              (m = d),\r\n              0 === e\r\n                ? ((f = 270), (m -= h))\r\n                : 90 === e\r\n                ? ((f = 0), (l += g))\r\n                : 180 === e\r\n                ? ((f = 90), (m += h))\r\n                : 270 === e && ((f = 180), (l -= g)),\r\n              Np(b, l, m) === k - 1 && Qp(a, b, l, m, f, !1)));\r\n        a.yf(c, d);\r\n      }\r\n      Q.prototype.sz = function (a) {\r\n        F && w(a, J, Q, \"findClosestSegment:p\");\r\n        var b = a.x;\r\n        a = a.y;\r\n        for (\r\n          var c = this.i(0),\r\n            d = this.i(1),\r\n            e = Mb(b, a, c.x, c.y, d.x, d.y),\r\n            f = 0,\r\n            g = 1;\r\n          g < this.pointsCount - 1;\r\n          g++\r\n        ) {\r\n          c = this.i(g + 1);\r\n          var h = Mb(b, a, d.x, d.y, c.x, c.y);\r\n          d = c;\r\n          h < e && ((f = g), (e = h));\r\n        }\r\n        return f;\r\n      };\r\n      Q.prototype.hc = function () {\r\n        this.fo = !0;\r\n      };\r\n      Q.prototype.wk = function (a) {\r\n        if (!a) {\r\n          if (!1 === this.Ec) return;\r\n          a = this.Fb();\r\n          if (!this.fo && (null === a || null !== a.geometry)) return;\r\n        }\r\n        this.ua = this.makeGeometry();\r\n        a = this.path;\r\n        if (null !== a) {\r\n          a.ua = this.ua;\r\n          for (var b = this.$.j, c = b.length, d = 0; d < c; d++) {\r\n            var e = b[d];\r\n            e !== a && e.isPanelMain && e instanceof $f && (e.ua = this.ua);\r\n          }\r\n        }\r\n      };\r\n      Q.prototype.makeGeometry = function () {\r\n        var a = this.ua,\r\n          b = this.pointsCount;\r\n        if (2 > b) return (a.type = Jd), (this.fo = !1), a;\r\n        var c = !1,\r\n          d = this.diagram;\r\n        null !== d &&\r\n          Ap(this) &&\r\n          d.oi.contains(this) &&\r\n          (0 !== this.Rl.width || 0 !== this.Rl.height) &&\r\n          (c = !0);\r\n        var e = this.i(0).copy(),\r\n          f = e.copy();\r\n        d = this.Cb.j;\r\n        var g = this.computeCurve();\r\n        if (g === Fg && 3 <= b && !K.ba(this.smoothness, 0))\r\n          if (3 === b) {\r\n            var h = this.i(1);\r\n            d = Math.min(e.x, h.x);\r\n            var k = Math.min(e.y, h.y);\r\n            h = this.i(2);\r\n            d = Math.min(d, h.x);\r\n            k = Math.min(k, h.y);\r\n          } else {\r\n            if (this.isOrthogonal)\r\n              for (k = 0; k < b; k++)\r\n                (h = d[k]),\r\n                  (f.x = Math.min(h.x, f.x)),\r\n                  (f.y = Math.min(h.y, f.y));\r\n            else\r\n              for (d = 3; d < b; d += 3)\r\n                d + 3 >= b && (d = b - 1),\r\n                  (k = this.i(d)),\r\n                  (f.x = Math.min(k.x, f.x)),\r\n                  (f.y = Math.min(k.y, f.y));\r\n            d = f.x;\r\n            k = f.y;\r\n          }\r\n        else {\r\n          for (k = 0; k < b; k++)\r\n            (h = d[k]), (f.x = Math.min(h.x, f.x)), (f.y = Math.min(h.y, f.y));\r\n          d = f.x;\r\n          k = f.y;\r\n        }\r\n        d -= this.Xu.x;\r\n        k -= this.Xu.y;\r\n        e.x -= d;\r\n        e.y -= k;\r\n        if (2 !== b || Ap(this)) {\r\n          a.type = Hd;\r\n          h = Wd(a);\r\n          0 !== this.computeShortLength(!0) && (e = Sp(this, e, !0, f));\r\n          Xd(h, e.x, e.y, !1);\r\n          if (g === Fg && 3 <= b && !K.ba(this.smoothness, 0))\r\n            if (3 === b)\r\n              (c = this.i(1)),\r\n                (b = c.x - d),\r\n                (c = c.y - k),\r\n                (e = this.i(2).copy()),\r\n                (e.x -= d),\r\n                (e.y -= k),\r\n                0 !== this.computeShortLength(!1) && (e = Sp(this, e, !1, f)),\r\n                Yd(h, b, c, b, c, e.x, e.y);\r\n            else if (this.isOrthogonal) {\r\n              f = new J(d, k);\r\n              e = this.i(1).copy();\r\n              g = new J(d, k);\r\n              b = new J(d, k);\r\n              c = this.i(0);\r\n              for (\r\n                var l, m = this.smoothness / 3, n = 1;\r\n                n < this.pointsCount - 1;\r\n                n++\r\n              ) {\r\n                l = this.i(n);\r\n                var p = c,\r\n                  r = l,\r\n                  q = this.i(Tp(this, l, n, !1));\r\n                if (!K.ba(p.x, r.x) || !K.ba(r.x, q.x))\r\n                  if (!K.ba(p.y, r.y) || !K.ba(r.y, q.y)) {\r\n                    var u = m;\r\n                    isNaN(u) && (u = this.smoothness / 3);\r\n                    var x = p.x;\r\n                    p = p.y;\r\n                    var y = r.x;\r\n                    r = r.y;\r\n                    var z = q.x;\r\n                    q = q.y;\r\n                    var B = u * Up(x, p, y, r);\r\n                    u *= Up(y, r, z, q);\r\n                    K.ba(p, r) &&\r\n                      K.ba(y, z) &&\r\n                      (y > x\r\n                        ? q > r\r\n                          ? ((g.x = y - B),\r\n                            (g.y = r - B),\r\n                            (b.x = y + u),\r\n                            (b.y = r + u))\r\n                          : ((g.x = y - B),\r\n                            (g.y = r + B),\r\n                            (b.x = y + u),\r\n                            (b.y = r - u))\r\n                        : q > r\r\n                        ? ((g.x = y + B),\r\n                          (g.y = r - B),\r\n                          (b.x = y - u),\r\n                          (b.y = r + u))\r\n                        : ((g.x = y + B),\r\n                          (g.y = r + B),\r\n                          (b.x = y - u),\r\n                          (b.y = r - u)));\r\n                    K.ba(x, y) &&\r\n                      K.ba(r, q) &&\r\n                      (r > p\r\n                        ? (z > y\r\n                            ? ((g.x = y - B), (g.y = r - B), (b.x = y + u))\r\n                            : ((g.x = y + B), (g.y = r - B), (b.x = y - u)),\r\n                          (b.y = r + u))\r\n                        : (z > y\r\n                            ? ((g.x = y - B), (g.y = r + B), (b.x = y + u))\r\n                            : ((g.x = y + B), (g.y = r + B), (b.x = y - u)),\r\n                          (b.y = r - u)));\r\n                    if (\r\n                      (K.ba(x, y) && K.ba(y, z)) ||\r\n                      (K.ba(p, r) && K.ba(r, q))\r\n                    )\r\n                      (x = 0.5 * (x + z)),\r\n                        (p = 0.5 * (p + q)),\r\n                        (g.x = x),\r\n                        (g.y = p),\r\n                        (b.x = x),\r\n                        (b.y = p);\r\n                    1 === n\r\n                      ? ((e.x = 0.5 * (c.x + l.x)), (e.y = 0.5 * (c.y + l.y)))\r\n                      : 2 === n &&\r\n                        K.ba(c.x, this.i(0).x) &&\r\n                        K.ba(c.y, this.i(0).y) &&\r\n                        ((e.x = 0.5 * (c.x + l.x)), (e.y = 0.5 * (c.y + l.y)));\r\n                    Yd(h, e.x - d, e.y - k, g.x - d, g.y - k, l.x - d, l.y - k);\r\n                    f.set(g);\r\n                    e.set(b);\r\n                    c = l;\r\n                  }\r\n              }\r\n              f = c.x;\r\n              c = c.y;\r\n              e = this.i(this.pointsCount - 1);\r\n              0 !== this.computeShortLength(!1) &&\r\n                (e = Sp(this, e.copy(), !1, Qb));\r\n              f = 0.5 * (f + e.x);\r\n              c = 0.5 * (c + e.y);\r\n              Yd(h, b.x - d, b.y - k, f - d, c - k, e.x - d, e.y - k);\r\n            } else\r\n              for (c = 3; c < b; c += 3)\r\n                (f = this.i(c - 2)),\r\n                  c + 3 >= b && (c = b - 1),\r\n                  (e = this.i(c - 1)),\r\n                  (g = this.i(c)),\r\n                  c === b - 1 &&\r\n                    0 !== this.computeShortLength(!1) &&\r\n                    (g = Sp(this, g.copy(), !1, Qb)),\r\n                  Yd(h, f.x - d, f.y - k, e.x - d, e.y - k, g.x - d, g.y - k);\r\n          else {\r\n            f = J.alloc();\r\n            f.assign(this.i(0));\r\n            g = 1;\r\n            for (e = 0; g < b; ) {\r\n              g = Tp(this, f, g, 1 < g);\r\n              m = this.i(g);\r\n              if (g >= b - 1) {\r\n                if (!f.B(m))\r\n                  0 !== this.computeShortLength(!1) &&\r\n                    (m = Sp(this, m.copy(), !1, Qb)),\r\n                    Vp(this, h, -d, -k, f, m, c);\r\n                else if (0 === e)\r\n                  for (g = 1; g < b; )\r\n                    (m = this.i(g++)),\r\n                      Vp(this, h, -d, -k, f, m, c),\r\n                      f.assign(m);\r\n                break;\r\n              }\r\n              e = Tp(this, m, g + 1, g < b - 3);\r\n              g = -d;\r\n              l = -k;\r\n              n = this.i(e);\r\n              x = c;\r\n              K.C(f.y, m.y) && K.C(m.x, n.x)\r\n                ? ((p = this.computeCorner()),\r\n                  (p = Math.min(p, Math.abs(m.x - f.x) / 2)),\r\n                  (p = u = Math.min(p, Math.abs(n.y - m.y) / 2)),\r\n                  K.C(p, 0)\r\n                    ? (Vp(this, h, g, l, f, m, x), f.assign(m))\r\n                    : ((y = m.x),\r\n                      (r = m.y),\r\n                      (z = y),\r\n                      (q = r),\r\n                      m.x > f.x ? (y = m.x - p) : (y = m.x + p),\r\n                      n.y > m.y ? (q = m.y + u) : (q = m.y - u),\r\n                      Vp(this, h, g, l, f, new J(y, r), x),\r\n                      Zd(h, m.x + g, m.y + l, z + g, q + l),\r\n                      f.h(z, q)))\r\n                : K.C(f.x, m.x) && K.C(m.y, n.y)\r\n                ? ((p = this.computeCorner()),\r\n                  (p = Math.min(p, Math.abs(m.y - f.y) / 2)),\r\n                  (p = u = Math.min(p, Math.abs(n.x - m.x) / 2)),\r\n                  K.C(u, 0)\r\n                    ? (Vp(this, h, g, l, f, m, x), f.assign(m))\r\n                    : ((y = m.x),\r\n                      (r = m.y),\r\n                      (z = y),\r\n                      (q = r),\r\n                      m.y > f.y ? (r = m.y - p) : (r = m.y + p),\r\n                      n.x > m.x ? (z = m.x + u) : (z = m.x - u),\r\n                      Vp(this, h, g, l, f, new J(y, r), x),\r\n                      Zd(h, m.x + g, m.y + l, z + g, q + l),\r\n                      f.h(z, q)))\r\n                : (Vp(this, h, g, l, f, m, x), f.assign(m));\r\n              g = e;\r\n            }\r\n            J.free(f);\r\n          }\r\n          fe = h;\r\n        } else\r\n          (h = this.i(1).copy()),\r\n            (h.x -= d),\r\n            (h.y -= k),\r\n            0 !== this.computeShortLength(!0) && (e = Sp(this, e, !0, f)),\r\n            0 !== this.computeShortLength(!1) && (h = Sp(this, h, !1, f)),\r\n            (a.type = Jd),\r\n            (a.startX = e.x),\r\n            (a.startY = e.y),\r\n            (a.endX = h.x),\r\n            (a.endY = h.y);\r\n        this.fo = !1;\r\n        return a;\r\n      };\r\n\r\n      function Up(a, b, c, d) {\r\n        a = c - a;\r\n        if (isNaN(a) || Infinity === a || -Infinity === a) return NaN;\r\n        0 > a && (a = -a);\r\n        b = d - b;\r\n        if (isNaN(b) || Infinity === b || -Infinity === b) return NaN;\r\n        0 > b && (b = -b);\r\n        return K.ba(a, 0) ? b : K.ba(b, 0) ? a : Math.sqrt(a * a + b * b);\r\n      }\r\n\r\n      function Sp(a, b, c, d) {\r\n        var e = a.pointsCount;\r\n        if (2 > e) return b;\r\n        if (c) {\r\n          var f = a.i(1);\r\n          c = f.x - d.x;\r\n          f = f.y - d.y;\r\n          d = Up(b.x, b.y, c, f);\r\n          if (0 === d) return b;\r\n          e = 2 === e ? 0.5 * d : d;\r\n          a = a.computeShortLength(!0);\r\n          a > e && (a = e);\r\n          e = (a * (f - b.y)) / d;\r\n          b.x += (a * (c - b.x)) / d;\r\n          b.y += e;\r\n        } else {\r\n          f = a.i(e - 2);\r\n          c = f.x - d.x;\r\n          f = f.y - d.y;\r\n          d = Up(b.x, b.y, c, f);\r\n          if (0 === d) return b;\r\n          e = 2 === e ? 0.5 * d : d;\r\n          a = a.computeShortLength(!1);\r\n          a > e && (a = e);\r\n          e = (a * (b.y - f)) / d;\r\n          b.x -= (a * (b.x - c)) / d;\r\n          b.y -= e;\r\n        }\r\n        return b;\r\n      }\r\n\r\n      function Tp(a, b, c, d) {\r\n        for (var e = a.pointsCount, f = b; K.ba(b.x, f.x) && K.ba(b.y, f.y); ) {\r\n          if (c >= e) return e - 1;\r\n          f = a.i(c++);\r\n        }\r\n        if (!K.ba(b.x, f.x) && !K.ba(b.y, f.y)) return c - 1;\r\n        for (\r\n          var g = f;\r\n          (K.ba(b.x, f.x) &&\r\n            K.ba(f.x, g.x) &&\r\n            (!d || (b.y >= f.y ? f.y >= g.y : f.y <= g.y))) ||\r\n          (K.ba(b.y, f.y) &&\r\n            K.ba(f.y, g.y) &&\r\n            (!d || (b.x >= f.x ? f.x >= g.x : f.x <= g.x)));\r\n\r\n        ) {\r\n          if (c >= e) return e - 1;\r\n          g = a.i(c++);\r\n        }\r\n        return c - 2;\r\n      }\r\n\r\n      function Vp(a, b, c, d, e, f, g) {\r\n        if (!g && Ap(a)) {\r\n          g = [];\r\n          var h = 0;\r\n          a.isVisible() && (h = Wp(a, e, f, g));\r\n          if (0 < h)\r\n            if (K.C(e.y, f.y))\r\n              if (e.x < f.x)\r\n                for (var k = 0; k < h; ) {\r\n                  var l = Math.max(e.x, Math.min(g[k++] - 5, f.x - 10));\r\n                  b.lineTo(l + c, f.y + d);\r\n                  var m = l + c;\r\n                  for (var n = Math.min(l + 10, f.x); k < h; )\r\n                    if (((l = g[k]), l < n + 10))\r\n                      k++, (n = Math.min(l + 5, f.x));\r\n                    else break;\r\n                  l = f.y - 10 + d;\r\n                  n += c;\r\n                  var p = f.y + d;\r\n                  a.curve === pg ? Xd(b, n, p, !1) : Yd(b, m, l, n, l, n, p);\r\n                }\r\n              else\r\n                for (--h; 0 <= h; ) {\r\n                  k = Math.min(e.x, Math.max(g[h--] + 5, f.x + 10));\r\n                  b.lineTo(k + c, f.y + d);\r\n                  m = k + c;\r\n                  for (l = Math.max(k - 10, f.x); 0 <= h; )\r\n                    if (((k = g[h]), k > l - 10))\r\n                      h--, (l = Math.max(k - 5, f.x));\r\n                    else break;\r\n                  k = f.y - 10 + d;\r\n                  l += c;\r\n                  n = f.y + d;\r\n                  a.curve === pg ? Xd(b, l, n, !1) : Yd(b, m, k, l, k, l, n);\r\n                }\r\n            else if (K.C(e.x, f.x))\r\n              if (e.y < f.y)\r\n                for (k = 0; k < h; ) {\r\n                  l = Math.max(e.y, Math.min(g[k++] - 5, f.y - 10));\r\n                  b.lineTo(f.x + c, l + d);\r\n                  m = l + d;\r\n                  for (l = Math.min(l + 10, f.y); k < h; )\r\n                    if (((n = g[k]), n < l + 10))\r\n                      k++, (l = Math.min(n + 5, f.y));\r\n                    else break;\r\n                  n = f.x - 10 + c;\r\n                  p = f.x + c;\r\n                  l += d;\r\n                  a.curve === pg ? Xd(b, p, l, !1) : Yd(b, n, m, n, l, p, l);\r\n                }\r\n              else\r\n                for (--h; 0 <= h; ) {\r\n                  k = Math.min(e.y, Math.max(g[h--] + 5, f.y + 10));\r\n                  b.lineTo(f.x + c, k + d);\r\n                  m = k + d;\r\n                  for (k = Math.max(k - 10, f.y); 0 <= h; )\r\n                    if (((l = g[h]), l > k - 10))\r\n                      h--, (k = Math.max(l - 5, f.y));\r\n                    else break;\r\n                  l = f.x - 10 + c;\r\n                  n = f.x + c;\r\n                  k += d;\r\n                  a.curve === pg ? Xd(b, n, k, !1) : Yd(b, l, m, l, k, n, k);\r\n                }\r\n        }\r\n        b.lineTo(f.x + c, f.y + d);\r\n      }\r\n\r\n      function Wp(a, b, c, d) {\r\n        var e = a.diagram;\r\n        if (null === e || b.B(c)) return 0;\r\n        for (e = e.layers; e.next(); ) {\r\n          var f = e.value;\r\n          if (null !== f && f.visible) {\r\n            f = f.Ha.j;\r\n            for (var g = f.length, h = 0; h < g; h++) {\r\n              var k = f[h];\r\n              if (k instanceof Q) {\r\n                if (k === a)\r\n                  return (\r\n                    0 < d.length &&\r\n                      d.sort(function (a, b) {\r\n                        return a - b;\r\n                      }),\r\n                    d.length\r\n                  );\r\n                if (k.isVisible() && Ap(k)) {\r\n                  var l = k.routeBounds;\r\n                  l.o() &&\r\n                    a.routeBounds.Mc(l) &&\r\n                    !a.usesSamePort(k) &&\r\n                    ((l = k.path), null !== l && l.If() && Xp(b, c, d, k));\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n        0 < d.length &&\r\n          d.sort(function (a, b) {\r\n            return a - b;\r\n          });\r\n        return d.length;\r\n      }\r\n\r\n      function Xp(a, b, c, d) {\r\n        for (\r\n          var e = K.C(a.y, b.y),\r\n            f = d.pointsCount,\r\n            g = d.i(0),\r\n            h = J.alloc(),\r\n            k = 1;\r\n          k < f;\r\n          k++\r\n        ) {\r\n          var l = d.i(k);\r\n          if (k < f - 1) {\r\n            var m = d.i(k + 1);\r\n            if (g.y === l.y && l.y === m.y) {\r\n              if ((l.x > g.x && m.x >= l.x) || (l.x < g.x && m.x <= l.x))\r\n                continue;\r\n            } else if (\r\n              g.x === l.x &&\r\n              l.x === m.x &&\r\n              ((l.y > g.y && m.y >= l.y) || (l.y < g.y && m.y <= l.y))\r\n            )\r\n              continue;\r\n          }\r\n          a: {\r\n            m = a.x;\r\n            var n = a.y,\r\n              p = b.x,\r\n              r = b.y,\r\n              q = g.x;\r\n            g = g.y;\r\n            var u = l.x,\r\n              x = l.y;\r\n            if (!K.C(m, p)) {\r\n              if (\r\n                K.C(n, r) &&\r\n                K.C(q, u) &&\r\n                Math.min(m, p) < q &&\r\n                Math.max(m, p) > q &&\r\n                Math.min(g, x) < n &&\r\n                Math.max(g, x) > n &&\r\n                !K.C(g, x)\r\n              ) {\r\n                h.x = q;\r\n                h.y = n;\r\n                m = !0;\r\n                break a;\r\n              }\r\n            } else if (\r\n              !K.C(n, r) &&\r\n              K.C(g, x) &&\r\n              Math.min(n, r) < g &&\r\n              Math.max(n, r) > g &&\r\n              Math.min(q, u) < m &&\r\n              Math.max(q, u) > m &&\r\n              !K.C(q, u)\r\n            ) {\r\n              h.x = m;\r\n              h.y = g;\r\n              m = !0;\r\n              break a;\r\n            }\r\n            h.x = 0;\r\n            h.y = 0;\r\n            m = !1;\r\n          }\r\n          m && (e ? c.push(h.x) : c.push(h.y));\r\n          g = l;\r\n        }\r\n        J.free(h);\r\n      }\r\n\r\n      function Ap(a) {\r\n        a = a.curve;\r\n        return a === og || a === pg;\r\n      }\r\n\r\n      function Ep(a, b) {\r\n        if (b || Ap(a))\r\n          (b = a.diagram),\r\n            null === b ||\r\n              b.animationManager.isTicking ||\r\n              b.oi.contains(a) ||\r\n              (0 === a.Rl.width && 0 === a.Rl.height) ||\r\n              b.oi.add(a, a.Rl.copy());\r\n      }\r\n      Q.prototype.yq = function (a) {\r\n        var b = this.layer;\r\n        if (null !== b && b.visible && !b.isTemporary) {\r\n          var c = b.diagram;\r\n          if (null !== c && !c.animationManager.isAnimating) {\r\n            var d = !1;\r\n            for (c = c.layers; c.next(); ) {\r\n              var e = c.value;\r\n              if (e.visible)\r\n                if (e === b) {\r\n                  d = !0;\r\n                  var f = !1;\r\n                  e = e.Ha.j;\r\n                  for (var g = e.length, h = 0; h < g; h++) {\r\n                    var k = e[h];\r\n                    k instanceof Q &&\r\n                      (k === this ? (f = !0) : f && Yp(this, k, a));\r\n                  }\r\n                } else if (d)\r\n                  for (f = e.Ha.j, e = f.length, g = 0; g < e; g++)\r\n                    (h = f[g]), h instanceof Q && Yp(this, h, a);\r\n            }\r\n          }\r\n        }\r\n      };\r\n\r\n      function Yp(a, b, c) {\r\n        if (null !== b && null !== b.ua && Ap(b)) {\r\n          var d = b.routeBounds;\r\n          d.o() &&\r\n            (a.routeBounds.Mc(d) || c.Mc(d)) &&\r\n            (a.usesSamePort(b) || b.hc());\r\n        }\r\n      }\r\n      Q.prototype.usesSamePort = function (a) {\r\n        var b = this.pointsCount,\r\n          c = a.pointsCount;\r\n        if (0 < b && 0 < c) {\r\n          var d = this.i(0),\r\n            e = a.i(0);\r\n          if (d.Sa(e)) return !0;\r\n          b = this.i(b - 1);\r\n          a = a.i(c - 1);\r\n          if (b.Sa(a) || d.Sa(a) || b.Sa(e)) return !0;\r\n        } else if (\r\n          this.fromNode === a.fromNode ||\r\n          this.toNode === a.toNode ||\r\n          this.fromNode === a.toNode ||\r\n          this.toNode === a.fromNode\r\n        )\r\n          return !0;\r\n        return !1;\r\n      };\r\n      Q.prototype.isVisible = function () {\r\n        if (!S.prototype.isVisible.call(this)) return !1;\r\n        var a = this.containingGroup,\r\n          b = !0,\r\n          c = this.diagram;\r\n        null !== c && (b = c.isTreePathToChildren);\r\n        c = this.fromNode;\r\n        if (null !== c) {\r\n          if (this.isTreeLink && b && !c.isTreeExpanded) return !1;\r\n          if (c === a) return !0;\r\n          for (var d = c; null !== d; ) {\r\n            if (d.labeledLink === this) return !0;\r\n            d = d.containingGroup;\r\n          }\r\n          c = c.findVisibleNode();\r\n          if (null === c || c === a) return !1;\r\n        }\r\n        c = this.toNode;\r\n        if (null !== c) {\r\n          if (this.isTreeLink && !b && !c.isTreeExpanded) return !1;\r\n          if (c === a) return !0;\r\n          for (b = c; null !== b; ) {\r\n            if (b.labeledLink === this) return !0;\r\n            b = b.containingGroup;\r\n          }\r\n          b = c.findVisibleNode();\r\n          if (null === b || b === a) return !1;\r\n        }\r\n        return !0;\r\n      };\r\n      Q.prototype.Tb = function (a) {\r\n        S.prototype.Tb.call(this, a);\r\n        null !== this.Tf && this.Tf.wm();\r\n        if (null !== this.ed)\r\n          for (var b = this.ed.iterator; b.next(); ) b.value.Tb(a);\r\n      };\r\n\r\n      function Bp(a) {\r\n        var b = a.Xe;\r\n        if (null !== b) {\r\n          var c = a.uf;\r\n          if (null !== c) {\r\n            for (\r\n              var d = a.Ye,\r\n                e = a.vf,\r\n                f = (a = null),\r\n                g = b.bb.j,\r\n                h = g.length,\r\n                k = 0;\r\n              k < h;\r\n              k++\r\n            ) {\r\n              var l = g[k];\r\n              if (\r\n                (l.Xe === b && l.Ye === d && l.uf === c && l.vf === e) ||\r\n                (l.Xe === c && l.Ye === e && l.uf === b && l.vf === d)\r\n              )\r\n                null === f\r\n                  ? (f = l)\r\n                  : (null === a && ((a = []), a.push(f)), a.push(l));\r\n            }\r\n            if (null !== a) {\r\n              f = gp(b, c, d, e);\r\n              null === f && ((f = new Zp(b, d, c, e)), fp(b, f), fp(c, f));\r\n              f.links = a;\r\n              for (b = 0; b < a.length; b++) a[b].Tf = f;\r\n              f.wm();\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      function Cp(a) {\r\n        var b = a.Tf;\r\n        null !== b &&\r\n          ((a.Tf = null),\r\n          (a = b.links.indexOf(a)),\r\n          0 <= a && (Ka(b.links, a), b.wm()));\r\n      }\r\n      Q.prototype.Qh = function () {\r\n        return !0;\r\n      };\r\n      ma.Object.defineProperties(Q.prototype, {\r\n        fromNode: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Xe;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Xe;\r\n            if (b !== a) {\r\n              F && null !== a && w(a, U, Q, \"fromNode\");\r\n              var c = this.fromPort;\r\n              null !== b &&\r\n                (this.uf !== b && jp(b, this, c), Cp(this), this.D(2));\r\n              this.Xe = a;\r\n              null !== a && this.Tb(a.isVisible());\r\n              this.bg = null;\r\n              this.Ta();\r\n              var d = this.diagram;\r\n              null !== d && d.partManager.setFromNodeForLink(this, a, b);\r\n              var e = this.fromPort,\r\n                f = this.fromPortChanged;\r\n              if (null !== f) {\r\n                var g = !0;\r\n                null !== d && ((g = d.fa), (d.fa = !0));\r\n                f(this, c, e);\r\n                null !== d && (d.fa = g);\r\n              }\r\n              null !== a &&\r\n                (this.uf !== a && ip(a, this, e), Bp(this), this.D(1));\r\n              this.g(\"fromNode\", b, a);\r\n              dp(this);\r\n            }\r\n          },\r\n        },\r\n        fromPortId: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ye;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Ye;\r\n            if (b !== a) {\r\n              F && A(a, \"string\", Q, \"fromPortId\");\r\n              var c = this.fromPort;\r\n              null !== c && hp(this.fromNode, c);\r\n              Cp(this);\r\n              this.Ye = a;\r\n              var d = this.fromPort;\r\n              null !== d && hp(this.fromNode, d);\r\n              var e = this.diagram;\r\n              if (null !== e) {\r\n                var f = this.data,\r\n                  g = e.model;\r\n                null !== f && g.ym() && g.qy(f, a);\r\n              }\r\n              c !== d &&\r\n                ((this.bg = null),\r\n                this.Ta(),\r\n                (f = this.fromPortChanged),\r\n                null !== f &&\r\n                  ((g = !0),\r\n                  null !== e && ((g = e.fa), (e.fa = !0)),\r\n                  f(this, c, d),\r\n                  null !== e && (e.fa = g)));\r\n              Bp(this);\r\n              this.g(\"fromPortId\", b, a);\r\n            }\r\n          },\r\n        },\r\n        fromPort: {\r\n          configurable: !0,\r\n          get: function () {\r\n            var a = this.Xe;\r\n            return null === a ? null : a.mt(this.Ye);\r\n          },\r\n        },\r\n        fromPortChanged: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Un;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Un;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", Q, \"fromPortChanged\"),\r\n              (this.Un = a),\r\n              this.g(\"fromPortChanged\", b, a));\r\n          },\r\n        },\r\n        toNode: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.uf;\r\n          },\r\n          set: function (a) {\r\n            var b = this.uf;\r\n            if (b !== a) {\r\n              F && null !== a && w(a, U, Q, \"toNode\");\r\n              var c = this.toPort;\r\n              null !== b &&\r\n                (this.Xe !== b && jp(b, this, c), Cp(this), this.D(2));\r\n              this.uf = a;\r\n              null !== a && this.Tb(a.isVisible());\r\n              this.bg = null;\r\n              this.Ta();\r\n              var d = this.diagram;\r\n              null !== d && d.partManager.setToNodeForLink(this, a, b);\r\n              var e = this.toPort,\r\n                f = this.toPortChanged;\r\n              if (null !== f) {\r\n                var g = !0;\r\n                null !== d && ((g = d.fa), (d.fa = !0));\r\n                f(this, c, e);\r\n                null !== d && (d.fa = g);\r\n              }\r\n              null !== a &&\r\n                (this.Xe !== a && ip(a, this, e), Bp(this), this.D(1));\r\n              this.g(\"toNode\", b, a);\r\n              dp(this);\r\n            }\r\n          },\r\n        },\r\n        toPortId: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.vf;\r\n          },\r\n          set: function (a) {\r\n            var b = this.vf;\r\n            if (b !== a) {\r\n              F && A(a, \"string\", Q, \"toPortId\");\r\n              var c = this.toPort;\r\n              null !== c && hp(this.toNode, c);\r\n              Cp(this);\r\n              this.vf = a;\r\n              var d = this.toPort;\r\n              null !== d && hp(this.toNode, d);\r\n              var e = this.diagram;\r\n              if (null !== e) {\r\n                var f = this.data,\r\n                  g = e.model;\r\n                null !== f && g.ym() && g.vy(f, a);\r\n              }\r\n              c !== d &&\r\n                ((this.bg = null),\r\n                this.Ta(),\r\n                (f = this.toPortChanged),\r\n                null !== f &&\r\n                  ((g = !0),\r\n                  null !== e && ((g = e.fa), (e.fa = !0)),\r\n                  f(this, c, d),\r\n                  null !== e && (e.fa = g)));\r\n              Bp(this);\r\n              this.g(\"toPortId\", b, a);\r\n            }\r\n          },\r\n        },\r\n        toPort: {\r\n          configurable: !0,\r\n          get: function () {\r\n            var a = this.uf;\r\n            return null === a ? null : a.mt(this.vf);\r\n          },\r\n        },\r\n        toPortChanged: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Zp;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Zp;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", Q, \"toPortChanged\"),\r\n              (this.Zp = a),\r\n              this.g(\"toPortChanged\", b, a));\r\n          },\r\n        },\r\n        fromSpot: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.S ? this.S.hh : kd;\r\n          },\r\n          set: function (a) {\r\n            this.Kc();\r\n            var b = this.S.hh;\r\n            b.B(a) ||\r\n              (F && w(a, M, Q, \"fromSpot\"),\r\n              (a = a.J()),\r\n              (this.S.hh = a),\r\n              this.g(\"fromSpot\", b, a),\r\n              this.Ta());\r\n          },\r\n        },\r\n        fromEndSegmentLength: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return null !== this.S ? this.S.fh : NaN;\r\n          },\r\n          set: function (a) {\r\n            this.Kc();\r\n            var b = this.S.fh;\r\n            b !== a &&\r\n              (F && A(a, \"number\", Q, \"fromEndSegmentLength\"),\r\n              0 > a && ya(a, \">= 0\", Q, \"fromEndSegmentLength\"),\r\n              (this.S.fh = a),\r\n              this.g(\"fromEndSegmentLength\", b, a),\r\n              this.Ta());\r\n          },\r\n        },\r\n        fromShortLength: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.S ? this.S.gh : NaN;\r\n          },\r\n          set: function (a) {\r\n            this.Kc();\r\n            var b = this.S.gh;\r\n            b !== a &&\r\n              (F && A(a, \"number\", Q, \"fromShortLength\"),\r\n              (this.S.gh = a),\r\n              this.g(\"fromShortLength\", b, a),\r\n              this.Ta(),\r\n              this.hc());\r\n          },\r\n        },\r\n        toSpot: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.S ? this.S.Fh : kd;\r\n          },\r\n          set: function (a) {\r\n            this.Kc();\r\n            var b = this.S.Fh;\r\n            b.B(a) ||\r\n              (F && w(a, M, Q, \"toSpot\"),\r\n              (a = a.J()),\r\n              (this.S.Fh = a),\r\n              this.g(\"toSpot\", b, a),\r\n              this.Ta());\r\n          },\r\n        },\r\n        toEndSegmentLength: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.S ? this.S.Dh : NaN;\r\n          },\r\n          set: function (a) {\r\n            this.Kc();\r\n            var b = this.S.Dh;\r\n            b !== a &&\r\n              (F && A(a, \"number\", Q, \"toEndSegmentLength\"),\r\n              0 > a && ya(a, \">= 0\", Q, \"toEndSegmentLength\"),\r\n              (this.S.Dh = a),\r\n              this.g(\"toEndSegmentLength\", b, a),\r\n              this.Ta());\r\n          },\r\n        },\r\n        toShortLength: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null !== this.S ? this.S.Eh : NaN;\r\n          },\r\n          set: function (a) {\r\n            this.Kc();\r\n            var b = this.S.Eh;\r\n            b !== a &&\r\n              (F && A(a, \"number\", Q, \"toShortLength\"),\r\n              (this.S.Eh = a),\r\n              this.g(\"toShortLength\", b, a),\r\n              this.Ta(),\r\n              this.hc());\r\n          },\r\n        },\r\n        isLabeledLink: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null === this.ed ? !1 : 0 < this.ed.count;\r\n          },\r\n        },\r\n        labelNodes: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return null === this.ed ? mb : this.ed.iterator;\r\n          },\r\n        },\r\n        relinkableFrom: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.Va & 1);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.Va & 1);\r\n            b !== a &&\r\n              (F && A(a, \"boolean\", Q, \"relinkableFrom\"),\r\n              (this.Va ^= 1),\r\n              this.g(\"relinkableFrom\", b, a),\r\n              this.Rb());\r\n          },\r\n        },\r\n        relinkableTo: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.Va & 2);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.Va & 2);\r\n            b !== a &&\r\n              (F && A(a, \"boolean\", Q, \"relinkableTo\"),\r\n              (this.Va ^= 2),\r\n              this.g(\"relinkableTo\", b, a),\r\n              this.Rb());\r\n          },\r\n        },\r\n        resegmentable: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.Va & 4);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.Va & 4);\r\n            b !== a &&\r\n              (F && A(a, \"boolean\", Q, \"resegmentable\"),\r\n              (this.Va ^= 4),\r\n              this.g(\"resegmentable\", b, a),\r\n              this.Rb());\r\n          },\r\n        },\r\n        isTreeLink: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.Va & 8);\r\n          },\r\n          set: function (a) {\r\n            var b = 0 !== (this.Va & 8);\r\n            b !== a &&\r\n              (F && A(a, \"boolean\", Q, \"isTreeLink\"),\r\n              (this.Va ^= 8),\r\n              this.g(\"isTreeLink\", b, a),\r\n              null !== this.fromNode && Uk(this.fromNode),\r\n              null !== this.toNode && Uk(this.toNode));\r\n          },\r\n        },\r\n        path: {\r\n          configurable: !0,\r\n          get: function () {\r\n            var a = this.Fb();\r\n            return a instanceof $f ? a : null;\r\n          },\r\n        },\r\n        routeBounds: {\r\n          configurable: !0,\r\n          get: function () {\r\n            this.qj();\r\n            var a = this.Rl,\r\n              b = Infinity,\r\n              c = Infinity,\r\n              d = this.pointsCount;\r\n            if (0 === d) a.h(NaN, NaN, 0, 0);\r\n            else {\r\n              if (1 === d)\r\n                (d = this.i(0)),\r\n                  (b = Math.min(d.x, b)),\r\n                  (c = Math.min(d.y, c)),\r\n                  a.h(d.x, d.y, 0, 0);\r\n              else if (2 === d) {\r\n                d = this.i(0);\r\n                var e = this.i(1);\r\n                b = Math.min(d.x, e.x);\r\n                c = Math.min(d.y, e.y);\r\n                a.h(d.x, d.y, 0, 0);\r\n                a.Pe(e);\r\n              } else if (\r\n                this.computeCurve() === Fg &&\r\n                3 <= d &&\r\n                !this.isOrthogonal\r\n              )\r\n                if (\r\n                  ((e = this.i(0)),\r\n                  (b = e.x),\r\n                  (c = e.y),\r\n                  a.h(b, c, 0, 0),\r\n                  3 === d)\r\n                ) {\r\n                  d = this.i(1);\r\n                  b = Math.min(d.x, b);\r\n                  c = Math.min(d.y, c);\r\n                  var f = this.i(2);\r\n                  b = Math.min(f.x, b);\r\n                  c = Math.min(f.y, c);\r\n                  K.lm(e.x, e.y, d.x, d.y, d.x, d.y, f.x, f.y, 0.5, a);\r\n                } else\r\n                  for (f = 3; f < d; f += 3) {\r\n                    var g = this.i(f - 2);\r\n                    f + 3 >= d && (f = d - 1);\r\n                    var h = this.i(f - 1),\r\n                      k = this.i(f);\r\n                    K.lm(e.x, e.y, g.x, g.y, h.x, h.y, k.x, k.y, 0.5, a);\r\n                    b = Math.min(k.x, b);\r\n                    c = Math.min(k.y, c);\r\n                    e = k;\r\n                  }\r\n              else\r\n                for (\r\n                  e = this.i(0),\r\n                    f = this.i(1),\r\n                    b = Math.min(e.x, f.x),\r\n                    c = Math.min(e.y, f.y),\r\n                    a.h(e.x, e.y, 0, 0),\r\n                    a.Pe(f),\r\n                    e = 2;\r\n                  e < d;\r\n                  e++\r\n                )\r\n                  (f = this.i(e)),\r\n                    (b = Math.min(f.x, b)),\r\n                    (c = Math.min(f.y, c)),\r\n                    a.Pe(f);\r\n              this.Xu.h(b - a.x, c - a.y);\r\n            }\r\n            return a;\r\n          },\r\n        },\r\n        midPoint: {\r\n          configurable: !0,\r\n          get: function () {\r\n            this.qj();\r\n            return this.computeMidPoint(new J());\r\n          },\r\n        },\r\n        midAngle: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            this.qj();\r\n            return this.computeMidAngle();\r\n          },\r\n        },\r\n        flattenedLengths: {\r\n          configurable: !0,\r\n          get: function () {\r\n            if (null === this.Jr) {\r\n              this.Ec || Dp(this);\r\n              for (\r\n                var a = (this.Jr = []), b = this.pointsCount, c = 0;\r\n                c < b - 1;\r\n                c++\r\n              ) {\r\n                var d = this.i(c);\r\n                var e = this.i(c + 1);\r\n                K.ba(d.x, e.x)\r\n                  ? ((d = e.y - d.y), 0 > d && (d = -d))\r\n                  : K.ba(d.y, e.y)\r\n                  ? ((d = e.x - d.x), 0 > d && (d = -d))\r\n                  : (d = Math.sqrt(d.Je(e)));\r\n                a.push(d);\r\n              }\r\n            }\r\n            return this.Jr;\r\n          },\r\n        },\r\n        flattenedTotalLength: {\r\n          configurable: !0,\r\n          get: function () {\r\n            var a = this.su;\r\n            if (isNaN(a)) {\r\n              for (\r\n                var b = this.flattenedLengths, c = b.length, d = (a = 0);\r\n                d < c;\r\n                d++\r\n              )\r\n                a += b[d];\r\n              this.su = a;\r\n            }\r\n            return a;\r\n          },\r\n        },\r\n        points: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Cb;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Cb;\r\n            if (b !== a) {\r\n              var c = null;\r\n              if (Array.isArray(a)) {\r\n                var d = 0 === a.length % 2;\r\n                if (d)\r\n                  for (var e = 0; e < a.length; e++)\r\n                    if (\"number\" !== typeof a[e] || isNaN(a[e])) {\r\n                      d = !1;\r\n                      break;\r\n                    }\r\n                if (d)\r\n                  for (c = new G(), d = 0; d < a.length / 2; d++)\r\n                    (e = new J(a[2 * d], a[2 * d + 1]).freeze()), c.add(e);\r\n                else {\r\n                  d = !0;\r\n                  for (e = 0; e < a.length; e++) {\r\n                    var f = a[e];\r\n                    if (\r\n                      !Fa(f) ||\r\n                      \"number\" !== typeof f.x ||\r\n                      isNaN(f.x) ||\r\n                      \"number\" !== typeof f.y ||\r\n                      isNaN(f.y)\r\n                    ) {\r\n                      d = !1;\r\n                      break;\r\n                    }\r\n                  }\r\n                  if (d)\r\n                    for (c = new G(), d = 0; d < a.length; d++)\r\n                      (e = a[d]), c.add(new J(e.x, e.y).freeze());\r\n                  else\r\n                    F &&\r\n                      v(\r\n                        \"Link.points array must contain only an even number of numbers or objects with x and y properties, not: \" +\r\n                          a\r\n                      );\r\n                }\r\n              } else if (a instanceof G)\r\n                for (c = a.copy(), a = c.iterator; a.next(); ) a.value.freeze();\r\n              else\r\n                v(\r\n                  \"Link.points value is not an instance of List or Array: \" + a\r\n                );\r\n              c.freeze();\r\n              this.Cb = c;\r\n              this.hc();\r\n              this.v();\r\n              Dp(this);\r\n              a = this.diagram;\r\n              null !== a &&\r\n                (a.tk || a.undoManager.isUndoingRedoing || a.At.add(this),\r\n                a.animationManager.oc && (this.uh = c));\r\n              this.g(\"points\", b, c);\r\n            }\r\n          },\r\n        },\r\n        pointsCount: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Cb.count;\r\n          },\r\n        },\r\n        Ec: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.Va & 16);\r\n          },\r\n          set: function (a) {\r\n            (0 !== (this.Va & 16)) !== a && (this.Va ^= 16);\r\n          },\r\n        },\r\n        suspendsRouting: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.Va & 32);\r\n          },\r\n          set: function (a) {\r\n            (0 !== (this.Va & 32)) !== a && (this.Va ^= 32);\r\n          },\r\n        },\r\n        mv: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 0 !== (this.Va & 64);\r\n          },\r\n          set: function (a) {\r\n            (0 !== (this.Va & 64)) !== a && (this.Va ^= 64);\r\n          },\r\n        },\r\n        defaultFromPoint: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.w;\r\n          },\r\n          set: function (a) {\r\n            this.w = a.copy();\r\n          },\r\n        },\r\n        defaultToPoint: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.L;\r\n          },\r\n          set: function (a) {\r\n            this.L = a.copy();\r\n          },\r\n        },\r\n        isOrthogonal: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 2 === (this.Tj.value & 2);\r\n          },\r\n        },\r\n        isAvoiding: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 4 === (this.Tj.value & 4);\r\n          },\r\n        },\r\n        geometry: {\r\n          configurable: !0,\r\n          get: function () {\r\n            this.fo && (this.qj(), (this.ua = this.makeGeometry()));\r\n            return this.ua;\r\n          },\r\n        },\r\n        firstPickIndex: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return 2 >= this.pointsCount\r\n              ? 0\r\n              : this.isOrthogonal || !Fp(this.computeSpot(!0))\r\n              ? 1\r\n              : 0;\r\n          },\r\n        },\r\n        lastPickIndex: {\r\n          configurable: !0,\r\n          get: function () {\r\n            var a = this.pointsCount;\r\n            return 0 === a\r\n              ? 0\r\n              : 2 >= a\r\n              ? a - 1\r\n              : this.isOrthogonal || !Fp(this.computeSpot(!1))\r\n              ? a - 2\r\n              : a - 1;\r\n          },\r\n        },\r\n        adjusting: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.dn;\r\n          },\r\n          set: function (a) {\r\n            var b = this.dn;\r\n            b !== a &&\r\n              (F && hb(a, Q, Q, \"adjusting\"),\r\n              (this.dn = a),\r\n              this.g(\"adjusting\", b, a));\r\n          },\r\n        },\r\n        corner: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.zn;\r\n          },\r\n          set: function (a) {\r\n            var b = this.zn;\r\n            b !== a &&\r\n              (F && A(a, \"number\", Q, \"corner\"),\r\n              (this.zn = a),\r\n              this.hc(),\r\n              this.g(\"corner\", b, a));\r\n          },\r\n        },\r\n        curve: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Bn;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Bn;\r\n            b !== a &&\r\n              (F && hb(a, Q, Q, \"curve\"),\r\n              (this.Bn = a),\r\n              this.Ta(),\r\n              this.hc(),\r\n              Ep(this, b === pg || b === og || a === pg || a === og),\r\n              this.g(\"curve\", b, a));\r\n          },\r\n        },\r\n        curviness: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Cn;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Cn;\r\n            b !== a &&\r\n              (F && A(a, \"number\", Q, \"curviness\"),\r\n              (this.Cn = a),\r\n              this.Ta(),\r\n              this.hc(),\r\n              this.g(\"curviness\", b, a));\r\n          },\r\n        },\r\n        routing: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Tj;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Tj;\r\n            b !== a &&\r\n              (F && hb(a, Q, Q, \"routing\"),\r\n              (this.Tj = a),\r\n              (this.bg = null),\r\n              this.Ta(),\r\n              Ep(this, 2 === (b.value & 2) || 2 === (a.value & 2)),\r\n              this.g(\"routing\", b, a));\r\n          },\r\n        },\r\n        smoothness: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Np;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Np;\r\n            b !== a &&\r\n              (F && A(a, \"number\", Q, \"smoothness\"),\r\n              (this.Np = a),\r\n              this.hc(),\r\n              this.g(\"smoothness\", b, a));\r\n          },\r\n        },\r\n        key: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            var a = this.diagram;\r\n            if (null !== a && a.model.ym()) return a.model.Zb(this.data);\r\n          },\r\n        },\r\n      });\r\n      Q.prototype.invalidateOtherJumpOvers = Q.prototype.yq;\r\n      Q.prototype.findClosestSegment = Q.prototype.sz;\r\n      Q.prototype.updateRoute = Q.prototype.qj;\r\n      Q.prototype.invalidateRoute = Q.prototype.Ta;\r\n      Q.prototype.rollbackRoute = Q.prototype.my;\r\n      Q.prototype.commitRoute = Q.prototype.zf;\r\n      Q.prototype.startRoute = Q.prototype.Sh;\r\n      Q.prototype.clearPoints = Q.prototype.gk;\r\n      Q.prototype.removePoint = Q.prototype.$v;\r\n      Q.prototype.addPointAt = Q.prototype.yf;\r\n      Q.prototype.addPoint = Q.prototype.He;\r\n      Q.prototype.insertPointAt = Q.prototype.m;\r\n      Q.prototype.insertPoint = Q.prototype.cA;\r\n      Q.prototype.setPointAt = Q.prototype.N;\r\n      Q.prototype.setPoint = Q.prototype.pd;\r\n      Q.prototype.getPoint = Q.prototype.i;\r\n      Q.prototype.getOtherPort = Q.prototype.Rz;\r\n      Q.prototype.getOtherNode = Q.prototype.qt;\r\n      var up = new E(Q, \"Normal\", 1),\r\n        $p = new E(Q, \"Orthogonal\", 2),\r\n        aq = new E(Q, \"AvoidsNodes\", 6),\r\n        Kp = new E(Q, \"AvoidsNodesStraight\", 7),\r\n        qg = new E(Q, \"None\", 0),\r\n        Fg = new E(Q, \"Bezier\", 9),\r\n        pg = new E(Q, \"JumpGap\", 10),\r\n        og = new E(Q, \"JumpOver\", 11),\r\n        vp = new E(Q, \"End\", 17),\r\n        wp = new E(Q, \"Scale\", 18),\r\n        xp = new E(Q, \"Stretch\", 19),\r\n        Zn = new E(Q, \"OrientAlong\", 21),\r\n        cn = new E(Q, \"OrientPlus90\", 22),\r\n        en = new E(Q, \"OrientMinus90\", 23),\r\n        yp = new E(Q, \"OrientOpposite\", 24),\r\n        zp = new E(Q, \"OrientUpright\", 25),\r\n        dn = new E(Q, \"OrientPlus90Upright\", 26),\r\n        fn = new E(Q, \"OrientMinus90Upright\", 27),\r\n        gn = new E(Q, \"OrientUpright45\", 28);\r\n      Q.className = \"Link\";\r\n      Q.Normal = up;\r\n      Q.Orthogonal = $p;\r\n      Q.AvoidsNodes = aq;\r\n      Q.AvoidsNodesStraight = Kp;\r\n      Q.None = qg;\r\n      Q.Bezier = Fg;\r\n      Q.JumpGap = pg;\r\n      Q.JumpOver = og;\r\n      Q.End = vp;\r\n      Q.Scale = wp;\r\n      Q.Stretch = xp;\r\n      Q.OrientAlong = Zn;\r\n      Q.OrientPlus90 = cn;\r\n      Q.OrientMinus90 = en;\r\n      Q.OrientOpposite = yp;\r\n      Q.OrientUpright = zp;\r\n      Q.OrientPlus90Upright = dn;\r\n      Q.OrientMinus90Upright = fn;\r\n      Q.OrientUpright45 = gn;\r\n\r\n      function Zp(a, b, c, d) {\r\n        fb(this);\r\n        this.qe = this.Ur = !1;\r\n        this.Dt = a;\r\n        this.iy = b;\r\n        this.Pv = c;\r\n        this.jy = d;\r\n        this.links = [];\r\n      }\r\n      Zp.prototype.wm = function () {\r\n        if (!this.Ur) {\r\n          var a = this.links;\r\n          0 < a.length &&\r\n            ((a = a[0].diagram),\r\n            null !== a &&\r\n              (a.Zw.add(this), (this.qe = a.undoManager.isUndoingRedoing)));\r\n        }\r\n        this.Ur = !0;\r\n      };\r\n      Zp.prototype.xw = function () {\r\n        if (this.Ur) {\r\n          this.Ur = !1;\r\n          var a = this.links;\r\n          if (0 < a.length) {\r\n            var b = a[0],\r\n              c = b.diagram;\r\n            c = null === c || (c.tk && !this.qe);\r\n            this.qe = !1;\r\n            b.arrangeBundledLinks(a, c);\r\n            1 === a.length && ((b.Tf = null), (a.length = 0));\r\n          }\r\n          0 === a.length &&\r\n            ((a = this.Dt),\r\n            null !== this && null !== a.Te && a.Te.remove(this),\r\n            (a = this.Pv),\r\n            null !== this && null !== a.Te && a.Te.remove(this));\r\n        }\r\n      };\r\n      Zp.className = \"LinkBundle\";\r\n\r\n      function Jk() {\r\n        fb(this);\r\n        this.wy = this.group = null;\r\n        this.ut = !0;\r\n        this.abort = !1;\r\n        this.Td = this.Sd = 1;\r\n        this.Co = this.Bo = -1;\r\n        this.qc = this.pc = 8;\r\n        this.Ib = [[]];\r\n        this.Zj = this.Yj = 0;\r\n        this.OA = !1;\r\n        this.HA = 22;\r\n        this.lA = 111;\r\n      }\r\n      Jk.prototype.initialize = function (a) {\r\n        if (!(0 >= a.width || 0 >= a.height)) {\r\n          var b = a.y,\r\n            c = a.x + a.width,\r\n            d = a.y + a.height;\r\n          this.Sd = Math.floor((a.x - this.pc) / this.pc) * this.pc;\r\n          this.Td = Math.floor((b - this.qc) / this.qc) * this.qc;\r\n          this.Bo = Math.ceil((c + 2 * this.pc) / this.pc) * this.pc;\r\n          this.Co = Math.ceil((d + 2 * this.qc) / this.qc) * this.qc;\r\n          a = 1 + (Math.ceil((this.Bo - this.Sd) / this.pc) | 0);\r\n          b = 1 + (Math.ceil((this.Co - this.Td) / this.qc) | 0);\r\n          if (null === this.Ib || this.Yj < a - 1 || this.Zj < b - 1) {\r\n            c = [];\r\n            for (d = 0; d <= a; d++) c[d] = [];\r\n            this.Ib = c;\r\n            this.Yj = a - 1;\r\n            this.Zj = b - 1;\r\n          }\r\n          a = bq;\r\n          if (null !== this.Ib)\r\n            for (b = 0; b <= this.Yj; b++)\r\n              for (c = 0; c <= this.Zj; c++) this.Ib[b][c] = a;\r\n        }\r\n      };\r\n\r\n      function Lp(a, b, c) {\r\n        return a.Sd <= b && b <= a.Bo && a.Td <= c && c <= a.Co;\r\n      }\r\n\r\n      function Np(a, b, c) {\r\n        if (!Lp(a, b, c)) return bq;\r\n        b -= a.Sd;\r\n        b /= a.pc;\r\n        c -= a.Td;\r\n        c /= a.qc;\r\n        return a.Ib[b | 0][c | 0];\r\n      }\r\n\r\n      function Mk(a, b, c) {\r\n        Lp(a, b, c) &&\r\n          ((b -= a.Sd),\r\n          (b /= a.pc),\r\n          (c -= a.Td),\r\n          (c /= a.qc),\r\n          (a.Ib[b | 0][c | 0] = Pp));\r\n      }\r\n\r\n      function Lk(a) {\r\n        if (null !== a.Ib)\r\n          for (var b = 0; b <= a.Yj; b++)\r\n            for (var c = 0; c <= a.Zj; c++)\r\n              a.Ib[b][c] >= Rp && (a.Ib[b][c] = bq);\r\n      }\r\n      Jk.prototype.uk = function (a, b, c, d) {\r\n        if (a > this.Bo || a + c < this.Sd || b > this.Co || b + d < this.Td)\r\n          return !0;\r\n        a = ((a - this.Sd) / this.pc) | 0;\r\n        b = ((b - this.Td) / this.qc) | 0;\r\n        c = (Math.max(0, c) / this.pc + 1) | 0;\r\n        var e = (Math.max(0, d) / this.qc + 1) | 0;\r\n        0 > a && ((c += a), (a = 0));\r\n        0 > b && ((e += b), (b = 0));\r\n        if (0 > c || 0 > e) return !0;\r\n        d = Math.min(a + c - 1, this.Yj) | 0;\r\n        for (c = Math.min(b + e - 1, this.Zj) | 0; a <= d; a++)\r\n          for (e = b; e <= c; e++) if (this.Ib[a][e] === Pp) return !1;\r\n        return !0;\r\n      };\r\n\r\n      function cq(a, b, c, d, e, f, g, h, k) {\r\n        if (!(b < f || b > g || c < h || c > k)) {\r\n          var l = b | 0;\r\n          var m = c | 0;\r\n          var n = a.Ib[l][m];\r\n          if (n >= Rp && n < Op)\r\n            for (\r\n              e ? (m += d) : (l += d), n += 1;\r\n              f <= l && l <= g && h <= m && m <= k && !(n >= a.Ib[l][m]);\r\n\r\n            )\r\n              (a.Ib[l][m] = n), (n += 1), e ? (m += d) : (l += d);\r\n          l = e ? m : l;\r\n          if (e)\r\n            if (0 < d)\r\n              for (c += d; c < l; c += d)\r\n                cq(a, b, c, 1, !e, f, g, h, k), cq(a, b, c, -1, !e, f, g, h, k);\r\n            else\r\n              for (c += d; c > l; c += d)\r\n                cq(a, b, c, 1, !e, f, g, h, k), cq(a, b, c, -1, !e, f, g, h, k);\r\n          else if (0 < d)\r\n            for (b += d; b < l; b += d)\r\n              cq(a, b, c, 1, !e, f, g, h, k), cq(a, b, c, -1, !e, f, g, h, k);\r\n          else\r\n            for (b += d; b > l; b += d)\r\n              cq(a, b, c, 1, !e, f, g, h, k), cq(a, b, c, -1, !e, f, g, h, k);\r\n        }\r\n      }\r\n\r\n      function dq(a, b, c, d, e, f, g, h, k) {\r\n        b |= 0;\r\n        c |= 0;\r\n        var l = Pp,\r\n          m = Rp;\r\n        for (a.Ib[b][c] = m; l === Pp && b > f && b < g && c > h && c < k; )\r\n          (m += 1), (a.Ib[b][c] = m), e ? (c += d) : (b += d), (l = a.Ib[b][c]);\r\n      }\r\n\r\n      function eq(a, b, c, d, e, f, g, h, k) {\r\n        b |= 0;\r\n        c |= 0;\r\n        var l = Pp,\r\n          m = Op;\r\n        for (a.Ib[b][c] = m; l === Pp && b > f && b < g && c > h && c < k; )\r\n          (a.Ib[b][c] = m), e ? (c += d) : (b += d), (l = a.Ib[b][c]);\r\n      }\r\n\r\n      function Mp(a, b, c, d, e, f) {\r\n        if (null !== a.Ib) {\r\n          a.abort = !1;\r\n          var g = b.x,\r\n            h = b.y;\r\n          if (\r\n            Lp(a, g, h) &&\r\n            ((g -= a.Sd),\r\n            (g /= a.pc),\r\n            (h -= a.Td),\r\n            (h /= a.qc),\r\n            (b = d.x),\r\n            (d = d.y),\r\n            Lp(a, b, d))\r\n          )\r\n            if (\r\n              ((b -= a.Sd),\r\n              (b /= a.pc),\r\n              (d -= a.Td),\r\n              (d /= a.qc),\r\n              1 >= Math.abs(g - b) && 1 >= Math.abs(h - d))\r\n            )\r\n              a.abort = !0;\r\n            else {\r\n              var k = f.x,\r\n                l = f.y,\r\n                m = f.x + f.width,\r\n                n = f.y + f.height;\r\n              k -= a.Sd;\r\n              k /= a.pc;\r\n              l -= a.Td;\r\n              l /= a.qc;\r\n              m -= a.Sd;\r\n              m /= a.pc;\r\n              n -= a.Td;\r\n              n /= a.qc;\r\n              f = Math.max(0, Math.min(a.Yj, k | 0));\r\n              m = Math.min(a.Yj, Math.max(0, m | 0));\r\n              l = Math.max(0, Math.min(a.Zj, l | 0));\r\n              n = Math.min(a.Zj, Math.max(0, n | 0));\r\n              g |= 0;\r\n              h |= 0;\r\n              b |= 0;\r\n              d |= 0;\r\n              k = 0 === c || 90 === c ? 1 : -1;\r\n              c = 90 === c || 270 === c;\r\n              a.Ib[g][h] === Pp\r\n                ? (dq(a, g, h, k, c, f, m, l, n),\r\n                  dq(a, g, h, 1, !c, f, m, l, n),\r\n                  dq(a, g, h, -1, !c, f, m, l, n))\r\n                : dq(a, g, h, k, c, g, h, g, h);\r\n              a.Ib[b][d] === Pp\r\n                ? (eq(\r\n                    a,\r\n                    b,\r\n                    d,\r\n                    0 === e || 90 === e ? 1 : -1,\r\n                    90 === e || 270 === e,\r\n                    f,\r\n                    m,\r\n                    l,\r\n                    n\r\n                  ),\r\n                  eq(a, b, d, 1, !(90 === e || 270 === e), f, m, l, n),\r\n                  eq(a, b, d, -1, !(90 === e || 270 === e), f, m, l, n))\r\n                : eq(a, b, d, k, c, b, d, b, d);\r\n              a.abort ||\r\n                (cq(a, g, h, 1, !1, f, m, l, n),\r\n                cq(a, g, h, -1, !1, f, m, l, n),\r\n                cq(a, g, h, 1, !0, f, m, l, n),\r\n                cq(a, g, h, -1, !0, f, m, l, n));\r\n            }\r\n        }\r\n      }\r\n      ma.Object.defineProperties(Jk.prototype, {\r\n        bounds: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return new L(\r\n              this.Sd,\r\n              this.Td,\r\n              this.Bo - this.Sd,\r\n              this.Co - this.Td\r\n            );\r\n          },\r\n        },\r\n        nm: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.pc;\r\n          },\r\n          set: function (a) {\r\n            0 < a &&\r\n              a !== this.pc &&\r\n              ((this.pc = a), this.initialize(this.bounds));\r\n          },\r\n        },\r\n        mm: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.qc;\r\n          },\r\n          set: function (a) {\r\n            0 < a &&\r\n              a !== this.qc &&\r\n              ((this.qc = a), this.initialize(this.bounds));\r\n          },\r\n        },\r\n      });\r\n      var Pp = 0,\r\n        Rp = 1,\r\n        Op = 999999,\r\n        bq = Op + 1;\r\n      Jk.className = \"PositionArray\";\r\n\r\n      function Ip() {\r\n        fb(this);\r\n        this.port = this.node = null;\r\n        this.ce = [];\r\n        this.Eq = !1;\r\n      }\r\n      Ip.prototype.toString = function () {\r\n        for (\r\n          var a = this.ce,\r\n            b = this.node.toString() + \" \" + a.length.toString() + \":\",\r\n            c = 0;\r\n          c < a.length;\r\n          c++\r\n        ) {\r\n          var d = a[c];\r\n          null !== d && (b += \"\\n  \" + d.toString());\r\n        }\r\n        return b;\r\n      };\r\n\r\n      function fq(a, b, c, d) {\r\n        b = b.offsetY;\r\n        switch (b) {\r\n          case 8:\r\n            return 90;\r\n          case 2:\r\n            return 180;\r\n          case 1:\r\n            return 270;\r\n          case 4:\r\n            return 0;\r\n        }\r\n        switch (b) {\r\n          case 9:\r\n            return 180 < c ? 270 : 90;\r\n          case 6:\r\n            return 90 < c && 270 >= c ? 180 : 0;\r\n        }\r\n        a = (180 * Math.atan2(a.height, a.width)) / Math.PI;\r\n        switch (b) {\r\n          case 3:\r\n            return c > a && c <= 180 + a ? 180 : 270;\r\n          case 5:\r\n            return c > 180 - a && c <= 360 - a ? 270 : 0;\r\n          case 12:\r\n            return c > a && c <= 180 + a ? 90 : 0;\r\n          case 10:\r\n            return c > 180 - a && c <= 360 - a ? 180 : 90;\r\n          case 7:\r\n            return 90 < c && c <= 180 + a\r\n              ? 180\r\n              : c > 180 + a && c <= 360 - a\r\n              ? 270\r\n              : 0;\r\n          case 13:\r\n            return 180 < c && c <= 360 - a ? 270 : c > a && 180 >= c ? 90 : 0;\r\n          case 14:\r\n            return c > a && c <= 180 - a\r\n              ? 90\r\n              : c > 180 - a && 270 >= c\r\n              ? 180\r\n              : 0;\r\n          case 11:\r\n            return c > 180 - a && c <= 180 + a ? 180 : c > 180 + a ? 270 : 90;\r\n        }\r\n        d && 15 !== b && ((c -= 15), 0 > c && (c += 360));\r\n        return c > a && c < 180 - a\r\n          ? 90\r\n          : c >= 180 - a && c <= 180 + a\r\n          ? 180\r\n          : c > 180 + a && c < 360 - a\r\n          ? 270\r\n          : 0;\r\n      }\r\n      Ip.prototype.wm = function () {\r\n        this.ce.length = 0;\r\n      };\r\n\r\n      function Jp(a, b) {\r\n        var c = a.ce;\r\n        if (0 === c.length) {\r\n          a: if (!a.Eq) {\r\n            c = a.Eq;\r\n            a.Eq = !0;\r\n            var d = null,\r\n              e = a.node;\r\n            e = e instanceof Kf ? e : null;\r\n            if (null === e || e.isSubGraphExpanded)\r\n              var f = a.node.wv(a.port.portId);\r\n            else {\r\n              if (!e.actualBounds.o()) {\r\n                a.Eq = c;\r\n                break a;\r\n              }\r\n              d = e;\r\n              f = d.vv();\r\n            }\r\n            var g = (a.ce.length = 0),\r\n              h = a.port.ma(Hc, J.alloc()),\r\n              k = a.port.ma(Sc, J.alloc());\r\n            e = L.allocAt(h.x, h.y, 0, 0);\r\n            e.Pe(k);\r\n            J.free(h);\r\n            J.free(k);\r\n            h = J.allocAt(e.x + e.width / 2, e.y + e.height / 2);\r\n            k = a.port.dj();\r\n            for (f = f.iterator; f.next(); ) {\r\n              var l = f.value;\r\n              if (l.isVisible() && l.fromPort !== l.toPort) {\r\n                var m =\r\n                    l.fromPort === a.port ||\r\n                    (null !== l.fromNode && l.fromNode.be(d)),\r\n                  n = l.computeSpot(m, a.port);\r\n                if (n.Hf() && ((m = m ? l.toPort : l.fromPort), null !== m)) {\r\n                  var p = m.part;\r\n                  if (null !== p) {\r\n                    var r = p.findVisibleNode();\r\n                    null !== r && r !== p && ((p = r), (m = p.port));\r\n                    m = l.computeOtherPoint(p, m);\r\n                    p = h.Xa(m);\r\n                    p -= k;\r\n                    0 > p && (p += 360);\r\n                    n = fq(e, n, p, l.isOrthogonal);\r\n                    0 === n\r\n                      ? ((n = 4), 180 < p && (p -= 360))\r\n                      : (n = 90 === n ? 8 : 180 === n ? 2 : 1);\r\n                    r = a.ce[g];\r\n                    void 0 === r\r\n                      ? ((r = new gq(l, p, n)), (a.ce[g] = r))\r\n                      : ((r.link = l), (r.angle = p), (r.Dc = n));\r\n                    r.Tv.set(m);\r\n                    g++;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            J.free(h);\r\n            a.ce.sort(Ip.prototype.l);\r\n            k = a.ce.length;\r\n            d = -1;\r\n            for (g = h = 0; g < k; g++)\r\n              (f = a.ce[g]),\r\n                void 0 !== f &&\r\n                  (f.Dc !== d && ((d = f.Dc), (h = 0)), (f.vq = h), h++);\r\n            d = -1;\r\n            h = 0;\r\n            for (g = k - 1; 0 <= g; g--)\r\n              (k = a.ce[g]),\r\n                void 0 !== k &&\r\n                  (k.Dc !== d && ((d = k.Dc), (h = k.vq + 1)), (k.om = h));\r\n            g = a.ce;\r\n            n = a.port;\r\n            d = a.node.portSpreading;\r\n            h = J.alloc();\r\n            k = J.alloc();\r\n            f = J.alloc();\r\n            l = J.alloc();\r\n            n.ma(Hc, h);\r\n            n.ma(Kc, k);\r\n            n.ma(Sc, f);\r\n            n.ma(Qc, l);\r\n            r = p = m = n = 0;\r\n            if (d === rp)\r\n              for (var q = 0; q < g.length; q++) {\r\n                var u = g[q];\r\n                if (null !== u) {\r\n                  var x = u.link.computeThickness();\r\n                  switch (u.Dc) {\r\n                    case 8:\r\n                      p += x;\r\n                      break;\r\n                    case 2:\r\n                      r += x;\r\n                      break;\r\n                    case 1:\r\n                      n += x;\r\n                      break;\r\n                    default:\r\n                    case 4:\r\n                      m += x;\r\n                  }\r\n                }\r\n              }\r\n            var y = (q = 0),\r\n              z = 1,\r\n              B = (u = 0);\r\n            for (x = 0; x < g.length; x++) {\r\n              var D = g[x];\r\n              if (null !== D) {\r\n                if (q !== D.Dc) {\r\n                  q = D.Dc;\r\n                  switch (q) {\r\n                    case 8:\r\n                      var I = f;\r\n                      y = l;\r\n                      break;\r\n                    case 2:\r\n                      I = l;\r\n                      y = h;\r\n                      break;\r\n                    case 1:\r\n                      I = h;\r\n                      y = k;\r\n                      break;\r\n                    default:\r\n                    case 4:\r\n                      (I = k), (y = f);\r\n                  }\r\n                  u = y.x - I.x;\r\n                  B = y.y - I.y;\r\n                  switch (q) {\r\n                    case 8:\r\n                      p > Math.abs(u)\r\n                        ? ((z = Math.abs(u) / p), (p = Math.abs(u)))\r\n                        : (z = 1);\r\n                      break;\r\n                    case 2:\r\n                      r > Math.abs(B)\r\n                        ? ((z = Math.abs(B) / r), (r = Math.abs(B)))\r\n                        : (z = 1);\r\n                      break;\r\n                    case 1:\r\n                      n > Math.abs(u)\r\n                        ? ((z = Math.abs(u) / n), (n = Math.abs(u)))\r\n                        : (z = 1);\r\n                      break;\r\n                    default:\r\n                    case 4:\r\n                      m > Math.abs(B)\r\n                        ? ((z = Math.abs(B) / m), (m = Math.abs(B)))\r\n                        : (z = 1);\r\n                  }\r\n                  y = 0;\r\n                }\r\n                var O = D.Cq;\r\n                if (d === rp) {\r\n                  D = D.link.computeThickness();\r\n                  D *= z;\r\n                  O.set(I);\r\n                  switch (q) {\r\n                    case 8:\r\n                      O.x = I.x + u / 2 + p / 2 - y - D / 2;\r\n                      break;\r\n                    case 2:\r\n                      O.y = I.y + B / 2 + r / 2 - y - D / 2;\r\n                      break;\r\n                    case 1:\r\n                      O.x = I.x + u / 2 - n / 2 + y + D / 2;\r\n                      break;\r\n                    default:\r\n                    case 4:\r\n                      O.y = I.y + B / 2 - m / 2 + y + D / 2;\r\n                  }\r\n                  y += D;\r\n                } else {\r\n                  var R = 0.5;\r\n                  d === ep && (R = (D.vq + 1) / (D.om + 1));\r\n                  O.x = I.x + u * R;\r\n                  O.y = I.y + B * R;\r\n                }\r\n              }\r\n            }\r\n            J.free(h);\r\n            J.free(k);\r\n            J.free(f);\r\n            J.free(l);\r\n            I = a.ce;\r\n            for (g = 0; g < I.length; g++)\r\n              (d = I[g]), null !== d && (d.tv = a.computeEndSegmentLength(d));\r\n            a.Eq = c;\r\n            L.free(e);\r\n          }\r\n          c = a.ce;\r\n        }\r\n        for (a = 0; a < c.length; a++)\r\n          if (((e = c[a]), null !== e && e.link === b)) return e;\r\n        return null;\r\n      }\r\n      Ip.prototype.l = function (a, b) {\r\n        return a === b\r\n          ? 0\r\n          : null === a\r\n          ? -1\r\n          : null === b\r\n          ? 1\r\n          : a.Dc < b.Dc\r\n          ? -1\r\n          : a.Dc > b.Dc\r\n          ? 1\r\n          : a.angle < b.angle\r\n          ? -1\r\n          : a.angle > b.angle\r\n          ? 1\r\n          : 0;\r\n      };\r\n      Ip.prototype.computeEndSegmentLength = function (a) {\r\n        var b = a.link,\r\n          c = b.computeEndSegmentLength(\r\n            this.node,\r\n            this.port,\r\n            Gc,\r\n            b.fromPort === this.port\r\n          ),\r\n          d = a.vq;\r\n        if (0 > d) return c;\r\n        var e = a.om;\r\n        if (1 >= e || !b.isOrthogonal) return c;\r\n        b = a.Tv;\r\n        var f = a.Cq;\r\n        if (2 === a.Dc || 8 === a.Dc) d = e - 1 - d;\r\n        return ((a = 2 === a.Dc || 4 === a.Dc) ? b.y < f.y : b.x < f.x)\r\n          ? c + 8 * d\r\n          : (a ? b.y === f.y : b.x === f.x)\r\n          ? c\r\n          : c + 8 * (e - 1 - d);\r\n      };\r\n      Ip.className = \"Knot\";\r\n\r\n      function gq(a, b, c) {\r\n        this.link = a;\r\n        this.angle = b;\r\n        this.Dc = c;\r\n        this.Tv = new J();\r\n        this.om = this.vq = 0;\r\n        this.Cq = new J();\r\n        this.tv = 0;\r\n      }\r\n      gq.prototype.toString = function () {\r\n        return (\r\n          this.link.toString() +\r\n          \" \" +\r\n          this.angle.toString() +\r\n          \" \" +\r\n          this.Dc.toString() +\r\n          \":\" +\r\n          this.vq.toString() +\r\n          \"/\" +\r\n          this.om.toString() +\r\n          \" \" +\r\n          this.Cq.toString() +\r\n          \" \" +\r\n          this.tv.toString() +\r\n          \" \" +\r\n          this.Tv.toString()\r\n        );\r\n      };\r\n      gq.className = \"LinkInfo\";\r\n\r\n      function sl() {\r\n        this.Fh = this.hh = kd;\r\n        this.Eh = this.gh = this.Dh = this.fh = NaN;\r\n        this.Xp = this.Sn = null;\r\n        this.Yp = this.Tn = Infinity;\r\n      }\r\n      sl.prototype.copy = function () {\r\n        var a = new sl();\r\n        a.hh = this.hh.J();\r\n        a.Fh = this.Fh.J();\r\n        a.fh = this.fh;\r\n        a.Dh = this.Dh;\r\n        a.gh = this.gh;\r\n        a.Eh = this.Eh;\r\n        a.Sn = this.Sn;\r\n        a.Xp = this.Xp;\r\n        a.Tn = this.Tn;\r\n        a.Yp = this.Yp;\r\n        return a;\r\n      };\r\n      sl.className = \"LinkSettings\";\r\n\r\n      function Si() {\r\n        0 < arguments.length && za(Si);\r\n        fb(this);\r\n        this.L = this.A = null;\r\n        this.ui = this.io = !0;\r\n        this.oo = !1;\r\n        this.hn = new J(0, 0).freeze();\r\n        this.lo = !0;\r\n        this.ko = null;\r\n        this.Sw = \"\";\r\n        this.w = null;\r\n        this.no = !1;\r\n        this.l = null;\r\n      }\r\n      Si.prototype.cloneProtected = function (a) {\r\n        a.io = this.io;\r\n        a.ui = this.ui;\r\n        a.oo = this.oo;\r\n        a.hn.assign(this.hn);\r\n        a.lo = this.lo;\r\n        a.ko = this.ko;\r\n        a.Sw = this.Sw;\r\n        a.no = !0;\r\n      };\r\n      Si.prototype.copy = function () {\r\n        var a = new this.constructor();\r\n        this.cloneProtected(a);\r\n        return a;\r\n      };\r\n      Si.prototype.jb = function (a) {\r\n        Ba(this, a);\r\n      };\r\n      Si.prototype.toString = function () {\r\n        var a = Oa(this.constructor);\r\n        a += \"(\";\r\n        null !== this.group && (a += \" in \" + this.group);\r\n        null !== this.diagram && (a += \" for \" + this.diagram);\r\n        return a + \")\";\r\n      };\r\n      Si.prototype.D = function () {\r\n        if (this.isValidLayout) {\r\n          var a = this.diagram;\r\n          if (null !== a && !a.undoManager.isUndoingRedoing) {\r\n            var b = a.animationManager;\r\n            !b.isTicking &&\r\n              (b.defaultAnimation.isAnimating && b.ad(),\r\n              (this.isOngoing && a.tk) || (this.isInitial && !a.tk)) &&\r\n              ((this.isValidLayout = !1), a.cc());\r\n          }\r\n        }\r\n      };\r\n      Si.prototype.createNetwork = function () {\r\n        return new hq(this);\r\n      };\r\n      Si.prototype.makeNetwork = function (a) {\r\n        var b = this.createNetwork();\r\n        a instanceof P\r\n          ? (b.Gg(a.nodes, !0), b.Gg(a.links, !0))\r\n          : a instanceof Kf\r\n          ? b.Gg(a.memberParts)\r\n          : b.Gg(a.iterator);\r\n        return b;\r\n      };\r\n      Si.prototype.updateParts = function () {\r\n        var a = this.diagram;\r\n        if (null === a && null !== this.network)\r\n          for (var b = this.network.vertexes.iterator; b.next(); ) {\r\n            var c = b.value.node;\r\n            if (null !== c && ((a = c.diagram), null !== a)) break;\r\n          }\r\n        this.isValidLayout = !0;\r\n        try {\r\n          null !== a && a.Aa(\"Layout\"), this.commitLayout();\r\n        } finally {\r\n          null !== a && a.Za(\"Layout\");\r\n        }\r\n      };\r\n      Si.prototype.commitLayout = function () {\r\n        if (null !== this.network) {\r\n          for (var a = this.network.vertexes.iterator; a.next(); )\r\n            a.value.commit();\r\n          if (this.isRouting)\r\n            for (a = this.network.edges.iterator; a.next(); ) a.value.commit();\r\n        }\r\n      };\r\n      Si.prototype.doLayout = function (a) {\r\n        F &&\r\n          null === a &&\r\n          v(\r\n            \"Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts\"\r\n          );\r\n        var b = new H();\r\n        a instanceof P\r\n          ? (iq(this, b, a.nodes, !0, this.Ck, !0, !1, !0),\r\n            iq(this, b, a.parts, !0, this.Ck, !0, !1, !0))\r\n          : a instanceof Kf\r\n          ? iq(this, b, a.memberParts, !1, this.Ck, !0, !1, !0)\r\n          : b.addAll(a.iterator);\r\n        var c = b.count;\r\n        if (0 < c) {\r\n          a = this.diagram;\r\n          null !== a && a.Aa(\"Layout\");\r\n          c = Math.ceil(Math.sqrt(c));\r\n          this.arrangementOrigin = this.initialOrigin(this.arrangementOrigin);\r\n          var d = this.arrangementOrigin.x,\r\n            e = d,\r\n            f = this.arrangementOrigin.y,\r\n            g = 0,\r\n            h = 0;\r\n          for (b = b.iterator; b.next(); ) {\r\n            var k = b.value;\r\n            jq(k);\r\n            var l = k.measuredBounds,\r\n              m = l.width;\r\n            l = l.height;\r\n            k.moveTo(e, f);\r\n            k instanceof Kf && (k.Ck = !1);\r\n            e += Math.max(m, 50) + 20;\r\n            h = Math.max(h, Math.max(l, 50));\r\n            g >= c - 1 ? ((g = 0), (e = d), (f += h + 20), (h = 0)) : g++;\r\n          }\r\n          null !== a && a.Za(\"Layout\");\r\n        }\r\n        this.isValidLayout = !0;\r\n      };\r\n      Si.prototype.Ck = function (a) {\r\n        return !a.location.o() || (a instanceof Kf && a.Ck) ? !0 : !1;\r\n      };\r\n\r\n      function iq(a, b, c, d, e, f, g, h) {\r\n        for (c = c.iterator; c.next(); ) {\r\n          var k = c.value;\r\n          (d && !k.isTopLevel) ||\r\n            (null !== e && !e(k)) ||\r\n            !k.canLayout() ||\r\n            (f && k instanceof U\r\n              ? k.isLinkLabel ||\r\n                (k instanceof Kf\r\n                  ? null === k.layout\r\n                    ? iq(a, b, k.memberParts, !1, e, f, g, h)\r\n                    : (jq(k), b.add(k))\r\n                  : (jq(k), b.add(k)))\r\n              : g && k instanceof Q\r\n              ? b.add(k)\r\n              : !h || !k.$b() || k instanceof U || (jq(k), b.add(k)));\r\n        }\r\n      }\r\n\r\n      function jq(a) {\r\n        var b = a.actualBounds;\r\n        (0 === b.width ||\r\n          0 === b.height ||\r\n          isNaN(b.width) ||\r\n          isNaN(b.height)) &&\r\n          a.Eb();\r\n      }\r\n      Si.prototype.fj = function (a, b) {\r\n        var c = this.boundsComputation;\r\n        if (null !== c) return b || (b = new L()), c(a, this, b);\r\n        if (!b) return a.actualBounds;\r\n        b.set(a.actualBounds);\r\n        return b;\r\n      };\r\n      Si.prototype.Hx = function (a) {\r\n        var b = new H();\r\n        a instanceof P\r\n          ? (iq(this, b, a.nodes, !0, null, !0, !0, !0),\r\n            iq(this, b, a.links, !0, null, !0, !0, !0),\r\n            iq(this, b, a.parts, !0, null, !0, !0, !0))\r\n          : a instanceof Kf\r\n          ? iq(this, b, a.memberParts, !1, null, !0, !0, !0)\r\n          : iq(this, b, a.iterator, !1, null, !0, !0, !0);\r\n        return b;\r\n      };\r\n      Si.prototype.initialOrigin = function (a) {\r\n        var b = this.group;\r\n        if (null !== b) {\r\n          var c = b.position.copy();\r\n          (isNaN(c.x) || isNaN(c.y)) && c.set(a);\r\n          b = b.placeholder;\r\n          null !== b &&\r\n            ((c = b.ma(Hc)),\r\n            (isNaN(c.x) || isNaN(c.y)) && c.set(a),\r\n            (a = b.padding),\r\n            (c.x += a.left),\r\n            (c.y += a.top));\r\n          return c;\r\n        }\r\n        return a;\r\n      };\r\n      ma.Object.defineProperties(Si.prototype, {\r\n        diagram: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.A;\r\n          },\r\n          set: function (a) {\r\n            null !== a && w(a, P, Si, \"diagram\");\r\n            this.A = a;\r\n          },\r\n        },\r\n        group: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.L;\r\n          },\r\n          set: function (a) {\r\n            this.L !== a &&\r\n              (null !== a && w(a, Kf, Si, \"group\"),\r\n              (this.L = a),\r\n              null !== a && (this.A = a.diagram));\r\n          },\r\n        },\r\n        isOngoing: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.io;\r\n          },\r\n          set: function (a) {\r\n            this.io !== a && (A(a, \"boolean\", Si, \"isOngoing\"), (this.io = a));\r\n          },\r\n        },\r\n        isInitial: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.ui;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"boolean\", Si, \"isInitial\");\r\n            this.ui = a;\r\n            a || (this.no = !0);\r\n          },\r\n        },\r\n        isViewportSized: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.oo;\r\n          },\r\n          set: function (a) {\r\n            this.oo !== a &&\r\n              (A(a, \"boolean\", Si, \"isViewportSized\"),\r\n              (this.oo = a) && this.D());\r\n          },\r\n        },\r\n        isRouting: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.lo;\r\n          },\r\n          set: function (a) {\r\n            this.lo !== a && (A(a, \"boolean\", Si, \"isRouting\"), (this.lo = a));\r\n          },\r\n        },\r\n        isRealtime: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ko;\r\n          },\r\n          set: function (a) {\r\n            this.ko !== a &&\r\n              (null !== a && A(a, \"boolean\", Si, \"isRealtime\"), (this.ko = a));\r\n          },\r\n        },\r\n        isValidLayout: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.no;\r\n          },\r\n          set: function (a) {\r\n            this.no !== a &&\r\n              (A(a, \"boolean\", Si, \"isValidLayout\"),\r\n              (this.no = a),\r\n              a || ((a = this.diagram), null !== a && (a.Ug = !0)));\r\n          },\r\n        },\r\n        network: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.l;\r\n          },\r\n          set: function (a) {\r\n            this.l !== a &&\r\n              (null !== a && w(a, hq, Si, \"network\"),\r\n              (this.l = a),\r\n              null !== a && (a.layout = this));\r\n          },\r\n        },\r\n        boundsComputation: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.w;\r\n          },\r\n          set: function (a) {\r\n            this.w !== a &&\r\n              (null !== a && A(a, \"function\", Si, \"boundsComputation\"),\r\n              (this.w = a),\r\n              this.D());\r\n          },\r\n        },\r\n        arrangementOrigin: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.hn;\r\n          },\r\n          set: function (a) {\r\n            w(a, J, Si, \"arrangementOrigin\");\r\n            this.hn.B(a) || (this.hn.assign(a), this.D());\r\n          },\r\n        },\r\n      });\r\n      Si.prototype.collectParts = Si.prototype.Hx;\r\n      Si.prototype.getLayoutBounds = Si.prototype.fj;\r\n      Si.prototype.invalidateLayout = Si.prototype.D;\r\n      Si.className = \"Layout\";\r\n\r\n      function hq(a) {\r\n        fb(this);\r\n        F &&\r\n          !a &&\r\n          v(\"LayoutNetwork constructor requires non-null Layout argument\");\r\n        this.nc = a;\r\n        this.wf = new H();\r\n        this.le = new H();\r\n        this.Et = new Db();\r\n        this.zt = new Db();\r\n      }\r\n      hq.prototype.clear = function () {\r\n        if (this.wf) for (var a = this.wf.iterator; a.next(); ) a.value.clear();\r\n        if (this.le) for (a = this.le.iterator; a.next(); ) a.value.clear();\r\n        this.wf = new H();\r\n        this.le = new H();\r\n        this.Et = new Db();\r\n        this.zt = new Db();\r\n      };\r\n      hq.prototype.toString = function (a) {\r\n        void 0 === a && (a = 0);\r\n        var b =\r\n          \"LayoutNetwork\" +\r\n          (null !== this.layout ? \"(\" + this.layout.toString() + \")\" : \"\");\r\n        if (0 >= a) return b;\r\n        b += \" vertexes: \" + this.wf.count + \" edges: \" + this.le.count;\r\n        if (1 < a) {\r\n          for (var c = this.wf.iterator; c.next(); )\r\n            b += \"\\n    \" + c.value.toString(a - 1);\r\n          for (c = this.le.iterator; c.next(); )\r\n            b += \"\\n    \" + c.value.toString(a - 1);\r\n        }\r\n        return b;\r\n      };\r\n      hq.prototype.createVertex = function () {\r\n        return new kq(this);\r\n      };\r\n      hq.prototype.createEdge = function () {\r\n        return new lq(this);\r\n      };\r\n      hq.prototype.Gg = function (a, b, c) {\r\n        if (null !== a) {\r\n          void 0 === b && (b = !1);\r\n          A(b, \"boolean\", hq, \"addParts:toplevelonly\");\r\n          void 0 === c && (c = null);\r\n          null === c &&\r\n            (c = function (a) {\r\n              if (a instanceof U) return !a.isLinkLabel;\r\n              if (a instanceof Q) {\r\n                var b = a.fromNode;\r\n                if (null === b || b.isLinkLabel) return !1;\r\n                a = a.toNode;\r\n                return null === a || a.isLinkLabel ? !1 : !0;\r\n              }\r\n              return !1;\r\n            });\r\n          for (a = a.iterator; a.next(); ) {\r\n            var d = a.value;\r\n            if (d instanceof U && (!b || d.isTopLevel) && d.canLayout() && c(d))\r\n              if (d instanceof Kf && null === d.layout)\r\n                this.Gg(d.memberParts, !1);\r\n              else if (null === this.cj(d)) {\r\n                var e = this.createVertex();\r\n                e.node = d;\r\n                this.Kh(e);\r\n              }\r\n          }\r\n          for (a.reset(); a.next(); )\r\n            if (\r\n              ((d = a.value),\r\n              d instanceof Q &&\r\n                (!b || d.isTopLevel) &&\r\n                d.canLayout() &&\r\n                c(d) &&\r\n                null === this.pq(d))\r\n            ) {\r\n              var f = d.fromNode;\r\n              e = d.toNode;\r\n              null !== f &&\r\n                null !== e &&\r\n                f !== e &&\r\n                ((f = this.findGroupVertex(f)),\r\n                (e = this.findGroupVertex(e)),\r\n                null !== f && null !== e && this.vk(f, e, d));\r\n            }\r\n        }\r\n      };\r\n      hq.prototype.findGroupVertex = function (a) {\r\n        if (null === a) return null;\r\n        var b = a.findVisibleNode();\r\n        if (null === b) return null;\r\n        a = this.cj(b);\r\n        if (null !== a) return a;\r\n        for (b = b.containingGroup; null !== b; ) {\r\n          a = this.cj(b);\r\n          if (null !== a) return a;\r\n          b = b.containingGroup;\r\n        }\r\n        return null;\r\n      };\r\n      t = hq.prototype;\r\n      t.Kh = function (a) {\r\n        if (null !== a) {\r\n          F && w(a, kq, hq, \"addVertex:vertex\");\r\n          this.wf.add(a);\r\n          var b = a.node;\r\n          null !== b && this.Et.add(b, a);\r\n          a.network = this;\r\n        }\r\n      };\r\n      t.km = function (a) {\r\n        if (null === a) return null;\r\n        F && w(a, U, hq, \"addNode:node\");\r\n        var b = this.cj(a);\r\n        null === b && ((b = this.createVertex()), (b.node = a), this.Kh(b));\r\n        return b;\r\n      };\r\n      t.qv = function (a) {\r\n        if (\r\n          null !== a &&\r\n          (F && w(a, kq, hq, \"deleteVertex:vertex\"), mq(this, a))\r\n        ) {\r\n          for (var b = a.Pg, c = b.count - 1; 0 <= c; c--) {\r\n            var d = b.O(c);\r\n            this.mk(d);\r\n          }\r\n          b = a.Hg;\r\n          for (a = b.count - 1; 0 <= a; a--) (c = b.O(a)), this.mk(c);\r\n        }\r\n      };\r\n\r\n      function mq(a, b) {\r\n        if (null === b) return !1;\r\n        var c = a.wf.remove(b);\r\n        c && ((b = b.node), null !== b && a.Et.remove(b));\r\n        return c;\r\n      }\r\n      t.jz = function (a) {\r\n        null !== a &&\r\n          (F && w(a, U, hq, \"deleteNode:node\"),\r\n          (a = this.cj(a)),\r\n          null !== a && this.qv(a));\r\n      };\r\n      t.cj = function (a) {\r\n        if (null === a) return null;\r\n        F && w(a, U, hq, \"findVertex:node\");\r\n        return this.Et.K(a);\r\n      };\r\n      t.hq = function (a) {\r\n        if (null !== a) {\r\n          F && w(a, lq, hq, \"addEdge:edge\");\r\n          nq(this, a);\r\n          var b = a.toVertex;\r\n          null !== b && b.fv(a);\r\n          b = a.fromVertex;\r\n          null !== b && b.dv(a);\r\n        }\r\n      };\r\n\r\n      function nq(a, b) {\r\n        if (null !== b) {\r\n          a.le.add(b);\r\n          var c = b.link;\r\n          null !== c && null === a.pq(c) && a.zt.add(c, b);\r\n          b.network = a;\r\n        }\r\n      }\r\n      t.Py = function (a) {\r\n        if (null === a) return null;\r\n        F && w(a, Q, hq, \"addLink:link\");\r\n        var b = a.fromNode,\r\n          c = a.toNode,\r\n          d = this.pq(a);\r\n        null === d\r\n          ? ((d = this.createEdge()),\r\n            (d.link = a),\r\n            null !== b && (d.fromVertex = this.km(b)),\r\n            null !== c && (d.toVertex = this.km(c)),\r\n            this.hq(d))\r\n          : (null !== b ? (d.fromVertex = this.km(b)) : (d.fromVertex = null),\r\n            null !== c ? (d.toVertex = this.km(c)) : (d.toVertex = null));\r\n        return d;\r\n      };\r\n      t.mk = function (a) {\r\n        if (null !== a) {\r\n          F && w(a, lq, hq, \"deleteEdge:edge\");\r\n          var b = a.toVertex;\r\n          null !== b && b.pv(a);\r\n          b = a.fromVertex;\r\n          null !== b && b.ov(a);\r\n          oq(this, a);\r\n        }\r\n      };\r\n\r\n      function oq(a, b) {\r\n        null !== b &&\r\n          a.le.remove(b) &&\r\n          ((b = b.link), null !== b && a.zt.remove(b));\r\n      }\r\n      t.iz = function (a) {\r\n        null !== a &&\r\n          (F && w(a, Q, hq, \"deleteLink:link\"),\r\n          (a = this.pq(a)),\r\n          null !== a && this.mk(a));\r\n      };\r\n      t.pq = function (a) {\r\n        if (null === a) return null;\r\n        F && w(a, Q, hq, \"findEdge:link\");\r\n        return this.zt.K(a);\r\n      };\r\n      t.vk = function (a, b, c) {\r\n        if (null === a || null === b) return null;\r\n        F &&\r\n          (w(a, kq, hq, \"linkVertexes:fromVertex\"),\r\n          w(b, kq, hq, \"linkVertexes:toVertex\"),\r\n          null !== c && w(c, Q, hq, \"linkVertexes:link\"));\r\n        if (a.network === this && b.network === this) {\r\n          var d = this.createEdge();\r\n          d.link = c;\r\n          d.fromVertex = a;\r\n          d.toVertex = b;\r\n          this.hq(d);\r\n          return d;\r\n        }\r\n        return null;\r\n      };\r\n      t.Om = function (a) {\r\n        if (null !== a) {\r\n          F && w(a, lq, hq, \"reverseEdge:edge\");\r\n          var b = a.fromVertex,\r\n            c = a.toVertex;\r\n          null !== b &&\r\n            null !== c &&\r\n            (b.ov(a), c.pv(a), a.Om(), b.fv(a), c.dv(a));\r\n        }\r\n      };\r\n      t.mq = function () {\r\n        for (var a = La(), b = this.le.iterator; b.next(); ) {\r\n          var c = b.value;\r\n          c.fromVertex === c.toVertex && a.push(c);\r\n        }\r\n        b = a.length;\r\n        for (c = 0; c < b; c++) this.mk(a[c]);\r\n        Na(a);\r\n      };\r\n      hq.prototype.deleteArtificialVertexes = function () {\r\n        for (var a = La(), b = this.wf.iterator; b.next(); ) {\r\n          var c = b.value;\r\n          null === c.node && a.push(c);\r\n        }\r\n        c = a.length;\r\n        for (b = 0; b < c; b++) this.qv(a[b]);\r\n        b = La();\r\n        for (c = this.le.iterator; c.next(); ) {\r\n          var d = c.value;\r\n          null === d.link && b.push(d);\r\n        }\r\n        c = b.length;\r\n        for (d = 0; d < c; d++) this.mk(b[d]);\r\n        Na(a);\r\n        Na(b);\r\n      };\r\n\r\n      function pq(a) {\r\n        for (var b = La(), c = a.le.iterator; c.next(); ) {\r\n          var d = c.value;\r\n          (null !== d.fromVertex && null !== d.toVertex) || b.push(d);\r\n        }\r\n        c = b.length;\r\n        for (d = 0; d < c; d++) a.mk(b[d]);\r\n        Na(b);\r\n      }\r\n      hq.prototype.xy = function (a) {\r\n        void 0 === a && (a = !0);\r\n        a && (this.deleteArtificialVertexes(), pq(this), this.mq());\r\n        a = new G();\r\n        for (var b = !0; b; ) {\r\n          b = !1;\r\n          for (var c = this.wf.iterator; c.next(); ) {\r\n            var d = c.value;\r\n            if (0 < d.Pg.count || 0 < d.Hg.count) {\r\n              b = this.layout.createNetwork();\r\n              a.add(b);\r\n              qq(this, b, d);\r\n              b = !0;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        a.sort(function (a, b) {\r\n          return null === a || null === b || a === b\r\n            ? 0\r\n            : b.vertexes.count - a.vertexes.count;\r\n        });\r\n        return a;\r\n      };\r\n\r\n      function qq(a, b, c) {\r\n        if (null !== c && c.network !== b) {\r\n          mq(a, c);\r\n          b.Kh(c);\r\n          for (var d = c.sourceEdges; d.next(); ) {\r\n            var e = d.value;\r\n            e.network !== b && (oq(a, e), nq(b, e), qq(a, b, e.fromVertex));\r\n          }\r\n          for (d = c.destinationEdges; d.next(); )\r\n            (c = d.value),\r\n              c.network !== b && (oq(a, c), nq(b, c), qq(a, b, c.toVertex));\r\n        }\r\n      }\r\n      hq.prototype.rz = function () {\r\n        for (var a = new H(), b = this.wf.iterator; b.next(); )\r\n          a.add(b.value.node);\r\n        for (b = this.le.iterator; b.next(); ) a.add(b.value.link);\r\n        return a;\r\n      };\r\n      ma.Object.defineProperties(hq.prototype, {\r\n        layout: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.nc;\r\n          },\r\n          set: function (a) {\r\n            null !== a && (this.nc = a);\r\n          },\r\n        },\r\n        vertexes: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.wf;\r\n          },\r\n        },\r\n        edges: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.le;\r\n          },\r\n        },\r\n      });\r\n      hq.prototype.findAllParts = hq.prototype.rz;\r\n      hq.prototype.splitIntoSubNetworks = hq.prototype.xy;\r\n      hq.prototype.deleteSelfEdges = hq.prototype.mq;\r\n      hq.prototype.reverseEdge = hq.prototype.Om;\r\n      hq.prototype.linkVertexes = hq.prototype.vk;\r\n      hq.prototype.findEdge = hq.prototype.pq;\r\n      hq.prototype.deleteLink = hq.prototype.iz;\r\n      hq.prototype.deleteEdge = hq.prototype.mk;\r\n      hq.prototype.addLink = hq.prototype.Py;\r\n      hq.prototype.addEdge = hq.prototype.hq;\r\n      hq.prototype.findVertex = hq.prototype.cj;\r\n      hq.prototype.deleteNode = hq.prototype.jz;\r\n      hq.prototype.deleteVertex = hq.prototype.qv;\r\n      hq.prototype.addNode = hq.prototype.km;\r\n      hq.prototype.addVertex = hq.prototype.Kh;\r\n      hq.prototype.addParts = hq.prototype.Gg;\r\n      hq.className = \"LayoutNetwork\";\r\n\r\n      function kq(a) {\r\n        fb(this);\r\n        F &&\r\n          !a &&\r\n          v(\r\n            \"LayoutVertex constructor requires non-null LayoutNetwork argument\"\r\n          );\r\n        this.Pc = a;\r\n        this.l = new L(0, 0, 10, 10).freeze();\r\n        this.w = new J(5, 5).freeze();\r\n        this.Ei = this.nb = null;\r\n        this.Pg = new G();\r\n        this.Hg = new G();\r\n      }\r\n      kq.prototype.clear = function () {\r\n        this.Ei = this.nb = null;\r\n        this.Pg = new G();\r\n        this.Hg = new G();\r\n      };\r\n      kq.prototype.toString = function (a) {\r\n        void 0 === a && (a = 0);\r\n        var b = \"LayoutVertex#\" + sb(this);\r\n        if (\r\n          0 < a &&\r\n          ((b += null !== this.node ? \"(\" + this.node.toString() + \")\" : \"\"),\r\n          1 < a)\r\n        ) {\r\n          a = \"\";\r\n          for (var c = !0, d = this.Pg.iterator; d.next(); ) {\r\n            var e = d.value;\r\n            c ? (c = !1) : (a += \",\");\r\n            a += e.toString(0);\r\n          }\r\n          e = \"\";\r\n          c = !0;\r\n          for (d = this.Hg.iterator; d.next(); ) {\r\n            var f = d.value;\r\n            c ? (c = !1) : (e += \",\");\r\n            e += f.toString(0);\r\n          }\r\n          b += \" sources: \" + a + \" destinations: \" + e;\r\n        }\r\n        return b;\r\n      };\r\n      kq.prototype.commit = function () {\r\n        var a = this.nb;\r\n        if (null !== a) {\r\n          var b = this.bounds,\r\n            c = a.bounds;\r\n          Fa(c)\r\n            ? ((c.x = b.x),\r\n              (c.y = b.y),\r\n              (c.width = b.width),\r\n              (c.height = b.height))\r\n            : (a.bounds = b.copy());\r\n        } else if (((a = this.node), null !== a)) {\r\n          b = this.bounds;\r\n          if (!(a instanceof Kf)) {\r\n            c = L.alloc();\r\n            var d = this.network.layout.fj(a, c),\r\n              e = a.locationObject.ma(Mc);\r\n            if (d.o() && e.o()) {\r\n              a.moveTo(\r\n                b.x + this.focusX - (e.x - d.x),\r\n                b.y + this.focusY - (e.y - d.y)\r\n              );\r\n              L.free(c);\r\n              return;\r\n            }\r\n            L.free(c);\r\n          }\r\n          a.moveTo(b.x, b.y);\r\n        }\r\n      };\r\n      kq.prototype.fv = function (a) {\r\n        null !== a &&\r\n          (F && w(a, lq, kq, \"addSourceEdge:edge\"),\r\n          this.Pg.contains(a) || this.Pg.add(a));\r\n      };\r\n      kq.prototype.pv = function (a) {\r\n        null !== a &&\r\n          (F && w(a, lq, kq, \"deleteSourceEdge:edge\"), this.Pg.remove(a));\r\n      };\r\n      kq.prototype.dv = function (a) {\r\n        null !== a &&\r\n          (F && w(a, lq, kq, \"addDestinationEdge:edge\"),\r\n          this.Hg.contains(a) || this.Hg.add(a));\r\n      };\r\n      kq.prototype.ov = function (a) {\r\n        null !== a &&\r\n          (F && w(a, lq, kq, \"deleteDestinationEdge:edge\"), this.Hg.remove(a));\r\n      };\r\n\r\n      function rq(a, b) {\r\n        F && w(a, kq, kq, \"standardComparer:m\");\r\n        F && w(b, kq, kq, \"standardComparer:n\");\r\n        a = a.Ei;\r\n        b = b.Ei;\r\n        return a\r\n          ? b\r\n            ? ((a = a.text), (b = b.text), a < b ? -1 : a > b ? 1 : 0)\r\n            : 1\r\n          : null !== b\r\n          ? -1\r\n          : 0;\r\n      }\r\n      ma.Object.defineProperties(kq.prototype, {\r\n        sourceEdgesArrayAccess: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Pg._dataArray;\r\n          },\r\n        },\r\n        destinationEdgesArrayAccess: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Hg._dataArray;\r\n          },\r\n        },\r\n        data: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.nb;\r\n          },\r\n          set: function (a) {\r\n            this.nb = a;\r\n            if (null !== a) {\r\n              var b = a.bounds;\r\n              a = b.x;\r\n              var c = b.y,\r\n                d = b.width;\r\n              b = b.height;\r\n              this.w.h(d / 2, b / 2);\r\n              this.l.h(a, c, d, b);\r\n            }\r\n          },\r\n        },\r\n        node: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ei;\r\n          },\r\n          set: function (a) {\r\n            if (this.Ei !== a) {\r\n              F && null !== a && w(a, U, kq, \"node\");\r\n              this.Ei = a;\r\n              a.Eb();\r\n              var b = this.network.layout,\r\n                c = L.alloc(),\r\n                d = b.fj(a, c);\r\n              b = d.x;\r\n              var e = d.y,\r\n                f = d.width;\r\n              d = d.height;\r\n              isNaN(b) && (b = 0);\r\n              isNaN(e) && (e = 0);\r\n              this.l.h(b, e, f, d);\r\n              L.free(c);\r\n              if (\r\n                !(a instanceof Kf) &&\r\n                ((a = a.locationObject.ma(Mc)), a.o())\r\n              ) {\r\n                this.w.h(a.x - b, a.y - e);\r\n                return;\r\n              }\r\n              this.w.h(f / 2, d / 2);\r\n            }\r\n          },\r\n        },\r\n        bounds: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.l;\r\n          },\r\n          set: function (a) {\r\n            this.l.B(a) || (F && w(a, L, kq, \"bounds\"), this.l.assign(a));\r\n          },\r\n        },\r\n        focus: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.w;\r\n          },\r\n          set: function (a) {\r\n            this.w.B(a) || (F && w(a, J, kq, \"focus\"), this.w.assign(a));\r\n          },\r\n        },\r\n        centerX: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.l.x + this.w.x;\r\n          },\r\n          set: function (a) {\r\n            var b = this.l;\r\n            b.x + this.w.x !== a &&\r\n              (F && C(a, kq, \"centerX\"),\r\n              b.ka(),\r\n              (b.x = a - this.w.x),\r\n              b.freeze());\r\n          },\r\n        },\r\n        centerY: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.l.y + this.w.y;\r\n          },\r\n          set: function (a) {\r\n            var b = this.l;\r\n            b.y + this.w.y !== a &&\r\n              (F && C(a, kq, \"centerY\"),\r\n              b.ka(),\r\n              (b.y = a - this.w.y),\r\n              b.freeze());\r\n          },\r\n        },\r\n        focusX: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.w.x;\r\n          },\r\n          set: function (a) {\r\n            var b = this.w;\r\n            b.x !== a && (b.ka(), (b.x = a), b.freeze());\r\n          },\r\n        },\r\n        focusY: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.w.y;\r\n          },\r\n          set: function (a) {\r\n            var b = this.w;\r\n            b.y !== a && (b.ka(), (b.y = a), b.freeze());\r\n          },\r\n        },\r\n        x: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.l.x;\r\n          },\r\n          set: function (a) {\r\n            var b = this.l;\r\n            b.x !== a && (b.ka(), (b.x = a), b.freeze());\r\n          },\r\n        },\r\n        y: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.l.y;\r\n          },\r\n          set: function (a) {\r\n            var b = this.l;\r\n            b.y !== a && (b.ka(), (b.y = a), b.freeze());\r\n          },\r\n        },\r\n        width: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.l.width;\r\n          },\r\n          set: function (a) {\r\n            var b = this.l;\r\n            b.width !== a && (b.ka(), (b.width = a), b.freeze());\r\n          },\r\n        },\r\n        height: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.l.height;\r\n          },\r\n          set: function (a) {\r\n            var b = this.l;\r\n            b.height !== a && (b.ka(), (b.height = a), b.freeze());\r\n          },\r\n        },\r\n        network: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Pc;\r\n          },\r\n          set: function (a) {\r\n            F && w(a, hq, kq, \"network\");\r\n            this.Pc = a;\r\n          },\r\n        },\r\n        sourceVertexes: {\r\n          configurable: !0,\r\n          get: function () {\r\n            for (var a = new H(), b = this.sourceEdges; b.next(); )\r\n              a.add(b.value.fromVertex);\r\n            return a.iterator;\r\n          },\r\n        },\r\n        destinationVertexes: {\r\n          configurable: !0,\r\n          get: function () {\r\n            for (var a = new H(), b = this.destinationEdges; b.next(); )\r\n              a.add(b.value.toVertex);\r\n            return a.iterator;\r\n          },\r\n        },\r\n        vertexes: {\r\n          configurable: !0,\r\n          get: function () {\r\n            for (var a = new H(), b = this.sourceEdges; b.next(); )\r\n              a.add(b.value.fromVertex);\r\n            for (b = this.destinationEdges; b.next(); ) a.add(b.value.toVertex);\r\n            return a.iterator;\r\n          },\r\n        },\r\n        sourceEdges: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Pg.iterator;\r\n          },\r\n        },\r\n        destinationEdges: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.Hg.iterator;\r\n          },\r\n        },\r\n        edges: {\r\n          configurable: !0,\r\n          get: function () {\r\n            for (var a = new G(), b = this.sourceEdges; b.next(); )\r\n              a.add(b.value);\r\n            for (b = this.destinationEdges; b.next(); ) a.add(b.value);\r\n            return a.iterator;\r\n          },\r\n        },\r\n        edgesCount: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Pg.count + this.Hg.count;\r\n          },\r\n        },\r\n      });\r\n      kq.prototype.deleteDestinationEdge = kq.prototype.ov;\r\n      kq.prototype.addDestinationEdge = kq.prototype.dv;\r\n      kq.prototype.deleteSourceEdge = kq.prototype.pv;\r\n      kq.prototype.addSourceEdge = kq.prototype.fv;\r\n      kq.className = \"LayoutVertex\";\r\n      kq.standardComparer = rq;\r\n      kq.smartComparer = function (a, b) {\r\n        F && w(a, kq, kq, \"smartComparer:m\");\r\n        F && w(b, kq, kq, \"smartComparer:n\");\r\n        if (null !== a) {\r\n          if (null !== b) {\r\n            a = a.Ei;\r\n            var c = b.Ei;\r\n            if (null !== a) {\r\n              if (null !== c) {\r\n                b = a.text\r\n                  .toLocaleLowerCase()\r\n                  .split(/([+\\-]?[\\.]?\\d+(?:\\.\\d*)?(?:e[+\\-]?\\d+)?)/);\r\n                a = c.text\r\n                  .toLocaleLowerCase()\r\n                  .split(/([+\\-]?[\\.]?\\d+(?:\\.\\d*)?(?:e[+\\-]?\\d+)?)/);\r\n                for (c = 0; c < b.length; c++)\r\n                  if (\"\" !== a[c] && void 0 !== a[c]) {\r\n                    var d = parseFloat(b[c]),\r\n                      e = parseFloat(a[c]);\r\n                    if (isNaN(d))\r\n                      if (isNaN(e)) {\r\n                        if (0 !== b[c].localeCompare(a[c]))\r\n                          return b[c].localeCompare(a[c]);\r\n                      } else return 1;\r\n                    else {\r\n                      if (isNaN(e)) return -1;\r\n                      if (0 !== d - e) return d - e;\r\n                    }\r\n                  } else if (\"\" !== b[c]) return 1;\r\n                return \"\" !== a[c] && void 0 !== a[c] ? -1 : 0;\r\n              }\r\n              return 1;\r\n            }\r\n            return null !== c ? -1 : 0;\r\n          }\r\n          return 1;\r\n        }\r\n        return null !== b ? -1 : 0;\r\n      };\r\n\r\n      function lq(a) {\r\n        fb(this);\r\n        F &&\r\n          !a &&\r\n          v(\"LayoutEdge constructor requires non-null LayoutNetwork argument\");\r\n        this.qd = a;\r\n        this.Cg = this.cg = this.Gl = this.nb = null;\r\n      }\r\n      lq.prototype.clear = function () {\r\n        this.Cg = this.cg = this.Gl = this.nb = null;\r\n      };\r\n      lq.prototype.toString = function (a) {\r\n        void 0 === a && (a = 0);\r\n        var b = \"LayoutEdge#\" + sb(this);\r\n        0 < a &&\r\n          ((b += null !== this.Gl ? \"(\" + this.Gl.toString() + \")\" : \"\"),\r\n          1 < a &&\r\n            (b +=\r\n              \" \" +\r\n              (this.cg ? this.cg.toString() : \"null\") +\r\n              \" --\\x3e \" +\r\n              (this.Cg ? this.Cg.toString() : \"null\")));\r\n        return b;\r\n      };\r\n      lq.prototype.Om = function () {\r\n        var a = this.cg;\r\n        this.cg = this.Cg;\r\n        this.Cg = a;\r\n      };\r\n      lq.prototype.commit = function () {};\r\n      lq.prototype.Wx = function (a) {\r\n        F && w(a, kq, lq, \"getOtherVertex:v\");\r\n        return this.Cg === a ? this.cg : this.cg === a ? this.Cg : null;\r\n      };\r\n      ma.Object.defineProperties(lq.prototype, {\r\n        network: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.qd;\r\n          },\r\n          set: function (a) {\r\n            F && w(a, hq, lq, \"network\");\r\n            this.qd = a;\r\n          },\r\n        },\r\n        data: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.nb;\r\n          },\r\n          set: function (a) {\r\n            this.nb !== a &&\r\n              (F && null !== a && A(a, \"object\", lq, \"data\"), (this.nb = a));\r\n          },\r\n        },\r\n        link: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Gl;\r\n          },\r\n          set: function (a) {\r\n            this.Gl !== a &&\r\n              (F && null !== a && w(a, Q, lq, \"link\"), (this.Gl = a));\r\n          },\r\n        },\r\n        fromVertex: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.cg;\r\n          },\r\n          set: function (a) {\r\n            this.cg !== a &&\r\n              (F && null !== a && w(a, kq, lq, \"network\"), (this.cg = a));\r\n          },\r\n        },\r\n        toVertex: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Cg;\r\n          },\r\n          set: function (a) {\r\n            this.Cg !== a &&\r\n              (F && null !== a && w(a, kq, lq, \"network\"), (this.Cg = a));\r\n          },\r\n        },\r\n      });\r\n      lq.prototype.getOtherVertex = lq.prototype.Wx;\r\n      lq.className = \"LayoutEdge\";\r\n\r\n      function al() {\r\n        0 < arguments.length && za(al);\r\n        Si.call(this);\r\n        this.isViewportSized = !0;\r\n        this.eq = this.fq = NaN;\r\n        this.Xg = new Jb(NaN, NaN).freeze();\r\n        this.nf = new Jb(10, 10).freeze();\r\n        this.Bb = sq;\r\n        this.Hb = tq;\r\n        this.Wc = uq;\r\n        this.Qc = vq;\r\n      }\r\n      la(al, Si);\r\n      al.prototype.cloneProtected = function (a) {\r\n        Si.prototype.cloneProtected.call(this, a);\r\n        a.fq = this.fq;\r\n        a.eq = this.eq;\r\n        a.Xg.assign(this.Xg);\r\n        a.nf.assign(this.nf);\r\n        a.Bb = this.Bb;\r\n        a.Hb = this.Hb;\r\n        a.Wc = this.Wc;\r\n        a.Qc = this.Qc;\r\n      };\r\n      al.prototype.jb = function (a) {\r\n        a.classType === al\r\n          ? a === uq || a === wq || a === xq || a === yq\r\n            ? (this.sorting = a)\r\n            : a === tq || a === zq\r\n            ? (this.arrangement = a)\r\n            : a === sq || a === Aq\r\n            ? (this.alignment = a)\r\n            : v(\"Unknown enum value: \" + a)\r\n          : Si.prototype.jb.call(this, a);\r\n      };\r\n      al.prototype.doLayout = function (a) {\r\n        F &&\r\n          null === a &&\r\n          v(\r\n            \"Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts\"\r\n          );\r\n        this.arrangementOrigin = this.initialOrigin(this.arrangementOrigin);\r\n        var b = this.Hx(a);\r\n        a = this.diagram;\r\n        for (var c = b.copy().iterator; c.next(); ) {\r\n          var d = c.value;\r\n          if (!d.Qh() || (null === d.fromNode && null === d.toNode)) {\r\n            if ((d.Eb(), d instanceof Kf))\r\n              for (d = d.memberParts; d.next(); ) b.remove(d.value);\r\n          } else b.remove(d);\r\n        }\r\n        var e = b.sa();\r\n        if (0 !== e.length) {\r\n          switch (this.sorting) {\r\n            case yq:\r\n              e.reverse();\r\n              break;\r\n            case uq:\r\n              e.sort(this.comparer);\r\n              break;\r\n            case wq:\r\n              e.sort(this.comparer), e.reverse();\r\n          }\r\n          var f = this.wrappingColumn;\r\n          isNaN(f) && (f = 0);\r\n          var g = this.wrappingWidth;\r\n          isNaN(g) && null !== a\r\n            ? ((b = a.padding),\r\n              (g = Math.max(a.viewportBounds.width - b.left - b.right, 0)))\r\n            : (g = Math.max(this.wrappingWidth, 0));\r\n          0 >= f && 0 >= g && (f = 1);\r\n          b = this.spacing.width;\r\n          isFinite(b) || (b = 0);\r\n          c = this.spacing.height;\r\n          isFinite(c) || (c = 0);\r\n          null !== a && a.Aa(\"Layout\");\r\n          d = [];\r\n          switch (this.alignment) {\r\n            case Aq:\r\n              var h = b,\r\n                k = c,\r\n                l = L.alloc(),\r\n                m = Math.max(this.cellSize.width, 1);\r\n              if (!isFinite(m))\r\n                for (var n = (m = 0); n < e.length; n++) {\r\n                  var p = this.fj(e[n], l);\r\n                  m = Math.max(m, p.width);\r\n                }\r\n              m = Math.max(m + h, 1);\r\n              n = Math.max(this.cellSize.height, 1);\r\n              if (!isFinite(n))\r\n                for (p = n = 0; p < e.length; p++) {\r\n                  var r = this.fj(e[p], l);\r\n                  n = Math.max(n, r.height);\r\n                }\r\n              n = Math.max(n + k, 1);\r\n              p = this.arrangement;\r\n              for (\r\n                var q = (r = this.arrangementOrigin.x),\r\n                  u = this.arrangementOrigin.y,\r\n                  x = 0,\r\n                  y = 0,\r\n                  z = 0;\r\n                z < e.length;\r\n                z++\r\n              ) {\r\n                var B = e[z],\r\n                  D = this.fj(B, l),\r\n                  I = Math.ceil((D.width + h) / m) * m,\r\n                  O = Math.ceil((D.height + k) / n) * n;\r\n                switch (p) {\r\n                  case zq:\r\n                    var R = Math.abs(q - D.width);\r\n                    break;\r\n                  default:\r\n                    R = q + D.width;\r\n                }\r\n                if ((0 < f && x > f - 1) || (0 < g && 0 < x && R - r > g))\r\n                  d.push(new L(0, u, g + h, y)),\r\n                    (x = 0),\r\n                    (q = r),\r\n                    (u += y),\r\n                    (y = 0);\r\n                y = Math.max(y, O);\r\n                switch (p) {\r\n                  case zq:\r\n                    D = -D.width;\r\n                    break;\r\n                  default:\r\n                    D = 0;\r\n                }\r\n                B.moveTo(q + D, u);\r\n                switch (p) {\r\n                  case zq:\r\n                    q -= I;\r\n                    break;\r\n                  default:\r\n                    q += I;\r\n                }\r\n                x++;\r\n              }\r\n              d.push(new L(0, u, g + h, y));\r\n              L.free(l);\r\n              break;\r\n            case sq:\r\n              k = g;\r\n              m = f;\r\n              n = b;\r\n              p = c;\r\n              g = L.alloc();\r\n              r = Math.max(this.cellSize.width, 1);\r\n              f = u = l = 0;\r\n              h = J.alloc();\r\n              for (q = 0; q < e.length; q++)\r\n                (y = e[q]),\r\n                  (x = this.fj(y, g)),\r\n                  (y = y.Ef(y.locationObject, y.locationSpot, h)),\r\n                  (l = Math.max(l, y.x)),\r\n                  (u = Math.max(u, x.width - y.x)),\r\n                  (f = Math.max(f, y.y));\r\n              q = this.arrangement;\r\n              switch (q) {\r\n                case zq:\r\n                  l += n;\r\n                  break;\r\n                default:\r\n                  u += n;\r\n              }\r\n              r = isFinite(r) ? Math.max(r + n, 1) : Math.max(l + u, 1);\r\n              var T = (y = this.arrangementOrigin.x);\r\n              z = this.arrangementOrigin.y;\r\n              u = 0;\r\n              k >= l && (k -= l);\r\n              l = B = 0;\r\n              I = Math.max(this.cellSize.height, 1);\r\n              D = f = 0;\r\n              O = !0;\r\n              x = J.alloc();\r\n              for (R = 0; R < e.length; R++) {\r\n                var ca = e[R],\r\n                  Z = this.fj(ca, g),\r\n                  sa = ca.Ef(ca.locationObject, ca.locationSpot, h);\r\n                if (0 < u)\r\n                  switch (q) {\r\n                    case zq:\r\n                      T = (T - y - (Z.width - sa.x)) / r;\r\n                      T = K.ba(Math.round(T), T)\r\n                        ? Math.round(T)\r\n                        : Math.floor(T);\r\n                      T = T * r + y;\r\n                      break;\r\n                    default:\r\n                      (T = (T - y + sa.x) / r),\r\n                        (T = K.ba(Math.round(T), T)\r\n                          ? Math.round(T)\r\n                          : Math.ceil(T)),\r\n                        (T = T * r + y);\r\n                  }\r\n                else\r\n                  switch (q) {\r\n                    case zq:\r\n                      B = T + sa.x + Z.width;\r\n                      break;\r\n                    default:\r\n                      B = T - sa.x;\r\n                  }\r\n                switch (q) {\r\n                  case zq:\r\n                    var Da = -(T + sa.x) + B;\r\n                    break;\r\n                  default:\r\n                    Da = T + Z.width - sa.x - B;\r\n                }\r\n                if ((0 < m && u > m - 1) || (0 < k && 0 < u && Da > k)) {\r\n                  d.push(new L(0, O ? z - f : z, k + n, D + f + p));\r\n                  for (T = 0; T < u && R !== u; T++) {\r\n                    Da = e[R - u + T];\r\n                    var W = Da.Ef(Da.locationObject, Da.locationSpot, x);\r\n                    Da.moveTo(Da.position.x, Da.position.y + f - W.y);\r\n                  }\r\n                  D += p;\r\n                  z = O ? z + D : z + (D + f);\r\n                  u = D = f = 0;\r\n                  T = y;\r\n                  O = !1;\r\n                }\r\n                T === y &&\r\n                  (l =\r\n                    q === zq\r\n                      ? Math.max(l, Z.width - sa.x)\r\n                      : Math.min(l, -sa.x));\r\n                f = Math.max(f, sa.y);\r\n                D = Math.max(D, Z.height - sa.y);\r\n                isFinite(I) && (D = Math.max(D, Math.max(Z.height, I) - sa.y));\r\n                O ? ca.moveTo(T - sa.x, z - sa.y) : ca.moveTo(T - sa.x, z);\r\n                switch (q) {\r\n                  case zq:\r\n                    T -= sa.x + n;\r\n                    break;\r\n                  default:\r\n                    T += Z.width - sa.x + n;\r\n                }\r\n                u++;\r\n              }\r\n              d.push(new L(0, z, k + n, (O ? D : D + f) + p));\r\n              if (e.length !== u)\r\n                for (k = 0; k < u; k++)\r\n                  (m = e[e.length - u + k]),\r\n                    (n = m.Ef(m.locationObject, m.locationSpot, h)),\r\n                    m.moveTo(m.position.x, m.position.y + f - n.y);\r\n              J.free(h);\r\n              J.free(x);\r\n              if (q === zq)\r\n                for (e = 0; e < d.length; e++)\r\n                  (f = d[e]), (f.width += l), (f.x -= l);\r\n              else\r\n                for (e = 0; e < d.length; e++)\r\n                  (f = d[e]), f.x > l && ((f.width += f.x - l), (f.x = l));\r\n              L.free(g);\r\n          }\r\n          for (h = f = g = e = 0; h < d.length; h++)\r\n            (k = d[h]),\r\n              (e = Math.min(e, k.x)),\r\n              (g = Math.min(g, k.y)),\r\n              (f = Math.max(f, k.x + k.width));\r\n          this.arrangement === zq\r\n            ? this.commitLayers(d, new J(e + b / 2 - (f + e), g - c / 2))\r\n            : this.commitLayers(d, new J(e - b / 2, g - c / 2));\r\n          null !== a && a.Za(\"Layout\");\r\n          this.isValidLayout = !0;\r\n        }\r\n      };\r\n      al.prototype.commitLayers = function () {};\r\n\r\n      function vq(a, b) {\r\n        F && w(a, S, al, \"standardComparer:a\");\r\n        F && w(b, S, al, \"standardComparer:b\");\r\n        a = a.text;\r\n        b = b.text;\r\n        return a < b ? -1 : a > b ? 1 : 0;\r\n      }\r\n      ma.Object.defineProperties(al.prototype, {\r\n        wrappingWidth: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.fq;\r\n          },\r\n          set: function (a) {\r\n            this.fq !== a &&\r\n              (A(a, \"number\", al, \"wrappingWidth\"), 0 < a || isNaN(a)) &&\r\n              ((this.fq = a), (this.isViewportSized = isNaN(a)), this.D());\r\n          },\r\n        },\r\n        wrappingColumn: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.eq;\r\n          },\r\n          set: function (a) {\r\n            this.eq !== a &&\r\n              (A(a, \"number\", al, \"wrappingColumn\"), 0 < a || isNaN(a)) &&\r\n              ((this.eq = a), this.D());\r\n          },\r\n        },\r\n        cellSize: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Xg;\r\n          },\r\n          set: function (a) {\r\n            w(a, Jb, al, \"cellSize\");\r\n            this.Xg.B(a) || (this.Xg.assign(a), this.D());\r\n          },\r\n        },\r\n        spacing: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.nf;\r\n          },\r\n          set: function (a) {\r\n            w(a, Jb, al, \"spacing\");\r\n            this.nf.B(a) || (this.nf.assign(a), this.D());\r\n          },\r\n        },\r\n        alignment: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Bb;\r\n          },\r\n          set: function (a) {\r\n            this.Bb !== a &&\r\n              (hb(a, al, al, \"alignment\"), a === sq || a === Aq) &&\r\n              ((this.Bb = a), this.D());\r\n          },\r\n        },\r\n        arrangement: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Hb;\r\n          },\r\n          set: function (a) {\r\n            this.Hb !== a &&\r\n              (hb(a, al, al, \"arrangement\"), a === tq || a === zq) &&\r\n              ((this.Hb = a), this.D());\r\n          },\r\n        },\r\n        sorting: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Wc;\r\n          },\r\n          set: function (a) {\r\n            this.Wc !== a &&\r\n              (hb(a, al, al, \"sorting\"),\r\n              a === xq || a === yq || a === uq || a === wq) &&\r\n              ((this.Wc = a), this.D());\r\n          },\r\n        },\r\n        comparer: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Qc;\r\n          },\r\n          set: function (a) {\r\n            this.Qc !== a &&\r\n              (A(a, \"function\", al, \"comparer\"), (this.Qc = a), this.D());\r\n          },\r\n        },\r\n      });\r\n      var Aq = new E(al, \"Position\", 0),\r\n        sq = new E(al, \"Location\", 1),\r\n        tq = new E(al, \"LeftToRight\", 2),\r\n        zq = new E(al, \"RightToLeft\", 3),\r\n        xq = new E(al, \"Forward\", 4),\r\n        yq = new E(al, \"Reverse\", 5),\r\n        uq = new E(al, \"Ascending\", 6),\r\n        wq = new E(al, \"Descending\", 7);\r\n      al.className = \"GridLayout\";\r\n      al.standardComparer = vq;\r\n      al.smartComparer = function (a, b) {\r\n        F && w(a, S, al, \"standardComparer:a\");\r\n        F && w(b, S, al, \"standardComparer:b\");\r\n        if (null !== a) {\r\n          if (null !== b) {\r\n            a = a.text\r\n              .toLocaleLowerCase()\r\n              .split(/([+\\-]?[\\.]?\\d+(?:\\.\\d*)?(?:e[+\\-]?\\d+)?)/);\r\n            b = b.text\r\n              .toLocaleLowerCase()\r\n              .split(/([+\\-]?[\\.]?\\d+(?:\\.\\d*)?(?:e[+\\-]?\\d+)?)/);\r\n            for (var c = 0; c < a.length; c++)\r\n              if (\"\" !== b[c] && void 0 !== b[c]) {\r\n                var d = parseFloat(a[c]),\r\n                  e = parseFloat(b[c]);\r\n                if (isNaN(d))\r\n                  if (isNaN(e)) {\r\n                    if (0 !== a[c].localeCompare(b[c]))\r\n                      return a[c].localeCompare(b[c]);\r\n                  } else return 1;\r\n                else {\r\n                  if (isNaN(e)) return -1;\r\n                  if (0 !== d - e) return d - e;\r\n                }\r\n              } else if (\"\" !== a[c]) return 1;\r\n            return \"\" !== b[c] && void 0 !== b[c] ? -1 : 0;\r\n          }\r\n          return 1;\r\n        }\r\n        return null !== b ? -1 : 0;\r\n      };\r\n      al.Position = Aq;\r\n      al.Location = sq;\r\n      al.LeftToRight = tq;\r\n      al.RightToLeft = zq;\r\n      al.Forward = xq;\r\n      al.Reverse = yq;\r\n      al.Ascending = uq;\r\n      al.Descending = wq;\r\n\r\n      function Gi() {\r\n        this.Vo = new H();\r\n        this.xo = new H();\r\n        this.Ha = new H();\r\n        this.Ve = new Db();\r\n        this.Ue = new Db();\r\n        this.Gj = new Db();\r\n        this.A = null;\r\n        this.Zq = !1;\r\n      }\r\n      t = Gi.prototype;\r\n      t.clear = function () {\r\n        this.Vo.clear();\r\n        this.xo.clear();\r\n        this.Ha.clear();\r\n        this.Ve.clear();\r\n        this.Ue.clear();\r\n        this.Gj.clear();\r\n      };\r\n      t.de = function (a) {\r\n        F && null !== a && w(a, P, Gi, \"setDiagram\");\r\n        this.A = a;\r\n      };\r\n      t.hj = function (a) {\r\n        if (a instanceof U) {\r\n          if ((this.Vo.add(a), a instanceof Kf)) {\r\n            var b = a.containingGroup;\r\n            null === b ? this.A.Ri.add(a) : b.Ll.add(a);\r\n            b = a.layout;\r\n            null !== b && (b.diagram = this.A);\r\n          }\r\n        } else\r\n          a instanceof Q ? this.xo.add(a) : a instanceof Pe || this.Ha.add(a);\r\n        b = a.data;\r\n        null === b ||\r\n          a instanceof Pe ||\r\n          (a instanceof Q ? this.Ue.add(b, a) : this.Ve.add(b, a));\r\n      };\r\n      t.Lc = function (a) {\r\n        a.fk();\r\n        if (a instanceof U) {\r\n          if ((this.Vo.remove(a), a instanceof Kf)) {\r\n            var b = a.containingGroup;\r\n            null === b ? this.A.Ri.remove(a) : b.Ll.remove(a);\r\n            b = a.layout;\r\n            null !== b && (b.diagram = null);\r\n          }\r\n        } else\r\n          a instanceof Q\r\n            ? this.xo.remove(a)\r\n            : a instanceof Pe || this.Ha.remove(a);\r\n        b = a.data;\r\n        null === b ||\r\n          a instanceof Pe ||\r\n          (a instanceof Q ? this.Ue.remove(b) : this.Ve.remove(b));\r\n      };\r\n      t.Cd = function () {\r\n        for (var a = this.A.nodeTemplateMap.iterator; a.next(); ) {\r\n          var b = a.value,\r\n            c = a.key;\r\n          (!b.$b() || b instanceof Kf) &&\r\n            v(\r\n              'Invalid node template in Diagram.nodeTemplateMap: template for \"' +\r\n                c +\r\n                '\" must be a Node or a simple Part, not a Group or Link: ' +\r\n                b\r\n            );\r\n        }\r\n        for (a = this.A.groupTemplateMap.iterator; a.next(); )\r\n          (b = a.value),\r\n            (c = a.key),\r\n            b instanceof Kf ||\r\n              v(\r\n                'Invalid group template in Diagram.groupTemplateMap: template for \"' +\r\n                  c +\r\n                  '\" must be a Group, not a normal Node or Link: ' +\r\n                  b\r\n              );\r\n        for (a = this.A.linkTemplateMap.iterator; a.next(); )\r\n          (b = a.value),\r\n            (c = a.key),\r\n            b instanceof Q ||\r\n              v(\r\n                'Invalid link template in Diagram.linkTemplateMap: template for \"' +\r\n                  c +\r\n                  '\" must be a Link, not a normal Node or simple Part: ' +\r\n                  b\r\n              );\r\n        a = La();\r\n        for (b = this.A.selection.iterator; b.next(); )\r\n          (c = b.value.data) && a.push(c);\r\n        b = La();\r\n        for (c = this.A.highlighteds.iterator; c.next(); ) {\r\n          var d = c.value.data;\r\n          d && b.push(d);\r\n        }\r\n        c = La();\r\n        for (d = this.nodes.iterator; d.next(); ) {\r\n          var e = d.value;\r\n          null !== e.data && (c.push(e.data), c.push(e.location));\r\n        }\r\n        for (d = this.links.iterator; d.next(); )\r\n          (e = d.value),\r\n            null !== e.data && (c.push(e.data), c.push(e.location));\r\n        for (d = this.parts.iterator; d.next(); )\r\n          (e = d.value),\r\n            null !== e.data && (c.push(e.data), c.push(e.location));\r\n        this.removeAllModeledParts();\r\n        this.addAllModeledParts();\r\n        for (d = 0; d < a.length; d++)\r\n          (e = this.Bc(a[d])), null !== e && (e.isSelected = !0);\r\n        for (d = 0; d < b.length; d++)\r\n          (e = this.Bc(b[d])), null !== e && (e.isHighlighted = !0);\r\n        for (d = 0; d < c.length; d += 2)\r\n          (e = this.Bc(c[d])), null !== e && (e.location = c[d + 1]);\r\n        Na(a);\r\n        Na(b);\r\n        Na(c);\r\n      };\r\n      Gi.prototype.addAllModeledParts = function () {\r\n        this.addModeledParts(this.diagram.model.nodeDataArray);\r\n      };\r\n      Gi.prototype.addModeledParts = function (a, b) {\r\n        var c = this,\r\n          d = this.diagram.model;\r\n        a.forEach(function (a) {\r\n          d.kb(a) && Bq(c, a, !1);\r\n        });\r\n        a.forEach(function (a) {\r\n          d.kb(a) && c.resolveReferencesForData(a);\r\n        });\r\n        !1 !== b && Dk(this.diagram, !1);\r\n      };\r\n\r\n      function Bq(a, b, c) {\r\n        if (\r\n          void 0 !== b &&\r\n          null !== b &&\r\n          !a.diagram.undoManager.isUndoingRedoing &&\r\n          !a.Ve.contains(b)\r\n        ) {\r\n          void 0 === c && (c = !0);\r\n          a: {\r\n            if (\r\n              void 0 !== b &&\r\n              null !== b &&\r\n              !a.A.undoManager.isUndoingRedoing &&\r\n              !a.Ve.contains(b)\r\n            ) {\r\n              var d = a.ot(b);\r\n              var e = cp(a, b, d);\r\n              if (null !== e && (Ng(e), (e = e.copy()), null !== e)) {\r\n                var f = a.diagram.skipsModelSourceBindings;\r\n                a.diagram.skipsModelSourceBindings = !0;\r\n                e.Uf = d;\r\n                e.nb = b;\r\n                a.Zq && (e.mh = \"Tool\");\r\n                a.diagram.add(e);\r\n                e.nb = null;\r\n                e.data = b;\r\n                a.diagram.skipsModelSourceBindings = f;\r\n                d = e;\r\n                break a;\r\n              }\r\n            }\r\n            d = null;\r\n          }\r\n          null !== d && c && a.resolveReferencesForData(b);\r\n        }\r\n      }\r\n      Gi.prototype.insertLink = function () {\r\n        return null;\r\n      };\r\n      Gi.prototype.resolveReferencesForData = function () {};\r\n      Gi.prototype.ot = function (a) {\r\n        return this.A.model.ot(a);\r\n      };\r\n\r\n      function cp(a, b, c) {\r\n        a = a.A;\r\n        var d = a.model;\r\n        d.ij() && d.wt(b)\r\n          ? ((b = a.groupTemplateMap.K(c)),\r\n            null === b &&\r\n              ((b = a.groupTemplateMap.K(\"\")),\r\n              null === b &&\r\n                (Cq ||\r\n                  ((Cq = !0),\r\n                  Ca('No Group template found for category \"' + c + '\"'),\r\n                  Ca(\"  Using default group template\")),\r\n                (b = a.Pw))))\r\n          : ((b = a.nodeTemplateMap.K(c)),\r\n            null === b &&\r\n              ((b = a.nodeTemplateMap.K(\"\")),\r\n              null === b &&\r\n                (Dq ||\r\n                  ((Dq = !0),\r\n                  Ca('No Node template found for category \"' + c + '\"'),\r\n                  Ca(\"  Using default node template\")),\r\n                (b = a.Rw))));\r\n        return b;\r\n      }\r\n      Gi.prototype.getLinkCategoryForData = function () {\r\n        return \"\";\r\n      };\r\n      Gi.prototype.setLinkCategoryForData = function () {};\r\n      Gi.prototype.setFromNodeForLink = function () {};\r\n      Gi.prototype.setToNodeForLink = function () {};\r\n      Gi.prototype.findLinkTemplateForCategory = function (a) {\r\n        var b = this.A.linkTemplateMap.K(a);\r\n        null === b &&\r\n          ((b = this.A.linkTemplateMap.K(\"\")),\r\n          null === b &&\r\n            (Eq ||\r\n              ((Eq = !0),\r\n              Ca('No Link template found for category \"' + a + '\"'),\r\n              Ca(\"  Using default link template\")),\r\n            (b = this.A.Qw)));\r\n        return b;\r\n      };\r\n      Gi.prototype.removeAllModeledParts = function () {\r\n        this.Kt(this.diagram.model.nodeDataArray);\r\n      };\r\n      Gi.prototype.Kt = function (a) {\r\n        var b = this;\r\n        a.forEach(function (a) {\r\n          b.Mq(a);\r\n        });\r\n      };\r\n      Gi.prototype.Mq = function (a) {\r\n        a = this.Bc(a);\r\n        null !== a &&\r\n          (Zj(this.diagram, a, !1), this.unresolveReferencesForPart(a));\r\n      };\r\n      Gi.prototype.unresolveReferencesForPart = function () {};\r\n      Gi.prototype.removeDataForLink = function () {};\r\n      Gi.prototype.findPartForKey = function (a) {\r\n        if (null === a || void 0 === a) return null;\r\n        a = this.A.model.Ob(a);\r\n        return null !== a ? this.Ve.K(a) : null;\r\n      };\r\n      Gi.prototype.Pb = function (a) {\r\n        if (null === a || void 0 === a) return null;\r\n        a = this.A.model.Ob(a);\r\n        if (null === a) return null;\r\n        a = this.Ve.K(a);\r\n        return a instanceof U ? a : null;\r\n      };\r\n      Gi.prototype.findLinkForKey = function () {\r\n        return null;\r\n      };\r\n      t = Gi.prototype;\r\n      t.Bc = function (a) {\r\n        if (null === a) return null;\r\n        var b = this.Ve.K(a);\r\n        return null !== b ? b : (b = this.Ue.K(a));\r\n      };\r\n      t.Zi = function (a) {\r\n        if (null === a) return null;\r\n        a = this.Ve.K(a);\r\n        return a instanceof U ? a : null;\r\n      };\r\n      t.Ac = function (a) {\r\n        return null === a ? null : this.Ue.K(a);\r\n      };\r\n      t.lt = function (a) {\r\n        for (var b = 0; b < arguments.length; ++b);\r\n        b = new H();\r\n        for (var c = this.Vo.iterator; c.next(); ) {\r\n          var d = c.value,\r\n            e = d.data;\r\n          if (null !== e)\r\n            for (var f = 0; f < arguments.length; f++) {\r\n              var g = arguments[f];\r\n              if (Fa(g) && Fq(this, e, g)) {\r\n                b.add(d);\r\n                break;\r\n              }\r\n            }\r\n        }\r\n        return b.iterator;\r\n      };\r\n      t.kt = function (a) {\r\n        for (var b = 0; b < arguments.length; ++b);\r\n        b = new H();\r\n        for (var c = this.xo.iterator; c.next(); ) {\r\n          var d = c.value,\r\n            e = d.data;\r\n          if (null !== e)\r\n            for (var f = 0; f < arguments.length; f++) {\r\n              var g = arguments[f];\r\n              if (Fa(g) && Fq(this, e, g)) {\r\n                b.add(d);\r\n                break;\r\n              }\r\n            }\r\n        }\r\n        return b.iterator;\r\n      };\r\n\r\n      function Fq(a, b, c) {\r\n        for (var d in c) {\r\n          var e = b[d],\r\n            f = c[d];\r\n          if (Ga(f)) {\r\n            if (!Ga(e) || e.length < f.length) return !1;\r\n            for (var g = 0; g < e.length; g++) {\r\n              var h = f[g];\r\n              if (void 0 !== h && !Gq(a, e[g], h)) return !1;\r\n            }\r\n          } else if (!Gq(a, e, f)) return !1;\r\n        }\r\n        return !0;\r\n      }\r\n\r\n      function Gq(a, b, c) {\r\n        if (\"function\" === typeof c) {\r\n          if (!c(b)) return !1;\r\n        } else if (c instanceof RegExp) {\r\n          if (!b || !c.test(b.toString())) return !1;\r\n        } else if (Fa(b) && Fa(c)) {\r\n          if (!Fq(a, b, c)) return !1;\r\n        } else if (b !== c) return !1;\r\n        return !0;\r\n      }\r\n      Gi.prototype.doModelChanged = function (a) {\r\n        if (this.A) {\r\n          var b = this.A;\r\n          if (a.model === b.model) {\r\n            var c = a.change;\r\n            b.doModelChanged(a);\r\n            if (b.fa) {\r\n              b.fa = !1;\r\n              try {\r\n                var d = a.modelChange;\r\n                if (\"\" !== d)\r\n                  if (c === De) {\r\n                    if (\"nodeCategory\" === d) {\r\n                      var e = this.Bc(a.object),\r\n                        f = a.newValue;\r\n                      null !== e && \"string\" === typeof f && (e.category = f);\r\n                    } else\r\n                      \"nodeDataArray\" === d &&\r\n                        (this.Kt(a.oldValue), this.addModeledParts(a.newValue));\r\n                    b.isModified = !0;\r\n                  } else if (c === Fe) {\r\n                    var g = a.newValue;\r\n                    \"nodeDataArray\" === d && Fa(g) && Bq(this, g);\r\n                    b.isModified = !0;\r\n                  } else if (c === Ge) {\r\n                    var h = a.oldValue;\r\n                    \"nodeDataArray\" === d && Fa(h) && this.Mq(h);\r\n                    b.isModified = !0;\r\n                  } else\r\n                    c === Ee &&\r\n                      (\"SourceChanged\" === d\r\n                        ? null !== a.object\r\n                          ? this.updateDataBindings(a.object, a.propertyName)\r\n                          : (this.Vq(), this.updateAllTargetBindings())\r\n                        : \"ModelDisplaced\" === d && this.Cd());\r\n                else if (c === De) {\r\n                  var k = a.propertyName,\r\n                    l = a.object;\r\n                  if (l === b.model) {\r\n                    if (\"nodeKeyProperty\" === k || \"nodeCategoryProperty\" === k)\r\n                      b.undoManager.isUndoingRedoing || this.Cd();\r\n                  } else this.updateDataBindings(l, k);\r\n                  b.isModified = !0;\r\n                } else if (c === Fe || c === Ge) {\r\n                  var m = a.change === Fe,\r\n                    n = m ? a.newParam : a.oldParam,\r\n                    p = m ? a.newValue : a.oldValue,\r\n                    r = this.Gj.K(a.object);\r\n                  if (Array.isArray(r))\r\n                    for (a = 0; a < r.length; a++) {\r\n                      var q = r[a];\r\n                      if (m) An(q, p, n);\r\n                      else if (!(0 > n)) {\r\n                        var u = n + sn(q);\r\n                        q.Lc(u, !0);\r\n                        En(q, u, n);\r\n                      }\r\n                    }\r\n                  b.isModified = !0;\r\n                }\r\n              } finally {\r\n                b.fa = !0;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      };\r\n      Gi.prototype.updateAllTargetBindings = function (a) {\r\n        void 0 === a && (a = \"\");\r\n        for (var b = this.parts.iterator; b.next(); ) b.value.Fa(a);\r\n        for (b = this.nodes.iterator; b.next(); ) b.value.Fa(a);\r\n        for (b = this.links.iterator; b.next(); ) b.value.Fa(a);\r\n      };\r\n      Gi.prototype.Vq = function () {\r\n        for (\r\n          var a = this.A.model, b = new H(), c = a.nodeDataArray, d = 0;\r\n          d < c.length;\r\n          d++\r\n        )\r\n          b.add(c[d]);\r\n        var e = [];\r\n        this.nodes.each(function (a) {\r\n          null === a.data || b.contains(a.data) || e.push(a.data);\r\n        });\r\n        this.parts.each(function (a) {\r\n          null === a.data || b.contains(a.data) || e.push(a.data);\r\n        });\r\n        e.forEach(function (b) {\r\n          Hq(a, b, !1);\r\n        });\r\n        for (d = 0; d < c.length; d++) {\r\n          var f = c[d];\r\n          null === this.Bc(f) && Iq(a, f, !1);\r\n        }\r\n        this.refreshDataBoundLinks();\r\n        for (c = this.parts.iterator; c.next(); )\r\n          c.value.updateRelationshipsFromData();\r\n        for (c = this.nodes.iterator; c.next(); )\r\n          c.value.updateRelationshipsFromData();\r\n        for (c = this.links.iterator; c.next(); )\r\n          c.value.updateRelationshipsFromData();\r\n      };\r\n      Gi.prototype.refreshDataBoundLinks = function () {};\r\n      Gi.prototype.updateRelationshipsFromData = function () {};\r\n      Gi.prototype.updateDataBindings = function (a, b) {\r\n        if (\"string\" === typeof b) {\r\n          var c = this.Bc(a);\r\n          if (null !== c) c.Fa(b);\r\n          else {\r\n            c = null;\r\n            for (var d = this.Gj.iterator; d.next(); ) {\r\n              for (var e = d.value, f = 0; f < e.length; f++) {\r\n                var g = e[f].Rx(a);\r\n                null !== g && (null === c && (c = La()), c.push(g));\r\n              }\r\n              if (null !== c) break;\r\n            }\r\n            if (null !== c) {\r\n              for (d = 0; d < c.length; d++) c[d].Fa(b);\r\n              Na(c);\r\n            }\r\n          }\r\n          a === this.diagram.model.modelData && this.updateAllTargetBindings(b);\r\n        }\r\n      };\r\n\r\n      function Vj(a, b) {\r\n        var c = b.xi;\r\n        if (Ga(c)) {\r\n          var d = a.Gj.K(c);\r\n          if (null === d) (d = []), d.push(b), a.Gj.add(c, d);\r\n          else {\r\n            for (a = 0; a < d.length; a++) if (d[a] === b) return;\r\n            d.push(b);\r\n          }\r\n        }\r\n      }\r\n\r\n      function Yj(a, b, c) {\r\n        Tj(b, function (a) {\r\n          a = a.$.j;\r\n          for (var b = a.length, d = 0; d < b; d++) Bk(c, a[d]);\r\n        });\r\n        var d = b.xi;\r\n        if (Ga(d)) {\r\n          var e = a.Gj.K(d);\r\n          if (null !== e)\r\n            for (var f = 0; f < e.length; f++)\r\n              if (e[f] === b) {\r\n                e.splice(f, 1);\r\n                0 === e.length && a.Gj.remove(d);\r\n                break;\r\n              }\r\n        }\r\n      }\r\n      Gi.prototype.kk = function (a, b, c) {\r\n        var d = new Db();\r\n        if (Ga(a)) for (var e = 0; e < a.length; e++) Jq(this, a[e], b, d, c);\r\n        else for (a = a.iterator; a.next(); ) Jq(this, a.value, b, d, c);\r\n        if (null !== b) {\r\n          c = b.model;\r\n          a = b.toolManager.findTool(\"Dragging\");\r\n          a = null !== a ? a.dragOptions.dragsLink : b.$k.dragsLink;\r\n          e = new H();\r\n          for (var f = new Db(), g = d.iterator; g.next(); ) {\r\n            var h = g.value;\r\n            if (h instanceof Q)\r\n              a || (null !== h.fromNode && null !== h.toNode) || e.add(h);\r\n            else if (h instanceof U && null !== h.data && c.zm()) {\r\n              var k = h;\r\n              h = g.key;\r\n              var l = h.Kg();\r\n              null !== l &&\r\n                ((l = d.K(l)),\r\n                null !== l\r\n                  ? (c.Oe(k.data, c.pa(l.data)),\r\n                    (k = b.Ac(k.data)),\r\n                    (h = h.bj()),\r\n                    null !== h && null !== k && f.add(h, k))\r\n                  : c.Oe(k.data, void 0));\r\n            }\r\n          }\r\n          0 < e.count && b.Lt(e, !1);\r\n          if (0 < f.count)\r\n            for (c = f.iterator; c.next(); ) d.add(c.key, c.value);\r\n        }\r\n        if (\r\n          null !== b &&\r\n          null !== this.A &&\r\n          ((b = b.model), (c = b.afterCopyFunction), null !== c)\r\n        ) {\r\n          var m = new Db();\r\n          d.each(function (a) {\r\n            null !== a.key.data && m.add(a.key.data, a.value.data);\r\n          });\r\n          c(m, b, this.A.model);\r\n        }\r\n        for (b = d.iterator; b.next(); ) b.value.Fa();\r\n        return d;\r\n      };\r\n\r\n      function Jq(a, b, c, d, e) {\r\n        if (null === b || (e && !b.canCopy())) return null;\r\n        if (d.contains(b)) return d.K(b);\r\n        var f = a.copyPartData(b, c);\r\n        if (!(f instanceof S)) return null;\r\n        f.isSelected = !1;\r\n        f.isHighlighted = !1;\r\n        d.add(b, f);\r\n        if (b instanceof U) {\r\n          for (var g = b.linksConnected; g.next(); ) {\r\n            var h = g.value;\r\n            if (h.fromNode === b) {\r\n              var k = d.K(h);\r\n              null !== k && (k.fromNode = f);\r\n            }\r\n            h.toNode === b && ((h = d.K(h)), null !== h && (h.toNode = f));\r\n          }\r\n          if (b instanceof Kf && f instanceof Kf)\r\n            for (b = b.memberParts; b.next(); )\r\n              (g = Jq(a, b.value, c, d, e)),\r\n                g instanceof Q || null === g || (g.containingGroup = f);\r\n        } else if (b instanceof Q && f instanceof Q)\r\n          for (\r\n            g = b.fromNode,\r\n              null !== g && ((g = d.K(g)), null !== g && (f.fromNode = g)),\r\n              g = b.toNode,\r\n              null !== g && ((g = d.K(g)), null !== g && (f.toNode = g)),\r\n              b = b.labelNodes;\r\n            b.next();\r\n\r\n          )\r\n            (g = Jq(a, b.value, c, d, e)),\r\n              null !== g && g instanceof U && (g.labeledLink = f);\r\n        return f;\r\n      }\r\n      Gi.prototype.copyPartData = function (a, b) {\r\n        var c = null,\r\n          d = a.data;\r\n        if (null !== d && null !== b) {\r\n          var e = b.model;\r\n          a instanceof Q ||\r\n            ((d = e.copyNodeData(d)), Fa(d) && (e.xf(d), (c = b.Bc(d))));\r\n        } else\r\n          Ng(a),\r\n            (c = a.copy()),\r\n            null !== c &&\r\n              ((e = this.A),\r\n              null !== b\r\n                ? b.add(c)\r\n                : null !== d &&\r\n                  null !== e &&\r\n                  null !== e.commandHandler &&\r\n                  e.commandHandler.copiesClipboardData &&\r\n                  ((b = e.model),\r\n                  (e = null),\r\n                  c instanceof Q || (e = b.copyNodeData(d)),\r\n                  Fa(e) && (c.data = e)));\r\n        return c;\r\n      };\r\n      ma.Object.defineProperties(Gi.prototype, {\r\n        nodes: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Vo;\r\n          },\r\n        },\r\n        links: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.xo;\r\n          },\r\n        },\r\n        parts: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ha;\r\n          },\r\n        },\r\n        diagram: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.A;\r\n          },\r\n        },\r\n        addsToTemporaryLayer: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Zq;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"boolean\", Gi, \"addsToTemporaryLayer\");\r\n            this.Zq = a;\r\n          },\r\n        },\r\n      });\r\n      Gi.prototype.updateAllRelationshipsFromData = Gi.prototype.Vq;\r\n      Gi.prototype.findLinksByExample = Gi.prototype.kt;\r\n      Gi.prototype.findNodesByExample = Gi.prototype.lt;\r\n      Gi.prototype.findLinkForData = Gi.prototype.Ac;\r\n      Gi.prototype.findNodeForData = Gi.prototype.Zi;\r\n      Gi.prototype.findPartForData = Gi.prototype.Bc;\r\n      Gi.prototype.findNodeForKey = Gi.prototype.Pb;\r\n      Gi.prototype.removeModeledPart = Gi.prototype.Mq;\r\n      Gi.prototype.removeModeledParts = Gi.prototype.Kt;\r\n      Gi.prototype.rebuildParts = Gi.prototype.Cd;\r\n      var Dq = !1,\r\n        Cq = !1,\r\n        Eq = !1;\r\n      Gi.className = \"PartManager\";\r\n\r\n      function Kq(a) {\r\n        Gi.apply(this, arguments);\r\n      }\r\n      la(Kq, Gi);\r\n      Kq.prototype.addAllModeledParts = function () {\r\n        var a = this.diagram.model;\r\n        this.addModeledParts(a.nodeDataArray);\r\n        Lq(this, a.linkDataArray);\r\n      };\r\n      Kq.prototype.addModeledParts = function (a) {\r\n        Gi.prototype.addModeledParts.call(this, a, !1);\r\n        for (a = this.links.iterator; a.next(); ) dp(a.value);\r\n        Dk(this.diagram, !1);\r\n      };\r\n\r\n      function Lq(a, b) {\r\n        b.forEach(function (b) {\r\n          Mq(a, b);\r\n        });\r\n        Dk(a.diagram, !1);\r\n      }\r\n\r\n      function Mq(a, b) {\r\n        if (\r\n          void 0 !== b &&\r\n          null !== b &&\r\n          !a.diagram.undoManager.isUndoingRedoing &&\r\n          !a.Ue.contains(b)\r\n        ) {\r\n          var c = a.getLinkCategoryForData(b),\r\n            d = a.findLinkTemplateForCategory(c);\r\n          if (null !== d) {\r\n            Ng(d);\r\n            var e = d.copy();\r\n            if (null !== e) {\r\n              d = a.diagram.skipsModelSourceBindings;\r\n              a.diagram.skipsModelSourceBindings = !0;\r\n              e.Uf = c;\r\n              e.nb = b;\r\n              c = a.diagram.model;\r\n              var f = Nq(c, b, !0);\r\n              \"\" !== f && (e.fromPortId = f);\r\n              f = Oq(c, b, !0);\r\n              void 0 !== f &&\r\n                ((f = a.Pb(f)), f instanceof U && (e.fromNode = f));\r\n              f = Nq(c, b, !1);\r\n              \"\" !== f && (e.toPortId = f);\r\n              f = Oq(c, b, !1);\r\n              void 0 !== f && ((f = a.Pb(f)), f instanceof U && (e.toNode = f));\r\n              c = c.Lg(b);\r\n              Array.isArray(c) &&\r\n                c.forEach(function (b) {\r\n                  b = a.Pb(b);\r\n                  null !== b && (b.labeledLink = e);\r\n                });\r\n              a.Zq && (e.mh = \"Tool\");\r\n              a.diagram.add(e);\r\n              e.nb = null;\r\n              e.data = b;\r\n              a.diagram.skipsModelSourceBindings = d;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      Kq.prototype.removeAllModeledParts = function () {\r\n        var a = this.diagram.model;\r\n        Pq(this, a.linkDataArray);\r\n        this.Kt(a.nodeDataArray);\r\n      };\r\n\r\n      function Pq(a, b) {\r\n        b.forEach(function (b) {\r\n          a.Mq(b);\r\n        });\r\n      }\r\n      Kq.prototype.getLinkCategoryForData = function (a) {\r\n        return this.diagram.model.Cv(a);\r\n      };\r\n      Kq.prototype.setLinkCategoryForData = function (a, b) {\r\n        return this.diagram.model.Nt(a, b);\r\n      };\r\n      Kq.prototype.setFromNodeForLink = function (a, b) {\r\n        var c = this.diagram.model;\r\n        c.py(a.data, c.pa(null !== b ? b.data : null));\r\n      };\r\n      Kq.prototype.setToNodeForLink = function (a, b) {\r\n        var c = this.diagram.model;\r\n        c.uy(a.data, c.pa(null !== b ? b.data : null));\r\n      };\r\n      Kq.prototype.removeDataForLink = function (a) {\r\n        this.diagram.model.Jm(a.data);\r\n      };\r\n      Kq.prototype.findPartForKey = function (a) {\r\n        var b = Gi.prototype.findPartForKey.call(this, a);\r\n        return null === b && ((a = this.diagram.model.Ig(a)), null !== a)\r\n          ? this.Ue.K(a)\r\n          : b;\r\n      };\r\n      Kq.prototype.findLinkForKey = function (a) {\r\n        if (null === a || void 0 === a) return null;\r\n        a = this.diagram.model.Ig(a);\r\n        return null !== a ? this.Ue.K(a) : null;\r\n      };\r\n      Kq.prototype.doModelChanged = function (a) {\r\n        var b = this;\r\n        Gi.prototype.doModelChanged.call(this, a);\r\n        if (this.diagram) {\r\n          var c = this.diagram;\r\n          if (a.model === c.model) {\r\n            var d = a.change;\r\n            if (c.fa) {\r\n              c.fa = !1;\r\n              try {\r\n                var e = a.modelChange;\r\n                if (\"\" !== e)\r\n                  if (d === De) {\r\n                    if (\"linkFromKey\" === e) {\r\n                      var f = this.Ac(a.object);\r\n                      if (null !== f) {\r\n                        var g = this.Pb(a.newValue);\r\n                        f.fromNode = g;\r\n                      }\r\n                    } else if (\"linkToKey\" === e) {\r\n                      var h = this.Ac(a.object);\r\n                      if (null !== h) {\r\n                        var k = this.Pb(a.newValue);\r\n                        h.toNode = k;\r\n                      }\r\n                    } else if (\"linkFromPortId\" === e) {\r\n                      var l = this.Ac(a.object);\r\n                      if (null !== l) {\r\n                        var m = a.newValue;\r\n                        \"string\" === typeof m && (l.fromPortId = m);\r\n                      }\r\n                    } else if (\"linkToPortId\" === e) {\r\n                      var n = this.Ac(a.object);\r\n                      if (null !== n) {\r\n                        var p = a.newValue;\r\n                        \"string\" === typeof p && (n.toPortId = p);\r\n                      }\r\n                    } else if (\"nodeGroupKey\" === e) {\r\n                      var r = this.Bc(a.object);\r\n                      if (null !== r) {\r\n                        var q = a.newValue;\r\n                        if (void 0 !== q) {\r\n                          var u = this.Pb(q);\r\n                          u instanceof Kf\r\n                            ? (r.containingGroup = u)\r\n                            : (r.containingGroup = null);\r\n                        } else r.containingGroup = null;\r\n                      }\r\n                    } else if (\"linkLabelKeys\" === e) {\r\n                      var x = this.Ac(a.object);\r\n                      if (null !== x) {\r\n                        var y = a.oldValue,\r\n                          z = a.newValue;\r\n                        Array.isArray(y) &&\r\n                          y.forEach(function (a) {\r\n                            a = b.Pb(a);\r\n                            null !== a && (a.labeledLink = null);\r\n                          });\r\n                        Array.isArray(z) &&\r\n                          z.forEach(function (a) {\r\n                            a = b.Pb(a);\r\n                            null !== a && (a.labeledLink = x);\r\n                          });\r\n                      }\r\n                    } else if (\"linkCategory\" === e) {\r\n                      var B = this.Ac(a.object),\r\n                        D = a.newValue;\r\n                      null !== B && \"string\" === typeof D && (B.category = D);\r\n                    } else\r\n                      \"linkDataArray\" === e &&\r\n                        (Pq(this, a.oldValue), Lq(this, a.newValue));\r\n                    c.isModified = !0;\r\n                  } else if (d === Fe) {\r\n                    var I = a.newValue;\r\n                    if (\r\n                      \"linkDataArray\" === e &&\r\n                      \"object\" === typeof I &&\r\n                      null !== I\r\n                    )\r\n                      Mq(this, I);\r\n                    else if (\"linkLabelKeys\" === e && Qq(I)) {\r\n                      var O = this.Ac(a.object),\r\n                        R = this.Pb(I);\r\n                      null !== O && null !== R && (R.labeledLink = O);\r\n                    }\r\n                    c.isModified = !0;\r\n                  } else {\r\n                    if (d === Ge) {\r\n                      var T = a.oldValue;\r\n                      if (\r\n                        \"linkDataArray\" === e &&\r\n                        \"object\" === typeof T &&\r\n                        null !== T\r\n                      )\r\n                        this.Mq(T);\r\n                      else if (\"linkLabelKeys\" === e && Qq(T)) {\r\n                        var ca = this.Pb(T);\r\n                        null !== ca && (ca.labeledLink = null);\r\n                      }\r\n                      c.isModified = !0;\r\n                    }\r\n                  }\r\n                else if (d === De) {\r\n                  var Z = a.propertyName;\r\n                  a.object !== c.model ||\r\n                    (\"linkFromKeyProperty\" !== Z &&\r\n                      \"linkToKeyProperty\" !== Z &&\r\n                      \"linkFromPortIdProperty\" !== Z &&\r\n                      \"linkToPortIdProperty\" !== Z &&\r\n                      \"linkLabelKeysProperty\" !== Z &&\r\n                      \"nodeIsGroupProperty\" !== Z &&\r\n                      \"nodeGroupKeyProperty\" !== Z &&\r\n                      \"linkCategoryProperty\" !== Z) ||\r\n                    c.undoManager.isUndoingRedoing ||\r\n                    this.Cd();\r\n                  c.isModified = !0;\r\n                }\r\n              } finally {\r\n                c.fa = !0;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      };\r\n      Kq.prototype.refreshDataBoundLinks = function () {\r\n        var a = this,\r\n          b = this.diagram.model,\r\n          c = new H(),\r\n          d = b.linkDataArray;\r\n        d.forEach(function (a) {\r\n          c.add(a);\r\n        });\r\n        var e = [];\r\n        this.links.each(function (a) {\r\n          null === a.data || c.contains(a.data) || e.push(a.data);\r\n        });\r\n        e.forEach(function (a) {\r\n          Rq(b, a, !1);\r\n        });\r\n        d.forEach(function (c) {\r\n          null === a.Ac(c) && Sq(b, c, !1);\r\n        });\r\n      };\r\n      Kq.prototype.updateRelationshipsFromData = function (a) {\r\n        var b = a.data;\r\n        if (null !== b) {\r\n          var c = a.diagram;\r\n          if (null !== c) {\r\n            var d = c.model;\r\n            if (a instanceof Q) {\r\n              var e = Oq(d, b, !0);\r\n              e = c.Pb(e);\r\n              a.fromNode = e;\r\n              e = Oq(d, b, !1);\r\n              e = c.Pb(e);\r\n              a.toNode = e;\r\n              b = d.Lg(b);\r\n              if (0 < b.length || 0 < a.labelNodes.count) {\r\n                if (1 === b.length && 1 === a.labelNodes.count) {\r\n                  e = b[0];\r\n                  var f = a.labelNodes.first();\r\n                  if (d.pa(f.data) === e) return;\r\n                }\r\n                e = new H().addAll(b);\r\n                var g = new H();\r\n                a.labelNodes.each(function (a) {\r\n                  null !== a.data &&\r\n                    ((a = d.pa(a.data)), void 0 !== a && g.add(a));\r\n                });\r\n                b = g.copy();\r\n                b.Lq(e);\r\n                e = e.copy();\r\n                e.Lq(g);\r\n                if (0 < b.count || 0 < e.count)\r\n                  b.each(function (b) {\r\n                    b = c.Pb(b);\r\n                    null !== b && b.labeledLink === a && (b.labeledLink = null);\r\n                  }),\r\n                    e.each(function (b) {\r\n                      b = c.Pb(b);\r\n                      null !== b && b.labeledLink !== a && (b.labeledLink = a);\r\n                    });\r\n              }\r\n            } else\r\n              !(a instanceof Pe) &&\r\n                ((b = d.ej(b)),\r\n                (b = c.findPartForKey(b)),\r\n                null === b || b instanceof Kf) &&\r\n                (a.containingGroup = b);\r\n          }\r\n        }\r\n      };\r\n      Kq.prototype.resolveReferencesForData = function (a) {\r\n        var b = this.diagram.model,\r\n          c = b.pa(a);\r\n        if (void 0 !== c) {\r\n          var d = Tq(b, c),\r\n            e = this.Bc(a);\r\n          if (null !== d && null !== e) {\r\n            d = d.iterator;\r\n            for (var f = {}; d.next(); ) {\r\n              var g = d.value;\r\n              b.kb(g)\r\n                ? e instanceof Kf &&\r\n                  b.ej(g) === c &&\r\n                  ((g = this.Bc(g)), null !== g && (g.containingGroup = e))\r\n                : ((f.link = this.Ac(g)),\r\n                  null !== f.link &&\r\n                    e instanceof U &&\r\n                    (Oq(b, g, !0) === c && (f.link.fromNode = e),\r\n                    Oq(b, g, !1) === c && (f.link.toNode = e),\r\n                    (g = b.Lg(g)),\r\n                    Array.isArray(g) &&\r\n                      g.some(\r\n                        (function (a) {\r\n                          return function (b) {\r\n                            return b === c\r\n                              ? ((e.labeledLink = a.link), !0)\r\n                              : !1;\r\n                          };\r\n                        })(f)\r\n                      )));\r\n              f = { link: f.link };\r\n            }\r\n            Uq(b, c);\r\n          }\r\n          a = b.ej(a);\r\n          void 0 !== a &&\r\n            ((a = this.Pb(a)), a instanceof Kf && (e.containingGroup = a));\r\n        }\r\n      };\r\n      Kq.prototype.unresolveReferencesForPart = function (a) {\r\n        var b = this.diagram.model;\r\n        if (a instanceof U) {\r\n          var c = b.pa(a.data);\r\n          if (void 0 !== c) {\r\n            for (var d = a.linksConnected; d.next(); ) Vq(b, c, d.value.data);\r\n            a.isLinkLabel &&\r\n              ((d = a.labeledLink), null !== d && Vq(b, c, d.data));\r\n            if (a instanceof Kf)\r\n              for (a = a.memberParts; a.next(); )\r\n                (d = a.value.data), b.kb(d) && Vq(b, c, d);\r\n          }\r\n        }\r\n      };\r\n      Kq.prototype.copyPartData = function (a, b) {\r\n        var c = Gi.prototype.copyPartData.call(this, a, b);\r\n        if (a instanceof Q)\r\n          if (((a = a.data), null !== a && null !== b)) {\r\n            var d = b.model;\r\n            a = d.lq(a);\r\n            \"object\" === typeof a && null !== a && (d.Ui(a), (c = b.Ac(a)));\r\n          } else\r\n            null !== c &&\r\n              ((b = this.diagram),\r\n              null !== a &&\r\n                null !== b &&\r\n                null !== b.commandHandler &&\r\n                b.commandHandler.copiesClipboardData &&\r\n                ((b = b.model.lq(a)),\r\n                \"object\" === typeof b && null !== b && (c.data = b)));\r\n        return c;\r\n      };\r\n      Kq.prototype.insertLink = function (a, b, c, d) {\r\n        var e = this.diagram,\r\n          f = e.model,\r\n          g = e.toolManager.findTool(\"Linking\"),\r\n          h = \"\";\r\n        null !== a &&\r\n          (null === b && (b = a), (h = b.portId), null === h && (h = \"\"));\r\n        b = \"\";\r\n        null !== c &&\r\n          (null === d && (d = c), (b = d.portId), null === b && (b = \"\"));\r\n        d = g.archetypeLinkData;\r\n        if (d instanceof Q) {\r\n          if ((Ng(d), (f = d.copy()), null !== f))\r\n            return (\r\n              (f.fromNode = a),\r\n              (f.fromPortId = h),\r\n              (f.toNode = c),\r\n              (f.toPortId = b),\r\n              e.add(f),\r\n              (a = g.archetypeLabelNodeData),\r\n              a instanceof U &&\r\n                (Ng(a),\r\n                (a = a.copy()),\r\n                null !== a && ((a.labeledLink = f), e.add(a))),\r\n              f\r\n            );\r\n        } else if (\r\n          null !== d &&\r\n          ((d = f.lq(d)), \"object\" === typeof d && null !== d)\r\n        )\r\n          return (\r\n            null !== a && Wq(f, d, f.pa(a.data), !0),\r\n            Xq(f, d, h, !0),\r\n            null !== c && Wq(f, d, f.pa(c.data), !1),\r\n            Xq(f, d, b, !1),\r\n            f.Ui(d),\r\n            (a = g.archetypeLabelNodeData),\r\n            null === a ||\r\n              a instanceof U ||\r\n              ((a = f.copyNodeData(a)),\r\n              \"object\" === typeof a &&\r\n                null !== a &&\r\n                (f.xf(a), (a = f.pa(a)), void 0 !== a && f.ev(d, a))),\r\n            e.Ac(d)\r\n          );\r\n        return null;\r\n      };\r\n      Kq.prototype.findLinkForKey = Kq.prototype.findLinkForKey;\r\n      Kq.prototype.findPartForKey = Kq.prototype.findPartForKey;\r\n      Kq.prototype.removeAllModeledParts = Kq.prototype.removeAllModeledParts;\r\n      Kq.prototype.addModeledParts = Kq.prototype.addModeledParts;\r\n      Kq.prototype.addAllModeledParts = Kq.prototype.addAllModeledParts;\r\n      Kq.className = \"GraphLinksPartManager\";\r\n\r\n      function Yq() {\r\n        Gi.apply(this, arguments);\r\n        this.th = null;\r\n      }\r\n      la(Yq, Gi);\r\n\r\n      function Zq(a, b, c) {\r\n        if (null !== b && null !== c) {\r\n          var d = a.diagram.toolManager.findTool(\"Linking\"),\r\n            e = b,\r\n            f = c;\r\n          if (a.diagram.isTreePathToChildren)\r\n            for (b = f.linksConnected; b.next(); ) {\r\n              if (b.value.toNode === f) return;\r\n            }\r\n          else\r\n            for (e = c, f = b, b = e.linksConnected; b.next(); )\r\n              if (b.value.fromNode === e) return;\r\n          if (null === d || !dg(d, e, f, null, !0))\r\n            if (\r\n              ((d = a.getLinkCategoryForData(c.data)),\r\n              (b = a.findLinkTemplateForCategory(d)),\r\n              null !== b && (Ng(b), (b = b.copy()), null !== b))\r\n            ) {\r\n              var g = a.diagram.skipsModelSourceBindings;\r\n              a.diagram.skipsModelSourceBindings = !0;\r\n              b.Uf = d;\r\n              b.nb = c.data;\r\n              b.fromNode = e;\r\n              b.toNode = f;\r\n              a.diagram.add(b);\r\n              b.nb = null;\r\n              b.data = c.data;\r\n              a.diagram.skipsModelSourceBindings = g;\r\n            }\r\n        }\r\n      }\r\n      Yq.prototype.getLinkCategoryForData = function (a) {\r\n        return this.diagram.model.Dv(a);\r\n      };\r\n      Yq.prototype.setLinkCategoryForData = function (a, b) {\r\n        this.diagram.model.hw(a, b);\r\n      };\r\n      Yq.prototype.setFromNodeForLink = function (a, b, c) {\r\n        var d = this.diagram.model;\r\n        void 0 === c && (c = null);\r\n        b = null !== b ? b.data : null;\r\n        if (this.diagram.isTreePathToChildren) d.Oe(a.data, d.pa(b));\r\n        else {\r\n          var e = this.th;\r\n          this.th = a;\r\n          null !== c && d.Oe(c.data, void 0);\r\n          d.Oe(b, d.pa(null !== a.toNode ? a.toNode.data : null));\r\n          this.th = e;\r\n        }\r\n      };\r\n      Yq.prototype.setToNodeForLink = function (a, b, c) {\r\n        var d = this.diagram.model;\r\n        void 0 === c && (c = null);\r\n        b = null !== b ? b.data : null;\r\n        if (this.diagram.isTreePathToChildren) {\r\n          var e = this.th;\r\n          this.th = a;\r\n          null !== c && d.Oe(c.data, void 0);\r\n          d.Oe(b, d.pa(null !== a.fromNode ? a.fromNode.data : null));\r\n          this.th = e;\r\n        } else d.Oe(a.data, d.pa(b));\r\n      };\r\n      Yq.prototype.removeDataForLink = function (a) {\r\n        this.diagram.model.Oe(a.data, void 0);\r\n      };\r\n      Yq.prototype.findLinkForKey = function (a) {\r\n        if (null === a || void 0 === a) return null;\r\n        a = this.diagram.model.Ob(a);\r\n        return null !== a ? this.Ue.K(a) : null;\r\n      };\r\n      Yq.prototype.doModelChanged = function (a) {\r\n        Gi.prototype.doModelChanged.call(this, a);\r\n        if (this.diagram) {\r\n          var b = this.diagram;\r\n          if (a.model === b.model) {\r\n            var c = a.change;\r\n            if (b.fa) {\r\n              b.fa = !1;\r\n              try {\r\n                var d = a.modelChange;\r\n                if (\"\" !== d) {\r\n                  if (c === De) {\r\n                    if (\"nodeParentKey\" === d) {\r\n                      var e = a.object,\r\n                        f = this.Pb(a.newValue),\r\n                        g = this.Zi(e);\r\n                      if (null !== this.th)\r\n                        null !== f &&\r\n                          ((this.th.data = e),\r\n                          (this.th.category = this.getLinkCategoryForData(e)));\r\n                      else if (null !== g) {\r\n                        var h = g.bj();\r\n                        null !== h\r\n                          ? null === f\r\n                            ? b.remove(h)\r\n                            : b.isTreePathToChildren\r\n                            ? (h.fromNode = f)\r\n                            : (h.toNode = f)\r\n                          : Zq(this, f, g);\r\n                      }\r\n                    } else if (\"parentLinkCategory\" === d) {\r\n                      var k = this.Zi(a.object),\r\n                        l = a.newValue;\r\n                      if (null !== k && \"string\" === typeof l) {\r\n                        var m = k.bj();\r\n                        null !== m && (m.category = l);\r\n                      }\r\n                    }\r\n                    b.isModified = !0;\r\n                  }\r\n                } else if (c === De) {\r\n                  var n = a.propertyName;\r\n                  a.object === b.model &&\r\n                    \"nodeParentKeyProperty\" === n &&\r\n                    (b.undoManager.isUndoingRedoing || this.Cd());\r\n                  b.isModified = !0;\r\n                }\r\n              } finally {\r\n                b.fa = !0;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      };\r\n      Yq.prototype.updateRelationshipsFromData = function (a) {\r\n        var b = a.data;\r\n        if (null !== b) {\r\n          var c = a.diagram;\r\n          if (null !== c) {\r\n            var d = c.model;\r\n            a instanceof U &&\r\n              ((b = d.gj(b)),\r\n              (b = c.Pb(b)),\r\n              (d = a.Kg()),\r\n              b !== d &&\r\n                ((d = a.bj()),\r\n                null !== b\r\n                  ? null !== d\r\n                    ? c.isTreePathToChildren\r\n                      ? (d.fromNode = b)\r\n                      : (d.toNode = b)\r\n                    : Zq(this, b, a)\r\n                  : null !== d && Zj(c, d, !1)));\r\n          }\r\n        }\r\n      };\r\n      Yq.prototype.updateDataBindings = function (a, b) {\r\n        Gi.prototype.updateDataBindings.call(this, a, b);\r\n        \"string\" === typeof b &&\r\n          null !== this.Bc(a) &&\r\n          ((a = this.Ac(a)), null !== a && a.Fa(b));\r\n      };\r\n      Yq.prototype.resolveReferencesForData = function (a) {\r\n        var b = this.diagram.model,\r\n          c = b.pa(a);\r\n        if (void 0 !== c) {\r\n          var d = Tq(b, c),\r\n            e = this.Bc(a);\r\n          if (null !== d && null !== e) {\r\n            for (d = d.iterator; d.next(); ) {\r\n              var f = d.value;\r\n              b.kb(f) &&\r\n                e instanceof U &&\r\n                b.gj(f) === c &&\r\n                Zq(this, e, this.Zi(f));\r\n            }\r\n            Uq(b, c);\r\n          }\r\n          a = b.gj(a);\r\n          void 0 !== a && e instanceof U && ((a = this.Pb(a)), Zq(this, a, e));\r\n        }\r\n      };\r\n      Yq.prototype.unresolveReferencesForPart = function (a) {\r\n        var b = this.diagram.model;\r\n        if (a instanceof U) {\r\n          var c = b.pa(a.data),\r\n            d = this.Ac(a.data);\r\n          if (null !== d) {\r\n            d.isSelected = !1;\r\n            d.isHighlighted = !1;\r\n            var e = d.layer;\r\n            if (null !== e) {\r\n              var f = e.Lc(-1, d, !1);\r\n              0 <= f && this.diagram.eb(Ge, \"parts\", e, d, null, f, null);\r\n              f = d.layerChanged;\r\n              null !== f && f(d, e, null);\r\n            }\r\n          }\r\n          d = this.diagram.isTreePathToChildren;\r\n          for (a = a.linksConnected; a.next(); )\r\n            (e = a.value),\r\n              (e = (d ? e.toNode : e.fromNode).data),\r\n              b.kb(e) && Vq(b, c, e);\r\n        }\r\n      };\r\n      Yq.prototype.insertLink = function (a, b, c) {\r\n        b = this.diagram.model;\r\n        var d = a,\r\n          e = c;\r\n        this.diagram.isTreePathToChildren || ((d = c), (e = a));\r\n        return null !== d && null !== e\r\n          ? (b.Oe(e.data, b.pa(d.data)), e.bj())\r\n          : null;\r\n      };\r\n      Yq.prototype.findLinkForKey = Yq.prototype.findLinkForKey;\r\n      Yq.className = \"TreePartManager\";\r\n\r\n      function X(a) {\r\n        this.Wt = ',\\n  \"insertedNodeKeys\": ';\r\n        this.Iw = ',\\n  \"modifiedNodeData\": ';\r\n        this.Yt = ',\\n  \"removedNodeKeys\": ';\r\n        this.Uh = null;\r\n        F &&\r\n          1 < arguments.length &&\r\n          v(\r\n            \"Model constructor can only take one optional argument, the Array of node data.\"\r\n          );\r\n        fb(this);\r\n        this.Dn = this.Wa = \"\";\r\n        this.gg = !1;\r\n        this.l = {};\r\n        this.vc = [];\r\n        this.hb = new Db();\r\n        this.Fi = \"key\";\r\n        this.Xk = this.Il = null;\r\n        this.un = this.vn = !1;\r\n        this.xn = !0;\r\n        this.en = null;\r\n        this.Oj = \"category\";\r\n        this.$f = new Db();\r\n        this.yu = new G();\r\n        this.wh = !1;\r\n        this.w = null;\r\n        this.undoManager = new Ie();\r\n        void 0 !== a && (this.nodeDataArray = a);\r\n      }\r\n      X.prototype.cloneProtected = function (a) {\r\n        a.Wa = this.Wa;\r\n        a.Dn = this.Dn;\r\n        a.gg = this.gg;\r\n        a.Fi = this.Fi;\r\n        a.Il = this.Il;\r\n        a.Xk = this.Xk;\r\n        a.vn = this.vn;\r\n        a.un = this.un;\r\n        a.xn = this.xn;\r\n        a.en = this.en;\r\n        a.Oj = this.Oj;\r\n      };\r\n      X.prototype.copy = function () {\r\n        var a = new this.constructor();\r\n        this.cloneProtected(a);\r\n        return a;\r\n      };\r\n      X.prototype.clear = function () {\r\n        this.vc = [];\r\n        this.hb.clear();\r\n        this.$f.clear();\r\n        this.undoManager.clear();\r\n      };\r\n      X.prototype.toString = function (a) {\r\n        void 0 === a && (a = 0);\r\n        if (1 < a) return this.Sq();\r\n        var b = (\"\" !== this.name ? this.name : \"\") + \" Model\";\r\n        if (0 < a) {\r\n          b += \"\\n node data:\";\r\n          a = this.nodeDataArray;\r\n          for (var c = a.length, d = 0; d < c; d++) {\r\n            var e = a[d];\r\n            b += \" \" + this.pa(e) + \":\" + Pa(e);\r\n          }\r\n        }\r\n        return b;\r\n      };\r\n      X.prototype.LA = function (a) {\r\n        w(a, Ce, X, \"toIncrementalData:e\");\r\n        a.change !== Ee &&\r\n          v(\r\n            \"Model.toIncrementalData argument is not a Transaction ChangedEvent:\" +\r\n              a.toString()\r\n          );\r\n        var b = a.object;\r\n        if (!(a.isTransactionFinished && b instanceof He)) return null;\r\n        $q(this, b);\r\n        a = this.Aw(b, \"FinishedUndo\" === a.propertyName);\r\n        this.Uh = null;\r\n        return a;\r\n      };\r\n      X.prototype.Aw = function (a, b) {\r\n        var c = this,\r\n          d = !1,\r\n          e = new H(),\r\n          f = new H(),\r\n          g = new H(),\r\n          h = this.Uh;\r\n        a.changes.each(function (a) {\r\n          a.model === c &&\r\n            (\"nodeDataArray\" === a.modelChange\r\n              ? a.change === Fe\r\n                ? e.add(a.newValue)\r\n                : a.change === Ge && g.add(a.oldValue)\r\n              : c.kb(a.object)\r\n              ? f.add(a.object)\r\n              : a.change !== De ||\r\n                (c.modelData !== a.object && \"modelData\" !== a.propertyName)\r\n              ? null !== a.object &&\r\n                (h && h.contains(a.object)\r\n                  ? h.get(a.object).each(function (a) {\r\n                      c.kb(a) && f.add(a);\r\n                    })\r\n                  : ar(c, a.object).each(function (a) {\r\n                      f.add(a);\r\n                    }))\r\n              : (d = !0));\r\n        });\r\n        var k = new H();\r\n        e.each(function (a) {\r\n          k.add(c.pa(a));\r\n          b || f.add(a);\r\n        });\r\n        var l = new H();\r\n        g.each(function (a) {\r\n          l.add(c.pa(a));\r\n          b && f.add(a);\r\n        });\r\n        a = c.cloneDeep(f.sa());\r\n        var m = null;\r\n        d &&\r\n          (null === m && (m = {}),\r\n          (m.modelData = this.cloneDeep(this.modelData)));\r\n        0 < k.count &&\r\n          (null === m && (m = {}),\r\n          b ? (m.removedNodeKeys = k.sa()) : (m.insertedNodeKeys = k.sa()));\r\n        0 < a.length && (null === m && (m = {}), (m.modifiedNodeData = a));\r\n        0 < l.count &&\r\n          (null === m && (m = {}),\r\n          b ? (m.insertedNodeKeys = l.sa()) : (m.removedNodeKeys = l.sa()));\r\n        return m;\r\n      };\r\n      X.prototype.cloneDeep = function (a) {\r\n        return br(this, a, !0);\r\n      };\r\n\r\n      function br(a, b, c, d, e) {\r\n        function f(a, b) {\r\n          void 0 === a.__gohashid && e.push(a);\r\n          d.set(a, b);\r\n        }\r\n        if (!Fa(b)) return b;\r\n        e || (e = []);\r\n        d || (d = new Db());\r\n        var g = d.get(b);\r\n        if (g) return g;\r\n        if (Array.isArray(b)) {\r\n          g = [];\r\n          f(b, g);\r\n          for (var h = 0; h < b.length; h++) g.push(br(a, b[h], !1, d, e));\r\n        } else if (\r\n          b instanceof J ||\r\n          b instanceof Jb ||\r\n          b instanceof L ||\r\n          b instanceof lc ||\r\n          b instanceof M\r\n        )\r\n          (g = b.copy()), f(b, g);\r\n        else {\r\n          if (b instanceof Il || b instanceof Gd || b instanceof E) return b;\r\n          if (b instanceof G)\r\n            (g = new G().addAll(br(a, b.sa(), !1, d, e))), f(b, g);\r\n          else if (b instanceof H)\r\n            (g = new H().addAll(br(a, b.sa(), !1, d, e))), f(b, g);\r\n          else if (b instanceof Db)\r\n            (g = new Db().addAll(br(a, b.sa(), !1, d, e))), f(b, g);\r\n          else if (b instanceof Date) (g = new Date(b.getTime())), f(b, g);\r\n          else if (b instanceof RegExp)\r\n            (g = new RegExp(b)), f(b, g), (g.lastIndex = b.lastIndex);\r\n          else if (\"function\" === typeof b.copy) (g = b.copy()), f(b, g);\r\n          else\r\n            for (h in ((g = {}), f(b, g), b))\r\n              \"__gohashid\" !== h && (g[h] = br(a, b[h], !1, d, e));\r\n        }\r\n        c &&\r\n          e.forEach(function (a) {\r\n            delete a.__gohashid;\r\n          });\r\n        return g;\r\n      }\r\n      t = X.prototype;\r\n      t.Ik = function () {\r\n        var a = \"\";\r\n        \"\" !== this.name && (a += ',\\n  \"name\": ' + this.quote(this.name));\r\n        \"\" !== this.dataFormat &&\r\n          (a += ',\\n  \"dataFormat\": ' + this.quote(this.dataFormat));\r\n        this.isReadOnly && (a += ',\\n  \"isReadOnly\": ' + this.isReadOnly);\r\n        \"key\" !== this.nodeKeyProperty &&\r\n          \"string\" === typeof this.nodeKeyProperty &&\r\n          (a += ',\\n  \"nodeKeyProperty\": ' + this.quote(this.nodeKeyProperty));\r\n        this.copiesArrays && (a += ',\\n  \"copiesArrays\": true');\r\n        this.copiesArrayObjects && (a += ',\\n  \"copiesArrayObjects\": true');\r\n        this.copiesKey || (a += ',\\n  \"copiesKey\": false');\r\n        \"category\" !== this.nodeCategoryProperty &&\r\n          \"string\" === typeof this.nodeCategoryProperty &&\r\n          (a +=\r\n            ',\\n  \"nodeCategoryProperty\": ' +\r\n            this.quote(this.nodeCategoryProperty));\r\n        return a;\r\n      };\r\n      t.Kq = function (a) {\r\n        a.name && (this.name = a.name);\r\n        a.dataFormat && (this.dataFormat = a.dataFormat);\r\n        a.isReadOnly && (this.isReadOnly = !0);\r\n        a.nodeKeyProperty && (this.nodeKeyProperty = a.nodeKeyProperty);\r\n        a.copiesArrays && (this.copiesArrays = !0);\r\n        a.copiesArrayObjects && (this.copiesArrayObjects = !0);\r\n        !1 === a.copiesKey && (this.copiesKey = !1);\r\n        a.nodeCategoryProperty &&\r\n          (this.nodeCategoryProperty = a.nodeCategoryProperty);\r\n      };\r\n\r\n      function cr(a) {\r\n        return ',\\n  \"modelData\": ' + dr(a, a.modelData);\r\n      }\r\n\r\n      function er(a, b) {\r\n        b = b.modelData;\r\n        Fa(b) && (a.Lm(b), (a.modelData = b));\r\n      }\r\n      t.Bw = function () {\r\n        var a = this.modelData,\r\n          b = !1,\r\n          c;\r\n        for (c in a)\r\n          if (!fr(c, a[c])) {\r\n            b = !0;\r\n            break;\r\n          }\r\n        a = \"\";\r\n        b && (a = cr(this));\r\n        return a + ',\\n  \"nodeDataArray\": ' + gr(this, this.nodeDataArray, !0);\r\n      };\r\n      t.Wv = function (a) {\r\n        er(this, a);\r\n        a = a.nodeDataArray;\r\n        Ga(a) && (this.Lm(a), (this.nodeDataArray = a));\r\n      };\r\n\r\n      function hr(a, b, c, d) {\r\n        if (b === c) return !0;\r\n        if (\r\n          typeof b !== typeof c ||\r\n          \"function\" === typeof b ||\r\n          \"function\" === typeof c\r\n        )\r\n          return !1;\r\n        if (Array.isArray(b) && Array.isArray(c)) {\r\n          if (d.K(b) === c) return !0;\r\n          d.add(b, c);\r\n          if (b.length !== c.length) return !1;\r\n          for (var e = 0; e < b.length; e++)\r\n            if (!hr(a, b[e], c[e], d)) return !1;\r\n          return !0;\r\n        }\r\n        if (Fa(b) && Fa(c)) {\r\n          if (d.K(b) === c) return !0;\r\n          d.add(b, c);\r\n          for (var f in b) {\r\n            var g = b[f];\r\n            if (!fr(f, g)) {\r\n              var h = c[f];\r\n              if (void 0 === h || !hr(a, g, h, d)) return !1;\r\n            }\r\n          }\r\n          for (e in c)\r\n            if (\r\n              ((f = c[e]),\r\n              !fr(e, f) && ((g = b[e]), void 0 === g || !hr(a, g, f, d)))\r\n            )\r\n              return !1;\r\n          return !0;\r\n        }\r\n        return !1;\r\n      }\r\n\r\n      function ir(a, b, c) {\r\n        a[c] !== b[c] &&\r\n          v(\r\n            \"Model.computeJsonDifference: Model.\" +\r\n              c +\r\n              ' is not the same in both models: \"' +\r\n              a[c] +\r\n              '\" and \"' +\r\n              b[c] +\r\n              '\"'\r\n          );\r\n      }\r\n      t.Xq = function (a) {\r\n        ir(this, a, \"nodeKeyProperty\");\r\n        for (\r\n          var b = new H(),\r\n            c = new H(),\r\n            d = new H().addAll(this.hb.iteratorKeys),\r\n            e = new Db(),\r\n            f = a.nodeDataArray,\r\n            g = f.length,\r\n            h = 0;\r\n          h < g;\r\n          h++\r\n        ) {\r\n          var k = f[h],\r\n            l = a.pa(k);\r\n          if (void 0 !== l) {\r\n            d.remove(l);\r\n            var m = this.Ob(l);\r\n            null === m ? (b.add(l), c.add(k)) : hr(this, m, k, e) || c.add(k);\r\n          } else this.Bt(k), (l = this.pa(k)), b.add(l), c.add(k);\r\n        }\r\n        f = \"\";\r\n        hr(this, this.modelData, a.modelData, e) || (f += cr(this));\r\n        0 < b.count && (f += this.Wt + gr(this, b.sa(), !0));\r\n        0 < c.count && (f += this.Iw + gr(this, c.sa(), !0));\r\n        0 < d.count && (f += this.Yt + gr(this, d.sa(), !0));\r\n        return f;\r\n      };\r\n      t.bz = function (a, b) {\r\n        w(a, X, X, \"computeJsonDifference:newmodel\");\r\n        void 0 === b && (b = jr(this, this));\r\n        return (\r\n          '{ \"class\": ' +\r\n          this.quote(b) +\r\n          ', \"incremental\": 1' +\r\n          this.Ik() +\r\n          this.Xq(a) +\r\n          \"}\"\r\n        );\r\n      };\r\n\r\n      function $q(a, b) {\r\n        function c(a, b) {\r\n          b = b.part.data;\r\n          if (a !== b) {\r\n            var c = d.get(a);\r\n            null === c ? ((c = new H()), c.add(b), d.add(a, c)) : c.add(b);\r\n          }\r\n        }\r\n        var d = a.Uh;\r\n        null === d &&\r\n          ((d = new Db()),\r\n          b.changes.each(function (a) {\r\n            if (null !== a.diagram) {\r\n              var b = a.change;\r\n              if (b === De) (a = a.object.panel) && (b = a.data) && c(b, a);\r\n              else if (b === Fe || b === Ge)\r\n                (a = a.object), (b = a.itemArray) && c(b, a);\r\n            }\r\n          }),\r\n          (a.Uh = d));\r\n      }\r\n\r\n      function ar(a, b) {\r\n        for (var c = new H(), d = 0; d < a.nodeDataArray.length; d++) {\r\n          var e = a.nodeDataArray[d];\r\n          kr(a, b, e, e, c);\r\n        }\r\n        return c;\r\n      }\r\n\r\n      function kr(a, b, c, d, e) {\r\n        if (Array.isArray(c))\r\n          for (var f = 0; f < c.length; f++) {\r\n            var g = c[f];\r\n            if (g === b) return e.add(d), !0;\r\n            if (kr(a, b, g, d, e)) return !0;\r\n          }\r\n        else if (Fa(c) && Object.getPrototypeOf(c) === Object.prototype)\r\n          for (f in c) {\r\n            g = c[f];\r\n            if (g === b) return e.add(d), !0;\r\n            if (kr(a, b, g, d, e)) return !0;\r\n          }\r\n        return !1;\r\n      }\r\n      t.zw = function (a, b) {\r\n        var c = this,\r\n          d = !1,\r\n          e = new H(),\r\n          f = new H(),\r\n          g = new H(),\r\n          h = this.Uh;\r\n        a.changes.each(function (a) {\r\n          a.model === c &&\r\n            (\"nodeDataArray\" === a.modelChange\r\n              ? a.change === Fe\r\n                ? e.add(a.newValue)\r\n                : a.change === Ge && g.add(a.oldValue)\r\n              : c.kb(a.object)\r\n              ? f.add(a.object)\r\n              : a.change !== De ||\r\n                (c.modelData !== a.object && \"modelData\" !== a.propertyName)\r\n              ? null !== a.object &&\r\n                (h && h.contains(a.object)\r\n                  ? h.get(a.object).each(function (a) {\r\n                      c.kb(a) && f.add(a);\r\n                    })\r\n                  : ar(c, a.object).each(function (a) {\r\n                      f.add(a);\r\n                    }))\r\n              : (d = !0));\r\n        });\r\n        var k = new H();\r\n        e.each(function (a) {\r\n          k.add(c.pa(a));\r\n          b || f.add(a);\r\n        });\r\n        var l = new H();\r\n        g.each(function (a) {\r\n          l.add(c.pa(a));\r\n          b && f.add(a);\r\n        });\r\n        a = \"\";\r\n        d && (a += cr(this));\r\n        0 < k.count && (a += (b ? this.Yt : this.Wt) + gr(this, k.sa(), !0));\r\n        0 < f.count && (a += this.Iw + gr(this, f.sa(), !0));\r\n        0 < l.count && (a += (b ? this.Wt : this.Yt) + gr(this, l.sa(), !0));\r\n        return a;\r\n      };\r\n      t.Jq = function (a) {\r\n        ((void 0 !== a.name && a.name !== this.name) ||\r\n          (void 0 !== a.dataFormat && a.dataFormat !== this.dataFormat) ||\r\n          (void 0 !== a.isReadOnly && a.isReadOnly !== this.isReadOnly) ||\r\n          (void 0 !== a.nodeKeyProperty &&\r\n            a.nodeKeyProperty !== this.nodeKeyProperty) ||\r\n          (void 0 !== a.copiesArrays && a.copiesArrays !== this.copiesArrays) ||\r\n          (void 0 !== a.copiesArrayObjects &&\r\n            a.copiesArrayObjects !== this.copiesArrayObjects) ||\r\n          (void 0 !== a.copiesKey && a.copiesKey !== this.copiesKey) ||\r\n          (void 0 !== a.nodeCategoryProperty &&\r\n            a.nodeCategoryProperty !== this.nodeCategoryProperty)) &&\r\n          v(\"applyIncrementalJson cannot change Model properties\");\r\n        er(this, a);\r\n        var b = a.insertedNodeKeys,\r\n          c = a.modifiedNodeData,\r\n          d = new Db();\r\n        if (Array.isArray(c))\r\n          for (var e = 0; e < c.length; e++) {\r\n            var f = c[e],\r\n              g = this.pa(f);\r\n            void 0 !== g && null !== g && d.set(g, f);\r\n          }\r\n        if (Array.isArray(b))\r\n          for (e = b.length, f = 0; f < e; f++) {\r\n            g = b[f];\r\n            var h = this.Ob(g);\r\n            null === h &&\r\n              ((h = (h = d.get(g)) ? h : this.copyNodeData({})),\r\n              this.Rm(h, g),\r\n              this.xf(h));\r\n          }\r\n        if (Array.isArray(c))\r\n          for (b = c.length, d = 0; d < b; d++)\r\n            if (((e = c[d]), (f = this.pa(e)), (f = this.Ob(f)), null !== f))\r\n              for (var k in e)\r\n                \"__gohashid\" === k ||\r\n                  k === this.nodeKeyProperty ||\r\n                  (this.sk() && k === this.nodeIsGroupProperty) ||\r\n                  this.setDataProperty(f, k, e[k]);\r\n        a = a.removedNodeKeys;\r\n        if (Array.isArray(a))\r\n          for (c = a.length, k = 0; k < c; k++)\r\n            (b = this.Ob(a[k])), null !== b && this.Km(b);\r\n      };\r\n      t.yy = function (a, b) {\r\n        w(a, Ce, X, \"toIncrementalJson:e\");\r\n        a.change !== Ee &&\r\n          v(\r\n            \"Model.toIncrementalJson argument is not a Transaction ChangedEvent:\" +\r\n              a.toString()\r\n          );\r\n        var c = a.object;\r\n        if (!(a.isTransactionFinished && c instanceof He))\r\n          return '{ \"incremental\": 0 }';\r\n        void 0 === b && (b = jr(this, this));\r\n        $q(this, c);\r\n        a = this.zw(c, \"FinishedUndo\" === a.propertyName);\r\n        this.Uh = null;\r\n        return \"2\" === b\r\n          ? '{ \"incremental\": 2' + a + \"}\"\r\n          : '{ \"class\": ' +\r\n              this.quote(b) +\r\n              ', \"incremental\": 1' +\r\n              this.Ik() +\r\n              a +\r\n              \"}\";\r\n      };\r\n      t.MA = function (a, b) {\r\n        return this.yy(a, b);\r\n      };\r\n      t.Sq = function (a) {\r\n        void 0 === a && (a = jr(this, this));\r\n        return '{ \"class\": ' + this.quote(a) + this.Ik() + this.Bw() + \"}\";\r\n      };\r\n      t.toJSON = function (a) {\r\n        return this.Sq(a);\r\n      };\r\n      t.Ex = function (a) {\r\n        var b = null;\r\n        if (\"string\" === typeof a)\r\n          try {\r\n            b = pa.JSON.parse(a);\r\n          } catch (d) {\r\n            F && Ca(\"JSON.parse error: \" + d.toString());\r\n          }\r\n        else\r\n          \"object\" === typeof a\r\n            ? (b = a)\r\n            : v(\"Unable to modify a Model from: \" + a);\r\n        var c = b.incremental;\r\n        \"number\" !== typeof c &&\r\n          v(\"Unable to apply non-incremental changes to Model: \" + a);\r\n        0 !== c &&\r\n          (this.Aa(\"applyIncrementalJson\"),\r\n          this.Jq(b),\r\n          this.Za(\"applyIncrementalJson\"));\r\n      };\r\n      t.Vy = function (a) {\r\n        return this.Ex(a);\r\n      };\r\n      X.constructGraphLinksModel = function () {\r\n        F &&\r\n          v(\r\n            \"Unable to construct a Model. Provided JSON requires GraphLinksModel, which is not loaded.\"\r\n          );\r\n        return new X();\r\n      };\r\n      t = X.prototype;\r\n      t.Lm = function (a) {\r\n        if (Ga(a))\r\n          for (var b = a.length, c = 0; c < b; c++) {\r\n            var d = a[c];\r\n            if (Fa(d)) {\r\n              var e = c;\r\n              d = this.Lm(d);\r\n              Array.isArray(a)\r\n                ? (a[e] = d)\r\n                : v(\r\n                    \"Cannot replace an object in an HTMLCollection or NodeList at \" +\r\n                      e\r\n                  );\r\n            }\r\n          }\r\n        else if (Fa(a)) {\r\n          for (c in a)\r\n            if (\r\n              ((e = a[c]),\r\n              Fa(e) &&\r\n                ((e = this.Lm(e)),\r\n                (a[c] = e),\r\n                \"points\" === c && Array.isArray(e)))\r\n            ) {\r\n              d = 0 === e.length % 2;\r\n              for (var f = 0; f < e.length; f++)\r\n                if (\"number\" !== typeof e[f]) {\r\n                  d = !1;\r\n                  break;\r\n                }\r\n              if (d) {\r\n                d = new G();\r\n                for (f = 0; f < e.length / 2; f++)\r\n                  d.add(new J(e[2 * f], e[2 * f + 1]));\r\n                d.freeze();\r\n                a[c] = d;\r\n              }\r\n            }\r\n          if (\"object\" === typeof a) {\r\n            c = a;\r\n            e = a[\"class\"] || \"\";\r\n            0 === e.indexOf(\"go.\") && (e = e.substr(3));\r\n            if (\"NaN\" === e) c = NaN;\r\n            else if (\"Date\" === e) c = new Date(a.value);\r\n            else if (\"Point\" === e) c = new J(lr(a.x), lr(a.y));\r\n            else if (\"Size\" === e) c = new Jb(lr(a.width), lr(a.height));\r\n            else if (\"Rect\" === e)\r\n              c = new L(lr(a.x), lr(a.y), lr(a.width), lr(a.height));\r\n            else if (\"Margin\" === e)\r\n              c = new lc(lr(a.top), lr(a.right), lr(a.bottom), lr(a.left));\r\n            else if (\"Spot\" === e)\r\n              \"string\" === typeof a[\"enum\"]\r\n                ? (c = yd(a[\"enum\"]))\r\n                : (c = new M(lr(a.x), lr(a.y), lr(a.offsetX), lr(a.offsetY)));\r\n            else if (\"Brush\" === e) {\r\n              if (\r\n                ((c = new Il()),\r\n                (c.type = gb(Il, a.type)),\r\n                \"string\" === typeof a.color && (c.color = a.color),\r\n                a.start instanceof M && (c.start = a.start),\r\n                a.end instanceof M && (c.end = a.end),\r\n                \"number\" === typeof a.startRadius &&\r\n                  (c.startRadius = lr(a.startRadius)),\r\n                \"number\" === typeof a.endRadius &&\r\n                  (c.endRadius = lr(a.endRadius)),\r\n                (a = a.colorStops),\r\n                Fa(a))\r\n              )\r\n                for (b in a) c.addColorStop(parseFloat(b), a[b]);\r\n            } else\r\n              \"Geometry\" === e\r\n                ? ((b = null),\r\n                  \"string\" === typeof a.path\r\n                    ? (b = Vd(a.path))\r\n                    : (b = new Gd()),\r\n                  (b.type = gb(Gd, a.type)),\r\n                  \"number\" === typeof a.startX && (b.startX = lr(a.startX)),\r\n                  \"number\" === typeof a.startY && (b.startY = lr(a.startY)),\r\n                  \"number\" === typeof a.endX && (b.endX = lr(a.endX)),\r\n                  \"number\" === typeof a.endY && (b.endY = lr(a.endY)),\r\n                  a.spot1 instanceof M && (b.spot1 = a.spot1),\r\n                  a.spot2 instanceof M && (b.spot2 = a.spot2),\r\n                  (c = b))\r\n                : \"EnumValue\" === e &&\r\n                  ((b = a.classType),\r\n                  0 === b.indexOf(\"go.\") && (b = b.substr(3)),\r\n                  (b = mr(b)),\r\n                  \"function\" === typeof b && (c = gb(b, a.name)));\r\n            a = c;\r\n          }\r\n        }\r\n        return a;\r\n      };\r\n      t.quote = function (a) {\r\n        for (var b = \"\", c = a.length, d = 0; d < c; d++) {\r\n          var e = a[d];\r\n          if ('\"' === e || \"\\\\\" === e) b += \"\\\\\" + e;\r\n          else if (\"\\b\" === e) b += \"\\\\b\";\r\n          else if (\"\\f\" === e) b += \"\\\\f\";\r\n          else if (\"\\n\" === e) b += \"\\\\n\";\r\n          else if (\"\\r\" === e) b += \"\\\\r\";\r\n          else if (\"\\t\" === e) b += \"\\\\t\";\r\n          else {\r\n            var f = a.charCodeAt(d);\r\n            b =\r\n              16 > f\r\n                ? b + (\"\\\\u000\" + a.charCodeAt(d).toString(16))\r\n                : 32 > f\r\n                ? b + (\"\\\\u00\" + a.charCodeAt(d).toString(16))\r\n                : 8232 === f\r\n                ? b + \"\\\\u2028\"\r\n                : 8233 === f\r\n                ? b + \"\\\\u2029\"\r\n                : b + e;\r\n          }\r\n        }\r\n        return '\"' + b + '\"';\r\n      };\r\n      t.Um = function (a) {\r\n        return void 0 === a\r\n          ? \"undefined\"\r\n          : null === a\r\n          ? \"null\"\r\n          : !0 === a\r\n          ? \"true\"\r\n          : !1 === a\r\n          ? \"false\"\r\n          : \"string\" === typeof a\r\n          ? this.quote(a)\r\n          : \"number\" === typeof a\r\n          ? Infinity === a\r\n            ? \"9e9999\"\r\n            : -Infinity === a\r\n            ? \"-9e9999\"\r\n            : isNaN(a)\r\n            ? '{\"class\":\"NaN\"}'\r\n            : a.toString()\r\n          : a instanceof Date\r\n          ? '{\"class\":\"Date\", \"value\":\"' + a.toJSON() + '\"}'\r\n          : a instanceof Number\r\n          ? this.Um(a.valueOf())\r\n          : Ga(a)\r\n          ? gr(this, a)\r\n          : Fa(a)\r\n          ? dr(this, a)\r\n          : \"function\" === typeof a\r\n          ? \"null\"\r\n          : a.toString();\r\n      };\r\n\r\n      function gr(a, b, c) {\r\n        void 0 === c && (c = !1);\r\n        var d = b.length;\r\n        if (0 >= d) return \"[]\";\r\n        var e = new ib();\r\n        e.add(\"[ \");\r\n        c && 1 < d && e.add(\"\\n\");\r\n        for (var f = 0; f < d; f++) {\r\n          var g = b[f];\r\n          void 0 !== g &&\r\n            (0 < f && (e.add(\",\"), c && e.add(\"\\n\")), e.add(a.Um(g)));\r\n        }\r\n        c && 1 < d && e.add(\"\\n\");\r\n        e.add(\" ]\");\r\n        return e.toString();\r\n      }\r\n\r\n      function fr(a, b) {\r\n        return void 0 === b ||\r\n          \"__gohashid\" === a ||\r\n          \"_\" === a[0] ||\r\n          \"function\" === typeof b\r\n          ? !0\r\n          : !1;\r\n      }\r\n\r\n      function nr(a) {\r\n        return isNaN(a)\r\n          ? \"NaN\"\r\n          : Infinity === a\r\n          ? \"9e9999\"\r\n          : -Infinity === a\r\n          ? \"-9e9999\"\r\n          : a;\r\n      }\r\n\r\n      function dr(a, b) {\r\n        var c = b;\r\n        if (c instanceof J) b = { class: \"go.Point\", x: nr(c.x), y: nr(c.y) };\r\n        else if (c instanceof Jb)\r\n          b = { class: \"go.Size\", width: nr(c.width), height: nr(c.height) };\r\n        else if (c instanceof L)\r\n          b = {\r\n            class: \"go.Rect\",\r\n            x: nr(c.x),\r\n            y: nr(c.y),\r\n            width: nr(c.width),\r\n            height: nr(c.height),\r\n          };\r\n        else if (c instanceof lc)\r\n          b = {\r\n            class: \"go.Margin\",\r\n            top: nr(c.top),\r\n            right: nr(c.right),\r\n            bottom: nr(c.bottom),\r\n            left: nr(c.left),\r\n          };\r\n        else if (c instanceof M)\r\n          c.$a()\r\n            ? (b = {\r\n                class: \"go.Spot\",\r\n                x: nr(c.x),\r\n                y: nr(c.y),\r\n                offsetX: nr(c.offsetX),\r\n                offsetY: nr(c.offsetY),\r\n              })\r\n            : (b = { class: \"go.Spot\", enum: c.toString() });\r\n        else if (c instanceof Il) {\r\n          b = { class: \"go.Brush\", type: c.type.name };\r\n          if (c.type === Ll) b.color = c.color;\r\n          else if (c.type === Ol || c.type === Jl)\r\n            (b.start = c.start),\r\n              (b.end = c.end),\r\n              c.type === Jl &&\r\n                (0 !== c.startRadius && (b.startRadius = nr(c.startRadius)),\r\n                isNaN(c.endRadius) || (b.endRadius = nr(c.endRadius)));\r\n          if (null !== c.colorStops) {\r\n            var d = {};\r\n            for (c = c.colorStops.iterator; c.next(); ) d[c.key] = c.value;\r\n            b.colorStops = d;\r\n          }\r\n        } else if (c instanceof Gd)\r\n          (b = { class: \"go.Geometry\", type: c.type.name }),\r\n            0 !== c.startX && (b.startX = nr(c.startX)),\r\n            0 !== c.startY && (b.startY = nr(c.startY)),\r\n            0 !== c.endX && (b.endX = nr(c.endX)),\r\n            0 !== c.endY && (b.endY = nr(c.endY)),\r\n            c.spot1.B(Hc) || (b.spot1 = c.spot1),\r\n            c.spot2.B(Sc) || (b.spot2 = c.spot2),\r\n            c.type === Hd && (b.path = Sd(c));\r\n        else if (c instanceof E)\r\n          b = {\r\n            class: \"go.EnumValue\",\r\n            classType: jr(a, c.classType),\r\n            name: c.name,\r\n          };\r\n        else if (F && null !== mr(jr(a, c)))\r\n          return (\r\n            Ca(\r\n              \"ERROR: trying to convert a GraphObject or Diagram or Model or Tool or Layout or UndoManager or other unknown data into JSON text: \" +\r\n                c.toString()\r\n            ),\r\n            \"{}\"\r\n          );\r\n        d = \"{\";\r\n        c = !0;\r\n        for (var e in b) {\r\n          var f = Fn(b, e);\r\n          if (!fr(e, f))\r\n            if (\r\n              (c ? (c = !1) : (d += \", \"),\r\n              (d += '\"' + e + '\":'),\r\n              \"points\" === e && f instanceof G)\r\n            ) {\r\n              var g = \"[\";\r\n              for (f = f.iterator; f.next(); ) {\r\n                var h = f.value;\r\n                1 < g.length && (g += \",\");\r\n                g += a.Um(h.x);\r\n                g += \",\";\r\n                g += a.Um(h.y);\r\n              }\r\n              g += \"]\";\r\n              d += g;\r\n            } else d += a.Um(f);\r\n        }\r\n        return d + \"}\";\r\n      }\r\n\r\n      function lr(a) {\r\n        return \"number\" === typeof a\r\n          ? a\r\n          : \"NaN\" === a\r\n          ? NaN\r\n          : \"9e9999\" === a\r\n          ? Infinity\r\n          : \"-9e9999\" === a\r\n          ? -Infinity\r\n          : parseFloat(a);\r\n      }\r\n      t.Jh = function (a) {\r\n        A(a, \"function\", X, \"addChangedListener:listener\");\r\n        this.yu.add(a);\r\n      };\r\n      t.Ek = function (a) {\r\n        A(a, \"function\", X, \"removeChangedListener:listener\");\r\n        this.yu.remove(a);\r\n      };\r\n      t.ct = function (a) {\r\n        this.skipsUndoManager || this.undoManager.Hv(a);\r\n        for (var b = this.yu, c = b.length, d = 0; d < c; d++) b.O(d)(a);\r\n      };\r\n      t.eb = function (a, b, c, d, e, f, g) {\r\n        or(this, \"\", a, b, c, d, e, f, g);\r\n      };\r\n      t.g = function (a, b, c, d, e) {\r\n        or(this, \"\", De, a, this, b, c, d, e);\r\n      };\r\n      t.Ht = function (a, b, c, d, e, f) {\r\n        or(this, \"\", De, b, a, c, d, e, f);\r\n      };\r\n\r\n      function or(a, b, c, d, e, f, g, h, k) {\r\n        void 0 === h && (h = null);\r\n        void 0 === k && (k = null);\r\n        var l = new Ce();\r\n        l.model = a;\r\n        l.change = c;\r\n        l.modelChange = b;\r\n        l.propertyName = d;\r\n        l.object = e;\r\n        l.oldValue = f;\r\n        l.oldParam = h;\r\n        l.newValue = g;\r\n        l.newParam = k;\r\n        a.ct(l);\r\n      }\r\n      t.ek = function (a, b) {\r\n        if (null !== a && a.model === this)\r\n          if (a.change === De) gk(a.object, a.propertyName, a.K(b));\r\n          else if (a.change === Fe) {\r\n            var c = a.newParam;\r\n            if (\"nodeDataArray\" === a.modelChange) {\r\n              if (((a = a.newValue), Fa(a) && \"number\" === typeof c)) {\r\n                var d = this.pa(a);\r\n                b\r\n                  ? (this.vc[c] === a && Ka(this.vc, c),\r\n                    void 0 !== d && this.hb.remove(d))\r\n                  : (this.vc[c] !== a && Ja(this.vc, c, a),\r\n                    void 0 !== d && this.hb.add(d, a));\r\n              }\r\n            } else\r\n              \"\" === a.modelChange\r\n                ? ((d = a.object) &&\r\n                    !Ga(d) &&\r\n                    a.propertyName &&\r\n                    (d = Fn(a.object, a.propertyName)),\r\n                  Ga(d) &&\r\n                    \"number\" === typeof c &&\r\n                    ((a = a.newValue), b ? Ka(d, c) : Ja(d, c, a)))\r\n                : v(\"unknown ChangedEvent.Insert modelChange: \" + a.toString());\r\n          } else\r\n            a.change === Ge\r\n              ? ((c = a.oldParam),\r\n                \"nodeDataArray\" === a.modelChange\r\n                  ? ((a = a.oldValue),\r\n                    Fa(a) &&\r\n                      \"number\" === typeof c &&\r\n                      ((d = this.pa(a)),\r\n                      b\r\n                        ? (this.vc[c] !== a && Ja(this.vc, c, a),\r\n                          void 0 !== d && this.hb.add(d, a))\r\n                        : (this.vc[c] === a && Ka(this.vc, c),\r\n                          void 0 !== d && this.hb.remove(d))))\r\n                  : \"\" === a.modelChange\r\n                  ? ((d = a.object) &&\r\n                      !Ga(d) &&\r\n                      a.propertyName &&\r\n                      (d = Fn(a.object, a.propertyName)),\r\n                    Ga(d) &&\r\n                      \"number\" === typeof c &&\r\n                      ((a = a.oldValue), b ? Ja(d, c, a) : Ka(d, c)))\r\n                  : v(\r\n                      \"unknown ChangedEvent.Remove modelChange: \" + a.toString()\r\n                    ))\r\n              : a.change !== Ee && v(\"unknown ChangedEvent: \" + a.toString());\r\n      };\r\n      t.Aa = function (a) {\r\n        return this.undoManager.Aa(a);\r\n      };\r\n      t.Za = function (a) {\r\n        return this.undoManager.Za(a);\r\n      };\r\n      t.Lf = function () {\r\n        return this.undoManager.Lf();\r\n      };\r\n      X.prototype.commit = function (a, b) {\r\n        void 0 === b && (b = \"\");\r\n        var c = this.skipsUndoManager;\r\n        null === b && ((this.skipsUndoManager = !0), (b = \"\"));\r\n        this.undoManager.Aa(b);\r\n        var d = !1;\r\n        try {\r\n          a(this), (d = !0);\r\n        } finally {\r\n          d ? this.undoManager.Za(b) : this.undoManager.Lf(),\r\n            (this.skipsUndoManager = c);\r\n        }\r\n      };\r\n      t = X.prototype;\r\n      t.Fa = function (a, b) {\r\n        void 0 === b && (b = \"\");\r\n        or(this, \"SourceChanged\", Ee, b, a, null, null);\r\n      };\r\n\r\n      function pr(a, b, c) {\r\n        \"string\" !== typeof a &&\r\n          \"function\" !== typeof a &&\r\n          xa(a, \"string or function\", b, c);\r\n      }\r\n      t.pa = function (a) {\r\n        if (null !== a) {\r\n          var b = this.Fi;\r\n          if (\"\" !== b && ((b = Fn(a, b)), void 0 !== b)) {\r\n            if (Qq(b)) return b;\r\n            v(\r\n              \"Key value for node data \" +\r\n                a +\r\n                \" is not a number or a string: \" +\r\n                b\r\n            );\r\n          }\r\n        }\r\n      };\r\n      t.Rm = function (a, b) {\r\n        (void 0 !== b && null !== b && Qq(b)) ||\r\n          xa(b, \"number or string\", X, \"setKeyForNodeData:key\");\r\n        if (null !== a) {\r\n          var c = this.Fi;\r\n          if (\"\" !== c)\r\n            if (this.kb(a)) {\r\n              var d = Fn(a, c);\r\n              d !== b &&\r\n                null === this.Ob(b) &&\r\n                (gk(a, c, b),\r\n                void 0 !== d && this.hb.remove(d),\r\n                this.hb.add(b, a),\r\n                or(this, \"nodeKey\", De, c, a, d, b),\r\n                \"string\" === typeof c && this.Fa(a, c),\r\n                this.Nq(d, b));\r\n            } else gk(a, c, b);\r\n        }\r\n      };\r\n\r\n      function Qq(a) {\r\n        return \"number\" === typeof a || \"string\" === typeof a;\r\n      }\r\n      t.kb = function (a) {\r\n        var b = this.pa(a);\r\n        return void 0 === b ? !1 : this.hb.K(b) === a;\r\n      };\r\n      t.Ob = function (a) {\r\n        null === a && v(\"Model.findNodeDataForKey:key must not be null\");\r\n        return void 0 !== a && Qq(a) ? this.hb.K(a) : null;\r\n      };\r\n      t.Bt = function (a) {\r\n        if (null !== a) {\r\n          var b = this.Fi;\r\n          if (\"\" !== b) {\r\n            var c = this.pa(a);\r\n            if (void 0 === c || this.hb.contains(c)) {\r\n              var d = this.Il;\r\n              if (\r\n                null !== d &&\r\n                ((c = d(this, a)),\r\n                void 0 !== c && null !== c && !this.hb.contains(c))\r\n              ) {\r\n                gk(a, b, c);\r\n                return;\r\n              }\r\n              if (\"string\" === typeof c) {\r\n                for (d = 2; this.hb.contains(c + d); ) d++;\r\n                gk(a, b, c + d);\r\n              } else if (void 0 === c || \"number\" === typeof c) {\r\n                for (c = -this.hb.count - 1; this.hb.contains(c); ) c--;\r\n                gk(a, b, c);\r\n              } else\r\n                F &&\r\n                  v(\r\n                    \"Model.getKeyForNodeData returned something other than a string or a number: \" +\r\n                      c\r\n                  );\r\n            }\r\n          }\r\n        }\r\n      };\r\n      t.xf = function (a) {\r\n        null !== a && (ub(a), this.kb(a) || Iq(this, a, !0));\r\n      };\r\n\r\n      function Iq(a, b, c) {\r\n        var d = a.pa(b);\r\n        if (void 0 === d || a.hb.K(d) !== b)\r\n          a.Bt(b),\r\n            (d = a.pa(b)),\r\n            void 0 === d\r\n              ? v(\r\n                  \"Model.makeNodeDataKeyUnique failed on \" +\r\n                    b +\r\n                    \".  Data not added to Model.\"\r\n                )\r\n              : (a.hb.add(d, b),\r\n                (d = null),\r\n                c && ((d = a.vc.length), Ja(a.vc, d, b)),\r\n                or(\r\n                  a,\r\n                  \"nodeDataArray\",\r\n                  Fe,\r\n                  \"nodeDataArray\",\r\n                  a,\r\n                  null,\r\n                  b,\r\n                  null,\r\n                  d\r\n                ),\r\n                a.Nm(b),\r\n                a.Mm(b));\r\n      }\r\n      t.Ry = function (a) {\r\n        if (Ga(a)) for (var b = a.length, c = 0; c < b; c++) this.xf(a[c]);\r\n        else for (a = a.iterator; a.next(); ) this.xf(a.value);\r\n      };\r\n      t.Km = function (a) {\r\n        null !== a && Hq(this, a, !0);\r\n      };\r\n\r\n      function Hq(a, b, c) {\r\n        var d = a.pa(b);\r\n        void 0 !== d && a.hb.remove(d);\r\n        d = null;\r\n        if (c) {\r\n          a: if (((c = a.vc), Array.isArray(c))) d = c.indexOf(b);\r\n          else {\r\n            d = c.length;\r\n            for (var e = 0; e < d; e++)\r\n              if (c[e] === b) {\r\n                d = e;\r\n                break a;\r\n              }\r\n            d = -1;\r\n          }\r\n          if (0 > d) return;\r\n          Ka(a.vc, d);\r\n        }\r\n        or(a, \"nodeDataArray\", Ge, \"nodeDataArray\", a, b, null, d, null);\r\n        a.Uq(b);\r\n      }\r\n      t.BA = function (a) {\r\n        if (Ga(a)) for (var b = a.length, c = 0; c < b; c++) this.Km(a[c]);\r\n        else for (a = a.iterator; a.next(); ) this.Km(a.value);\r\n      };\r\n      t.sA = function (a) {\r\n        if (Ga(a)) {\r\n          for (\r\n            var b = new H(this.hb.iteratorKeys),\r\n              c = new H(),\r\n              d = a.length,\r\n              e = 0;\r\n            e < d;\r\n            e++\r\n          ) {\r\n            var f = a[e],\r\n              g = this.pa(f);\r\n            if (void 0 !== g) {\r\n              c.add(g);\r\n              var h = this.Ob(g);\r\n              null !== h\r\n                ? this.dk(h, f)\r\n                : ((h = {}), this.Rm(h, g), this.dk(h, f), this.xf(h));\r\n            } else this.xf(f), c.add(this.pa(f));\r\n          }\r\n          for (a = b.iterator; a.next(); )\r\n            (b = a.value), c.contains(b) || ((b = this.Ob(b)) && this.Km(b));\r\n        }\r\n      };\r\n      t.Nq = function (a, b) {\r\n        void 0 !== b &&\r\n          ((a = Tq(this, a)), a instanceof H && this.$f.add(b, a));\r\n      };\r\n      t.vw = function () {};\r\n      t.Nm = function () {};\r\n      t.Mm = function () {};\r\n      t.Uq = function () {};\r\n\r\n      function Vq(a, b, c) {\r\n        if (void 0 !== b) {\r\n          var d = a.$f.K(b);\r\n          null === d && ((d = new H()), a.$f.add(b, d));\r\n          d.add(c);\r\n        }\r\n      }\r\n\r\n      function Uq(a, b, c) {\r\n        if (void 0 !== b) {\r\n          var d = a.$f.K(b);\r\n          d instanceof H &&\r\n            (void 0 === c || null === c\r\n              ? a.$f.remove(b)\r\n              : (d.remove(c), 0 === d.count && a.$f.remove(b)));\r\n        }\r\n      }\r\n\r\n      function Tq(a, b) {\r\n        if (void 0 === b) return null;\r\n        a = a.$f.K(b);\r\n        return a instanceof H ? a : null;\r\n      }\r\n      t.jv = function (a) {\r\n        void 0 === a ? this.$f.clear() : this.$f.remove(a);\r\n      };\r\n      X.prototype.copyNodeData = function (a) {\r\n        if (null === a) return null;\r\n        var b = this.Xk;\r\n        a = null !== b ? b(a, this) : qr(this, a, !0);\r\n        Fa(a) && fb(a);\r\n        return a;\r\n      };\r\n\r\n      function qr(a, b, c) {\r\n        if (a.copiesArrays && Array.isArray(b)) {\r\n          var d = [];\r\n          for (c = 0; c < b.length; c++) {\r\n            var e = qr(a, b[c], a.copiesArrayObjects);\r\n            d.push(e);\r\n          }\r\n          fb(d);\r\n          return d;\r\n        }\r\n        if (c && Fa(b)) {\r\n          c = (c = b.constructor) ? new c() : {};\r\n          e =\r\n            a.copiesKey || \"string\" !== typeof a.nodeKeyProperty\r\n              ? null\r\n              : a.nodeKeyProperty;\r\n          for (d in b)\r\n            if (\"__gohashid\" === d) c.__gohashid = void 0;\r\n            else if (d === e) c[e] = void 0;\r\n            else {\r\n              var f = Fn(b, d);\r\n              var g = jr(a, f);\r\n              \"GraphObject\" === g ||\r\n              \"Diagram\" === g ||\r\n              \"Layer\" === g ||\r\n              \"RowColumnDefinition\" === g ||\r\n              \"AnimationManager\" === g ||\r\n              \"Tool\" === g ||\r\n              \"CommandHandler\" === g ||\r\n              \"Layout\" === g ||\r\n              \"InputEvent\" === g ||\r\n              \"DiagramEvent\" === g\r\n                ? (F &&\r\n                    \"_\" !== d[0] &&\r\n                    Ca(\r\n                      'Warning: found GraphObject or Diagram reference when copying model data on property \"' +\r\n                        d +\r\n                        '\" of data object: ' +\r\n                        b.toString() +\r\n                        \"  \\nModel data should not have any references to a Diagram or any part of a diagram, such as: \" +\r\n                        f.toString()\r\n                    ),\r\n                  (g = !0))\r\n                : (g =\r\n                    f instanceof X ||\r\n                    f instanceof Ie ||\r\n                    f instanceof He ||\r\n                    f instanceof Ce\r\n                      ? !0\r\n                      : !1);\r\n              g ? gk(c, d, f) : ((f = qr(a, f, !1)), gk(c, d, f));\r\n            }\r\n          fb(c);\r\n          return c;\r\n        }\r\n        return b instanceof J\r\n          ? b.copy()\r\n          : b instanceof Jb\r\n          ? b.copy()\r\n          : b instanceof L\r\n          ? b.copy()\r\n          : b instanceof M\r\n          ? b.copy()\r\n          : b instanceof lc\r\n          ? b.copy()\r\n          : b;\r\n      }\r\n      X.prototype.setDataProperty = function (a, b, c) {\r\n        F &&\r\n          (A(a, \"object\", X, \"setDataProperty:data\"),\r\n          A(b, \"string\", X, \"setDataProperty:propname\"),\r\n          \"\" === b &&\r\n            v(\r\n              \"Model.setDataProperty: property name must not be an empty string when setting \" +\r\n                a +\r\n                \" to \" +\r\n                c\r\n            ));\r\n        if (this.kb(a))\r\n          if (b === this.nodeKeyProperty) this.Rm(a, c);\r\n          else {\r\n            if (b === this.nodeCategoryProperty) {\r\n              this.Pq(a, c);\r\n              return;\r\n            }\r\n          }\r\n        else\r\n          !rr &&\r\n            a instanceof N &&\r\n            ((rr = !0),\r\n            Ca(\r\n              'Model.setDataProperty is modifying a GraphObject, \"' +\r\n                a.toString() +\r\n                '\"'\r\n            ),\r\n            Ca(\"  Is that really your intent?\"));\r\n        var d = Fn(a, b);\r\n        d !== c && (gk(a, b, c), this.Ht(a, b, d, c));\r\n      };\r\n      t = X.prototype;\r\n      t.set = function (a, b, c) {\r\n        this.setDataProperty(a, b, c);\r\n      };\r\n      t.dk = function (a, b) {\r\n        if (b) {\r\n          var c = this.kb(a),\r\n            d;\r\n          for (d in b)\r\n            \"__gohashid\" === d ||\r\n              (c && d === this.nodeKeyProperty) ||\r\n              this.setDataProperty(a, d, b[d]);\r\n        }\r\n      };\r\n      t.Ny = function (a, b) {\r\n        this.rt(a, -1, b);\r\n      };\r\n      t.rt = function (a, b, c) {\r\n        F &&\r\n          (Ha(a, X, \"insertArrayItem:arr\"),\r\n          C(b, X, \"insertArrayItem:idx\"),\r\n          a === this.vc &&\r\n            v(\r\n              \"Model.insertArrayItem or Model.addArrayItem should not be called on the Model.nodeDataArray\"\r\n            ));\r\n        0 > b && (b = a.length);\r\n        Ja(a, b, c);\r\n        or(this, \"\", Fe, \"\", a, null, c, null, b);\r\n      };\r\n      t.Yv = function (a, b) {\r\n        void 0 === b && (b = -1);\r\n        F && (Ha(a, X, \"removeArrayItem:arr\"), C(b, X, \"removeArrayItem:idx\"));\r\n        a === this.vc &&\r\n          v(\r\n            \"Model.removeArrayItem should not be called on the Model.nodeDataArray\"\r\n          );\r\n        -1 === b && (b = a.length - 1);\r\n        var c = a[b];\r\n        Ka(a, b);\r\n        or(this, \"\", Ge, \"\", a, c, null, b, null);\r\n      };\r\n      t.ot = function (a) {\r\n        if (null === a) return \"\";\r\n        var b = this.Oj;\r\n        if (\"\" === b) return \"\";\r\n        b = Fn(a, b);\r\n        if (void 0 === b) return \"\";\r\n        if (\"string\" === typeof b) return b;\r\n        v(\r\n          \"getCategoryForNodeData found a non-string category for \" +\r\n            a +\r\n            \": \" +\r\n            b\r\n        );\r\n        return \"\";\r\n      };\r\n      t.Pq = function (a, b) {\r\n        A(b, \"string\", X, \"setCategoryForNodeData:cat\");\r\n        if (null !== a) {\r\n          var c = this.Oj;\r\n          if (\"\" !== c)\r\n            if (this.kb(a)) {\r\n              var d = Fn(a, c);\r\n              void 0 === d && (d = \"\");\r\n              d !== b &&\r\n                (gk(a, c, b), or(this, \"nodeCategory\", De, c, a, d, b));\r\n            } else gk(a, c, b);\r\n        }\r\n      };\r\n      t.zm = function () {\r\n        return !1;\r\n      };\r\n      t.sk = function () {\r\n        return !1;\r\n      };\r\n      t.ym = function () {\r\n        return !1;\r\n      };\r\n      t.yt = function () {\r\n        return !1;\r\n      };\r\n      t.ij = function () {\r\n        return !1;\r\n      };\r\n\r\n      function Ki() {\r\n        return new X();\r\n      }\r\n\r\n      function jr(a, b) {\r\n        if (\"function\" === typeof b) {\r\n          if (b.className) return b.className;\r\n          if (b.name) return b.name;\r\n        } else if (\"object\" === typeof b && null !== b && b.constructor)\r\n          return jr(a, b.constructor);\r\n        return typeof b;\r\n      }\r\n\r\n      function mr(a) {\r\n        return sr[a] ? sr[a] : void 0 !== pa.go && pa.go[a] ? pa.go[a] : null;\r\n      }\r\n\r\n      function Fn(a, b) {\r\n        if (!a || !b) return null;\r\n        try {\r\n          if (\"function\" === typeof b) var c = b(a);\r\n          else\r\n            \"function\" === typeof a.getAttribute\r\n              ? ((c = a.getAttribute(b)), null === c && (c = void 0))\r\n              : (c = a[b]);\r\n        } catch (d) {\r\n          F && Ca(\"property get error: \" + d.toString());\r\n        }\r\n        return c;\r\n      }\r\n\r\n      function gk(a, b, c) {\r\n        if (a && b)\r\n          try {\r\n            \"function\" === typeof b\r\n              ? b(a, c)\r\n              : \"function\" === typeof a.setAttribute\r\n              ? a.setAttribute(b, c)\r\n              : (a[b] = c);\r\n          } catch (d) {\r\n            F && Ca(\"property set error: \" + d.toString());\r\n          }\r\n      }\r\n      ma.Object.defineProperties(X.prototype, {\r\n        name: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Wa;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Wa;\r\n            b !== a &&\r\n              (A(a, \"string\", X, \"name\"), (this.Wa = a), this.g(\"name\", b, a));\r\n          },\r\n        },\r\n        dataFormat: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Dn;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Dn;\r\n            b !== a &&\r\n              (A(a, \"string\", X, \"dataFormat\"),\r\n              (this.Dn = a),\r\n              this.g(\"dataFormat\", b, a));\r\n          },\r\n        },\r\n        isReadOnly: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.gg;\r\n          },\r\n          set: function (a) {\r\n            var b = this.gg;\r\n            b !== a &&\r\n              (A(a, \"boolean\", X, \"isReadOnly\"),\r\n              (this.gg = a),\r\n              this.g(\"isReadOnly\", b, a));\r\n          },\r\n        },\r\n        modelData: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.l;\r\n          },\r\n          set: function (a) {\r\n            var b = this.l;\r\n            b !== a &&\r\n              (A(a, \"object\", X, \"modelData\"),\r\n              (this.l = a),\r\n              this.g(\"modelData\", b, a),\r\n              this.Fa(a));\r\n          },\r\n        },\r\n        undoManager: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.w;\r\n          },\r\n          set: function (a) {\r\n            var b = this.w;\r\n            b !== a &&\r\n              (w(a, Ie, X, \"undoManager\"),\r\n              null !== b && b.ly(this),\r\n              (this.w = a),\r\n              null !== a && a.Bx(this));\r\n          },\r\n        },\r\n        skipsUndoManager: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.wh;\r\n          },\r\n          set: function (a) {\r\n            A(a, \"boolean\", X, \"skipsUndoManager\");\r\n            this.wh = a;\r\n          },\r\n        },\r\n        nodeKeyProperty: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Fi;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Fi;\r\n            b !== a &&\r\n              (pr(a, X, \"nodeKeyProperty\"),\r\n              \"\" === a &&\r\n                v(\"Model.nodeKeyProperty may not be the empty string\"),\r\n              0 < this.hb.count &&\r\n                v(\r\n                  \"Cannot set Model.nodeKeyProperty when there is existing node data\"\r\n                ),\r\n              (this.Fi = a),\r\n              this.g(\"nodeKeyProperty\", b, a));\r\n          },\r\n        },\r\n        makeUniqueKeyFunction: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Il;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Il;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", X, \"makeUniqueKeyFunction\"),\r\n              (this.Il = a),\r\n              this.g(\"makeUniqueKeyFunction\", b, a));\r\n          },\r\n        },\r\n        nodeDataArray: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.vc;\r\n          },\r\n          set: function (a) {\r\n            var b = this.vc;\r\n            if (b !== a) {\r\n              Ha(a, X, \"nodeDataArray\");\r\n              this.hb.clear();\r\n              this.vw();\r\n              for (var c = a.length, d = 0; d < c; d++) {\r\n                var e = a[d];\r\n                if (!Fa(e)) {\r\n                  v(\"Model.nodeDataArray must only contain Objects, not: \" + e);\r\n                  return;\r\n                }\r\n                ub(e);\r\n              }\r\n              this.vc = a;\r\n              d = new G();\r\n              for (e = 0; e < c; e++) {\r\n                var f = a[e],\r\n                  g = this.pa(f);\r\n                void 0 === g\r\n                  ? d.add(f)\r\n                  : null !== this.hb.K(g)\r\n                  ? d.add(f)\r\n                  : this.hb.add(g, f);\r\n              }\r\n              for (d = d.iterator; d.next(); )\r\n                (e = d.value),\r\n                  this.Bt(e),\r\n                  (f = this.pa(e)),\r\n                  void 0 !== f && this.hb.add(f, e);\r\n              or(this, \"nodeDataArray\", De, \"nodeDataArray\", this, b, a);\r\n              for (b = 0; b < c; b++) (d = a[b]), this.Nm(d), this.Mm(d);\r\n              this.jv();\r\n              Array.isArray(a) || (this.isReadOnly = !0);\r\n            }\r\n          },\r\n        },\r\n        copyNodeDataFunction: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Xk;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Xk;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", X, \"copyNodeDataFunction\"),\r\n              (this.Xk = a),\r\n              this.g(\"copyNodeDataFunction\", b, a));\r\n          },\r\n        },\r\n        copiesArrays: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.vn;\r\n          },\r\n          set: function (a) {\r\n            var b = this.vn;\r\n            b !== a &&\r\n              (null !== a && A(a, \"boolean\", X, \"copiesArrays\"),\r\n              (this.vn = a),\r\n              this.g(\"copiesArrays\", b, a));\r\n          },\r\n        },\r\n        copiesArrayObjects: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.un;\r\n          },\r\n          set: function (a) {\r\n            var b = this.un;\r\n            b !== a &&\r\n              (null !== a && A(a, \"boolean\", X, \"copiesArrayObjects\"),\r\n              (this.un = a),\r\n              this.g(\"copiesArrayObjects\", b, a));\r\n          },\r\n        },\r\n        copiesKey: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.xn;\r\n          },\r\n          set: function (a) {\r\n            var b = this.xn;\r\n            b !== a &&\r\n              (null !== a && A(a, \"boolean\", X, \"copiesKey\"),\r\n              (this.xn = a),\r\n              this.g(\"copiesKey\", b, a));\r\n          },\r\n        },\r\n        afterCopyFunction: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.en;\r\n          },\r\n          set: function (a) {\r\n            var b = this.en;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", X, \"afterCopyFunction\"),\r\n              (this.en = a),\r\n              this.g(\"afterCopyFunction\", b, a));\r\n          },\r\n        },\r\n        nodeCategoryProperty: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Oj;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Oj;\r\n            b !== a &&\r\n              (pr(a, X, \"nodeCategoryProperty\"),\r\n              (this.Oj = a),\r\n              this.g(\"nodeCategoryProperty\", b, a));\r\n          },\r\n        },\r\n      });\r\n      ma.Object.defineProperties(X, {\r\n        type: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return \"Model\";\r\n          },\r\n        },\r\n      });\r\n      X.prototype.setCategoryForNodeData = X.prototype.Pq;\r\n      X.prototype.getCategoryForNodeData = X.prototype.ot;\r\n      X.prototype.removeArrayItem = X.prototype.Yv;\r\n      X.prototype.insertArrayItem = X.prototype.rt;\r\n      X.prototype.addArrayItem = X.prototype.Ny;\r\n      X.prototype.assignAllDataProperties = X.prototype.dk;\r\n      X.prototype.set = X.prototype.set;\r\n      X.prototype.clearUnresolvedReferences = X.prototype.jv;\r\n      X.prototype.mergeNodeDataArray = X.prototype.sA;\r\n      X.prototype.removeNodeDataCollection = X.prototype.BA;\r\n      X.prototype.removeNodeData = X.prototype.Km;\r\n      X.prototype.addNodeDataCollection = X.prototype.Ry;\r\n      X.prototype.addNodeData = X.prototype.xf;\r\n      X.prototype.makeNodeDataKeyUnique = X.prototype.Bt;\r\n      X.prototype.findNodeDataForKey = X.prototype.Ob;\r\n      X.prototype.containsNodeData = X.prototype.kb;\r\n      X.prototype.setKeyForNodeData = X.prototype.Rm;\r\n      X.prototype.getKeyForNodeData = X.prototype.pa;\r\n      X.prototype.updateTargetBindings = X.prototype.Fa;\r\n      X.prototype.commit = X.prototype.commit;\r\n      X.prototype.rollbackTransaction = X.prototype.Lf;\r\n      X.prototype.commitTransaction = X.prototype.Za;\r\n      X.prototype.startTransaction = X.prototype.Aa;\r\n      X.prototype.raiseDataChanged = X.prototype.Ht;\r\n      X.prototype.raiseChanged = X.prototype.g;\r\n      X.prototype.raiseChangedEvent = X.prototype.eb;\r\n      X.prototype.removeChangedListener = X.prototype.Ek;\r\n      X.prototype.addChangedListener = X.prototype.Jh;\r\n      X.prototype.writeJsonValue = X.prototype.Um;\r\n      X.prototype.replaceJsonObjects = X.prototype.Lm;\r\n      X.prototype.applyIncrementalJSON = X.prototype.Vy;\r\n      X.prototype.applyIncrementalJson = X.prototype.Ex;\r\n      X.prototype.toJSON = X.prototype.toJSON;\r\n      X.prototype.toJson = X.prototype.Sq;\r\n      X.prototype.toIncrementalJSON = X.prototype.MA;\r\n      X.prototype.toIncrementalJson = X.prototype.yy;\r\n      X.prototype.computeJsonDifference = X.prototype.bz;\r\n      X.prototype.toIncrementalData = X.prototype.LA;\r\n      X.prototype.clear = X.prototype.clear;\r\n      var rr = !1,\r\n        sr = {};\r\n      X.className = \"Model\";\r\n      X.fromJSON = X.fromJson = function (a, b) {\r\n        void 0 === b && (b = null);\r\n        null !== b && w(b, X, X, \"fromJson:model\");\r\n        var c = null;\r\n        if (\"string\" === typeof a)\r\n          try {\r\n            c = pa.JSON.parse(a);\r\n          } catch (f) {\r\n            F && Ca(\"JSON.parse error: \" + f.toString());\r\n          }\r\n        else\r\n          \"object\" === typeof a\r\n            ? (c = a)\r\n            : v(\"Unable to construct a Model from: \" + a);\r\n        if (null === b) {\r\n          a = null;\r\n          var d = c[\"class\"];\r\n          if (\"string\" === typeof d)\r\n            try {\r\n              var e = null;\r\n              0 === d.indexOf(\"go.\")\r\n                ? ((d = d.substr(3)), (e = mr(d)))\r\n                : ((e = mr(d)), null === e && (e = pa[d]));\r\n              \"function\" === typeof e && (a = new e());\r\n            } catch (f) {}\r\n          null === a || a instanceof X\r\n            ? (b = a)\r\n            : v(\"Unable to construct a Model of declared class: \" + c[\"class\"]);\r\n        }\r\n        null === b && (b = X.constructGraphLinksModel());\r\n        b.Kq(c);\r\n        b.Wv(c);\r\n        return b;\r\n      };\r\n      X.safePropertyValue = Fn;\r\n      X.safePropertySet = gk;\r\n      sr.Brush = Il;\r\n      sr.ChangedEvent = Ce;\r\n      sr.Geometry = Gd;\r\n      sr.Margin = lc;\r\n      sr.Panel = V;\r\n      sr.Point = J;\r\n      sr.Rect = L;\r\n      sr.Size = Jb;\r\n      sr.Spot = M;\r\n      sr.Transaction = He;\r\n      sr.UndoManager = Ie;\r\n\r\n      function Yi(a, b, c) {\r\n        fb(this);\r\n        this.s = !1;\r\n        void 0 === a ? (a = \"\") : A(a, \"string\", Yi, \"constructor:targetprop\");\r\n        void 0 === b ? (b = a) : A(b, \"string\", Yi, \"constructor:sourceprop\");\r\n        void 0 === c\r\n          ? (c = null)\r\n          : null !== c && A(c, \"function\", Yi, \"constructor:conv\");\r\n        this.l = -1;\r\n        this.hd = null;\r\n        this.gm = a;\r\n        this.fm = this.Up = 0;\r\n        this.Os = null;\r\n        this.mo = !1;\r\n        this.Yl = b;\r\n        this.tn = c;\r\n        this.Io = tr;\r\n        this.nn = null;\r\n        this.qu = new H();\r\n      }\r\n      Yi.prototype.copy = function () {\r\n        var a = new Yi();\r\n        a.gm = this.gm;\r\n        a.Up = this.Up;\r\n        a.fm = this.fm;\r\n        a.Os = this.Os;\r\n        a.mo = this.mo;\r\n        a.Yl = this.Yl;\r\n        a.tn = this.tn;\r\n        a.Io = this.Io;\r\n        a.nn = this.nn;\r\n        return a;\r\n      };\r\n      t = Yi.prototype;\r\n      t.jb = function (a) {\r\n        a.classType === Yi ? (this.mode = a) : Ba(this, a);\r\n      };\r\n      t.toString = function () {\r\n        return (\r\n          \"Binding(\" +\r\n          this.targetProperty +\r\n          \":\" +\r\n          this.sourceProperty +\r\n          (-1 !== this.pj ? \" \" + this.pj : \"\") +\r\n          \" \" +\r\n          this.mode.name +\r\n          \")\"\r\n        );\r\n      };\r\n      t.freeze = function () {\r\n        this.s = !0;\r\n        return this;\r\n      };\r\n      t.ka = function () {\r\n        this.s = !1;\r\n        return this;\r\n      };\r\n      t.by = function (a) {\r\n        void 0 === a && (a = null);\r\n        null !== a && A(a, \"function\", Yi, \"makeTwoWay\");\r\n        this.mode = xn;\r\n        this.backConverter = a;\r\n        return this;\r\n      };\r\n      t.Gq = function (a) {\r\n        void 0 === a && (a = \"\");\r\n        F && A(a, \"string\", Yi, \"ofObject:srcname\");\r\n        this.sourceName = a;\r\n        this.isToModel = !1;\r\n        return this;\r\n      };\r\n      t.uA = function () {\r\n        this.sourceName = null;\r\n        this.isToModel = !0;\r\n        return this;\r\n      };\r\n\r\n      function vl(a, b, c) {\r\n        a = a.sourceName;\r\n        return null === a || \"\" === a\r\n          ? b\r\n          : \"/\" === a\r\n          ? c.part\r\n          : \".\" === a\r\n          ? c\r\n          : \"..\" === a\r\n          ? c.panel\r\n          : b.cb(a);\r\n      }\r\n      t.ww = function (a, b, c) {\r\n        var d = this.Yl;\r\n        if (void 0 === c || \"\" === d || d === c) {\r\n          c = this.gm;\r\n          var e = this.tn;\r\n          if (null === e && \"\" === c)\r\n            Ca(\r\n              \"Binding error: target property is the empty string: \" +\r\n                this.toString()\r\n            );\r\n          else {\r\n            F &&\r\n              \"string\" === typeof c &&\r\n              (\"function\" !== typeof a.setAttribute &&\r\n              0 < c.length &&\r\n              \"_\" !== c[0] &&\r\n              !Qa(a, c)\r\n                ? Ca(\r\n                    \"Binding error: undefined target property: \" +\r\n                      c +\r\n                      \" on \" +\r\n                      a.toString()\r\n                  )\r\n                : \"name\" === c &&\r\n                  a instanceof N &&\r\n                  Ca(\r\n                    \"Binding error: cannot modify GraphObject.name on \" +\r\n                      a.toString()\r\n                  ));\r\n            var f = b;\r\n            \"\" !== d && (f = Fn(b, d));\r\n            if (void 0 !== f)\r\n              if (null === e) \"\" !== c && gk(a, c, f);\r\n              else\r\n                try {\r\n                  if (\"\" !== c) {\r\n                    var g = e(f, a);\r\n                    F &&\r\n                      void 0 === g &&\r\n                      Ca(\r\n                        'Binding warning: conversion function returned undefined when setting target property \"' +\r\n                          c +\r\n                          '\" on ' +\r\n                          a.toString() +\r\n                          \", function is: \" +\r\n                          e\r\n                      );\r\n                    gk(a, c, g);\r\n                  } else e(f, a);\r\n                } catch (h) {\r\n                  F &&\r\n                    Ca(\r\n                      \"Binding error: \" +\r\n                        h.toString() +\r\n                        ' setting target property \"' +\r\n                        c +\r\n                        '\" on ' +\r\n                        a.toString() +\r\n                        \" with conversion function: \" +\r\n                        e\r\n                    );\r\n                }\r\n          }\r\n        }\r\n      };\r\n      t.Wq = function (a, b, c, d) {\r\n        if (this.Io === xn) {\r\n          var e = this.gm;\r\n          if (void 0 === c || e === c) {\r\n            c = this.Yl;\r\n            var f = this.nn,\r\n              g = a;\r\n            \"\" !== e && (g = Fn(a, e));\r\n            if (void 0 !== g && !this.qu.contains(a))\r\n              try {\r\n                this.qu.add(a);\r\n                var h = null !== d ? d.diagram : null,\r\n                  k = null !== h ? h.model : null;\r\n                if (null === f)\r\n                  if (\"\" !== c)\r\n                    null !== k\r\n                      ? (F &&\r\n                          k.nodeKeyProperty === c &&\r\n                          k.kb(b) &&\r\n                          Ca(\r\n                            \"Binding error: cannot have TwoWay Binding on node data key property: \" +\r\n                              this.toString()\r\n                          ),\r\n                        k.setDataProperty(b, c, g))\r\n                      : gk(b, c, g);\r\n                  else {\r\n                    if (\r\n                      null !== k &&\r\n                      null !== d &&\r\n                      0 <= d.itemIndex &&\r\n                      null !== d.panel &&\r\n                      Array.isArray(d.panel.itemArray)\r\n                    ) {\r\n                      var l = d.itemIndex,\r\n                        m = d.panel.itemArray;\r\n                      k.Yv(m, l);\r\n                      k.rt(m, l, g);\r\n                    }\r\n                  }\r\n                else\r\n                  try {\r\n                    if (\"\" !== c) {\r\n                      var n = f(g, b, k);\r\n                      null !== k\r\n                        ? (F &&\r\n                            (k.nodeKeyProperty === c &&\r\n                              k.kb(b) &&\r\n                              Ca(\r\n                                \"Binding error: cannot have TwoWay Binding on node data key property: \" +\r\n                                  this.toString()\r\n                              ),\r\n                            void 0 === n &&\r\n                              Ca(\r\n                                'Binding warning: conversion function returned undefined when setting source property \"' +\r\n                                  c +\r\n                                  '\" on ' +\r\n                                  b.toString() +\r\n                                  \", function is: \" +\r\n                                  f\r\n                              )),\r\n                          k.setDataProperty(b, c, n))\r\n                        : gk(b, c, n);\r\n                    } else {\r\n                      var p = f(g, b, k);\r\n                      if (\r\n                        void 0 !== p &&\r\n                        null !== k &&\r\n                        null !== d &&\r\n                        0 <= d.itemIndex &&\r\n                        null !== d.panel &&\r\n                        Array.isArray(d.panel.itemArray)\r\n                      ) {\r\n                        var r = d.itemIndex,\r\n                          q = d.panel.itemArray;\r\n                        k.Yv(q, r);\r\n                        k.rt(q, r, p);\r\n                      }\r\n                    }\r\n                  } catch (u) {\r\n                    F &&\r\n                      Ca(\r\n                        \"Binding error: \" +\r\n                          u.toString() +\r\n                          ' setting source property \"' +\r\n                          c +\r\n                          '\" on ' +\r\n                          b.toString() +\r\n                          \" with conversion function: \" +\r\n                          f\r\n                      );\r\n                  }\r\n              } finally {\r\n                this.qu.remove(a);\r\n              }\r\n          }\r\n        }\r\n      };\r\n      ma.Object.defineProperties(Yi.prototype, {\r\n        pj: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.l;\r\n          },\r\n          set: function (a) {\r\n            this.s && va(this);\r\n            A(a, \"number\", Yi, \"targetId\");\r\n            this.l = a;\r\n          },\r\n        },\r\n        targetProperty: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.gm;\r\n          },\r\n          set: function (a) {\r\n            this.s && va(this);\r\n            A(a, \"string\", Yi, \"targetProperty\");\r\n            this.gm = a;\r\n          },\r\n        },\r\n        sourceName: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Os;\r\n          },\r\n          set: function (a) {\r\n            this.s && va(this);\r\n            null !== a && A(a, \"string\", Yi, \"sourceName\");\r\n            this.Os = a;\r\n            null !== a && (this.mo = !1);\r\n          },\r\n        },\r\n        isToModel: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.mo;\r\n          },\r\n          set: function (a) {\r\n            this.s && va(this);\r\n            A(a, \"boolean\", Yi, \"isToModel\");\r\n            this.mo = a;\r\n          },\r\n        },\r\n        sourceProperty: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Yl;\r\n          },\r\n          set: function (a) {\r\n            this.s && va(this);\r\n            A(a, \"string\", Yi, \"sourceProperty\");\r\n            this.Yl = a;\r\n          },\r\n        },\r\n        converter: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.tn;\r\n          },\r\n          set: function (a) {\r\n            this.s && va(this);\r\n            null !== a && A(a, \"function\", Yi, \"converter\");\r\n            this.tn = a;\r\n          },\r\n        },\r\n        backConverter: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.nn;\r\n          },\r\n          set: function (a) {\r\n            this.s && va(this);\r\n            null !== a && A(a, \"function\", Yi, \"backConverter\");\r\n            this.nn = a;\r\n          },\r\n        },\r\n        mode: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Io;\r\n          },\r\n          set: function (a) {\r\n            this.s && va(this);\r\n            hb(a, Yi, Yi, \"mode\");\r\n            this.Io = a;\r\n          },\r\n        },\r\n      });\r\n      Yi.prototype.updateSource = Yi.prototype.Wq;\r\n      Yi.prototype.updateTarget = Yi.prototype.ww;\r\n      Yi.prototype.ofModel = Yi.prototype.uA;\r\n      Yi.prototype.ofObject = Yi.prototype.Gq;\r\n      Yi.prototype.makeTwoWay = Yi.prototype.by;\r\n      var tr = new E(Yi, \"OneWay\", 1),\r\n        xn = new E(Yi, \"TwoWay\", 2);\r\n      Yi.className = \"Binding\";\r\n      Yi.parseEnum = function (a, b) {\r\n        A(a, \"function\", Yi, \"parseEnum:ctor\");\r\n        hb(b, a, Yi, \"parseEnum:defval\");\r\n        return function (c) {\r\n          c = gb(a, c);\r\n          return null === c ? b : c;\r\n        };\r\n      };\r\n      Yi.toString = Pa;\r\n      Yi.OneWay = tr;\r\n      Yi.TwoWay = xn;\r\n\r\n      function ur(a, b) {\r\n        X.call(this);\r\n        this.Vt = ',\\n  \"insertedLinkKeys\": ';\r\n        this.Hw = ',\\n  \"modifiedLinkData\": ';\r\n        this.Xt = ',\\n  \"removedLinkKeys\": ';\r\n        F &&\r\n          2 < arguments.length &&\r\n          v(\r\n            \"GraphLinksModel constructor can only take two optional arguments, the Array of node data and the Array of link data.\"\r\n          );\r\n        this.Uc = [];\r\n        this.hg = new H();\r\n        this.sb = new Db();\r\n        this.Bi = \"\";\r\n        this.sj = this.Wk = this.Jl = null;\r\n        this.df = \"from\";\r\n        this.ef = \"to\";\r\n        this.Lj = this.Kj = \"\";\r\n        this.Jj = \"category\";\r\n        this.Rd = \"\";\r\n        this.Nl = \"isGroup\";\r\n        this.ze = \"group\";\r\n        this.wn = !1;\r\n        void 0 !== a && (this.nodeDataArray = a);\r\n        void 0 !== b && (this.linkDataArray = b);\r\n      }\r\n      la(ur, X);\r\n      ur.constructGraphLinksModel = X.constructGraphLinksModel;\r\n      ur.prototype.cloneProtected = function (a) {\r\n        X.prototype.cloneProtected.call(this, a);\r\n        a.Bi = this.Bi;\r\n        a.Jl = this.Jl;\r\n        a.Wk = this.Wk;\r\n        a.df = this.df;\r\n        a.ef = this.ef;\r\n        a.Kj = this.Kj;\r\n        a.Lj = this.Lj;\r\n        a.Jj = this.Jj;\r\n        a.Rd = this.Rd;\r\n        a.Nl = this.Nl;\r\n        a.ze = this.ze;\r\n        a.wn = this.wn;\r\n      };\r\n      t = ur.prototype;\r\n      t.clear = function () {\r\n        X.prototype.clear.call(this);\r\n        this.Uc = [];\r\n        this.sb.clear();\r\n        this.hg.clear();\r\n      };\r\n      t.toString = function (a) {\r\n        void 0 === a && (a = 0);\r\n        if (2 <= a) return this.Sq();\r\n        var b = (\"\" !== this.name ? this.name : \"\") + \" GraphLinksModel\";\r\n        if (0 < a) {\r\n          b += \"\\n node data:\";\r\n          a = this.nodeDataArray;\r\n          var c = a.length,\r\n            d;\r\n          for (d = 0; d < c; d++) {\r\n            var e = a[d];\r\n            b += \" \" + this.pa(e) + \":\" + Pa(e);\r\n          }\r\n          b += \"\\n link data:\";\r\n          a = this.linkDataArray;\r\n          c = a.length;\r\n          for (d = 0; d < c; d++)\r\n            (e = a[d]),\r\n              (b += \" \" + Oq(this, e, !0) + \"--\\x3e\" + Oq(this, e, !1));\r\n        }\r\n        return b;\r\n      };\r\n      t.Aw = function (a, b) {\r\n        F &&\r\n          \"\" === this.linkKeyProperty &&\r\n          v(\r\n            \"GraphLinksModel.linkKeyProperty must not be an empty string for .toIncrementalData() to succeed.\"\r\n          );\r\n        var c = X.prototype.Aw.call(this, a, b),\r\n          d = this,\r\n          e = new H(),\r\n          f = new H(),\r\n          g = new H(),\r\n          h = this.Uh;\r\n        a.changes.each(function (a) {\r\n          a.model === d &&\r\n            (\"linkDataArray\" === a.modelChange\r\n              ? a.change === Fe\r\n                ? e.add(a.newValue)\r\n                : a.change === Ge && g.add(a.oldValue)\r\n              : d.kd(a.object)\r\n              ? f.add(a.object)\r\n              : null !== a.object &&\r\n                (null !== a.object && h && h.contains(a.object)\r\n                  ? h.get(a.object).each(function (a) {\r\n                      d.kd(a) && f.add(a);\r\n                    })\r\n                  : vr(d, a.object).each(function (a) {\r\n                      f.add(a);\r\n                    })));\r\n        });\r\n        var k = new H();\r\n        e.each(function (a) {\r\n          k.add(d.Zb(a));\r\n          b || f.add(a);\r\n        });\r\n        var l = new H();\r\n        g.each(function (a) {\r\n          l.add(d.Zb(a));\r\n          b && f.add(a);\r\n        });\r\n        a = d.cloneDeep(f.sa());\r\n        0 < k.count &&\r\n          (null === c && (c = {}),\r\n          b ? (c.removedLinkKeys = k.sa()) : (c.insertedLinkKeys = k.sa()));\r\n        0 < a.length && (null === c && (c = {}), (c.modifiedLinkData = a));\r\n        0 < l.count &&\r\n          (null === c && (c = {}),\r\n          b ? (c.insertedLinkKeys = l.sa()) : (c.removedLinkKeys = l.sa()));\r\n        return c;\r\n      };\r\n      t.Ik = function () {\r\n        var a = X.prototype.Ik.call(this),\r\n          b = \"\";\r\n        \"category\" !== this.linkCategoryProperty &&\r\n          \"string\" === typeof this.linkCategoryProperty &&\r\n          (b +=\r\n            ',\\n  \"linkCategoryProperty\": ' +\r\n            this.quote(this.linkCategoryProperty));\r\n        \"\" !== this.linkKeyProperty &&\r\n          \"string\" === typeof this.linkKeyProperty &&\r\n          (b += ',\\n  \"linkKeyProperty\": ' + this.quote(this.linkKeyProperty));\r\n        \"from\" !== this.linkFromKeyProperty &&\r\n          \"string\" === typeof this.linkFromKeyProperty &&\r\n          (b +=\r\n            ',\\n  \"linkFromKeyProperty\": ' +\r\n            this.quote(this.linkFromKeyProperty));\r\n        \"to\" !== this.linkToKeyProperty &&\r\n          \"string\" === typeof this.linkToKeyProperty &&\r\n          (b +=\r\n            ',\\n  \"linkToKeyProperty\": ' + this.quote(this.linkToKeyProperty));\r\n        \"\" !== this.linkFromPortIdProperty &&\r\n          \"string\" === typeof this.linkFromPortIdProperty &&\r\n          (b +=\r\n            ',\\n  \"linkFromPortIdProperty\": ' +\r\n            this.quote(this.linkFromPortIdProperty));\r\n        \"\" !== this.linkToPortIdProperty &&\r\n          \"string\" === typeof this.linkToPortIdProperty &&\r\n          (b +=\r\n            ',\\n  \"linkToPortIdProperty\": ' +\r\n            this.quote(this.linkToPortIdProperty));\r\n        \"\" !== this.linkLabelKeysProperty &&\r\n          \"string\" === typeof this.linkLabelKeysProperty &&\r\n          (b +=\r\n            ',\\n  \"linkLabelKeysProperty\": ' +\r\n            this.quote(this.linkLabelKeysProperty));\r\n        \"isGroup\" !== this.nodeIsGroupProperty &&\r\n          \"string\" === typeof this.nodeIsGroupProperty &&\r\n          (b +=\r\n            ',\\n  \"nodeIsGroupProperty\": ' +\r\n            this.quote(this.nodeIsGroupProperty));\r\n        \"group\" !== this.nodeGroupKeyProperty &&\r\n          \"string\" === typeof this.nodeGroupKeyProperty &&\r\n          (b +=\r\n            ',\\n  \"nodeGroupKeyProperty\": ' +\r\n            this.quote(this.nodeGroupKeyProperty));\r\n        return a + b;\r\n      };\r\n      t.Kq = function (a) {\r\n        X.prototype.Kq.call(this, a);\r\n        a.linkKeyProperty && (this.linkKeyProperty = a.linkKeyProperty);\r\n        a.linkFromKeyProperty &&\r\n          (this.linkFromKeyProperty = a.linkFromKeyProperty);\r\n        a.linkToKeyProperty && (this.linkToKeyProperty = a.linkToKeyProperty);\r\n        a.linkFromPortIdProperty &&\r\n          (this.linkFromPortIdProperty = a.linkFromPortIdProperty);\r\n        a.linkToPortIdProperty &&\r\n          (this.linkToPortIdProperty = a.linkToPortIdProperty);\r\n        a.linkCategoryProperty &&\r\n          (this.linkCategoryProperty = a.linkCategoryProperty);\r\n        a.linkLabelKeysProperty &&\r\n          (this.linkLabelKeysProperty = a.linkLabelKeysProperty);\r\n        a.nodeIsGroupProperty &&\r\n          (this.nodeIsGroupProperty = a.nodeIsGroupProperty);\r\n        a.nodeGroupKeyProperty &&\r\n          (this.nodeGroupKeyProperty = a.nodeGroupKeyProperty);\r\n      };\r\n      t.Bw = function () {\r\n        var a = X.prototype.Bw.call(this),\r\n          b = ',\\n  \"linkDataArray\": ' + gr(this, this.linkDataArray, !0);\r\n        return a + b;\r\n      };\r\n      t.Wv = function (a) {\r\n        X.prototype.Wv.call(this, a);\r\n        a = a.linkDataArray;\r\n        Array.isArray(a) && (this.Lm(a), (this.linkDataArray = a));\r\n      };\r\n      t.Xq = function (a) {\r\n        if (!(a instanceof ur))\r\n          return (\r\n            v(\r\n              \"Model.computeJsonDifference: newmodel must be a GraphLinksModel\"\r\n            ),\r\n            \"\"\r\n          );\r\n        F &&\r\n          \"\" === this.linkKeyProperty &&\r\n          v(\r\n            \"GraphLinksModel.linkKeyProperty must not be an empty string for .computeJsonDifference() to succeed.\"\r\n          );\r\n        var b = X.prototype.Xq.call(this, a);\r\n        ir(this, a, \"linkKeyProperty\");\r\n        ir(this, a, \"linkFromKeyProperty\");\r\n        ir(this, a, \"linkToKeyProperty\");\r\n        ir(this, a, \"linkLabelKeysProperty\");\r\n        ir(this, a, \"nodeIsGroupProperty\");\r\n        ir(this, a, \"nodeGroupKeyProperty\");\r\n        for (\r\n          var c = new H(),\r\n            d = new H(),\r\n            e = new H().addAll(this.sb.iteratorKeys),\r\n            f = new Db(),\r\n            g = a.linkDataArray,\r\n            h = g.length,\r\n            k = 0;\r\n          k < h;\r\n          k++\r\n        ) {\r\n          var l = g[k],\r\n            m = a.Zb(l);\r\n          if (void 0 !== m) {\r\n            e.remove(m);\r\n            var n = this.Ig(m);\r\n            null === n ? (c.add(m), d.add(l)) : hr(this, n, l, f) || d.add(l);\r\n          } else this.Dq(l), (m = this.Zb(l)), c.add(m), d.add(l);\r\n        }\r\n        a = b;\r\n        0 < c.count && (a += this.Vt + gr(this, c.sa(), !0));\r\n        0 < d.count && (a += this.Hw + gr(this, d.sa(), !0));\r\n        0 < e.count && (a += this.Xt + gr(this, e.sa(), !0));\r\n        return a;\r\n      };\r\n\r\n      function vr(a, b) {\r\n        for (var c = new H(), d = 0; d < a.linkDataArray.length; d++) {\r\n          var e = a.linkDataArray[d];\r\n          kr(a, b, e, e, c);\r\n        }\r\n        return c;\r\n      }\r\n      t.zw = function (a, b) {\r\n        F &&\r\n          \"\" === this.linkKeyProperty &&\r\n          v(\r\n            \"GraphLinksModel.linkKeyProperty must not be an empty string for .toIncrementalJson() to succeed.\"\r\n          );\r\n        var c = X.prototype.zw.call(this, a, b),\r\n          d = this,\r\n          e = new H(),\r\n          f = new H(),\r\n          g = new H(),\r\n          h = this.Uh;\r\n        a.changes.each(function (a) {\r\n          a.model === d &&\r\n            (\"linkDataArray\" === a.modelChange\r\n              ? a.change === Fe\r\n                ? e.add(a.newValue)\r\n                : a.change === Ge && g.add(a.oldValue)\r\n              : d.kd(a.object)\r\n              ? f.add(a.object)\r\n              : null !== a.object &&\r\n                (null !== a.object && h && h.contains(a.object)\r\n                  ? h.get(a.object).each(function (a) {\r\n                      d.kd(a) && f.add(a);\r\n                    })\r\n                  : vr(d, a.object).each(function (a) {\r\n                      f.add(a);\r\n                    })));\r\n        });\r\n        var k = new H();\r\n        e.each(function (a) {\r\n          k.add(d.Zb(a));\r\n          b || f.add(a);\r\n        });\r\n        var l = new H();\r\n        g.each(function (a) {\r\n          l.add(d.Zb(a));\r\n          b && f.add(a);\r\n        });\r\n        a = c;\r\n        0 < k.count && (a += (b ? this.Xt : this.Vt) + gr(this, k.sa(), !0));\r\n        0 < f.count && (a += this.Hw + gr(this, f.sa(), !0));\r\n        0 < l.count && (a += (b ? this.Vt : this.Xt) + gr(this, l.sa(), !0));\r\n        return a;\r\n      };\r\n      t.Jq = function (a) {\r\n        ((void 0 !== a.linkCategoryProperty &&\r\n          a.linkCategoryProperty !== this.linkCategoryProperty) ||\r\n          (void 0 !== a.linkKeyProperty &&\r\n            a.linkKeyProperty !== this.linkKeyProperty) ||\r\n          (void 0 !== a.linkFromKeyProperty &&\r\n            a.linkFromKeyProperty !== this.linkFromKeyProperty) ||\r\n          (void 0 !== a.linkToKeyProperty &&\r\n            a.linkToKeyProperty !== this.linkToKeyProperty) ||\r\n          (void 0 !== a.linkFromPortIdProperty &&\r\n            a.linkFromPortIdProperty !== this.linkFromPortIdProperty) ||\r\n          (void 0 !== a.linkToPortIdProperty &&\r\n            a.linkToPortIdProperty !== this.linkToPortIdProperty) ||\r\n          (void 0 !== a.linkLabelKeysProperty &&\r\n            a.linkLabelKeysProperty !== this.linkLabelKeysProperty) ||\r\n          (void 0 !== a.nodeIsGroupProperty &&\r\n            a.nodeIsGroupProperty !== this.nodeIsGroupProperty) ||\r\n          (void 0 !== a.nodeGroupKeyProperty &&\r\n            a.nodeGroupKeyProperty !== this.nodeGroupKeyProperty)) &&\r\n          v(\"applyIncrementalJson cannot change Model properties\");\r\n        X.prototype.Jq.call(this, a);\r\n        var b = a.insertedLinkKeys;\r\n        if (Array.isArray(b))\r\n          for (var c = b.length, d = 0; d < c; d++) {\r\n            var e = b[d],\r\n              f = this.Ig(e);\r\n            null === f && ((f = this.lq({})), this.Pt(f, e), this.Ui(f));\r\n          }\r\n        b = a.modifiedLinkData;\r\n        if (Array.isArray(b))\r\n          for (c = b.length, d = 0; d < c; d++)\r\n            if (((e = b[d]), (f = this.Zb(e)), (f = this.Ig(f)), null !== f))\r\n              for (var g in e)\r\n                \"__gohashid\" !== g &&\r\n                  g !== this.linkKeyProperty &&\r\n                  this.setDataProperty(f, g, e[g]);\r\n        a = a.removedLinkKeys;\r\n        if (Array.isArray(a))\r\n          for (g = a.length, b = 0; b < g; b++)\r\n            (c = this.Ig(a[b])), null !== c && this.Jm(c);\r\n      };\r\n      t.ek = function (a, b) {\r\n        if (a.change === Fe) {\r\n          var c = a.newParam;\r\n          if (\"linkDataArray\" === a.modelChange) {\r\n            a = a.newValue;\r\n            if (Fa(a) && \"number\" === typeof c) {\r\n              var d = this.Zb(a);\r\n              b\r\n                ? (this.hg.remove(a),\r\n                  this.Uc[c] === a && this.Uc.splice(c, 1),\r\n                  void 0 !== d && this.sb.remove(d))\r\n                : (this.hg.add(a),\r\n                  this.Uc[c] !== a && this.Uc.splice(c, 0, a),\r\n                  void 0 !== d && this.sb.add(d, a));\r\n            }\r\n            return;\r\n          }\r\n          if (\"linkLabelKeys\" === a.modelChange) {\r\n            d = this.Lg(a.object);\r\n            Array.isArray(d) &&\r\n              \"number\" === typeof c &&\r\n              (b\r\n                ? ((c = d.indexOf(a.newValue)), 0 <= c && d.splice(c, 1))\r\n                : 0 > d.indexOf(a.newValue) && d.splice(c, 0, a.newValue));\r\n            return;\r\n          }\r\n        } else if (a.change === Ge) {\r\n          c = a.oldParam;\r\n          if (\"linkDataArray\" === a.modelChange) {\r\n            a = a.oldValue;\r\n            Fa(a) &&\r\n              \"number\" === typeof c &&\r\n              ((d = this.Zb(a)),\r\n              b\r\n                ? (this.hg.add(a),\r\n                  this.Uc[c] !== a && this.Uc.splice(c, 0, a),\r\n                  void 0 !== d && this.sb.add(d, a))\r\n                : (this.hg.remove(a),\r\n                  this.Uc[c] === a && this.Uc.splice(c, 1),\r\n                  void 0 !== d && this.sb.remove(d)));\r\n            return;\r\n          }\r\n          if (\"linkLabelKeys\" === a.modelChange) {\r\n            d = this.Lg(a.object);\r\n            Array.isArray(d) &&\r\n              \"number\" === typeof c &&\r\n              (b\r\n                ? 0 > d.indexOf(a.newValue) && d.splice(c, 0, a.newValue)\r\n                : ((c = d.indexOf(a.newValue)), 0 <= c && d.splice(c, 1)));\r\n            return;\r\n          }\r\n        }\r\n        X.prototype.ek.call(this, a, b);\r\n      };\r\n      t.Am = function (a) {\r\n        if (void 0 !== a) {\r\n          var b = this.sj;\r\n          if (null !== b) {\r\n            var c = this.Ob(a);\r\n            null === c &&\r\n              ((c = this.copyNodeData(b)),\r\n              gk(c, this.nodeKeyProperty, a),\r\n              this.xf(c));\r\n          }\r\n          return a;\r\n        }\r\n      };\r\n      t.Oz = function (a) {\r\n        return Oq(this, a, !0);\r\n      };\r\n      t.py = function (a, b) {\r\n        Wq(this, a, b, !0);\r\n      };\r\n      t.Uz = function (a) {\r\n        return Oq(this, a, !1);\r\n      };\r\n      t.uy = function (a, b) {\r\n        Wq(this, a, b, !1);\r\n      };\r\n\r\n      function Oq(a, b, c) {\r\n        if (\r\n          null !== b &&\r\n          ((a = c ? a.df : a.ef), \"\" !== a && ((a = Fn(b, a)), void 0 !== a))\r\n        ) {\r\n          if (Qq(a)) return a;\r\n          v(\r\n            (c ? \"FromKey\" : \"ToKey\") +\r\n              \" value for link data \" +\r\n              b +\r\n              \" is not a number or a string: \" +\r\n              a\r\n          );\r\n        }\r\n      }\r\n\r\n      function Wq(a, b, c, d) {\r\n        null === c && (c = void 0);\r\n        void 0 === c ||\r\n          Qq(c) ||\r\n          xa(\r\n            c,\r\n            \"number or string\",\r\n            ur,\r\n            d ? \"setFromKeyForLinkData:key\" : \"setToKeyForLinkData:key\"\r\n          );\r\n        if (null !== b) {\r\n          var e = d ? a.df : a.ef;\r\n          if (\"\" !== e)\r\n            if (((c = a.Am(c)), a.kd(b))) {\r\n              var f = Fn(b, e);\r\n              f !== c &&\r\n                (Uq(a, f, b),\r\n                gk(b, e, c),\r\n                null === a.Ob(c) && Vq(a, c, b),\r\n                or(a, d ? \"linkFromKey\" : \"linkToKey\", De, e, b, f, c),\r\n                \"string\" === typeof e && a.Fa(b, e));\r\n            } else gk(b, e, c);\r\n        }\r\n      }\r\n      t.Pz = function (a) {\r\n        return Nq(this, a, !0);\r\n      };\r\n      t.qy = function (a, b) {\r\n        Xq(this, a, b, !0);\r\n      };\r\n      t.Vz = function (a) {\r\n        return Nq(this, a, !1);\r\n      };\r\n      t.vy = function (a, b) {\r\n        Xq(this, a, b, !1);\r\n      };\r\n\r\n      function Nq(a, b, c) {\r\n        if (null === b) return \"\";\r\n        a = c ? a.Kj : a.Lj;\r\n        if (\"\" === a) return \"\";\r\n        b = Fn(b, a);\r\n        return void 0 === b ? \"\" : b;\r\n      }\r\n\r\n      function Xq(a, b, c, d) {\r\n        A(\r\n          c,\r\n          \"string\",\r\n          ur,\r\n          d\r\n            ? \"setFromPortIdForLinkData:portname\"\r\n            : \"setToPortIdForLinkData:portname\"\r\n        );\r\n        if (null !== b) {\r\n          var e = d ? a.Kj : a.Lj;\r\n          if (\"\" !== e)\r\n            if (a.kd(b)) {\r\n              var f = Fn(b, e);\r\n              void 0 === f && (f = \"\");\r\n              f !== c &&\r\n                (gk(b, e, c),\r\n                or(a, d ? \"linkFromPortId\" : \"linkToPortId\", De, e, b, f, c),\r\n                \"string\" === typeof e && a.Fa(b, e));\r\n            } else gk(b, e, c);\r\n        }\r\n      }\r\n      t.Lg = function (a) {\r\n        if (null === a) return wr;\r\n        var b = this.Rd;\r\n        if (\"\" === b) return wr;\r\n        a = Fn(a, b);\r\n        return void 0 === a ? wr : a;\r\n      };\r\n      t.gw = function (a, b) {\r\n        Ha(b, ur, \"setLabelKeysForLinkData:arr\");\r\n        if (null !== a) {\r\n          var c = this.Rd;\r\n          if (\"\" !== c)\r\n            if (this.kd(a)) {\r\n              var d = Fn(a, c);\r\n              void 0 === d && (d = wr);\r\n              if (d !== b) {\r\n                if (Array.isArray(d))\r\n                  for (var e = d.length, f = 0; f < e; f++) Uq(this, d[f], a);\r\n                gk(a, c, b);\r\n                e = b.length;\r\n                for (f = 0; f < e; f++) {\r\n                  var g = b[f];\r\n                  null === this.Ob(g) && Vq(this, g, a);\r\n                }\r\n                or(this, \"linkLabelKeys\", De, c, a, d, b);\r\n                \"string\" === typeof c && this.Fa(a, c);\r\n              }\r\n            } else gk(a, c, b);\r\n        }\r\n      };\r\n      t.ev = function (a, b) {\r\n        if (\r\n          null !== b &&\r\n          void 0 !== b &&\r\n          (Qq(b) || xa(b, \"number or string\", ur, \"addLabelKeyForLinkData:key\"),\r\n          null !== a)\r\n        ) {\r\n          var c = this.Rd;\r\n          if (\"\" !== c) {\r\n            var d = Fn(a, c);\r\n            if (void 0 === d) (c = []), c.push(b), this.gw(a, c);\r\n            else if (Array.isArray(d)) {\r\n              var e = d.indexOf(b);\r\n              0 <= e ||\r\n                ((e = d.length),\r\n                d.push(b),\r\n                this.kd(a) &&\r\n                  (null === this.Ob(b) && Vq(this, b, a),\r\n                  or(this, \"linkLabelKeys\", Fe, c, a, null, b, null, e)));\r\n            } else\r\n              v(\r\n                c +\r\n                  \" property is not an Array; cannot addLabelKeyForLinkData: \" +\r\n                  a\r\n              );\r\n          }\r\n        }\r\n      };\r\n      t.ky = function (a, b) {\r\n        if (\r\n          null !== b &&\r\n          void 0 !== b &&\r\n          (Qq(b) ||\r\n            xa(b, \"number or string\", ur, \"removeLabelKeyForLinkData:key\"),\r\n          null !== a)\r\n        ) {\r\n          var c = this.Rd;\r\n          if (\"\" !== c) {\r\n            var d = Fn(a, c);\r\n            if (Array.isArray(d)) {\r\n              var e = d.indexOf(b);\r\n              0 > e ||\r\n                (d.splice(e, 1),\r\n                this.kd(a) &&\r\n                  (Uq(this, b, a),\r\n                  or(this, \"linkLabelKeys\", Ge, c, a, b, null, e, null)));\r\n            } else\r\n              void 0 !== d &&\r\n                v(\r\n                  c +\r\n                    \" property is not an Array; cannot removeLabelKeyforLinkData: \" +\r\n                    a\r\n                );\r\n          }\r\n        }\r\n      };\r\n      t.Zb = function (a) {\r\n        if (null !== a) {\r\n          var b = this.Bi;\r\n          if (\"\" !== b && ((b = Fn(a, b)), void 0 !== b)) {\r\n            if (Qq(b)) return b;\r\n            v(\r\n              \"Key value for link data \" +\r\n                a +\r\n                \" is not a number or a string: \" +\r\n                b\r\n            );\r\n          }\r\n        }\r\n      };\r\n      t.Pt = function (a, b) {\r\n        (void 0 !== b && null !== b && Qq(b)) ||\r\n          xa(b, \"number or string\", ur, \"setKeyForLinkData:key\");\r\n        if (null !== a) {\r\n          var c = this.Bi;\r\n          if (\"\" !== c)\r\n            if (this.kd(a)) {\r\n              var d = Fn(a, c);\r\n              d !== b &&\r\n                null === this.Ig(b) &&\r\n                (gk(a, c, b),\r\n                void 0 !== d && this.sb.remove(d),\r\n                this.sb.add(b, a),\r\n                or(this, \"linkKey\", De, c, a, d, b),\r\n                \"string\" === typeof c && this.Fa(a, c));\r\n            } else gk(a, c, b);\r\n        }\r\n      };\r\n      t.Ig = function (a) {\r\n        null === a &&\r\n          v(\"GraphLinksModel.findLinkDataForKey:key must not be null\");\r\n        return void 0 !== a && Qq(a) ? this.sb.K(a) : null;\r\n      };\r\n      t.Dq = function (a) {\r\n        if (null !== a) {\r\n          var b = this.Bi;\r\n          if (\"\" !== b) {\r\n            var c = this.Zb(a);\r\n            if (void 0 === c || this.sb.contains(c)) {\r\n              var d = this.Jl;\r\n              if (\r\n                null !== d &&\r\n                ((c = d(this, a)),\r\n                void 0 !== c && null !== c && !this.sb.contains(c))\r\n              ) {\r\n                gk(a, b, c);\r\n                return;\r\n              }\r\n              if (\"string\" === typeof c) {\r\n                for (d = 2; this.sb.contains(c + d); ) d++;\r\n                gk(a, b, c + d);\r\n              } else if (void 0 === c || \"number\" === typeof c) {\r\n                for (c = -this.sb.count - 1; this.sb.contains(c); ) c--;\r\n                gk(a, b, c);\r\n              } else\r\n                F &&\r\n                  v(\r\n                    \"GraphLinksModel.getKeyForLinkData returned something other than a string or a number: \" +\r\n                      c\r\n                  );\r\n            }\r\n          }\r\n        }\r\n      };\r\n      t.kd = function (a) {\r\n        return null === a ? !1 : this.hg.contains(a);\r\n      };\r\n      t.Ui = function (a) {\r\n        null !== a && (ub(a), this.kd(a) || Sq(this, a, !0));\r\n      };\r\n\r\n      function Sq(a, b, c) {\r\n        if (\"\" !== a.linkKeyProperty) {\r\n          var d = a.Zb(b);\r\n          if (void 0 !== d && a.sb.K(d) === b) return;\r\n          a.Dq(b);\r\n          d = a.Zb(b);\r\n          if (void 0 === d) {\r\n            v(\r\n              \"GraphLinksModel.makeLinkDataKeyUnique failed on \" +\r\n                b +\r\n                \". Data not added to model.\"\r\n            );\r\n            return;\r\n          }\r\n          a.sb.add(d, b);\r\n        }\r\n        a.hg.add(b);\r\n        d = null;\r\n        c && ((d = a.Uc.length), a.Uc.splice(d, 0, b));\r\n        or(a, \"linkDataArray\", Fe, \"linkDataArray\", a, null, b, null, d);\r\n        xr(a, b);\r\n      }\r\n      t.Qy = function (a) {\r\n        if (Array.isArray(a))\r\n          for (var b = a.length, c = 0; c < b; c++) this.Ui(a[c]);\r\n        else for (a = a.iterator; a.next(); ) this.Ui(a.value);\r\n      };\r\n      t.Jm = function (a) {\r\n        null !== a && Rq(this, a, !0);\r\n      };\r\n\r\n      function Rq(a, b, c) {\r\n        a.hg.remove(b);\r\n        var d = a.Zb(b);\r\n        void 0 !== d && a.sb.remove(d);\r\n        d = null;\r\n        if (c) {\r\n          d = a.Uc.indexOf(b);\r\n          if (0 > d) return;\r\n          a.Uc.splice(d, 1);\r\n        }\r\n        or(a, \"linkDataArray\", Ge, \"linkDataArray\", a, b, null, d, null);\r\n        c = Oq(a, b, !0);\r\n        Uq(a, c, b);\r\n        c = Oq(a, b, !1);\r\n        Uq(a, c, b);\r\n        d = a.Lg(b);\r\n        if (Array.isArray(d))\r\n          for (var e = d.length, f = 0; f < e; f++) (c = d[f]), Uq(a, c, b);\r\n      }\r\n      t.zA = function (a) {\r\n        if (Array.isArray(a))\r\n          for (var b = a.length, c = 0; c < b; c++) this.Jm(a[c]);\r\n        else for (a = a.iterator; a.next(); ) this.Jm(a.value);\r\n      };\r\n      t.rA = function (a) {\r\n        F &&\r\n          \"\" === this.linkKeyProperty &&\r\n          v(\r\n            \"GraphLinksModel.linkKeyProperty must not be an empty string for .mergeLinkDataArray() to succeed.\"\r\n          );\r\n        if (Ga(a)) {\r\n          for (\r\n            var b = new H(this.sb.iteratorKeys),\r\n              c = new H(),\r\n              d = a.length,\r\n              e = 0;\r\n            e < d;\r\n            e++\r\n          ) {\r\n            var f = a[e],\r\n              g = this.Zb(f);\r\n            if (void 0 !== g) {\r\n              c.add(g);\r\n              var h = this.Ig(g);\r\n              null !== h\r\n                ? this.dk(h, f)\r\n                : ((h = {}), this.Pt(h, g), this.dk(h, f), this.Ui(h));\r\n            } else this.Ui(f), c.add(this.Zb(f));\r\n          }\r\n          for (a = b.iterator; a.next(); )\r\n            (b = a.value), c.contains(b) || ((b = this.Ig(b)) && this.Jm(b));\r\n        }\r\n      };\r\n\r\n      function xr(a, b) {\r\n        var c = Oq(a, b, !0);\r\n        c = a.Am(c);\r\n        null === a.Ob(c) && Vq(a, c, b);\r\n        c = Oq(a, b, !1);\r\n        c = a.Am(c);\r\n        null === a.Ob(c) && Vq(a, c, b);\r\n        var d = a.Lg(b);\r\n        if (Array.isArray(d))\r\n          for (var e = d.length, f = 0; f < e; f++)\r\n            (c = d[f]), null === a.Ob(c) && Vq(a, c, b);\r\n      }\r\n      t.lq = function (a) {\r\n        if (null === a) return null;\r\n        var b = this.Wk;\r\n        a = null !== b ? b(a, this) : qr(this, a, !0);\r\n        Fa(a) &&\r\n          (fb(a),\r\n          \"\" !== this.df && gk(a, this.df, void 0),\r\n          \"\" !== this.ef && gk(a, this.ef, void 0),\r\n          \"\" !== this.Rd && gk(a, this.Rd, []));\r\n        return a;\r\n      };\r\n      t.wt = function (a) {\r\n        if (null === a) return !1;\r\n        var b = this.Nl;\r\n        return \"\" === b ? !1 : Fn(a, b) ? !0 : !1;\r\n      };\r\n      t.ej = function (a) {\r\n        if (null !== a) {\r\n          var b = this.ze;\r\n          if (\"\" !== b && ((b = Fn(a, b)), void 0 !== b)) {\r\n            if (Qq(b)) return b;\r\n            v(\r\n              \"GroupKey value for node data \" +\r\n                a +\r\n                \" is not a number or a string: \" +\r\n                b\r\n            );\r\n          }\r\n        }\r\n      };\r\n      t.Ot = function (a, b) {\r\n        null === b && (b = void 0);\r\n        void 0 === b ||\r\n          Qq(b) ||\r\n          xa(b, \"number or string\", ur, \"setGroupKeyForNodeData:key\");\r\n        if (null !== a) {\r\n          var c = this.ze;\r\n          if (\"\" !== c)\r\n            if (this.kb(a)) {\r\n              var d = Fn(a, c);\r\n              d !== b &&\r\n                (Uq(this, d, a),\r\n                gk(a, c, b),\r\n                null === this.Ob(b) && Vq(this, b, a),\r\n                or(this, \"nodeGroupKey\", De, c, a, d, b),\r\n                \"string\" === typeof c && this.Fa(a, c));\r\n            } else gk(a, c, b);\r\n        }\r\n      };\r\n      ur.prototype.copyNodeData = function (a) {\r\n        if (null === a) return null;\r\n        a = X.prototype.copyNodeData.call(this, a);\r\n        this.ik ||\r\n          \"\" === this.ze ||\r\n          void 0 === Fn(a, this.ze) ||\r\n          gk(a, this.ze, void 0);\r\n        return a;\r\n      };\r\n      ur.prototype.setDataProperty = function (a, b, c) {\r\n        F &&\r\n          (A(a, \"object\", ur, \"setDataProperty:data\"),\r\n          A(b, \"string\", ur, \"setDataProperty:propname\"),\r\n          \"\" === b &&\r\n            v(\r\n              \"GraphLinksModel.setDataProperty: property name must not be an empty string when setting \" +\r\n                a +\r\n                \" to \" +\r\n                c\r\n            ));\r\n        if (this.kb(a))\r\n          if (b === this.nodeKeyProperty) this.Rm(a, c);\r\n          else {\r\n            if (b === this.nodeCategoryProperty) {\r\n              this.Pq(a, c);\r\n              return;\r\n            }\r\n            if (b === this.nodeGroupKeyProperty) {\r\n              this.Ot(a, c);\r\n              return;\r\n            }\r\n            F &&\r\n              b === this.nodeIsGroupProperty &&\r\n              v(\r\n                \"GraphLinksModel.setDataProperty: property name must not be the nodeIsGroupProperty: \" +\r\n                  b\r\n              );\r\n          }\r\n        else if (this.kd(a)) {\r\n          if (b === this.linkFromKeyProperty) {\r\n            Wq(this, a, c, !0);\r\n            return;\r\n          }\r\n          if (b === this.linkToKeyProperty) {\r\n            Wq(this, a, c, !1);\r\n            return;\r\n          }\r\n          if (b === this.linkFromPortIdProperty) {\r\n            Xq(this, a, c, !0);\r\n            return;\r\n          }\r\n          if (b === this.linkToPortIdProperty) {\r\n            Xq(this, a, c, !1);\r\n            return;\r\n          }\r\n          if (b === this.linkKeyProperty) {\r\n            this.Pt(a, c);\r\n            return;\r\n          }\r\n          if (b === this.linkCategoryProperty) {\r\n            this.Nt(a, c);\r\n            return;\r\n          }\r\n          if (b === this.linkLabelKeysProperty) {\r\n            this.gw(a, c);\r\n            return;\r\n          }\r\n        }\r\n        var d = Fn(a, b);\r\n        d !== c && (gk(a, b, c), this.Ht(a, b, d, c));\r\n      };\r\n      t = ur.prototype;\r\n      t.dk = function (a, b) {\r\n        if (b) {\r\n          var c = this.kb(a),\r\n            d = this.kd(a),\r\n            e;\r\n          for (e in b)\r\n            \"__gohashid\" === e ||\r\n              (c && e === this.nodeKeyProperty) ||\r\n              (d && e === this.linkKeyProperty) ||\r\n              this.setDataProperty(a, e, b[e]);\r\n        }\r\n      };\r\n      t.Nq = function (a, b) {\r\n        X.prototype.Nq.call(this, a, b);\r\n        for (var c = this.hb.iterator; c.next(); ) this.bw(c.value, a, b);\r\n        for (c = this.hg.iterator; c.next(); ) {\r\n          var d = c.value,\r\n            e = a,\r\n            f = b;\r\n          if (Oq(this, d, !0) === e) {\r\n            var g = this.df;\r\n            gk(d, g, f);\r\n            or(this, \"linkFromKey\", De, g, d, e, f);\r\n            \"string\" === typeof g && this.Fa(d, g);\r\n          }\r\n          Oq(this, d, !1) === e &&\r\n            ((g = this.ef),\r\n            gk(d, g, f),\r\n            or(this, \"linkToKey\", De, g, d, e, f),\r\n            \"string\" === typeof g && this.Fa(d, g));\r\n          g = this.Lg(d);\r\n          if (Array.isArray(g))\r\n            for (var h = g.length, k = this.Rd, l = 0; l < h; l++)\r\n              g[l] === e &&\r\n                ((g[l] = f), or(this, \"linkLabelKeys\", Fe, k, d, e, f, l, l));\r\n        }\r\n      };\r\n      t.bw = function (a, b, c) {\r\n        if (this.ej(a) === b) {\r\n          var d = this.ze;\r\n          gk(a, d, c);\r\n          or(this, \"nodeGroupKey\", De, d, a, b, c);\r\n          \"string\" === typeof d && this.Fa(a, d);\r\n        }\r\n      };\r\n      t.vw = function () {\r\n        X.prototype.vw.call(this);\r\n        for (var a = this.linkDataArray, b = a.length, c = 0; c < b; c++)\r\n          xr(this, a[c]);\r\n      };\r\n      t.Nm = function (a) {\r\n        X.prototype.Nm.call(this, a);\r\n        a = this.pa(a);\r\n        var b = Tq(this, a);\r\n        if (null !== b) {\r\n          var c = La();\r\n          for (b = b.iterator; b.next(); ) {\r\n            var d = b.value;\r\n            if (this.kb(d)) {\r\n              if (this.ej(d) === a) {\r\n                var e = this.ze;\r\n                or(this, \"nodeGroupKey\", De, e, d, a, a);\r\n                \"string\" === typeof e && this.Fa(d, e);\r\n                c.push(d);\r\n              }\r\n            } else if (\r\n              (Oq(this, d, !0) === a &&\r\n                ((e = this.df),\r\n                or(this, \"linkFromKey\", De, e, d, a, a),\r\n                \"string\" === typeof e && this.Fa(d, e),\r\n                c.push(d)),\r\n              Oq(this, d, !1) === a &&\r\n                ((e = this.ef),\r\n                or(this, \"linkToKey\", De, e, d, a, a),\r\n                \"string\" === typeof e && this.Fa(d, e),\r\n                c.push(d)),\r\n              (e = this.Lg(d)),\r\n              Array.isArray(e))\r\n            )\r\n              for (var f = e.length, g = this.Rd, h = 0; h < f; h++)\r\n                e[h] === a &&\r\n                  (or(this, \"linkLabelKeys\", Fe, g, d, a, a, h, h), c.push(d));\r\n          }\r\n          for (b = 0; b < c.length; b++) Uq(this, a, c[b]);\r\n          Na(c);\r\n        }\r\n      };\r\n      t.Mm = function (a) {\r\n        X.prototype.Mm.call(this, a);\r\n        var b = this.ej(a);\r\n        null === this.Ob(b) && Vq(this, b, a);\r\n      };\r\n      t.Uq = function (a) {\r\n        X.prototype.Uq.call(this, a);\r\n        var b = this.ej(a);\r\n        Uq(this, b, a);\r\n      };\r\n      t.Cv = function (a) {\r\n        if (null === a) return \"\";\r\n        var b = this.Jj;\r\n        if (\"\" === b) return \"\";\r\n        b = Fn(a, b);\r\n        if (void 0 === b) return \"\";\r\n        if (\"string\" === typeof b) return b;\r\n        v(\r\n          \"getCategoryForLinkData found a non-string category for \" +\r\n            a +\r\n            \": \" +\r\n            b\r\n        );\r\n        return \"\";\r\n      };\r\n      ur.prototype.getLinkCategoryForData = function (a) {\r\n        return this.Cv(a);\r\n      };\r\n      ur.prototype.Nt = function (a, b) {\r\n        A(b, \"string\", ur, \"setCategoryForLinkData:cat\");\r\n        if (null !== a) {\r\n          var c = this.Jj;\r\n          if (\"\" !== c)\r\n            if (this.kd(a)) {\r\n              var d = Fn(a, c);\r\n              void 0 === d && (d = \"\");\r\n              d !== b &&\r\n                (gk(a, c, b),\r\n                or(this, \"linkCategory\", De, c, a, d, b),\r\n                \"string\" === typeof c && this.Fa(a, c));\r\n            } else gk(a, c, b);\r\n        }\r\n      };\r\n      ur.prototype.setLinkCategoryForData = function (a, b) {\r\n        this.Nt(a, b);\r\n      };\r\n      ur.prototype.sk = function () {\r\n        return !0;\r\n      };\r\n      ur.prototype.ym = function () {\r\n        return !0;\r\n      };\r\n      ur.prototype.yt = function () {\r\n        return !0;\r\n      };\r\n      ur.prototype.ij = function () {\r\n        return !0;\r\n      };\r\n      ma.Object.defineProperties(ur.prototype, {\r\n        archetypeNodeData: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.sj;\r\n          },\r\n          set: function (a) {\r\n            var b = this.sj;\r\n            b !== a &&\r\n              (null !== a && A(a, \"object\", ur, \"archetypeNodeData\"),\r\n              (this.sj = a),\r\n              this.g(\"archetypeNodeData\", b, a));\r\n          },\r\n        },\r\n        linkFromKeyProperty: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.df;\r\n          },\r\n          set: function (a) {\r\n            var b = this.df;\r\n            b !== a &&\r\n              (pr(a, ur, \"linkFromKeyProperty\"),\r\n              (this.df = a),\r\n              this.g(\"linkFromKeyProperty\", b, a));\r\n          },\r\n        },\r\n        linkToKeyProperty: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ef;\r\n          },\r\n          set: function (a) {\r\n            var b = this.ef;\r\n            b !== a &&\r\n              (pr(a, ur, \"linkToKeyProperty\"),\r\n              (this.ef = a),\r\n              this.g(\"linkToKeyProperty\", b, a));\r\n          },\r\n        },\r\n        linkFromPortIdProperty: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Kj;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Kj;\r\n            b !== a &&\r\n              (pr(a, ur, \"linkFromPortIdProperty\"),\r\n              !F ||\r\n                (a !== this.linkFromKeyProperty &&\r\n                  a !== this.linkToKeyProperty) ||\r\n                v(\r\n                  \"linkFromPortIdProperty name must not be the same as the GraphLinksModel.linkFromKeyProperty or linkToKeyProperty: \" +\r\n                    a\r\n                ),\r\n              (this.Kj = a),\r\n              this.g(\"linkFromPortIdProperty\", b, a));\r\n          },\r\n        },\r\n        linkToPortIdProperty: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Lj;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Lj;\r\n            b !== a &&\r\n              (pr(a, ur, \"linkToPortIdProperty\"),\r\n              !F ||\r\n                (a !== this.linkFromKeyProperty &&\r\n                  a !== this.linkToKeyProperty) ||\r\n                v(\r\n                  \"linkFromPortIdProperty name must not be the same as the GraphLinksModel.linkFromKeyProperty or linkToKeyProperty: \" +\r\n                    a\r\n                ),\r\n              (this.Lj = a),\r\n              this.g(\"linkToPortIdProperty\", b, a));\r\n          },\r\n        },\r\n        linkLabelKeysProperty: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Rd;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Rd;\r\n            b !== a &&\r\n              (pr(a, ur, \"linkLabelKeysProperty\"),\r\n              (this.Rd = a),\r\n              this.g(\"linkLabelKeysProperty\", b, a));\r\n          },\r\n        },\r\n        linkDataArray: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Uc;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Uc;\r\n            if (b !== a) {\r\n              Ha(a, ur, \"linkDataArray\");\r\n              this.sb.clear();\r\n              for (var c = a.length, d = 0; d < c; d++) {\r\n                var e = a[d];\r\n                if (!Fa(e)) {\r\n                  v(\r\n                    \"GraphLinksModel.linkDataArray must only contain Objects, not: \" +\r\n                      e\r\n                  );\r\n                  return;\r\n                }\r\n                ub(e);\r\n              }\r\n              this.Uc = a;\r\n              if (\"\" !== this.linkKeyProperty) {\r\n                d = new G();\r\n                for (e = 0; e < c; e++) {\r\n                  var f = a[e],\r\n                    g = this.Zb(f);\r\n                  void 0 === g\r\n                    ? d.add(f)\r\n                    : null !== this.sb.K(g)\r\n                    ? d.add(f)\r\n                    : this.sb.add(g, f);\r\n                }\r\n                for (d = d.iterator; d.next(); )\r\n                  (e = d.value),\r\n                    this.Dq(e),\r\n                    (f = this.Zb(e)),\r\n                    void 0 !== f && this.sb.add(f, e);\r\n              }\r\n              d = new H();\r\n              for (e = 0; e < c; e++) d.add(a[e]);\r\n              this.hg = d;\r\n              or(this, \"linkDataArray\", De, \"linkDataArray\", this, b, a);\r\n              for (b = 0; b < c; b++) xr(this, a[b]);\r\n            }\r\n          },\r\n        },\r\n        linkKeyProperty: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Bi;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Bi;\r\n            if (b !== a) {\r\n              pr(a, ur, \"linkKeyProperty\");\r\n              this.Bi = a;\r\n              this.sb.clear();\r\n              for (var c = this.linkDataArray.length, d = 0; d < c; d++) {\r\n                var e = this.linkDataArray[d],\r\n                  f = this.Zb(e);\r\n                void 0 === f && (this.Dq(e), (f = this.Zb(e)));\r\n                void 0 !== f && this.sb.add(f, e);\r\n              }\r\n              this.g(\"linkKeyProperty\", b, a);\r\n            }\r\n          },\r\n        },\r\n        makeUniqueLinkKeyFunction: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Jl;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Jl;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", ur, \"makeUniqueLinkKeyFunction\"),\r\n              (this.Jl = a),\r\n              this.g(\"makeUniqueLinkKeyFunction\", b, a));\r\n          },\r\n        },\r\n        copyLinkDataFunction: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Wk;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Wk;\r\n            b !== a &&\r\n              (null !== a && A(a, \"function\", ur, \"copyLinkDataFunction\"),\r\n              (this.Wk = a),\r\n              this.g(\"copyLinkDataFunction\", b, a));\r\n          },\r\n        },\r\n        nodeIsGroupProperty: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Nl;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Nl;\r\n            b !== a &&\r\n              (pr(a, ur, \"nodeIsGroupProperty\"),\r\n              (this.Nl = a),\r\n              this.g(\"nodeIsGroupProperty\", b, a));\r\n          },\r\n        },\r\n        nodeGroupKeyProperty: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ze;\r\n          },\r\n          set: function (a) {\r\n            var b = this.ze;\r\n            b !== a &&\r\n              (pr(a, ur, \"nodeGroupKeyProperty\"),\r\n              (this.ze = a),\r\n              this.g(\"nodeGroupKeyProperty\", b, a));\r\n          },\r\n        },\r\n        ik: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.wn;\r\n          },\r\n          set: function (a) {\r\n            this.wn !== a &&\r\n              (A(a, \"boolean\", ur, \"copiesGroupKeyOfNodeData\"), (this.wn = a));\r\n          },\r\n        },\r\n        linkCategoryProperty: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Jj;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Jj;\r\n            b !== a &&\r\n              (pr(a, ur, \"linkCategoryProperty\"),\r\n              (this.Jj = a),\r\n              this.g(\"linkCategoryProperty\", b, a));\r\n          },\r\n        },\r\n      });\r\n      ma.Object.defineProperties(ur, {\r\n        type: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return \"GraphLinksModel\";\r\n          },\r\n        },\r\n      });\r\n      ur.prototype.setCategoryForLinkData = ur.prototype.Nt;\r\n      ur.prototype.getCategoryForLinkData = ur.prototype.Cv;\r\n      ur.prototype.assignAllDataProperties = ur.prototype.dk;\r\n      ur.prototype.setGroupKeyForNodeData = ur.prototype.Ot;\r\n      ur.prototype.getGroupKeyForNodeData = ur.prototype.ej;\r\n      ur.prototype.isGroupForNodeData = ur.prototype.wt;\r\n      ur.prototype.copyLinkData = ur.prototype.lq;\r\n      ur.prototype.mergeLinkDataArray = ur.prototype.rA;\r\n      ur.prototype.removeLinkDataCollection = ur.prototype.zA;\r\n      ur.prototype.removeLinkData = ur.prototype.Jm;\r\n      ur.prototype.addLinkDataCollection = ur.prototype.Qy;\r\n      ur.prototype.addLinkData = ur.prototype.Ui;\r\n      ur.prototype.containsLinkData = ur.prototype.kd;\r\n      ur.prototype.makeLinkDataKeyUnique = ur.prototype.Dq;\r\n      ur.prototype.findLinkDataForKey = ur.prototype.Ig;\r\n      ur.prototype.setKeyForLinkData = ur.prototype.Pt;\r\n      ur.prototype.getKeyForLinkData = ur.prototype.Zb;\r\n      ur.prototype.removeLabelKeyForLinkData = ur.prototype.ky;\r\n      ur.prototype.addLabelKeyForLinkData = ur.prototype.ev;\r\n      ur.prototype.setLabelKeysForLinkData = ur.prototype.gw;\r\n      ur.prototype.getLabelKeysForLinkData = ur.prototype.Lg;\r\n      ur.prototype.setToPortIdForLinkData = ur.prototype.vy;\r\n      ur.prototype.getToPortIdForLinkData = ur.prototype.Vz;\r\n      ur.prototype.setFromPortIdForLinkData = ur.prototype.qy;\r\n      ur.prototype.getFromPortIdForLinkData = ur.prototype.Pz;\r\n      ur.prototype.setToKeyForLinkData = ur.prototype.uy;\r\n      ur.prototype.getToKeyForLinkData = ur.prototype.Uz;\r\n      ur.prototype.setFromKeyForLinkData = ur.prototype.py;\r\n      ur.prototype.getFromKeyForLinkData = ur.prototype.Oz;\r\n      ur.prototype.clear = ur.prototype.clear;\r\n      var wr = Object.freeze([]);\r\n      ur.className = \"GraphLinksModel\";\r\n      sr.GraphLinksModel = ur;\r\n      X.constructGraphLinksModel = X.constructGraphLinksModel = function () {\r\n        return new ur();\r\n      };\r\n      X.initDiagramModel = Ki = function () {\r\n        return new ur();\r\n      };\r\n\r\n      function zr(a) {\r\n        F &&\r\n          1 < arguments.length &&\r\n          v(\r\n            \"TreeModel constructor can only take one optional argument, the Array of node data.\"\r\n          );\r\n        X.call(this);\r\n        this.Ae = \"parent\";\r\n        this.yn = !1;\r\n        this.Qj = \"parentLinkCategory\";\r\n        void 0 !== a && (this.nodeDataArray = a);\r\n      }\r\n      la(zr, X);\r\n      zr.constructGraphLinksModel = X.constructGraphLinksModel;\r\n      zr.prototype.cloneProtected = function (a) {\r\n        X.prototype.cloneProtected.call(this, a);\r\n        a.Ae = this.Ae;\r\n        a.yn = this.yn;\r\n        a.Qj = this.Qj;\r\n      };\r\n      t = zr.prototype;\r\n      t.toString = function (a) {\r\n        void 0 === a && (a = 0);\r\n        if (2 <= a) return this.Sq();\r\n        var b = (\"\" !== this.name ? this.name : \"\") + \" TreeModel\";\r\n        if (0 < a) {\r\n          b += \"\\n node data:\";\r\n          a = this.nodeDataArray;\r\n          for (var c = a.length, d = 0; d < c; d++) {\r\n            var e = a[d];\r\n            b += \" \" + this.pa(e) + \":\" + Pa(e);\r\n          }\r\n        }\r\n        return b;\r\n      };\r\n      t.Ik = function () {\r\n        var a = X.prototype.Ik.call(this),\r\n          b = \"\";\r\n        \"parent\" !== this.nodeParentKeyProperty &&\r\n          \"string\" === typeof this.nodeParentKeyProperty &&\r\n          (b +=\r\n            ',\\n  \"nodeParentKeyProperty\": ' +\r\n            this.quote(this.nodeParentKeyProperty));\r\n        return a + b;\r\n      };\r\n      t.Kq = function (a) {\r\n        X.prototype.Kq.call(this, a);\r\n        a.nodeParentKeyProperty &&\r\n          (this.nodeParentKeyProperty = a.nodeParentKeyProperty);\r\n      };\r\n      t.Xq = function (a) {\r\n        ir(this, a, \"nodeParentKeyProperty\");\r\n        return X.prototype.Xq.call(this, a);\r\n      };\r\n      t.Jq = function (a) {\r\n        void 0 !== a.nodeParentKeyProperty &&\r\n          a.nodeParentKeyProperty !== this.nodeParentKeyProperty &&\r\n          v(\"applyIncrementalJson cannot change Model properties\");\r\n        X.prototype.Jq.call(this, a);\r\n      };\r\n      t.Am = function (a) {\r\n        return a;\r\n      };\r\n      t.gj = function (a) {\r\n        if (null !== a) {\r\n          var b = this.Ae;\r\n          if (\"\" !== b && ((b = Fn(a, b)), void 0 !== b)) {\r\n            if (Qq(b)) return b;\r\n            v(\r\n              \"ParentKey value for node data \" +\r\n                a +\r\n                \" is not a number or a string: \" +\r\n                b\r\n            );\r\n          }\r\n        }\r\n      };\r\n      t.Oe = function (a, b) {\r\n        null === b && (b = void 0);\r\n        void 0 === b ||\r\n          Qq(b) ||\r\n          xa(b, \"number or string\", zr, \"setParentKeyForNodeData:key\");\r\n        if (null !== a) {\r\n          var c = this.Ae;\r\n          if (\"\" !== c)\r\n            if (((b = this.Am(b)), this.kb(a))) {\r\n              var d = Fn(a, c);\r\n              d !== b &&\r\n                (Uq(this, d, a),\r\n                gk(a, c, b),\r\n                null === this.Ob(b) && Vq(this, b, a),\r\n                or(this, \"nodeParentKey\", De, c, a, d, b),\r\n                \"string\" === typeof c && this.Fa(a, c));\r\n            } else gk(a, c, b);\r\n        }\r\n      };\r\n      t.Dv = function (a) {\r\n        if (null === a) return \"\";\r\n        var b = this.Qj;\r\n        if (\"\" === b) return \"\";\r\n        b = Fn(a, b);\r\n        if (void 0 === b) return \"\";\r\n        if (\"string\" === typeof b) return b;\r\n        v(\r\n          \"getParentLinkCategoryForNodeData found a non-string category for \" +\r\n            a +\r\n            \": \" +\r\n            b\r\n        );\r\n        return \"\";\r\n      };\r\n      zr.prototype.getLinkCategoryForData = function (a) {\r\n        return this.Dv(a);\r\n      };\r\n      zr.prototype.hw = function (a, b) {\r\n        A(b, \"string\", zr, \"setParentLinkCategoryForNodeData:cat\");\r\n        if (null !== a) {\r\n          var c = this.Qj;\r\n          if (\"\" !== c)\r\n            if (this.kb(a)) {\r\n              var d = Fn(a, c);\r\n              void 0 === d && (d = \"\");\r\n              d !== b &&\r\n                (gk(a, c, b),\r\n                or(this, \"parentLinkCategory\", De, c, a, d, b),\r\n                \"string\" === typeof c && this.Fa(a, c));\r\n            } else gk(a, c, b);\r\n        }\r\n      };\r\n      zr.prototype.setLinkCategoryForData = function (a, b) {\r\n        this.hw(a, b);\r\n      };\r\n      zr.prototype.copyNodeData = function (a) {\r\n        if (null === a) return null;\r\n        a = X.prototype.copyNodeData.call(this, a);\r\n        this.jk ||\r\n          \"\" === this.Ae ||\r\n          void 0 === Fn(a, this.Ae) ||\r\n          gk(a, this.Ae, void 0);\r\n        return a;\r\n      };\r\n      zr.prototype.setDataProperty = function (a, b, c) {\r\n        F &&\r\n          (A(a, \"object\", zr, \"setDataProperty:data\"),\r\n          A(b, \"string\", zr, \"setDataProperty:propname\"),\r\n          \"\" === b &&\r\n            v(\r\n              \"TreeModel.setDataProperty: property name must not be an empty string when setting \" +\r\n                a +\r\n                \" to \" +\r\n                c\r\n            ));\r\n        if (this.kb(a))\r\n          if (b === this.nodeKeyProperty) this.Rm(a, c);\r\n          else {\r\n            if (b === this.nodeCategoryProperty) {\r\n              this.Pq(a, c);\r\n              return;\r\n            }\r\n            if (b === this.nodeParentKeyProperty) {\r\n              this.Oe(a, c);\r\n              return;\r\n            }\r\n          }\r\n        var d = Fn(a, b);\r\n        d !== c && (gk(a, b, c), this.Ht(a, b, d, c));\r\n      };\r\n      t = zr.prototype;\r\n      t.Nq = function (a, b) {\r\n        X.prototype.Nq.call(this, a, b);\r\n        for (var c = this.hb.iterator; c.next(); ) this.bw(c.value, a, b);\r\n      };\r\n      t.bw = function (a, b, c) {\r\n        if (this.gj(a) === b) {\r\n          var d = this.Ae;\r\n          gk(a, d, c);\r\n          or(this, \"nodeParentKey\", De, d, a, b, c);\r\n          \"string\" === typeof d && this.Fa(a, d);\r\n        }\r\n      };\r\n      t.Nm = function (a) {\r\n        X.prototype.Nm.call(this, a);\r\n        a = this.pa(a);\r\n        var b = Tq(this, a);\r\n        if (null !== b) {\r\n          var c = La();\r\n          for (b = b.iterator; b.next(); ) {\r\n            var d = b.value;\r\n            if (this.kb(d) && this.gj(d) === a) {\r\n              var e = this.Ae;\r\n              or(this, \"nodeParentKey\", De, e, d, a, a);\r\n              \"string\" === typeof e && this.Fa(d, e);\r\n              c.push(d);\r\n            }\r\n          }\r\n          for (b = 0; b < c.length; b++) Uq(this, a, c[b]);\r\n          Na(c);\r\n        }\r\n      };\r\n      t.Mm = function (a) {\r\n        X.prototype.Mm.call(this, a);\r\n        var b = this.gj(a);\r\n        b = this.Am(b);\r\n        null === this.Ob(b) && Vq(this, b, a);\r\n      };\r\n      t.Uq = function (a) {\r\n        X.prototype.Uq.call(this, a);\r\n        var b = this.gj(a);\r\n        Uq(this, b, a);\r\n      };\r\n      t.zm = function () {\r\n        return !0;\r\n      };\r\n      t.yt = function () {\r\n        return !0;\r\n      };\r\n      ma.Object.defineProperties(zr.prototype, {\r\n        nodeParentKeyProperty: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ae;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Ae;\r\n            b !== a &&\r\n              (pr(a, zr, \"nodeParentKeyProperty\"),\r\n              (this.Ae = a),\r\n              this.g(\"nodeParentKeyProperty\", b, a));\r\n          },\r\n        },\r\n        jk: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.yn;\r\n          },\r\n          set: function (a) {\r\n            this.yn !== a &&\r\n              (A(a, \"boolean\", zr, \"copiesParentKeyOfNodeData\"), (this.yn = a));\r\n          },\r\n        },\r\n        parentLinkCategoryProperty: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Qj;\r\n          },\r\n          set: function (a) {\r\n            var b = this.Qj;\r\n            b !== a &&\r\n              (pr(a, zr, \"parentLinkCategoryProperty\"),\r\n              (this.Qj = a),\r\n              this.g(\"parentLinkCategoryProperty\", b, a));\r\n          },\r\n        },\r\n        linkCategoryProperty: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.parentLinkCategoryProperty;\r\n          },\r\n          set: function (a) {\r\n            this.parentLinkCategoryProperty = a;\r\n          },\r\n        },\r\n      });\r\n      ma.Object.defineProperties(zr, {\r\n        type: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return \"TreeModel\";\r\n          },\r\n        },\r\n      });\r\n      zr.prototype.setParentLinkCategoryForNodeData = zr.prototype.hw;\r\n      zr.prototype.getParentLinkCategoryForNodeData = zr.prototype.Dv;\r\n      zr.prototype.setParentKeyForNodeData = zr.prototype.Oe;\r\n      zr.prototype.getParentKeyForNodeData = zr.prototype.gj;\r\n      zr.className = \"TreeModel\";\r\n      sr.TreeModel = zr;\r\n\r\n      function Ar() {\r\n        0 < arguments.length && za(Ar);\r\n        Si.call(this);\r\n        this.Vw = this.Mn = this.ec = 0;\r\n        this.Er = 360;\r\n        this.Uw = Br;\r\n        this.xj = 0;\r\n        this.Jw = new J();\r\n        this.tr = this.Yd = 0;\r\n        this.Zs = new Cr();\r\n        this.du = this.Pj = 0;\r\n        this.Gy = 600;\r\n        this.kp = NaN;\r\n        this.kn = 1;\r\n        this.Qp = 0;\r\n        this.cm = 360;\r\n        this.Hb = Br;\r\n        this.M = Dr;\r\n        this.Wc = Er;\r\n        this.Qc = rq;\r\n        this.nf = 6;\r\n        this.Uo = Fr;\r\n      }\r\n      la(Ar, Si);\r\n      Ar.prototype.cloneProtected = function (a) {\r\n        Si.prototype.cloneProtected.call(this, a);\r\n        a.kp = this.kp;\r\n        a.kn = this.kn;\r\n        a.Qp = this.Qp;\r\n        a.cm = this.cm;\r\n        a.Hb = this.Hb;\r\n        a.M = this.M;\r\n        a.Wc = this.Wc;\r\n        a.Qc = this.Qc;\r\n        a.nf = this.nf;\r\n        a.Uo = this.Uo;\r\n      };\r\n      Ar.prototype.jb = function (a) {\r\n        if (a.classType === Ar)\r\n          if (a === Gr || a === Hr || a === Ir || a === Jr || a === Er)\r\n            this.sorting = a;\r\n          else if (a === Kr || a === Lr || a === Dr || a === Mr)\r\n            this.direction = a;\r\n          else if (a === Nr || a === Or || a === Br || a === Pr)\r\n            this.arrangement = a;\r\n          else {\r\n            if (a === Qr || a === Fr) this.nodeDiameterFormula = a;\r\n          }\r\n        else Si.prototype.jb.call(this, a);\r\n      };\r\n      Ar.prototype.createNetwork = function () {\r\n        return new Rr(this);\r\n      };\r\n      Ar.prototype.doLayout = function (a) {\r\n        F &&\r\n          null === a &&\r\n          v(\r\n            \"Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts\"\r\n          );\r\n        null === this.network && (this.network = this.makeNetwork(a));\r\n        this.arrangementOrigin = this.initialOrigin(this.arrangementOrigin);\r\n        a = this.network.vertexes;\r\n        if (1 >= a.count)\r\n          1 === a.count && ((a = a.first()), (a.centerX = 0), (a.centerY = 0));\r\n        else {\r\n          var b = new G();\r\n          b.addAll(a.iterator);\r\n          a = new G();\r\n          var c = new G();\r\n          var d = this.sort(b);\r\n          var e,\r\n            f,\r\n            g = this.tr;\r\n          var h = this.arrangement;\r\n          var k = this.nodeDiameterFormula;\r\n          var l = this.radius;\r\n          if (!isFinite(l) || 0 >= l) l = NaN;\r\n          var m = this.aspectRatio;\r\n          if (!isFinite(m) || 0 >= m) m = 1;\r\n          var n = this.startAngle;\r\n          isFinite(n) || (n = 0);\r\n          var p = this.sweepAngle;\r\n          if (!isFinite(p) || 360 < p || 1 > p) p = 360;\r\n          b = this.spacing;\r\n          isFinite(b) || (b = NaN);\r\n          h === Pr && k === Qr\r\n            ? (h = Br)\r\n            : h === Pr && k !== Qr && (h = this.arrangement);\r\n          if (\r\n            (this.direction === Kr || this.direction === Lr) &&\r\n            this.sorting !== Er\r\n          ) {\r\n            for (k = 0; !(k >= d.length); k += 2) {\r\n              a.add(d.O(k));\r\n              if (k + 1 >= d.length) break;\r\n              c.add(d.O(k + 1));\r\n            }\r\n            this.direction === Kr\r\n              ? (this.arrangement === Pr && a.reverse(),\r\n                (d = new G()),\r\n                d.addAll(a),\r\n                d.addAll(c))\r\n              : (this.arrangement === Pr && c.reverse(),\r\n                (d = new G()),\r\n                d.addAll(c),\r\n                d.addAll(a));\r\n          }\r\n          k = d.length;\r\n          for (var r = (f = e = 0); r < d.length; r++) {\r\n            var q = n + (p * f * (this.direction === Dr ? 1 : -1)) / k,\r\n              u = d.O(r).diameter;\r\n            isNaN(u) && (u = Sr(d.O(r), q));\r\n            360 > p && (0 === r || r === d.length - 1) && (u /= 2);\r\n            e += u;\r\n            f++;\r\n          }\r\n          if (isNaN(l) || h === Pr) {\r\n            isNaN(b) && (b = 6);\r\n            if (h !== Br && h !== Pr) {\r\n              f = -Infinity;\r\n              for (g = 0; g < k; g++)\r\n                (r = d.O(g)),\r\n                  (e = d.O(g === k - 1 ? 0 : g + 1)),\r\n                  isNaN(r.diameter) && Sr(r, 0),\r\n                  isNaN(e.diameter) && Sr(e, 0),\r\n                  (f = Math.max(f, (r.diameter + e.diameter) / 2));\r\n              g = f + b;\r\n              h === Nr\r\n                ? (l = (f + b) / ((2 * Math.PI) / k))\r\n                : (l = Tr(\r\n                    this,\r\n                    g * (360 <= p ? k : k - 1),\r\n                    m,\r\n                    (n * Math.PI) / 180,\r\n                    (p * Math.PI) / 180\r\n                  ));\r\n            } else\r\n              l = Tr(\r\n                this,\r\n                e + (360 <= p ? k : k - 1) * (h !== Pr ? b : 1.6 * b),\r\n                m,\r\n                (n * Math.PI) / 180,\r\n                (p * Math.PI) / 180\r\n              );\r\n            f = l * m;\r\n          } else if (\r\n            ((f = l * m),\r\n            (r = Ur(this, l, f, (n * Math.PI) / 180, (p * Math.PI) / 180)),\r\n            isNaN(b))\r\n          ) {\r\n            if (h === Br || h === Pr) b = (r - e) / (360 <= p ? k : k - 1);\r\n          } else if (h === Br || h === Pr)\r\n            (r = (r - e) / (360 <= p ? k : k - 1)),\r\n              r < b\r\n                ? ((l = Tr(\r\n                    this,\r\n                    e + b * (360 <= p ? k : k - 1),\r\n                    m,\r\n                    (n * Math.PI) / 180,\r\n                    (p * Math.PI) / 180\r\n                  )),\r\n                  (f = l * m))\r\n                : (b = r);\r\n          else {\r\n            g = -Infinity;\r\n            for (e = 0; e < k; e++)\r\n              (q = d.O(e)),\r\n                (u = d.O(e === k - 1 ? 0 : e + 1)),\r\n                isNaN(q.diameter) && Sr(q, 0),\r\n                isNaN(u.diameter) && Sr(u, 0),\r\n                (g = Math.max(g, (q.diameter + u.diameter) / 2));\r\n            g += b;\r\n            e = Tr(\r\n              this,\r\n              g * (360 <= p ? k : k - 1),\r\n              m,\r\n              (n * Math.PI) / 180,\r\n              (p * Math.PI) / 180\r\n            );\r\n            e > l ? ((l = e), (f = l * m)) : (g = r / (360 <= p ? k : k - 1));\r\n          }\r\n          this.Uw = h;\r\n          this.ec = l;\r\n          this.Mn = m;\r\n          this.Vw = n;\r\n          this.Er = p;\r\n          this.xj = b;\r\n          this.Yd = f;\r\n          this.tr = g;\r\n          b = d;\r\n          d = this.Uw;\r\n          h = this.ec;\r\n          l = this.Vw;\r\n          m = this.Er;\r\n          n = this.xj;\r\n          p = this.Yd;\r\n          k = this.tr;\r\n          if ((this.direction !== Kr && this.direction !== Lr) || d !== Pr)\r\n            if (this.direction === Kr || this.direction === Lr) {\r\n              g = 0;\r\n              switch (d) {\r\n                case Or:\r\n                  g = (180 * Vr(this, h, p, l, k)) / Math.PI;\r\n                  break;\r\n                case Br:\r\n                  k = b = 0;\r\n                  g = a.first();\r\n                  null !== g && (b = Sr(g, Math.PI / 2));\r\n                  g = c.first();\r\n                  null !== g && (k = Sr(g, Math.PI / 2));\r\n                  g = (180 * Vr(this, h, p, l, n + (b + k) / 2)) / Math.PI;\r\n                  break;\r\n                case Nr:\r\n                  g = m / b.length;\r\n              }\r\n              if (this.direction === Kr) {\r\n                switch (d) {\r\n                  case Or:\r\n                    Wr(this, a, l, Mr);\r\n                    break;\r\n                  case Br:\r\n                    Xr(this, a, l, Mr);\r\n                    break;\r\n                  case Nr:\r\n                    Yr(this, a, m / 2, l, Mr);\r\n                }\r\n                switch (d) {\r\n                  case Or:\r\n                    Wr(this, c, l + g, Dr);\r\n                    break;\r\n                  case Br:\r\n                    Xr(this, c, l + g, Dr);\r\n                    break;\r\n                  case Nr:\r\n                    Yr(this, c, m / 2, l + g, Dr);\r\n                }\r\n              } else {\r\n                switch (d) {\r\n                  case Or:\r\n                    Wr(this, c, l, Mr);\r\n                    break;\r\n                  case Br:\r\n                    Xr(this, c, l, Mr);\r\n                    break;\r\n                  case Nr:\r\n                    Yr(this, c, m / 2, l, Mr);\r\n                }\r\n                switch (d) {\r\n                  case Or:\r\n                    Wr(this, a, l + g, Dr);\r\n                    break;\r\n                  case Br:\r\n                    Xr(this, a, l + g, Dr);\r\n                    break;\r\n                  case Nr:\r\n                    Yr(this, a, m / 2, l + g, Dr);\r\n                }\r\n              }\r\n            } else\r\n              switch (d) {\r\n                case Or:\r\n                  Wr(this, b, l, this.direction);\r\n                  break;\r\n                case Br:\r\n                  Xr(this, b, l, this.direction);\r\n                  break;\r\n                case Nr:\r\n                  Yr(this, b, m, l, this.direction);\r\n                  break;\r\n                case Pr:\r\n                  Zr(this, b, m, l, this.direction);\r\n              }\r\n          else Zr(this, b, m, l - m / 2, Dr);\r\n        }\r\n        this.updateParts();\r\n        this.network = null;\r\n        this.isValidLayout = !0;\r\n      };\r\n\r\n      function Yr(a, b, c, d, e) {\r\n        var f = a.Er,\r\n          g = a.ec;\r\n        a = a.Yd;\r\n        d = (d * Math.PI) / 180;\r\n        c = (c * Math.PI) / 180;\r\n        for (var h = b.length, k = 0; k < h; k++) {\r\n          var l =\r\n              d + (e === Dr ? (k * c) / (360 <= f ? h : h - 1) : -(k * c) / h),\r\n            m = b.O(k),\r\n            n = (g * Math.tan(l)) / a;\r\n          n = Math.sqrt((g * g + a * a * n * n) / (1 + n * n));\r\n          m.centerX = n * Math.cos(l);\r\n          m.centerY = n * Math.sin(l);\r\n          m.actualAngle = (180 * l) / Math.PI;\r\n        }\r\n      }\r\n\r\n      function Xr(a, b, c, d) {\r\n        var e = a.ec,\r\n          f = a.Yd,\r\n          g = a.xj;\r\n        c = (c * Math.PI) / 180;\r\n        for (var h = b.length, k = 0; k < h; k++) {\r\n          var l = b.O(k),\r\n            m = b.O(k === h - 1 ? 0 : k + 1),\r\n            n = f * Math.sin(c);\r\n          l.centerX = e * Math.cos(c);\r\n          l.centerY = n;\r\n          l.actualAngle = (180 * c) / Math.PI;\r\n          isNaN(l.diameter) && Sr(l, 0);\r\n          isNaN(m.diameter) && Sr(m, 0);\r\n          l = Vr(a, e, f, d === Dr ? c : -c, (l.diameter + m.diameter) / 2 + g);\r\n          c += d === Dr ? l : -l;\r\n        }\r\n      }\r\n\r\n      function Wr(a, b, c, d) {\r\n        var e = a.ec,\r\n          f = a.Yd,\r\n          g = a.tr;\r\n        c = (c * Math.PI) / 180;\r\n        for (var h = b.length, k = 0; k < h; k++) {\r\n          var l = b.O(k);\r\n          l.centerX = e * Math.cos(c);\r\n          l.centerY = f * Math.sin(c);\r\n          l.actualAngle = (180 * c) / Math.PI;\r\n          l = Vr(a, e, f, d === Dr ? c : -c, g);\r\n          c += d === Dr ? l : -l;\r\n        }\r\n      }\r\n\r\n      function Zr(a, b, c, d, e) {\r\n        var f = a.Er;\r\n        a.Pj = 0;\r\n        a.Zs = new Cr();\r\n        if (360 > c) {\r\n          for (f = d + (e === Dr ? f : -f); 0 > f; ) f += 360;\r\n          f %= 360;\r\n          180 < f && (f -= 360);\r\n          f *= Math.PI / 180;\r\n          a.du = f;\r\n          $r(a, b, c, d, e);\r\n        } else as(a, b, c, d, e);\r\n        a.Zs.commit(b);\r\n      }\r\n\r\n      function as(a, b, c, d, e) {\r\n        var f = a.ec,\r\n          g = a.xj,\r\n          h = a.Mn,\r\n          k = f * Math.cos((d * Math.PI) / 180),\r\n          l = a.Yd * Math.sin((d * Math.PI) / 180),\r\n          m = b.sa();\r\n        if (3 === m.length)\r\n          (m[0].centerX = f),\r\n            (m[0].centerY = 0),\r\n            (m[1].centerX = m[0].centerX - m[0].width / 2 - m[1].width / 2 - g),\r\n            (m[1].y = m[0].y),\r\n            (m[2].centerX = (m[0].centerX + m[1].centerX) / 2),\r\n            (m[2].y = m[0].y - m[2].height - g);\r\n        else if (4 === m.length)\r\n          (m[0].centerX = f),\r\n            (m[0].centerY = 0),\r\n            (m[2].centerX = -m[0].centerX),\r\n            (m[2].centerY = m[0].centerY),\r\n            (m[1].centerX = 0),\r\n            (m[1].y = Math.min(m[0].y, m[2].y) - m[1].height - g),\r\n            (m[3].centerX = 0),\r\n            (m[3].y = Math.max(\r\n              m[0].y + m[0].height + g,\r\n              m[2].y + m[2].height + g\r\n            ));\r\n        else {\r\n          f = J.alloc();\r\n          for (var n = 0; n < m.length; n++) {\r\n            m[n].centerX = k;\r\n            m[n].centerY = l;\r\n            if (n >= m.length - 1) break;\r\n            bs(a, k, l, m, n, e, f) || cs(a, k, l, m, n, e, f);\r\n            k = f.x;\r\n            l = f.y;\r\n          }\r\n          J.free(f);\r\n          a.Pj++;\r\n          if (!(23 < a.Pj)) {\r\n            k = m[0].centerX;\r\n            l = m[0].centerY;\r\n            f = m[m.length - 1].centerX;\r\n            n = m[m.length - 1].centerY;\r\n            var p =\r\n                Math.abs(k - f) -\r\n                ((m[0].width + m[m.length - 1].width) / 2 + g),\r\n              r =\r\n                Math.abs(l - n) -\r\n                ((m[0].height + m[m.length - 1].height) / 2 + g);\r\n            g = 0;\r\n            1 > Math.abs(r)\r\n              ? Math.abs(k - f) < (m[0].width + m[m.length - 1].width) / 2 &&\r\n                (g = 0)\r\n              : (g = 0 < r ? r : 1 > Math.abs(p) ? 0 : p);\r\n            k = Math.abs(f) > Math.abs(n) ? 0 < f !== l > n : 0 < n !== k < f;\r\n            if ((k = e === Dr ? k : !k))\r\n              (g = -Math.abs(g)),\r\n                (g = Math.min(g, -m[m.length - 1].width)),\r\n                (g = Math.min(g, -m[m.length - 1].height));\r\n            a.Zs.compare(g, m);\r\n            1 < Math.abs(g) &&\r\n              ((a.ec =\r\n                8 > a.Pj\r\n                  ? a.ec - g / (2 * Math.PI)\r\n                  : 5 > m.length && 10 < g\r\n                  ? a.ec / 2\r\n                  : a.ec - (0 < g ? 1.7 : -2.3)),\r\n              (a.Yd = a.ec * h),\r\n              as(a, b, c, d, e));\r\n          }\r\n        }\r\n      }\r\n\r\n      function $r(a, b, c, d, e) {\r\n        for (\r\n          var f = a.ec,\r\n            g = a.Yd,\r\n            h = a.Mn,\r\n            k = f * Math.cos((d * Math.PI) / 180),\r\n            l = g * Math.sin((d * Math.PI) / 180),\r\n            m = J.alloc(),\r\n            n = b.sa(),\r\n            p = 0;\r\n          p < n.length;\r\n          p++\r\n        ) {\r\n          n[p].centerX = k;\r\n          n[p].centerY = l;\r\n          if (p >= n.length - 1) break;\r\n          bs(a, k, l, n, p, e, m) || cs(a, k, l, n, p, e, m);\r\n          k = m.x;\r\n          l = m.y;\r\n        }\r\n        J.free(m);\r\n        a.Pj++;\r\n        if (!(23 < a.Pj)) {\r\n          k = Math.atan2(l, k);\r\n          k = e === Dr ? a.du - k : k - a.du;\r\n          k = Math.abs(k) < Math.abs(k - 2 * Math.PI) ? k : k - 2 * Math.PI;\r\n          f = (k * (f + g)) / 2;\r\n          g = a.Zs;\r\n          if (Math.abs(f) < Math.abs(g.um))\r\n            for (g.um = f, g.Jk = [], g.Vm = [], k = 0; k < n.length; k++)\r\n              (g.Jk[k] = n[k].bounds.x), (g.Vm[k] = n[k].bounds.y);\r\n          1 < Math.abs(f) &&\r\n            ((a.ec =\r\n              8 > a.Pj\r\n                ? a.ec - f / (2 * Math.PI)\r\n                : a.ec - (0 < f ? 1.7 : -2.3)),\r\n            (a.Yd = a.ec * h),\r\n            $r(a, b, c, d, e));\r\n        }\r\n      }\r\n\r\n      function bs(a, b, c, d, e, f, g) {\r\n        var h = a.ec,\r\n          k = a.Yd,\r\n          l = 0;\r\n        a = (d[e].width + d[e + 1].width) / 2 + a.xj;\r\n        var m = !1;\r\n        if (0 <= c !== (f === Dr)) {\r\n          if (((f = b + a), f > h)) {\r\n            f = b - a;\r\n            if (f < -h) return (g.x = f), (g.y = l), !1;\r\n            m = !0;\r\n          }\r\n        } else if (((f = b - a), f < -h)) {\r\n          f = b + a;\r\n          if (f > h) return (g.x = f), (g.y = l), !1;\r\n          m = !0;\r\n        }\r\n        l = Math.sqrt(1 - Math.min(1, (f * f) / (h * h))) * k;\r\n        0 > c !== m && (l = -l);\r\n        if (Math.abs(c - l) > (d[e].height + d[e + 1].height) / 2)\r\n          return (g.x = f), (g.y = l), !1;\r\n        g.x = f;\r\n        g.y = l;\r\n        return !0;\r\n      }\r\n\r\n      function cs(a, b, c, d, e, f, g) {\r\n        var h = a.ec,\r\n          k = a.Yd,\r\n          l = 0;\r\n        a = (d[e].height + d[e + 1].height) / 2 + a.xj;\r\n        d = !1;\r\n        if (0 <= b !== (f === Dr)) {\r\n          if (((f = c - a), f < -k)) {\r\n            f = c + a;\r\n            if (f > k) {\r\n              g.x = l;\r\n              g.y = f;\r\n              return;\r\n            }\r\n            d = !0;\r\n          }\r\n        } else if (((f = c + a), f > k)) {\r\n          f = c - a;\r\n          if (f < -k) {\r\n            g.x = l;\r\n            g.y = f;\r\n            return;\r\n          }\r\n          d = !0;\r\n        }\r\n        l = Math.sqrt(1 - Math.min(1, (f * f) / (k * k))) * h;\r\n        0 > b !== d && (l = -l);\r\n        g.x = l;\r\n        g.y = f;\r\n      }\r\n      Ar.prototype.commitLayout = function () {\r\n        this.commitNodes();\r\n        this.isRouting && this.commitLinks();\r\n      };\r\n      Ar.prototype.commitNodes = function () {\r\n        var a =\r\n            null !== this.group &&\r\n            null !== this.group.placeholder &&\r\n            this.group.isSubGraphExpanded,\r\n          b = a ? this.group.location.copy() : null,\r\n          c = this.actualCenter;\r\n        a\r\n          ? (c = new J(0, 0))\r\n          : ((c.x = this.arrangementOrigin.x + this.ec),\r\n            (c.y = this.arrangementOrigin.y + this.Yd));\r\n        for (var d = this.network.vertexes.iterator; d.next(); ) {\r\n          var e = d.value;\r\n          e.x += c.x;\r\n          e.y += c.y;\r\n          e.commit();\r\n        }\r\n        a &&\r\n          (this.group.Eb(),\r\n          (a = this.group.position.copy()),\r\n          (c = this.group.location.copy()),\r\n          (b = b.ee(c.ee(a))),\r\n          this.group.move(b),\r\n          (this.Jw = b.ee(a)));\r\n      };\r\n      Ar.prototype.commitLinks = function () {\r\n        for (var a = this.network.edges.iterator; a.next(); ) a.value.commit();\r\n      };\r\n\r\n      function Ur(a, b, c, d, e) {\r\n        var f = a.Gy;\r\n        if (0.001 > Math.abs(a.Mn - 1))\r\n          return void 0 !== d && void 0 !== e ? e * b : 2 * Math.PI * b;\r\n        a = b > c ? Math.sqrt(b * b - c * c) / b : Math.sqrt(c * c - b * b) / c;\r\n        var g = 0;\r\n        var h =\r\n          void 0 !== d && void 0 !== e ? e / (f + 1) : Math.PI / (2 * (f + 1));\r\n        for (var k = 0, l = 0; l <= f; l++) {\r\n          void 0 !== d && void 0 !== e\r\n            ? (k = d + (l * e) / f)\r\n            : (k = (l * Math.PI) / (2 * f));\r\n          var m = Math.sin(k);\r\n          g += Math.sqrt(1 - a * a * m * m) * h;\r\n        }\r\n        return void 0 !== d && void 0 !== e\r\n          ? (b > c ? b : c) * g\r\n          : 4 * (b > c ? b : c) * g;\r\n      }\r\n\r\n      function Tr(a, b, c, d, e) {\r\n        return (\r\n          b / (void 0 !== d && void 0 !== e ? Ur(a, 1, c, d, e) : Ur(a, 1, c))\r\n        );\r\n      }\r\n\r\n      function Vr(a, b, c, d, e) {\r\n        if (0.001 > Math.abs(a.Mn - 1)) return e / b;\r\n        var f =\r\n            b > c ? Math.sqrt(b * b - c * c) / b : Math.sqrt(c * c - b * b) / c,\r\n          g = 0;\r\n        a = (2 * Math.PI) / (700 * a.network.vertexes.count);\r\n        b > c && (d += Math.PI / 2);\r\n        for (var h = 0; ; h++) {\r\n          var k = Math.sin(d + h * a);\r\n          g += (b > c ? b : c) * Math.sqrt(1 - f * f * k * k) * a;\r\n          if (g >= e) return h * a;\r\n        }\r\n      }\r\n      Ar.prototype.sort = function (a) {\r\n        switch (this.sorting) {\r\n          case Ir:\r\n            break;\r\n          case Jr:\r\n            a.reverse();\r\n            break;\r\n          case Gr:\r\n            a.sort(this.comparer);\r\n            break;\r\n          case Hr:\r\n            a.sort(this.comparer);\r\n            a.reverse();\r\n            break;\r\n          case Er:\r\n            for (var b = [], c = 0; c < a.length; c++) b.push(0);\r\n            c = new G();\r\n            for (var d = 0; d < a.length; d++) {\r\n              var e = -1,\r\n                f = -1;\r\n              if (0 === d)\r\n                for (var g = 0; g < a.length; g++) {\r\n                  var h = a.O(g).edgesCount;\r\n                  h > e && ((e = h), (f = g));\r\n                }\r\n              else\r\n                for (g = 0; g < a.length; g++)\r\n                  (h = b[g]), h > e && ((e = h), (f = g));\r\n              c.add(a.O(f));\r\n              b[f] = -1;\r\n              f = a.O(f);\r\n              for (g = f.sourceEdges; g.next(); )\r\n                (e = a.indexOf(g.value.fromVertex)),\r\n                  0 > e || (0 <= b[e] && b[e]++);\r\n              for (f = f.destinationEdges; f.next(); )\r\n                (e = a.indexOf(f.value.toVertex)),\r\n                  0 > e || (0 <= b[e] && b[e]++);\r\n            }\r\n            a = [];\r\n            for (b = 0; b < c.length; b++) {\r\n              e = c.O(b);\r\n              a[b] = [];\r\n              for (f = e.destinationEdges; f.next(); )\r\n                (d = c.indexOf(f.value.toVertex)),\r\n                  d !== b && 0 > a[b].indexOf(d) && a[b].push(d);\r\n              for (e = e.sourceEdges; e.next(); )\r\n                (d = c.indexOf(e.value.fromVertex)),\r\n                  d !== b && 0 > a[b].indexOf(d) && a[b].push(d);\r\n            }\r\n            f = [];\r\n            for (b = 0; b < a.length; b++) f[b] = 0;\r\n            b = [];\r\n            g = [];\r\n            h = [];\r\n            e = [];\r\n            d = new G();\r\n            for (var k = 0, l = 0; l < a.length; l++) {\r\n              var m = a[l].length;\r\n              if (1 === m) e.push(l);\r\n              else if (0 === m) d.add(c.O(l));\r\n              else {\r\n                if (0 === k) b.push(l);\r\n                else {\r\n                  for (\r\n                    var n = (m = Infinity), p = -1, r = [], q = 0;\r\n                    q < b.length;\r\n                    q++\r\n                  )\r\n                    0 > a[b[q]].indexOf(b[q === b.length - 1 ? 0 : q + 1]) &&\r\n                      r.push(q === b.length - 1 ? 0 : q + 1);\r\n                  if (0 === r.length) for (q = 0; q < b.length; q++) r.push(q);\r\n                  for (q = 0; q < r.length; q++) {\r\n                    for (\r\n                      var u = r[q], x = a[l], y = 0, z = 0;\r\n                      z < g.length;\r\n                      z++\r\n                    ) {\r\n                      var B = f[g[z]],\r\n                        D = f[h[z]];\r\n                      if (B < D) {\r\n                        var I = B;\r\n                        B = D;\r\n                      } else I = D;\r\n                      if (I < u && u <= B)\r\n                        for (D = 0; D < x.length; D++) {\r\n                          var O = x[D];\r\n                          0 > b.indexOf(O) ||\r\n                            (I < f[O] && f[O] < B) ||\r\n                            I === f[O] ||\r\n                            B === f[O] ||\r\n                            y++;\r\n                        }\r\n                      else\r\n                        for (D = 0; D < x.length; D++)\r\n                          (O = x[D]),\r\n                            0 > b.indexOf(O) ||\r\n                              (I < f[O] &&\r\n                                f[O] < B &&\r\n                                I !== f[O] &&\r\n                                B !== f[O] &&\r\n                                y++);\r\n                    }\r\n                    x = y;\r\n                    for (z = y = 0; z < a[l].length; z++)\r\n                      (I = b.indexOf(a[l][z])),\r\n                        0 <= I &&\r\n                          ((I = Math.abs(u - (I >= u ? I + 1 : I))),\r\n                          (y += I < b.length + 1 - I ? I : b.length + 1 - I));\r\n                    for (z = 0; z < g.length; z++)\r\n                      (I = f[g[z]]),\r\n                        (B = f[h[z]]),\r\n                        I >= u && I++,\r\n                        B >= u && B++,\r\n                        I > B && ((D = B), (B = I), (I = D)),\r\n                        B - I < (b.length + 2) / 2 === (I < u && u <= B) && y++;\r\n                    if (x < m || (x === m && y < n)) (m = x), (n = y), (p = u);\r\n                  }\r\n                  b.splice(p, 0, l);\r\n                  for (m = 0; m < b.length; m++) f[b[m]] = m;\r\n                  for (m = 0; m < a[l].length; m++)\r\n                    (n = a[l][m]), 0 <= b.indexOf(n) && (g.push(l), h.push(n));\r\n                }\r\n                k++;\r\n              }\r\n            }\r\n            for (g = b.length; ; ) {\r\n              f = !0;\r\n              for (h = 0; h < e.length; h++)\r\n                if (((k = e[h]), (l = a[k][0]), (m = b.indexOf(l)), 0 <= m)) {\r\n                  for (p = n = 0; p < a[l].length; p++)\r\n                    (r = b.indexOf(a[l][p])),\r\n                      0 > r ||\r\n                        r === m ||\r\n                        ((q = r > m ? r - m : m - r),\r\n                        (n += r < m !== q > g - q ? 1 : -1));\r\n                  b.splice(0 > n ? m : m + 1, 0, k);\r\n                  e.splice(h, 1);\r\n                  h--;\r\n                } else f = !1;\r\n              if (f) break;\r\n              else b.push(e[0]), e.splice(0, 1);\r\n            }\r\n            for (a = 0; a < b.length; a++) d.add(c.O(b[a]));\r\n            return d;\r\n          default:\r\n            v(\"Invalid sorting type.\");\r\n        }\r\n        return a;\r\n      };\r\n      ma.Object.defineProperties(Ar.prototype, {\r\n        radius: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.kp;\r\n          },\r\n          set: function (a) {\r\n            this.kp !== a &&\r\n              (A(a, \"number\", Ar, \"radius\"), 0 < a || isNaN(a)) &&\r\n              ((this.kp = a), this.D());\r\n          },\r\n        },\r\n        aspectRatio: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.kn;\r\n          },\r\n          set: function (a) {\r\n            this.kn !== a &&\r\n              (A(a, \"number\", Ar, \"aspectRatio\"),\r\n              0 < a && ((this.kn = a), this.D()));\r\n          },\r\n        },\r\n        startAngle: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Qp;\r\n          },\r\n          set: function (a) {\r\n            this.Qp !== a &&\r\n              (A(a, \"number\", Ar, \"startAngle\"), (this.Qp = a), this.D());\r\n          },\r\n        },\r\n        sweepAngle: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.cm;\r\n          },\r\n          set: function (a) {\r\n            this.cm !== a &&\r\n              (A(a, \"number\", Ar, \"sweepAngle\"),\r\n              0 < a && 360 >= a ? (this.cm = a) : (this.cm = 360),\r\n              this.D());\r\n          },\r\n        },\r\n        arrangement: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Hb;\r\n          },\r\n          set: function (a) {\r\n            this.Hb !== a &&\r\n              (hb(a, Ar, Ar, \"arrangement\"),\r\n              a === Pr || a === Br || a === Or || a === Nr) &&\r\n              ((this.Hb = a), this.D());\r\n          },\r\n        },\r\n        direction: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.M;\r\n          },\r\n          set: function (a) {\r\n            this.M !== a &&\r\n              (hb(a, Ar, Ar, \"direction\"),\r\n              a === Dr || a === Mr || a === Kr || a === Lr) &&\r\n              ((this.M = a), this.D());\r\n          },\r\n        },\r\n        sorting: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Wc;\r\n          },\r\n          set: function (a) {\r\n            this.Wc !== a &&\r\n              (hb(a, Ar, Ar, \"sorting\"),\r\n              a === Ir || a === Jr || a === Gr || Hr || a === Er) &&\r\n              ((this.Wc = a), this.D());\r\n          },\r\n        },\r\n        comparer: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Qc;\r\n          },\r\n          set: function (a) {\r\n            this.Qc !== a &&\r\n              (A(a, \"function\", Ar, \"comparer\"), (this.Qc = a), this.D());\r\n          },\r\n        },\r\n        spacing: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.nf;\r\n          },\r\n          set: function (a) {\r\n            this.nf !== a &&\r\n              (A(a, \"number\", Ar, \"spacing\"), (this.nf = a), this.D());\r\n          },\r\n        },\r\n        nodeDiameterFormula: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Uo;\r\n          },\r\n          set: function (a) {\r\n            this.Uo !== a &&\r\n              (hb(a, Ar, Ar, \"nodeDiameterFormula\"), a === Fr || a === Qr) &&\r\n              ((this.Uo = a), this.D());\r\n          },\r\n        },\r\n        actualXRadius: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ec;\r\n          },\r\n        },\r\n        actualYRadius: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Yd;\r\n          },\r\n        },\r\n        actualSpacing: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.xj;\r\n          },\r\n        },\r\n        actualCenter: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Jw;\r\n          },\r\n        },\r\n      });\r\n      var Br = new E(Ar, \"ConstantSpacing\", 0),\r\n        Or = new E(Ar, \"ConstantDistance\", 1),\r\n        Nr = new E(Ar, \"ConstantAngle\", 2),\r\n        Pr = new E(Ar, \"Packed\", 3),\r\n        Dr = new E(Ar, \"Clockwise\", 4),\r\n        Mr = new E(Ar, \"Counterclockwise\", 5),\r\n        Kr = new E(Ar, \"BidirectionalLeft\", 6),\r\n        Lr = new E(Ar, \"BidirectionalRight\", 7),\r\n        Ir = new E(Ar, \"Forwards\", 8),\r\n        Jr = new E(Ar, \"Reverse\", 9),\r\n        Gr = new E(Ar, \"Ascending\", 10),\r\n        Hr = new E(Ar, \"Descending\", 11),\r\n        Er = new E(Ar, \"Optimized\", 12),\r\n        Fr = new E(Ar, \"Pythagorean\", 13),\r\n        Qr = new E(Ar, \"Circular\", 14);\r\n      Ar.className = \"CircularLayout\";\r\n      Ar.ConstantSpacing = Br;\r\n      Ar.ConstantDistance = Or;\r\n      Ar.ConstantAngle = Nr;\r\n      Ar.Packed = Pr;\r\n      Ar.Clockwise = Dr;\r\n      Ar.Counterclockwise = Mr;\r\n      Ar.BidirectionalLeft = Kr;\r\n      Ar.BidirectionalRight = Lr;\r\n      Ar.Forwards = Ir;\r\n      Ar.Reverse = Jr;\r\n      Ar.Ascending = Gr;\r\n      Ar.Descending = Hr;\r\n      Ar.Optimized = Er;\r\n      Ar.Pythagorean = Fr;\r\n      Ar.Circular = Qr;\r\n\r\n      function Cr() {\r\n        this.um = -Infinity;\r\n        this.Vm = this.Jk = null;\r\n      }\r\n      Cr.prototype.compare = function (a, b) {\r\n        if (\r\n          (0 < a && 0 > this.um) ||\r\n          (Math.abs(a) < Math.abs(this.um) && !(0 > a && 0 < this.um))\r\n        )\r\n          for (\r\n            this.um = a, this.Jk = [], this.Vm = [], a = 0;\r\n            a < b.length;\r\n            a++\r\n          )\r\n            (this.Jk[a] = b[a].bounds.x), (this.Vm[a] = b[a].bounds.y);\r\n      };\r\n      Cr.prototype.commit = function (a) {\r\n        if (null !== this.Jk && null !== this.Vm)\r\n          for (var b = 0; b < this.Jk.length; b++) {\r\n            var c = a.O(b);\r\n            c.x = this.Jk[b];\r\n            c.y = this.Vm[b];\r\n          }\r\n      };\r\n      Cr.className = \"VertexArrangement\";\r\n\r\n      function Rr(a) {\r\n        hq.call(this, a);\r\n      }\r\n      la(Rr, hq);\r\n      Rr.prototype.createVertex = function () {\r\n        return new ds(this);\r\n      };\r\n      Rr.prototype.createEdge = function () {\r\n        return new es(this);\r\n      };\r\n      Rr.className = \"CircularNetwork\";\r\n\r\n      function ds(a) {\r\n        kq.call(this, a);\r\n        this.L = this.wj = NaN;\r\n      }\r\n      la(ds, kq);\r\n\r\n      function Sr(a, b) {\r\n        var c = a.network;\r\n        if (null === c) return NaN;\r\n        c = c.layout;\r\n        if (null === c) return NaN;\r\n        if (c.arrangement === Pr)\r\n          if (c.nodeDiameterFormula === Qr) a.wj = Math.max(a.width, a.height);\r\n          else {\r\n            c = Math.abs(Math.sin(b));\r\n            b = Math.abs(Math.cos(b));\r\n            if (0 === c) return a.width;\r\n            if (0 === b) return a.height;\r\n            a.wj = Math.min(a.height / c, a.width / b);\r\n          }\r\n        else\r\n          a.wj =\r\n            c.nodeDiameterFormula === Qr\r\n              ? Math.max(a.width, a.height)\r\n              : Math.sqrt(a.width * a.width + a.height * a.height);\r\n        return a.wj;\r\n      }\r\n      ma.Object.defineProperties(ds.prototype, {\r\n        diameter: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.wj;\r\n          },\r\n          set: function (a) {\r\n            this.wj !== a && (A(a, \"number\", ds, \"diameter\"), (this.wj = a));\r\n          },\r\n        },\r\n        actualAngle: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.L;\r\n          },\r\n          set: function (a) {\r\n            this.L !== a && (A(a, \"number\", ds, \"actualAngle\"), (this.L = a));\r\n          },\r\n        },\r\n      });\r\n      ds.className = \"CircularVertex\";\r\n\r\n      function es(a) {\r\n        lq.call(this, a);\r\n      }\r\n      la(es, lq);\r\n      es.className = \"CircularEdge\";\r\n\r\n      function fs() {\r\n        0 < arguments.length && za(fs);\r\n        Si.call(this);\r\n        this.Hh = null;\r\n        this.qo = 0;\r\n        this.Ed = new Jb(100, 100).freeze();\r\n        this.jn = !1;\r\n        this.lf = !0;\r\n        this.bd = !1;\r\n        this.Kl = 100;\r\n        this.Pn = 1;\r\n        this.eg = 1e3;\r\n        this.Lo = 10;\r\n        this.lp = Math;\r\n        this.dl = 0.05;\r\n        this.cl = 50;\r\n        this.al = 150;\r\n        this.bl = 0;\r\n        this.Gn = 10;\r\n        this.Fn = 5;\r\n      }\r\n      la(fs, Si);\r\n      fs.prototype.cloneProtected = function (a) {\r\n        Si.prototype.cloneProtected.call(this, a);\r\n        a.Ed.assign(this.Ed);\r\n        a.jn = this.jn;\r\n        a.lf = this.lf;\r\n        a.bd = this.bd;\r\n        a.Kl = this.Kl;\r\n        a.Pn = this.Pn;\r\n        a.eg = this.eg;\r\n        a.Lo = this.Lo;\r\n        a.lp = this.lp;\r\n        a.dl = this.dl;\r\n        a.cl = this.cl;\r\n        a.al = this.al;\r\n        a.bl = this.bl;\r\n        a.Gn = this.Gn;\r\n        a.Fn = this.Fn;\r\n      };\r\n      fs.prototype.createNetwork = function () {\r\n        return new gs(this);\r\n      };\r\n      fs.prototype.doLayout = function (a) {\r\n        F &&\r\n          null === a &&\r\n          v(\r\n            \"Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts\"\r\n          );\r\n        null === this.network && (this.network = this.makeNetwork(a));\r\n        a = this.maxIterations;\r\n        if (0 < this.network.vertexes.count) {\r\n          this.network.mq();\r\n          for (var b = this.network.vertexes.iterator; b.next(); ) {\r\n            var c = b.value;\r\n            c.charge = this.electricalCharge(c);\r\n            c.mass = this.gravitationalMass(c);\r\n          }\r\n          for (b = this.network.edges.iterator; b.next(); )\r\n            (c = b.value),\r\n              (c.stiffness = this.springStiffness(c)),\r\n              (c.length = this.springLength(c));\r\n          this.gv();\r\n          this.qo = 0;\r\n          if (this.needsClusterLayout()) {\r\n            b = this.network;\r\n            for (c = b.xy().iterator; c.next(); ) {\r\n              this.network = c.value;\r\n              for (var d = this.network.vertexes.iterator; d.next(); ) {\r\n                var e = d.value;\r\n                e.Bd = e.vertexes.count;\r\n                e.Rh = 1;\r\n                e.hk = null;\r\n                e.Ne = null;\r\n              }\r\n              hs(this, 0, a);\r\n            }\r\n            this.network = b;\r\n            c.reset();\r\n            F && w(b, gs, fs, \"arrangeConnectedGraphs:singletons\");\r\n            d = this.arrangementSpacing;\r\n            for (\r\n              var f = c.count, g = !0, h = (e = 0), k = La(), l = 0;\r\n              l < f + b.vertexes.count + 2;\r\n              l++\r\n            )\r\n              k[l] = null;\r\n            f = 0;\r\n            c.reset();\r\n            for (var m = L.alloc(); c.next(); )\r\n              if (((l = c.value), this.computeBounds(l, m), g))\r\n                (g = !1),\r\n                  (e = m.x + m.width / 2),\r\n                  (h = m.y + m.height / 2),\r\n                  (k[0] = new J(m.x + m.width + d.width, m.y)),\r\n                  (k[1] = new J(m.x, m.y + m.height + d.height)),\r\n                  (f = 2);\r\n              else {\r\n                var n = is(k, f, e, h, m.width, m.height, d),\r\n                  p = k[n],\r\n                  r = new J(p.x + m.width + d.width, p.y),\r\n                  q = new J(p.x, p.y + m.height + d.height);\r\n                n + 1 < f && k.splice(n + 1, 0, null);\r\n                k[n] = r;\r\n                k[n + 1] = q;\r\n                f++;\r\n                n = p.x - m.x;\r\n                p = p.y - m.y;\r\n                for (l = l.vertexes.iterator; l.next(); )\r\n                  (r = l.value), (r.centerX += n), (r.centerY += p);\r\n              }\r\n            L.free(m);\r\n            for (l = b.vertexes.iterator; l.next(); )\r\n              (g = l.value),\r\n                (r = g.bounds),\r\n                2 > f\r\n                  ? ((e = r.x + r.width / 2),\r\n                    (h = r.y + r.height / 2),\r\n                    (k[0] = new J(r.x + r.width + d.width, r.y)),\r\n                    (k[1] = new J(r.x, r.y + r.height + d.height)),\r\n                    (f = 2))\r\n                  : ((m = is(k, f, e, h, r.width, r.height, d)),\r\n                    (p = k[m]),\r\n                    (n = new J(p.x + r.width + d.width, p.y)),\r\n                    (r = new J(p.x, p.y + r.height + d.height)),\r\n                    m + 1 < f && k.splice(m + 1, 0, null),\r\n                    (k[m] = n),\r\n                    (k[m + 1] = r),\r\n                    f++,\r\n                    (g.centerX = p.x + g.width / 2),\r\n                    (g.centerY = p.y + g.height / 2));\r\n            Na(k);\r\n            for (c.reset(); c.next(); ) {\r\n              d = c.value;\r\n              for (e = d.vertexes.iterator; e.next(); ) b.Kh(e.value);\r\n              for (d = d.edges.iterator; d.next(); ) b.hq(d.value);\r\n            }\r\n          }\r\n          js(this, a);\r\n          this.updateParts();\r\n        }\r\n        this.Kl = a;\r\n        this.network = null;\r\n        this.isValidLayout = !0;\r\n      };\r\n      fs.prototype.needsClusterLayout = function () {\r\n        if (3 > this.network.vertexes.count) return !1;\r\n        for (\r\n          var a = 0,\r\n            b = 0,\r\n            c = this.network.vertexes.first().bounds,\r\n            d = this.network.vertexes.iterator;\r\n          d.next();\r\n\r\n        ) {\r\n          if (d.value.bounds.Mc(c) && (a++, 2 < a)) return !0;\r\n          if (10 < b) break;\r\n          b++;\r\n        }\r\n        return !1;\r\n      };\r\n      fs.prototype.computeBounds = function (a, b) {\r\n        var c = !0;\r\n        for (a = a.vertexes.iterator; a.next(); ) {\r\n          var d = a.value;\r\n          c ? ((c = !1), b.set(d.bounds)) : b.Nc(d.bounds);\r\n        }\r\n        return b;\r\n      };\r\n\r\n      function ks(a, b, c) {\r\n        F &&\r\n          (C(b, fs, \"computeClusterLayoutIterations:level\"),\r\n          C(c, fs, \"computeClusterLayoutIterations:maxiter\"));\r\n        return Math.max(\r\n          Math.min(a.network.vertexes.count, (c * (b + 1)) / 11),\r\n          10\r\n        );\r\n      }\r\n\r\n      function hs(a, b, c) {\r\n        F &&\r\n          (C(b, fs, \"layoutClusters:level\"),\r\n          C(c, fs, \"layoutClusters:maxiter\"));\r\n        if (ls(a, b)) {\r\n          var d = a.eg;\r\n          a.eg *= 1 + 1 / (b + 1);\r\n          var e = ms(a, b),\r\n            f = Math.max(0, ks(a, b, c));\r\n          a.maxIterations += f;\r\n          hs(a, b + 1, c);\r\n          js(a, f);\r\n          ns(a, e, b);\r\n          c = e.vertexes.sa();\r\n          c.sort(function (a, b) {\r\n            return null === a || null === b || a === b ? 0 : b.Bd - a.Bd;\r\n          });\r\n          for (e = 0; e < c.length; e++) os(a, c[e], b);\r\n          a.eg = d;\r\n        }\r\n      }\r\n\r\n      function ls(a, b) {\r\n        F && C(b, fs, \"hasClusters:level\");\r\n        if (10 < b || 3 > a.network.vertexes.count) return !1;\r\n        a.Hh = a.network.vertexes.sa();\r\n        a = a.Hh;\r\n        a.sort(function (a, b) {\r\n          return null === a || null === b || a === b ? 0 : b.Bd - a.Bd;\r\n        });\r\n        for (b = a.length - 1; 0 <= b && 1 >= a[b].Bd; ) b--;\r\n        return 1 < a.length - b;\r\n      }\r\n\r\n      function ms(a, b) {\r\n        F && C(b, fs, \"pushSubNetwork:level\");\r\n        for (var c = a.network, d = new gs(a), e = 0; e < a.Hh.length; e++) {\r\n          var f = a.Hh[e];\r\n          if (1 < f.Bd) {\r\n            d.Kh(f);\r\n            var g = new ps();\r\n            g.Tt = f.Bd;\r\n            g.Ut = f.width;\r\n            g.St = f.height;\r\n            g.Cw = f.focus.x;\r\n            g.Dw = f.focus.y;\r\n            null === f.Ne && (f.Ne = new G());\r\n            f.Ne.add(g);\r\n            f.ew = f.Ne.count - 1;\r\n          } else break;\r\n        }\r\n        for (f = c.edges.iterator; f.next(); ) {\r\n          var h = f.value;\r\n          e = h.fromVertex;\r\n          g = h.toVertex;\r\n          e.network === d && g.network === d\r\n            ? d.hq(h)\r\n            : e.network === d\r\n            ? ((h = e.hk),\r\n              null === h && ((h = new G()), (e.hk = h)),\r\n              h.add(g),\r\n              e.Bd--,\r\n              (e.Rh += g.Rh))\r\n            : g.network === d &&\r\n              ((h = g.hk),\r\n              null === h && ((h = new G()), (g.hk = h)),\r\n              h.add(e),\r\n              g.Bd--,\r\n              (g.Rh += e.Rh));\r\n        }\r\n        for (e = d.edges.iterator; e.next(); )\r\n          (f = e.value),\r\n            (f.length *= Math.max(\r\n              1,\r\n              K.sqrt((f.fromVertex.Rh + f.toVertex.Rh) / (4 * b + 1))\r\n            ));\r\n        for (b = d.vertexes.iterator; b.next(); ) {\r\n          e = b.value;\r\n          var k = e.hk;\r\n          if (\r\n            null !== k &&\r\n            0 < k.count &&\r\n            ((g = e.Ne.O(e.Ne.count - 1).Tt - e.Bd), !(0 >= g))\r\n          ) {\r\n            for (var l = (h = 0), m = k.count - g; m < k.count; m++) {\r\n              var n = k.O(m),\r\n                p = null;\r\n              for (f = n.edges.iterator; f.next(); ) {\r\n                var r = f.value;\r\n                if (r.Wx(n) === e) {\r\n                  p = r;\r\n                  break;\r\n                }\r\n              }\r\n              null !== p && ((l += p.length), (h += n.width * n.height));\r\n            }\r\n            f = e.centerX;\r\n            k = e.centerY;\r\n            m = e.width;\r\n            n = e.height;\r\n            p = e.focus;\r\n            r = m * n;\r\n            1 > r && (r = 1);\r\n            h = K.sqrt((h + r + (l * l * 4) / (g * g)) / r);\r\n            g = ((h - 1) * m) / 2;\r\n            h = ((h - 1) * n) / 2;\r\n            e.bounds = new L(f - p.x - g, k - p.y - h, m + 2 * g, n + 2 * h);\r\n            e.focus = new J(p.x + g, p.y + h);\r\n          }\r\n        }\r\n        a.network = d;\r\n        return c;\r\n      }\r\n\r\n      function ns(a, b, c) {\r\n        F && (w(b, gs, fs, \"popNetwork:oldnet\"), C(c, fs, \"popNetwork:level\"));\r\n        for (c = a.network.vertexes.iterator; c.next(); ) {\r\n          var d = c.value;\r\n          d.network = b;\r\n          if (null !== d.Ne) {\r\n            var e = d.Ne.O(d.ew);\r\n            d.Bd = e.Tt;\r\n            var f = e.Cw,\r\n              g = e.Dw;\r\n            d.bounds = new L(d.centerX - f, d.centerY - g, e.Ut, e.St);\r\n            d.focus = new J(f, g);\r\n            d.ew--;\r\n          }\r\n        }\r\n        for (c = a.network.edges.iterator; c.next(); ) c.value.network = b;\r\n        a.network = b;\r\n      }\r\n\r\n      function os(a, b, c) {\r\n        F &&\r\n          (w(b, qs, fs, \"surroundNode:oldnet\"), C(c, fs, \"surroundNode:level\"));\r\n        var d = b.hk;\r\n        if (null !== d && 0 !== d.count) {\r\n          c = b.centerX;\r\n          var e = b.centerY,\r\n            f = b.width,\r\n            g = b.height;\r\n          null !== b.Ne &&\r\n            0 < b.Ne.count &&\r\n            ((g = b.Ne.O(0)), (f = g.Ut), (g = g.St));\r\n          f = K.sqrt(f * f + g * g) / 2;\r\n          for (\r\n            var h = !1, k = (g = 0), l = 0, m = b.vertexes.iterator;\r\n            m.next();\r\n\r\n          ) {\r\n            var n = m.value;\r\n            1 >= n.Bd\r\n              ? k++\r\n              : ((h = !0),\r\n                l++,\r\n                (g += Math.atan2(\r\n                  b.centerY - n.centerY,\r\n                  b.centerX - n.centerX\r\n                )));\r\n          }\r\n          if (0 !== k)\r\n            for (\r\n              0 < l && (g /= l),\r\n                l = b = 0,\r\n                b = h ? (2 * Math.PI) / (k + 1) : (2 * Math.PI) / k,\r\n                0 === k % 2 && (l = b / 2),\r\n                1 < d.count &&\r\n                  d.sort(function (a, b) {\r\n                    return null === a || null === b || a === b\r\n                      ? 0\r\n                      : b.width * b.height - a.width * a.height;\r\n                  }),\r\n                h = 0 === k % 2 ? 0 : 1,\r\n                d = d.iterator;\r\n              d.next();\r\n\r\n            )\r\n              if (((k = d.value), !(1 < k.Bd || a.isFixed(k)))) {\r\n                m = null;\r\n                for (n = k.edges.iterator; n.next(); ) {\r\n                  m = n.value;\r\n                  break;\r\n                }\r\n                n = k.width;\r\n                var p = k.height;\r\n                n = K.sqrt(n * n + p * p) / 2;\r\n                m = f + m.length + n;\r\n                n = g + (b * ((h / 2) >> 1) + l) * (0 === h % 2 ? 1 : -1);\r\n                k.centerX = c + m * Math.cos(n);\r\n                k.centerY = e + m * Math.sin(n);\r\n                h++;\r\n              }\r\n        }\r\n      }\r\n\r\n      function is(a, b, c, d, e, f, g) {\r\n        var h = 9e19,\r\n          k = -1,\r\n          l = 0;\r\n        a: for (; l < b; l++) {\r\n          var m = a[l],\r\n            n = m.x - c,\r\n            p = m.y - d;\r\n          n = n * n + p * p;\r\n          if (n < h) {\r\n            for (p = l - 1; 0 <= p; p--)\r\n              if (a[p].y > m.y && a[p].x - m.x < e + g.width) continue a;\r\n            for (p = l + 1; p < b; p++)\r\n              if (a[p].x > m.x && a[p].y - m.y < f + g.height) continue a;\r\n            k = l;\r\n            h = n;\r\n          }\r\n        }\r\n        return k;\r\n      }\r\n      fs.prototype.gv = function () {\r\n        if (this.comments)\r\n          for (var a = this.network.vertexes.iterator; a.next(); )\r\n            this.addComments(a.value);\r\n      };\r\n      fs.prototype.addComments = function (a) {\r\n        var b = a.node;\r\n        if (null !== b)\r\n          for (b = b.xv(); b.next(); ) {\r\n            var c = b.value;\r\n            if (\"Comment\" === c.category && c.isVisible()) {\r\n              var d = this.network.cj(c);\r\n              null === d && (d = this.network.km(c));\r\n              d.charge = this.defaultCommentElectricalCharge;\r\n              c = null;\r\n              for (var e = d.destinationEdges; e.next(); ) {\r\n                var f = e.value;\r\n                if (f.toVertex === a) {\r\n                  c = f;\r\n                  break;\r\n                }\r\n              }\r\n              if (null === c)\r\n                for (e = d.sourceEdges; e.next(); )\r\n                  if (((f = e.value), f.fromVertex === a)) {\r\n                    c = f;\r\n                    break;\r\n                  }\r\n              null === c && (c = this.network.vk(a, d, null));\r\n              c.length = this.defaultCommentSpringLength;\r\n            }\r\n          }\r\n      };\r\n\r\n      function rs(a, b) {\r\n        F &&\r\n          (w(a, qs, fs, \"getNodeDistance:vertexA\"),\r\n          w(b, qs, fs, \"getNodeDistance:vertexB\"));\r\n        var c = a.bounds,\r\n          d = c.x;\r\n        a = c.y;\r\n        var e = c.width;\r\n        c = c.height;\r\n        var f = b.bounds,\r\n          g = f.x;\r\n        b = f.y;\r\n        var h = f.width;\r\n        f = f.height;\r\n        return d + e < g\r\n          ? a > b + f\r\n            ? ((c = d + e - g), (a = a - b - f), K.sqrt(c * c + a * a))\r\n            : a + c < b\r\n            ? ((d = d + e - g), (a = a + c - b), K.sqrt(d * d + a * a))\r\n            : g - (d + e)\r\n          : d > g + h\r\n          ? a > b + f\r\n            ? ((c = d - g - h), (a = a - b - f), K.sqrt(c * c + a * a))\r\n            : a + c < b\r\n            ? ((d = d - g - h), (a = a + c - b), K.sqrt(d * d + a * a))\r\n            : d - (g + h)\r\n          : a > b + f\r\n          ? a - (b + f)\r\n          : a + c < b\r\n          ? b - (a + c)\r\n          : 0.1;\r\n      }\r\n\r\n      function js(a, b) {\r\n        F && C(b, fs, \"performIterations:num\");\r\n        a.Hh = null;\r\n        for (b = a.qo + b; a.qo < b && (a.qo++, ss(a)); );\r\n        a.Hh = null;\r\n      }\r\n\r\n      function ss(a) {\r\n        null === a.Hh && (a.Hh = a.network.vertexes.sa());\r\n        var b = a.Hh;\r\n        if (0 >= b.length) return !1;\r\n        var c = b[0];\r\n        c.forceX = 0;\r\n        c.forceY = 0;\r\n        for (\r\n          var d = c.centerX, e = d, f = (c = c.centerY), g = 1;\r\n          g < b.length;\r\n          g++\r\n        ) {\r\n          var h = b[g];\r\n          h.forceX = 0;\r\n          h.forceY = 0;\r\n          var k = h.centerX;\r\n          h = h.centerY;\r\n          d = Math.min(d, k);\r\n          e = Math.max(e, k);\r\n          c = Math.min(c, h);\r\n          f = Math.max(f, h);\r\n        }\r\n        (e = e - d > f - c)\r\n          ? b.sort(function (a, b) {\r\n              return null === a || null === b || a === b\r\n                ? 0\r\n                : a.centerX - b.centerX;\r\n            })\r\n          : b.sort(function (a, b) {\r\n              return null === a || null === b || a === b\r\n                ? 0\r\n                : a.centerY - b.centerY;\r\n            });\r\n        c = a.eg;\r\n        var l = (d = h = 0);\r\n        for (f = 0; f < b.length; f++) {\r\n          g = b[f];\r\n          d = g.bounds;\r\n          h = g.focus;\r\n          k = d.x + h.x;\r\n          var m = d.y + h.y;\r\n          d = g.charge * a.electricalFieldX(k, m);\r\n          l = g.charge * a.electricalFieldY(k, m);\r\n          d += g.mass * a.gravitationalFieldX(k, m);\r\n          l += g.mass * a.gravitationalFieldY(k, m);\r\n          g.forceX += d;\r\n          g.forceY += l;\r\n          for (var n = f + 1; n < b.length; n++) {\r\n            var p = b[n];\r\n            if (p !== g) {\r\n              d = p.bounds;\r\n              h = p.focus;\r\n              l = d.x + h.x;\r\n              var r = d.y + h.y;\r\n              if (k - l > c || l - k > c) {\r\n                if (e) break;\r\n              } else if (m - r > c || r - m > c) {\r\n                if (!e) break;\r\n              } else {\r\n                var q = rs(g, p);\r\n                1 > q\r\n                  ? ((d = a.randomNumberGenerator),\r\n                    null === d && (a.randomNumberGenerator = d = new ts()),\r\n                    (q = d.random()),\r\n                    (h = d.random()),\r\n                    k > l\r\n                      ? ((d = Math.abs(p.bounds.right - g.bounds.x)),\r\n                        (d = (1 + d) * q))\r\n                      : k < l\r\n                      ? ((d = Math.abs(p.bounds.x - g.bounds.right)),\r\n                        (d = -(1 + d) * q))\r\n                      : ((d = Math.max(p.width, g.width)),\r\n                        (d = (1 + d) * q - d / 2)),\r\n                    m > r\r\n                      ? ((l = Math.abs(p.bounds.bottom - g.bounds.y)),\r\n                        (l = (1 + l) * h))\r\n                      : k < l\r\n                      ? ((l = Math.abs(p.bounds.y - g.bounds.bottom)),\r\n                        (l = -(1 + l) * h))\r\n                      : ((l = Math.max(p.height, g.height)),\r\n                        (l = (1 + l) * h - l / 2)))\r\n                  : ((h = -(g.charge * p.charge) / (q * q)),\r\n                    (d = ((l - k) / q) * h),\r\n                    (l = ((r - m) / q) * h));\r\n                g.forceX += d;\r\n                g.forceY += l;\r\n                p.forceX -= d;\r\n                p.forceY -= l;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        for (e = a.network.edges.iterator; e.next(); )\r\n          (h = e.value),\r\n            (c = h.fromVertex),\r\n            (f = h.toVertex),\r\n            (g = c.bounds),\r\n            (k = c.focus),\r\n            (d = g.x + k.x),\r\n            (g = g.y + k.y),\r\n            (m = f.bounds),\r\n            (n = f.focus),\r\n            (k = m.x + n.x),\r\n            (m = m.y + n.y),\r\n            (n = rs(c, f)),\r\n            1 > n\r\n              ? ((n = a.randomNumberGenerator),\r\n                null === n && (a.randomNumberGenerator = n = new ts()),\r\n                (h = n.random()),\r\n                (n = n.random()),\r\n                (d =\r\n                  (d > k ? 1 : -1) *\r\n                  (1 + (f.width > c.width ? f.width : c.width)) *\r\n                  h),\r\n                (l =\r\n                  (g > m ? 1 : -1) *\r\n                  (1 + (f.height > c.height ? f.height : c.height)) *\r\n                  n))\r\n              : ((h = h.stiffness * (n - h.length)),\r\n                (d = ((k - d) / n) * h),\r\n                (l = ((m - g) / n) * h)),\r\n            (c.forceX += d),\r\n            (c.forceY += l),\r\n            (f.forceX -= d),\r\n            (f.forceY -= l);\r\n        d = 0;\r\n        e = a.moveLimit;\r\n        for (c = 0; c < b.length; c++)\r\n          (f = b[c]),\r\n            a.isFixed(f)\r\n              ? a.moveFixedVertex(f)\r\n              : ((g = f.forceX),\r\n                (k = f.forceY),\r\n                g < -e ? (g = -e) : g > e && (g = e),\r\n                k < -e ? (k = -e) : k > e && (k = e),\r\n                (f.centerX += g),\r\n                (f.centerY += k),\r\n                (d = Math.max(d, g * g + k * k)));\r\n        return d > a.epsilonDistance * a.epsilonDistance;\r\n      }\r\n      fs.prototype.moveFixedVertex = function () {};\r\n      fs.prototype.commitLayout = function () {\r\n        this.iw();\r\n        this.commitNodes();\r\n        this.isRouting && this.commitLinks();\r\n      };\r\n      fs.prototype.iw = function () {\r\n        if (this.setsPortSpots)\r\n          for (var a = this.network.edges.iterator; a.next(); ) {\r\n            var b = a.value.link;\r\n            null !== b && ((b.fromSpot = kd), (b.toSpot = kd));\r\n          }\r\n      };\r\n      fs.prototype.commitNodes = function () {\r\n        var a = 0,\r\n          b = 0;\r\n        if (this.arrangesToOrigin) {\r\n          var c = L.alloc();\r\n          this.computeBounds(this.network, c);\r\n          b = this.arrangementOrigin;\r\n          a = b.x - c.x;\r\n          b = b.y - c.y;\r\n          L.free(c);\r\n        }\r\n        c = L.alloc();\r\n        for (var d = this.network.vertexes.iterator; d.next(); ) {\r\n          var e = d.value;\r\n          if (0 !== a || 0 !== b)\r\n            c.assign(e.bounds), (c.x += a), (c.y += b), (e.bounds = c);\r\n          e.commit();\r\n        }\r\n        L.free(c);\r\n      };\r\n      fs.prototype.commitLinks = function () {\r\n        for (var a = this.network.edges.iterator; a.next(); ) a.value.commit();\r\n      };\r\n      fs.prototype.springStiffness = function (a) {\r\n        a = a.stiffness;\r\n        return isNaN(a) ? this.dl : a;\r\n      };\r\n      fs.prototype.springLength = function (a) {\r\n        a = a.length;\r\n        return isNaN(a) ? this.cl : a;\r\n      };\r\n      fs.prototype.electricalCharge = function (a) {\r\n        a = a.charge;\r\n        return isNaN(a) ? this.al : a;\r\n      };\r\n      fs.prototype.electricalFieldX = function () {\r\n        return 0;\r\n      };\r\n      fs.prototype.electricalFieldY = function () {\r\n        return 0;\r\n      };\r\n      fs.prototype.gravitationalMass = function (a) {\r\n        a = a.mass;\r\n        return isNaN(a) ? this.bl : a;\r\n      };\r\n      fs.prototype.gravitationalFieldX = function () {\r\n        return 0;\r\n      };\r\n      fs.prototype.gravitationalFieldY = function () {\r\n        return 0;\r\n      };\r\n      fs.prototype.isFixed = function (a) {\r\n        return a.isFixed;\r\n      };\r\n      ma.Object.defineProperties(fs.prototype, {\r\n        currentIteration: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.qo;\r\n          },\r\n        },\r\n        arrangementSpacing: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ed;\r\n          },\r\n          set: function (a) {\r\n            w(a, Jb, fs, \"arrangementSpacing\");\r\n            this.Ed.B(a) || (this.Ed.assign(a), this.D());\r\n          },\r\n        },\r\n        arrangesToOrigin: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.jn;\r\n          },\r\n          set: function (a) {\r\n            this.jn !== a &&\r\n              (A(a, \"boolean\", fs, \"arrangesToOrigin\"),\r\n              (this.jn = a),\r\n              this.D());\r\n          },\r\n        },\r\n        setsPortSpots: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.lf;\r\n          },\r\n          set: function (a) {\r\n            this.lf !== a &&\r\n              (A(a, \"boolean\", fs, \"setsPortSpots\"), (this.lf = a), this.D());\r\n          },\r\n        },\r\n        comments: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.bd;\r\n          },\r\n          set: function (a) {\r\n            this.bd !== a &&\r\n              (A(a, \"boolean\", fs, \"comments\"), (this.bd = a), this.D());\r\n          },\r\n        },\r\n        maxIterations: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Kl;\r\n          },\r\n          set: function (a) {\r\n            this.Kl !== a &&\r\n              (A(a, \"number\", fs, \"maxIterations\"),\r\n              0 <= a && ((this.Kl = a), this.D()));\r\n          },\r\n        },\r\n        epsilonDistance: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Pn;\r\n          },\r\n          set: function (a) {\r\n            this.Pn !== a &&\r\n              (A(a, \"number\", fs, \"epsilonDistance\"),\r\n              0 < a && ((this.Pn = a), this.D()));\r\n          },\r\n        },\r\n        infinityDistance: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.eg;\r\n          },\r\n          set: function (a) {\r\n            this.eg !== a &&\r\n              (A(a, \"number\", fs, \"infinityDistance\"),\r\n              1 < a && ((this.eg = a), this.D()));\r\n          },\r\n        },\r\n        moveLimit: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Lo;\r\n          },\r\n          set: function (a) {\r\n            this.Lo !== a &&\r\n              (A(a, \"number\", fs, \"moveLimit\"),\r\n              1 < a && ((this.Lo = a), this.D()));\r\n          },\r\n        },\r\n        randomNumberGenerator: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.lp;\r\n          },\r\n          set: function (a) {\r\n            this.lp !== a &&\r\n              (null !== a &&\r\n                \"function\" !== typeof a.random &&\r\n                v(\r\n                  'ForceDirectedLayout.randomNumberGenerator must have a \"random()\" function on it: ' +\r\n                    a\r\n                ),\r\n              (this.lp = a));\r\n          },\r\n        },\r\n        defaultSpringStiffness: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.dl;\r\n          },\r\n          set: function (a) {\r\n            this.dl !== a &&\r\n              (A(a, \"number\", fs, \"defaultSpringStiffness\"),\r\n              (this.dl = a),\r\n              this.D());\r\n          },\r\n        },\r\n        defaultSpringLength: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.cl;\r\n          },\r\n          set: function (a) {\r\n            this.cl !== a &&\r\n              (A(a, \"number\", fs, \"defaultSpringLength\"),\r\n              (this.cl = a),\r\n              this.D());\r\n          },\r\n        },\r\n        defaultElectricalCharge: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.al;\r\n          },\r\n          set: function (a) {\r\n            this.al !== a &&\r\n              (A(a, \"number\", fs, \"defaultElectricalCharge\"),\r\n              (this.al = a),\r\n              this.D());\r\n          },\r\n        },\r\n        defaultGravitationalMass: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.bl;\r\n          },\r\n          set: function (a) {\r\n            this.bl !== a &&\r\n              (A(a, \"number\", fs, \"defaultGravitationalMass\"),\r\n              (this.bl = a),\r\n              this.D());\r\n          },\r\n        },\r\n        defaultCommentSpringLength: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Gn;\r\n          },\r\n          set: function (a) {\r\n            this.Gn !== a &&\r\n              (A(a, \"number\", fs, \"defaultCommentSpringLength\"),\r\n              (this.Gn = a),\r\n              this.D());\r\n          },\r\n        },\r\n        defaultCommentElectricalCharge: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Fn;\r\n          },\r\n          set: function (a) {\r\n            this.Fn !== a &&\r\n              (A(a, \"number\", fs, \"defaultCommentElectricalCharge\"),\r\n              (this.Fn = a),\r\n              this.D());\r\n          },\r\n        },\r\n      });\r\n      fs.className = \"ForceDirectedLayout\";\r\n\r\n      function ps() {\r\n        this.Dw = this.Cw = this.St = this.Ut = this.Tt = 0;\r\n      }\r\n      ps.className = \"ForceDirectedSubnet\";\r\n\r\n      function gs(a) {\r\n        hq.call(this, a);\r\n      }\r\n      la(gs, hq);\r\n      gs.prototype.createVertex = function () {\r\n        return new qs(this);\r\n      };\r\n      gs.prototype.createEdge = function () {\r\n        return new us(this);\r\n      };\r\n      gs.className = \"ForceDirectedNetwork\";\r\n\r\n      function qs(a) {\r\n        kq.call(this, a);\r\n        this.Pa = !1;\r\n        this.fb = this.L = NaN;\r\n        this.Rh = this.Bd = this.Oa = this.aa = 0;\r\n        this.Ne = this.hk = null;\r\n        this.ew = 0;\r\n      }\r\n      la(qs, kq);\r\n      ma.Object.defineProperties(qs.prototype, {\r\n        isFixed: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Pa;\r\n          },\r\n          set: function (a) {\r\n            this.Pa !== a && (A(a, \"boolean\", qs, \"isFixed\"), (this.Pa = a));\r\n          },\r\n        },\r\n        charge: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.L;\r\n          },\r\n          set: function (a) {\r\n            this.L !== a && (A(a, \"number\", qs, \"charge\"), (this.L = a));\r\n          },\r\n        },\r\n        mass: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.fb;\r\n          },\r\n          set: function (a) {\r\n            this.fb !== a && (A(a, \"number\", qs, \"mass\"), (this.fb = a));\r\n          },\r\n        },\r\n        forceX: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.aa;\r\n          },\r\n          set: function (a) {\r\n            this.aa !== a && (A(a, \"number\", qs, \"forceX\"), (this.aa = a));\r\n          },\r\n        },\r\n        forceY: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Oa;\r\n          },\r\n          set: function (a) {\r\n            this.Oa !== a && (A(a, \"number\", qs, \"forceY\"), (this.Oa = a));\r\n          },\r\n        },\r\n      });\r\n      qs.className = \"ForceDirectedVertex\";\r\n\r\n      function us(a) {\r\n        lq.call(this, a);\r\n        this.l = this.w = NaN;\r\n      }\r\n      la(us, lq);\r\n      ma.Object.defineProperties(us.prototype, {\r\n        stiffness: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.w;\r\n          },\r\n          set: function (a) {\r\n            this.w !== a && (A(a, \"number\", us, \"stiffness\"), (this.w = a));\r\n          },\r\n        },\r\n        length: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.l;\r\n          },\r\n          set: function (a) {\r\n            this.l !== a && (A(a, \"number\", us, \"length\"), (this.l = a));\r\n          },\r\n        },\r\n      });\r\n      us.className = \"ForceDirectedEdge\";\r\n\r\n      function ts() {\r\n        var a = 0;\r\n        void 0 === a && (a = 42);\r\n        this.seed = a;\r\n        this.zy = 48271;\r\n        this.By = 2147483647;\r\n        this.Q = 44488.07041494893;\r\n        this.Dy = 3399;\r\n        this.Ay = 1 / 2147483647;\r\n        this.random();\r\n      }\r\n      ts.prototype.random = function () {\r\n        var a = (this.seed % this.Q) * this.zy - (this.seed / this.Q) * this.Dy;\r\n        0 < a ? (this.seed = a) : (this.seed = a + this.By);\r\n        return this.seed * this.Ay;\r\n      };\r\n      ts.className = \"RandomNumberGenerator\";\r\n\r\n      function vs() {\r\n        0 < arguments.length && za(vs);\r\n        Si.call(this);\r\n        this.dc = this.se = 25;\r\n        this.M = 0;\r\n        this.Zk = ws;\r\n        this.Fl = xs;\r\n        this.ul = ys;\r\n        this.Hj = 4;\r\n        this.Mk = zs;\r\n        this.vg = 7;\r\n        this.lf = !0;\r\n        this.wo = 4;\r\n        this.Ja = this.js = this.Da = -1;\r\n        this.vd = this.Go = 0;\r\n        this.Ma = this.td = this.ud = this.Qd = this.lc = null;\r\n        this.Qo = 0;\r\n        this.Po = this.Mj = null;\r\n        this.Ud = 0;\r\n        this.Ro = null;\r\n        this.Sf = new J();\r\n        this.xe = [];\r\n        this.xe.length = 100;\r\n      }\r\n      la(vs, Si);\r\n      vs.prototype.cloneProtected = function (a) {\r\n        Si.prototype.cloneProtected.call(this, a);\r\n        a.se = this.se;\r\n        a.dc = this.dc;\r\n        a.M = this.M;\r\n        a.Zk = this.Zk;\r\n        a.Fl = this.Fl;\r\n        a.ul = this.ul;\r\n        a.Hj = this.Hj;\r\n        a.Mk = this.Mk;\r\n        a.vg = this.vg;\r\n        a.lf = this.lf;\r\n        a.wo = this.wo;\r\n      };\r\n      vs.prototype.jb = function (a) {\r\n        a.classType === vs\r\n          ? 0 === a.name.indexOf(\"Aggressive\")\r\n            ? (this.aggressiveOption = a)\r\n            : 0 === a.name.indexOf(\"Cycle\")\r\n            ? (this.cycleRemoveOption = a)\r\n            : 0 === a.name.indexOf(\"Init\")\r\n            ? (this.initializeOption = a)\r\n            : 0 === a.name.indexOf(\"Layer\")\r\n            ? (this.layeringOption = a)\r\n            : v(\"Unknown enum value: \" + a)\r\n          : Si.prototype.jb.call(this, a);\r\n      };\r\n      vs.prototype.createNetwork = function () {\r\n        return new As(this);\r\n      };\r\n      vs.prototype.doLayout = function (a) {\r\n        F &&\r\n          null === a &&\r\n          v(\r\n            \"Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts\"\r\n          );\r\n        null === this.network && (this.network = this.makeNetwork(a));\r\n        this.arrangementOrigin = this.initialOrigin(this.arrangementOrigin);\r\n        this.js = -1;\r\n        this.vd = this.Go = 0;\r\n        this.Ro = this.Po = this.Mj = null;\r\n        for (a = 0; a < this.xe.length; a++) this.xe[a] = null;\r\n        if (0 < this.network.vertexes.count) {\r\n          this.network.mq();\r\n          this.cycleRemoveOption !== Bs && this.removeCycles();\r\n          for (a = this.network.vertexes.iterator; a.next(); )\r\n            a.value.layer = -1;\r\n          this.Da = -1;\r\n          this.assignLayers();\r\n          for (a.reset(); a.next(); )\r\n            this.Da = Math.max(this.Da, a.value.layer);\r\n          this.cycleRemoveOption === Bs && this.removeCycles();\r\n          a = this.network;\r\n          for (var b = [], c = a.edges.iterator; c.next(); ) {\r\n            var d = c.value;\r\n            d.valid = !1;\r\n            b.push(d);\r\n          }\r\n          for (c = 0; c < b.length; c++) {\r\n            d = b[c];\r\n            var e = d.fromVertex,\r\n              f = d.toVertex;\r\n            if (\r\n              !d.valid &&\r\n              ((null !== e.node && null !== f.node) || e.layer !== f.layer)\r\n            ) {\r\n              var g = 0,\r\n                h = 0,\r\n                k = 0,\r\n                l = 0;\r\n              if (null !== d.link) {\r\n                h = d.link;\r\n                if (null === h) continue;\r\n                var m = e.node;\r\n                g = f.node;\r\n                if (null === m || null === g) continue;\r\n                var n = h.fromNode;\r\n                k = h.toNode;\r\n                var p = h.fromPort;\r\n                h = h.toPort;\r\n                if (d.rev) {\r\n                  l = n;\r\n                  var r = p;\r\n                  n = k;\r\n                  p = h;\r\n                  k = l;\r\n                  h = r;\r\n                }\r\n                var q = e.focus;\r\n                l = f.focus;\r\n                var u = d.rev ? f.bounds : e.bounds;\r\n                r = J.alloc();\r\n                m !== n\r\n                  ? u.o() && n.isVisible()\r\n                    ? n.actualBounds.o()\r\n                      ? (n.Ef(p, Mc, r),\r\n                        (r.x += n.actualBounds.x - u.x),\r\n                        (r.y += n.actualBounds.y - u.y))\r\n                      : (n.Ef(p, Mc, r), r.o() || r.assign(q))\r\n                    : r.assign(q)\r\n                  : u.o()\r\n                  ? (n.Ef(p, Mc, r), r.o() || r.assign(q))\r\n                  : r.assign(q);\r\n                n = d.rev ? e.bounds : f.bounds;\r\n                m = J.alloc();\r\n                g !== k\r\n                  ? n.o() && k.isVisible()\r\n                    ? k.actualBounds.o()\r\n                      ? (k.Ef(h, Mc, m),\r\n                        (m.x += k.actualBounds.x - n.x),\r\n                        (m.y += k.actualBounds.y - n.y))\r\n                      : (k.Ef(h, Mc, m), m.o() || m.assign(l))\r\n                    : m.assign(l)\r\n                  : n.o()\r\n                  ? (k.Ef(h, Mc, m), m.o() || m.assign(l))\r\n                  : m.assign(l);\r\n                90 === this.M || 270 === this.M\r\n                  ? ((g = Math.round((r.x - q.x) / this.dc)),\r\n                    (k = r.x),\r\n                    (h = Math.round((m.x - l.x) / this.dc)),\r\n                    (l = m.x))\r\n                  : ((g = Math.round((r.y - q.y) / this.dc)),\r\n                    (k = r.y),\r\n                    (h = Math.round((m.y - l.y) / this.dc)),\r\n                    (l = m.y));\r\n                J.free(r);\r\n                J.free(m);\r\n                d.portFromColOffset = g;\r\n                d.portFromPos = k;\r\n                d.portToColOffset = h;\r\n                d.portToPos = l;\r\n              } else\r\n                (d.portFromColOffset = 0),\r\n                  (d.portFromPos = 0),\r\n                  (d.portToColOffset = 0),\r\n                  (d.portToPos = 0);\r\n              r = e.layer;\r\n              m = f.layer;\r\n              n = 0;\r\n              u = d.link;\r\n              if (null !== u) {\r\n                var x = u.fromPort,\r\n                  y = u.toPort;\r\n                if (null !== x && null !== y) {\r\n                  var z = u.fromNode;\r\n                  p = u.toNode;\r\n                  if (null !== z && null !== p) {\r\n                    var B = Cs(this, !0),\r\n                      D = Cs(this, !1),\r\n                      I = this.setsPortSpots ? B : u.computeSpot(!0, x);\r\n                    q = this.setsPortSpots ? D : u.computeSpot(!1, y);\r\n                    var O = u.isOrthogonal;\r\n                    I.Hf() && I.Ff(D) && q.Hf() && q.Ff(B)\r\n                      ? (n = 0)\r\n                      : ((B = u.getLinkPoint(z, x, I, !0, O, p, y, J.alloc())),\r\n                        (D = u.getLinkDirection(z, x, B, I, !0, O, p, y)),\r\n                        J.free(B),\r\n                        I.zq() || D !== Ds(this, d, !0)\r\n                          ? this.setsPortSpots &&\r\n                            null !== z &&\r\n                            1 === z.ports.count &&\r\n                            d.rev &&\r\n                            (n += 1)\r\n                          : (n += 1),\r\n                        (I = u.getLinkPoint(p, y, q, !1, O, z, x, J.alloc())),\r\n                        (u = u.getLinkDirection(p, y, I, q, !1, O, z, x)),\r\n                        J.free(I),\r\n                        q.zq() || u !== Ds(this, d, !1)\r\n                          ? this.setsPortSpots &&\r\n                            null !== p &&\r\n                            1 === p.ports.count &&\r\n                            d.rev &&\r\n                            (n += 2)\r\n                          : (n += 2));\r\n                  }\r\n                }\r\n              }\r\n              p = n;\r\n              n = 1 === p || 3 === p ? !0 : !1;\r\n              if ((p = 2 === p || 3 === p ? !0 : !1))\r\n                (q = a.createVertex()),\r\n                  (q.node = null),\r\n                  (q.ck = 1),\r\n                  (q.layer = r),\r\n                  (q.near = e),\r\n                  a.Kh(q),\r\n                  (e = a.vk(e, q, d.link)),\r\n                  (e.valid = !1),\r\n                  (e.rev = d.rev),\r\n                  (e.portFromColOffset = g),\r\n                  (e.portToColOffset = 0),\r\n                  (e.portFromPos = k),\r\n                  (e.portToPos = 0),\r\n                  (e = q);\r\n              u = 1;\r\n              n && u--;\r\n              if (r - m > u && 0 < r) {\r\n                d.valid = !1;\r\n                q = a.createVertex();\r\n                q.node = null;\r\n                q.ck = 2;\r\n                q.layer = r - 1;\r\n                a.Kh(q);\r\n                e = a.vk(e, q, d.link);\r\n                e.valid = !0;\r\n                e.rev = d.rev;\r\n                e.portFromColOffset = p ? 0 : g;\r\n                e.portToColOffset = 0;\r\n                e.portFromPos = p ? 0 : k;\r\n                e.portToPos = 0;\r\n                e = q;\r\n                for (r--; r - m > u && 0 < r; )\r\n                  (q = a.createVertex()),\r\n                    (q.node = null),\r\n                    (q.ck = 3),\r\n                    (q.layer = r - 1),\r\n                    a.Kh(q),\r\n                    (e = a.vk(e, q, d.link)),\r\n                    (e.valid = !0),\r\n                    (e.rev = d.rev),\r\n                    (e.portFromColOffset = 0),\r\n                    (e.portToColOffset = 0),\r\n                    (e.portFromPos = 0),\r\n                    (e.portToPos = 0),\r\n                    (e = q),\r\n                    r--;\r\n                e = a.vk(q, f, d.link);\r\n                e.valid = !n;\r\n                n && (q.near = f);\r\n                e.rev = d.rev;\r\n                e.portFromColOffset = 0;\r\n                e.portToColOffset = h;\r\n                e.portFromPos = 0;\r\n                e.portToPos = l;\r\n              } else d.valid = !0;\r\n            }\r\n          }\r\n          a = this.lc = [];\r\n          for (b = 0; b <= this.Da; b++) a[b] = 0;\r\n          for (b = this.network.vertexes.iterator; b.next(); )\r\n            b.value.index = -1;\r\n          this.initializeIndices();\r\n          this.js = -1;\r\n          for (c = this.vd = this.Go = 0; c <= this.Da; c++)\r\n            a[c] > a[this.vd] && ((this.js = a[c] - 1), (this.vd = c)),\r\n              a[c] < a[this.Go] && (this.Go = c);\r\n          this.Ro = [];\r\n          for (c = 0; c < a.length; c++) this.Ro[c] = [];\r\n          for (b.reset(); b.next(); )\r\n            (a = b.value), (this.Ro[a.layer][a.index] = a);\r\n          this.Ja = -1;\r\n          for (a = 0; a <= this.Da; a++) {\r\n            b = Es(this, a);\r\n            c = 0;\r\n            d = this.lc[a];\r\n            for (f = 0; f < d; f++)\r\n              (e = b[f]),\r\n                (c += this.nodeMinColumnSpace(e, !0)),\r\n                (e.column = c),\r\n                (c += 1),\r\n                (c += this.nodeMinColumnSpace(e, !1));\r\n            this.Ja = Math.max(this.Ja, c - 1);\r\n            Fs(this, a, b);\r\n          }\r\n          this.reduceCrossings();\r\n          this.straightenAndPack();\r\n          this.updateParts();\r\n        }\r\n        this.network = null;\r\n        this.isValidLayout = !0;\r\n      };\r\n      vs.prototype.linkMinLength = function () {\r\n        return 1;\r\n      };\r\n\r\n      function Gs(a) {\r\n        var b = a.fromVertex.node;\r\n        a = a.toVertex.node;\r\n        return null === b && null === a ? 8 : null === b || null === a ? 4 : 1;\r\n      }\r\n      vs.prototype.nodeMinLayerSpace = function (a, b) {\r\n        return null === a.node\r\n          ? 0\r\n          : 90 === this.M || 270 === this.M\r\n          ? b\r\n            ? a.focus.y + 10\r\n            : a.bounds.height - a.focus.y + 10\r\n          : b\r\n          ? a.focus.x + 10\r\n          : a.bounds.width - a.focus.x + 10;\r\n      };\r\n      vs.prototype.nodeMinColumnSpace = function (a, b) {\r\n        if (null === a.node) return 0;\r\n        var c = b ? a.Rv : a.Qv;\r\n        if (null !== c) return c;\r\n        c = this.M;\r\n        return 90 === c || 270 === c\r\n          ? b\r\n            ? (a.Rv = (a.focus.x / this.dc + 1) | 0)\r\n            : (a.Qv = ((a.bounds.width - a.focus.x) / this.dc + 1) | 0)\r\n          : b\r\n          ? (a.Rv = (a.focus.y / this.dc + 1) | 0)\r\n          : (a.Qv = ((a.bounds.height - a.focus.y) / this.dc + 1) | 0);\r\n      };\r\n\r\n      function Hs(a) {\r\n        null === a.Mj && (a.Mj = []);\r\n        for (var b = 0, c = a.network.vertexes.iterator; c.next(); ) {\r\n          var d = c.value;\r\n          a.Mj[b] = d.layer;\r\n          b++;\r\n          a.Mj[b] = d.column;\r\n          b++;\r\n          a.Mj[b] = d.index;\r\n          b++;\r\n        }\r\n        return a.Mj;\r\n      }\r\n\r\n      function Is(a, b) {\r\n        var c = 0;\r\n        for (a = a.network.vertexes.iterator; a.next(); ) {\r\n          var d = a.value;\r\n          d.layer = b[c];\r\n          c++;\r\n          d.column = b[c];\r\n          c++;\r\n          d.index = b[c];\r\n          c++;\r\n        }\r\n      }\r\n\r\n      function Js(a, b, c) {\r\n        F &&\r\n          (C(b, vs, \"crossingMatrix:unfixedLayer\"),\r\n          C(c, vs, \"crossingMatrix:direction\"));\r\n        var d = Es(a, b),\r\n          e = a.lc[b];\r\n        if (null === a.Po || a.Po.length < e * e) a.Po = [];\r\n        for (var f = a.Po, g = 0; g < e; g++) {\r\n          var h = 0,\r\n            k = d[g],\r\n            l = k.near;\r\n          if (null !== l && l.layer === k.layer)\r\n            if (((k = l.index), k > g))\r\n              for (var m = g + 1; m < k; m++) {\r\n                var n = d[m];\r\n                (n.near === l && n.ck === l.ck) || h++;\r\n              }\r\n            else\r\n              for (m = g - 1; m > k; m--)\r\n                (n = d[m]), (n.near === l && n.ck === l.ck) || h++;\r\n          var p;\r\n          if (0 <= c)\r\n            for (k = d[g].sourceEdgesArrayAccess, l = 0; l < k.length; l++) {\r\n              var r = k[l];\r\n              if (r.valid && r.fromVertex.layer !== b)\r\n                for (\r\n                  n = r.fromVertex.index,\r\n                    m = r.portToPos,\r\n                    r = r.portFromPos,\r\n                    p = l + 1;\r\n                  p < k.length;\r\n                  p++\r\n                ) {\r\n                  var q = k[p];\r\n                  if (q.valid && q.fromVertex.layer !== b) {\r\n                    var u = q.fromVertex.index;\r\n                    var x = q.portToPos;\r\n                    q = q.portFromPos;\r\n                    m < x && (n > u || (n === u && r > q)) && h++;\r\n                    x < m && (u > n || (u === n && q > r)) && h++;\r\n                  }\r\n                }\r\n            }\r\n          if (0 >= c)\r\n            for (k = d[g].destinationEdgesArrayAccess, l = 0; l < k.length; l++)\r\n              if (((r = k[l]), r.valid && r.toVertex.layer !== b))\r\n                for (\r\n                  n = r.toVertex.index,\r\n                    m = r.portToPos,\r\n                    r = r.portFromPos,\r\n                    p = l + 1;\r\n                  p < k.length;\r\n                  p++\r\n                )\r\n                  (q = k[p]),\r\n                    q.valid &&\r\n                      q.toVertex.layer !== b &&\r\n                      ((u = q.toVertex.index),\r\n                      (x = q.portToPos),\r\n                      (q = q.portFromPos),\r\n                      r < q && (n > u || (n === u && m > x)) && h++,\r\n                      q < r && (u > n || (u === n && x > m)) && h++);\r\n          f[g * e + g] = h;\r\n          for (k = g + 1; k < e; k++) {\r\n            var y = 0,\r\n              z = 0;\r\n            if (0 <= c) {\r\n              h = d[g].sourceEdgesArrayAccess;\r\n              var B = d[k].sourceEdgesArrayAccess;\r\n              for (l = 0; l < h.length; l++)\r\n                if (((r = h[l]), r.valid && r.fromVertex.layer !== b))\r\n                  for (\r\n                    n = r.fromVertex.index, r = r.portFromPos, p = 0;\r\n                    p < B.length;\r\n                    p++\r\n                  )\r\n                    (q = B[p]),\r\n                      q.valid &&\r\n                        q.fromVertex.layer !== b &&\r\n                        ((u = q.fromVertex.index),\r\n                        (q = q.portFromPos),\r\n                        (n < u || (n === u && r < q)) && z++,\r\n                        (u < n || (u === n && q < r)) && y++);\r\n            }\r\n            if (0 >= c)\r\n              for (\r\n                h = d[g].destinationEdgesArrayAccess,\r\n                  B = d[k].destinationEdgesArrayAccess,\r\n                  l = 0;\r\n                l < h.length;\r\n                l++\r\n              )\r\n                if (((r = h[l]), r.valid && r.toVertex.layer !== b))\r\n                  for (\r\n                    n = r.toVertex.index, m = r.portToPos, p = 0;\r\n                    p < B.length;\r\n                    p++\r\n                  )\r\n                    (q = B[p]),\r\n                      q.valid &&\r\n                        q.toVertex.layer !== b &&\r\n                        ((u = q.toVertex.index),\r\n                        (x = q.portToPos),\r\n                        (n < u || (n === u && m < x)) && z++,\r\n                        (u < n || (u === n && x < m)) && y++);\r\n            f[g * e + k] = y;\r\n            f[k * e + g] = z;\r\n          }\r\n        }\r\n        Fs(a, b, d);\r\n        return f;\r\n      }\r\n      vs.prototype.countCrossings = function () {\r\n        for (var a = 0, b = 0; b <= this.Da; b++)\r\n          for (var c = Js(this, b, 1), d = this.lc[b], e = 0; e < d; e++)\r\n            for (var f = e; f < d; f++) a += c[e * d + f];\r\n        return a;\r\n      };\r\n\r\n      function Ks(a) {\r\n        for (var b = 0, c = 0; c <= a.Da; c++) {\r\n          for (\r\n            var d = a, e = c, f = Es(d, e), g = d.lc[e], h = 0, k = 0;\r\n            k < g;\r\n            k++\r\n          ) {\r\n            var l = f[k].destinationEdgesArrayAccess;\r\n            if (null !== l)\r\n              for (var m = 0; m < l.length; m++) {\r\n                var n = l[m];\r\n                if (n.valid && n.toVertex.layer !== e) {\r\n                  var p = n.fromVertex.column + n.portFromColOffset;\r\n                  var r = n.toVertex.column + n.portToColOffset;\r\n                  h += (Math.abs(p - r) + 1) * Gs(n);\r\n                }\r\n              }\r\n          }\r\n          Fs(d, e, f);\r\n          b += h;\r\n        }\r\n        return b;\r\n      }\r\n      vs.prototype.normalize = function () {\r\n        var a = Infinity;\r\n        this.Ja = -1;\r\n        for (var b = this.network.vertexes.iterator; b.next(); ) {\r\n          var c = b.value;\r\n          a = Math.min(a, c.column - this.nodeMinColumnSpace(c, !0));\r\n          this.Ja = Math.max(\r\n            this.Ja,\r\n            c.column + this.nodeMinColumnSpace(c, !1)\r\n          );\r\n        }\r\n        for (b.reset(); b.next(); ) b.value.column -= a;\r\n        this.Ja -= a;\r\n      };\r\n\r\n      function Ls(a, b, c) {\r\n        F &&\r\n          (C(b, vs, \"barycenters:unfixedLayer\"),\r\n          C(c, vs, \"barycenters:direction\"));\r\n        for (var d = Es(a, b), e = a.lc[b], f = [], g = 0; g < e; g++) {\r\n          var h = d[g],\r\n            k = null;\r\n          0 >= c && (k = h.sourceEdgesArrayAccess);\r\n          var l = null;\r\n          0 <= c && (l = h.destinationEdgesArrayAccess);\r\n          var m = 0,\r\n            n = 0,\r\n            p = h.near;\r\n          null !== p && p.layer === h.layer && ((m += p.column - 1), n++);\r\n          if (null !== k)\r\n            for (p = 0; p < k.length; p++) {\r\n              h = k[p];\r\n              var r = h.fromVertex;\r\n              h.valid && !h.rev && r.layer !== b && ((m += r.column), n++);\r\n            }\r\n          if (null !== l)\r\n            for (k = 0; k < l.length; k++)\r\n              (h = l[k]),\r\n                (p = h.toVertex),\r\n                h.valid && !h.rev && p.layer !== b && ((m += p.column), n++);\r\n          f[g] = 0 === n ? -1 : m / n;\r\n        }\r\n        Fs(a, b, d);\r\n        return f;\r\n      }\r\n\r\n      function Ms(a, b, c) {\r\n        F && (C(b, vs, \"medians:unfixedLayer\"), C(c, vs, \"medians:direction\"));\r\n        for (var d = Es(a, b), e = a.lc[b], f = [], g = 0; g < e; g++) {\r\n          var h = d[g],\r\n            k = null;\r\n          0 >= c && (k = h.sourceEdgesArrayAccess);\r\n          var l = null;\r\n          0 <= c && (l = h.destinationEdgesArrayAccess);\r\n          var m = 0,\r\n            n = [],\r\n            p = h.near;\r\n          null !== p && p.layer === h.layer && ((n[m] = p.column - 1), m++);\r\n          h = void 0;\r\n          if (null !== k)\r\n            for (p = 0; p < k.length; p++) {\r\n              h = k[p];\r\n              var r = h.fromVertex;\r\n              h.valid &&\r\n                !h.rev &&\r\n                r.layer !== b &&\r\n                ((n[m] = r.column + h.portFromColOffset), m++);\r\n            }\r\n          if (null !== l)\r\n            for (k = 0; k < l.length; k++)\r\n              (h = l[k]),\r\n                (p = h.toVertex),\r\n                h.valid &&\r\n                  !h.rev &&\r\n                  p.layer !== b &&\r\n                  ((n[m] = p.column + h.portToColOffset), m++);\r\n          0 === m\r\n            ? (f[g] = -1)\r\n            : (n.sort(function (a, b) {\r\n                return a - b;\r\n              }),\r\n              (l = m >> 1),\r\n              (f[g] = 0 !== (m & 1) ? n[l] : (n[l - 1] + n[l]) >> 1));\r\n        }\r\n        Fs(a, b, d);\r\n        return f;\r\n      }\r\n\r\n      function Ns(a, b, c, d, e, f) {\r\n        if (b.component === d) {\r\n          b.component = c;\r\n          if (e)\r\n            for (var g = b.destinationEdges; g.next(); ) {\r\n              var h = g.value;\r\n              var k = h.toVertex;\r\n              var l = b.layer - k.layer;\r\n              h = a.linkMinLength(h);\r\n              l === h && Ns(a, k, c, d, e, f);\r\n            }\r\n          if (f)\r\n            for (g = b.sourceEdges; g.next(); )\r\n              (h = g.value),\r\n                (k = h.fromVertex),\r\n                (l = k.layer - b.layer),\r\n                (h = a.linkMinLength(h)),\r\n                l === h && Ns(a, k, c, d, e, f);\r\n        }\r\n      }\r\n\r\n      function Os(a, b, c, d, e, f) {\r\n        if (b.component === d) {\r\n          b.component = c;\r\n          if (e)\r\n            for (var g = b.destinationEdges; g.next(); )\r\n              Os(a, g.value.toVertex, c, d, e, f);\r\n          if (f)\r\n            for (b = b.sourceEdges; b.next(); )\r\n              Os(a, b.value.fromVertex, c, d, e, f);\r\n        }\r\n      }\r\n      vs.prototype.removeCycles = function () {\r\n        for (var a = this.network.edges.iterator; a.next(); ) a.value.rev = !1;\r\n        switch (this.Zk) {\r\n          default:\r\n          case Ps:\r\n            a = this.network;\r\n            var b = 0,\r\n              c = a.vertexes.count - 1,\r\n              d = [];\r\n            d.length = c + 1;\r\n            for (var e = a.vertexes.iterator; e.next(); ) e.value.valid = !0;\r\n            for (; null !== Qs(a); ) {\r\n              for (e = Rs(a); null !== e; )\r\n                (d[c] = e), c--, (e.valid = !1), (e = Rs(a));\r\n              for (e = Ss(a); null !== e; )\r\n                (d[b] = e), b++, (e.valid = !1), (e = Ss(a));\r\n              e = null;\r\n              for (var f = 0, g = this.network.vertexes.iterator; g.next(); ) {\r\n                var h = g.value;\r\n                if (h.valid) {\r\n                  for (var k = 0, l = h.destinationEdges; l.next(); )\r\n                    l.value.toVertex.valid && k++;\r\n                  l = 0;\r\n                  for (var m = h.sourceEdges; m.next(); )\r\n                    m.value.fromVertex.valid && l++;\r\n                  if (null === e || f < k - l) (e = h), (f = k - l);\r\n                }\r\n              }\r\n              null !== e && ((d[b] = e), b++, (e.valid = !1));\r\n            }\r\n            for (b = 0; b < a.vertexes.count; b++) d[b].index = b;\r\n            for (d = a.edges.iterator; d.next(); )\r\n              (b = d.value),\r\n                b.fromVertex.index > b.toVertex.index &&\r\n                  (a.Om(b), (b.rev = !0));\r\n            break;\r\n          case ws:\r\n            for (d = this.network.vertexes.iterator; d.next(); )\r\n              (a = d.value), (a.pm = -1), (a.finish = -1);\r\n            for (a = this.network.edges.iterator; a.next(); )\r\n              a.value.forest = !1;\r\n            this.Qo = 0;\r\n            for (d.reset(); d.next(); )\r\n              (b = d.value), 0 === b.sourceEdges.count && Ts(this, b);\r\n            for (d.reset(); d.next(); )\r\n              (b = d.value), -1 === b.pm && Ts(this, b);\r\n            for (a.reset(); a.next(); )\r\n              (d = a.value),\r\n                d.forest ||\r\n                  ((b = d.fromVertex),\r\n                  (c = b.finish),\r\n                  (e = d.toVertex),\r\n                  (f = e.finish),\r\n                  e.pm < b.pm && c < f && (this.network.Om(d), (d.rev = !0)));\r\n            break;\r\n          case Bs:\r\n            a = this.network;\r\n            b = a.vertexes.iterator;\r\n            for (d = Infinity; b.next(); ) d = Math.min(d, b.value.layer);\r\n            if (Infinity > d) {\r\n              if (0 > d) for (b.reset(); b.next(); ) b.value.layer -= d;\r\n              d = [];\r\n              for (b.reset(); b.next(); )\r\n                (c = b.value),\r\n                  (e = d[c.layer]),\r\n                  void 0 === e ? (d[c.layer] = [c]) : e.push(c);\r\n              for (c = b = 0; c < d.length; c++)\r\n                if (((e = d[c]), !e || 0 === e.length)) b++;\r\n                else if (0 < c) for (f = 0; f < e.length; f++) e[f].layer -= b;\r\n              for (d = a.edges.iterator; d.next(); )\r\n                (b = d.value),\r\n                  b.fromVertex.layer < b.toVertex.layer &&\r\n                    (a.Om(b), (b.rev = !0));\r\n            }\r\n        }\r\n      };\r\n\r\n      function Qs(a) {\r\n        for (a = a.vertexes.iterator; a.next(); ) {\r\n          var b = a.value;\r\n          if (b.valid) return b;\r\n        }\r\n        return null;\r\n      }\r\n\r\n      function Rs(a) {\r\n        for (a = a.vertexes.iterator; a.next(); ) {\r\n          var b = a.value;\r\n          if (b.valid) {\r\n            for (var c = !0, d = b.destinationEdges; d.next(); )\r\n              if (d.value.toVertex.valid) {\r\n                c = !1;\r\n                break;\r\n              }\r\n            if (c) return b;\r\n          }\r\n        }\r\n        return null;\r\n      }\r\n\r\n      function Ss(a) {\r\n        for (a = a.vertexes.iterator; a.next(); ) {\r\n          var b = a.value;\r\n          if (b.valid) {\r\n            for (var c = !0, d = b.sourceEdges; d.next(); )\r\n              if (d.value.fromVertex.valid) {\r\n                c = !1;\r\n                break;\r\n              }\r\n            if (c) return b;\r\n          }\r\n        }\r\n        return null;\r\n      }\r\n\r\n      function Ts(a, b) {\r\n        b.pm = a.Qo;\r\n        a.Qo++;\r\n        for (var c = b.destinationEdges; c.next(); ) {\r\n          var d = c.value,\r\n            e = d.toVertex;\r\n          -1 === e.pm && ((d.forest = !0), Ts(a, e));\r\n        }\r\n        b.finish = a.Qo;\r\n        a.Qo++;\r\n      }\r\n      vs.prototype.assignLayers = function () {\r\n        switch (this.Fl) {\r\n          case Us:\r\n            Vs(this);\r\n            break;\r\n          case Ws:\r\n            for (var a, b = this.network.vertexes.iterator; b.next(); )\r\n              (a = Xs(this, b.value)), (this.Da = Math.max(a, this.Da));\r\n            for (b.reset(); b.next(); )\r\n              (a = b.value), (a.layer = this.Da - a.layer);\r\n            break;\r\n          default:\r\n          case xs:\r\n            Vs(this);\r\n            for (b = this.network.vertexes.iterator; b.next(); )\r\n              b.value.valid = !1;\r\n            for (b.reset(); b.next(); )\r\n              (a = b.value), 0 === a.sourceEdges.count && Ys(this, a);\r\n            a = Infinity;\r\n            for (b.reset(); b.next(); ) a = Math.min(a, b.value.layer);\r\n            this.Da = -1;\r\n            for (b.reset(); b.next(); ) {\r\n              var c = b.value;\r\n              c.layer -= a;\r\n              this.Da = Math.max(this.Da, c.layer);\r\n            }\r\n        }\r\n      };\r\n\r\n      function Vs(a) {\r\n        for (var b = a.network.vertexes.iterator; b.next(); ) {\r\n          var c = Zs(a, b.value);\r\n          a.Da = Math.max(c, a.Da);\r\n        }\r\n      }\r\n\r\n      function Zs(a, b) {\r\n        var c = 0;\r\n        if (-1 === b.layer) {\r\n          for (var d = b.destinationEdges; d.next(); ) {\r\n            var e = d.value,\r\n              f = e.toVertex;\r\n            e = a.linkMinLength(e);\r\n            c = Math.max(c, Zs(a, f) + e);\r\n          }\r\n          b.layer = c;\r\n        } else c = b.layer;\r\n        return c;\r\n      }\r\n\r\n      function Xs(a, b) {\r\n        var c = 0;\r\n        if (-1 === b.layer) {\r\n          for (var d = b.sourceEdges; d.next(); ) {\r\n            var e = d.value,\r\n              f = e.fromVertex;\r\n            e = a.linkMinLength(e);\r\n            c = Math.max(c, Xs(a, f) + e);\r\n          }\r\n          b.layer = c;\r\n        } else c = b.layer;\r\n        return c;\r\n      }\r\n\r\n      function Ys(a, b) {\r\n        if (!b.valid) {\r\n          b.valid = !0;\r\n          for (var c = b.destinationEdges; c.next(); ) Ys(a, c.value.toVertex);\r\n          for (c = a.network.vertexes.iterator; c.next(); )\r\n            c.value.component = -1;\r\n          for (\r\n            var d = b.sourceEdgesArrayAccess, e = d.length, f = 0;\r\n            f < e;\r\n            f++\r\n          ) {\r\n            var g = d[f],\r\n              h = g.fromVertex,\r\n              k = g.toVertex;\r\n            g = a.linkMinLength(g);\r\n            h.layer - k.layer > g && Ns(a, h, 0, -1, !0, !1);\r\n          }\r\n          for (Ns(a, b, 1, -1, !0, !0); 0 !== b.component; ) {\r\n            f = 0;\r\n            d = Infinity;\r\n            h = 0;\r\n            k = null;\r\n            for (g = a.network.vertexes.iterator; g.next(); ) {\r\n              var l = g.value;\r\n              if (1 === l.component) {\r\n                var m = 0,\r\n                  n = !1,\r\n                  p = l.sourceEdgesArrayAccess;\r\n                e = p.length;\r\n                for (var r = 0; r < e; r++) {\r\n                  var q = p[r],\r\n                    u = q.fromVertex;\r\n                  m += 1;\r\n                  1 !== u.component &&\r\n                    ((f += 1),\r\n                    (u = u.layer - l.layer),\r\n                    (q = a.linkMinLength(q)),\r\n                    (d = Math.min(d, u - q)));\r\n                }\r\n                p = l.destinationEdgesArrayAccess;\r\n                e = p.length;\r\n                for (r = 0; r < e; r++)\r\n                  (q = p[r].toVertex), --m, 1 !== q.component ? --f : (n = !0);\r\n                (null === k || m < h) && !n && ((k = l), (h = m));\r\n              }\r\n            }\r\n            if (0 < f) {\r\n              for (c.reset(); c.next(); )\r\n                (e = c.value), 1 === e.component && (e.layer += d);\r\n              b.component = 0;\r\n            } else k.component = 0;\r\n          }\r\n          for (c = a.network.vertexes.iterator; c.next(); )\r\n            c.value.component = -1;\r\n          for (Ns(a, b, 1, -1, !0, !1); 0 !== b.component; ) {\r\n            d = 0;\r\n            e = Infinity;\r\n            f = 0;\r\n            h = null;\r\n            for (k = a.network.vertexes.iterator; k.next(); )\r\n              if (((g = k.value), 1 === g.component)) {\r\n                l = 0;\r\n                m = !1;\r\n                p = g.sourceEdgesArrayAccess;\r\n                n = p.length;\r\n                for (r = 0; r < n; r++)\r\n                  (q = p[r].fromVertex),\r\n                    (l += 1),\r\n                    1 !== q.component ? (d += 1) : (m = !0);\r\n                p = g.destinationEdgesArrayAccess;\r\n                n = p.length;\r\n                for (r = 0; r < n; r++)\r\n                  (q = p[r]),\r\n                    (u = q.toVertex),\r\n                    --l,\r\n                    1 !== u.component &&\r\n                      (--d,\r\n                      (u = g.layer - u.layer),\r\n                      (q = a.linkMinLength(q)),\r\n                      (e = Math.min(e, u - q)));\r\n                (null === h || l > f) && !m && ((h = g), (f = l));\r\n              }\r\n            if (0 > d) {\r\n              for (c.reset(); c.next(); )\r\n                (d = c.value), 1 === d.component && (d.layer -= e);\r\n              b.component = 0;\r\n            } else h.component = 0;\r\n          }\r\n        }\r\n      }\r\n\r\n      function Ds(a, b, c) {\r\n        return 90 === a.M\r\n          ? (c && !b.rev) || (!c && b.rev)\r\n            ? 270\r\n            : 90\r\n          : 180 === a.M\r\n          ? (c && !b.rev) || (!c && b.rev)\r\n            ? 0\r\n            : 180\r\n          : 270 === a.M\r\n          ? (c && !b.rev) || (!c && b.rev)\r\n            ? 90\r\n            : 270\r\n          : (c && !b.rev) || (!c && b.rev)\r\n          ? 180\r\n          : 0;\r\n      }\r\n      vs.prototype.initializeIndices = function () {\r\n        switch (this.ul) {\r\n          default:\r\n          case $s:\r\n            for (var a = this.network.vertexes.iterator; a.next(); ) {\r\n              var b = a.value,\r\n                c = b.layer;\r\n              b.index = this.lc[c];\r\n              this.lc[c]++;\r\n            }\r\n            break;\r\n          case ys:\r\n            a = this.network.vertexes.iterator;\r\n            for (b = this.Da; 0 <= b; b--)\r\n              for (a.reset(); a.next(); )\r\n                (c = a.value), c.layer === b && -1 === c.index && at(this, c);\r\n            break;\r\n          case bt:\r\n            for (a = this.network.vertexes.iterator, b = 0; b <= this.Da; b++)\r\n              for (a.reset(); a.next(); )\r\n                (c = a.value), c.layer === b && -1 === c.index && ct(this, c);\r\n        }\r\n      };\r\n\r\n      function at(a, b) {\r\n        var c = b.layer;\r\n        b.index = a.lc[c];\r\n        a.lc[c]++;\r\n        b = b.destinationEdgesArrayAccess;\r\n        for (c = !0; c; ) {\r\n          c = !1;\r\n          for (var d = 0; d < b.length - 1; d++) {\r\n            var e = b[d],\r\n              f = b[d + 1];\r\n            e.portFromColOffset > f.portFromColOffset &&\r\n              ((c = !0), (b[d] = f), (b[d + 1] = e));\r\n          }\r\n        }\r\n        for (c = 0; c < b.length; c++)\r\n          (d = b[c]), d.valid && ((d = d.toVertex), -1 === d.index && at(a, d));\r\n      }\r\n\r\n      function ct(a, b) {\r\n        var c = b.layer;\r\n        b.index = a.lc[c];\r\n        a.lc[c]++;\r\n        b = b.sourceEdgesArrayAccess;\r\n        for (var d = !0; d; )\r\n          for (d = !1, c = 0; c < b.length - 1; c++) {\r\n            var e = b[c],\r\n              f = b[c + 1];\r\n            e.portToColOffset > f.portToColOffset &&\r\n              ((d = !0), (b[c] = f), (b[c + 1] = e));\r\n          }\r\n        for (c = 0; c < b.length; c++)\r\n          (d = b[c]),\r\n            d.valid && ((d = d.fromVertex), -1 === d.index && ct(a, d));\r\n      }\r\n      vs.prototype.reduceCrossings = function () {\r\n        var a = this.countCrossings(),\r\n          b = Hs(this),\r\n          c,\r\n          d;\r\n        for (c = 0; c < this.Hj; c++) {\r\n          for (d = 0; d <= this.Da; d++) dt(this, d, 1), et(this, d, 1);\r\n          var e = this.countCrossings();\r\n          e < a && ((a = e), (b = Hs(this)));\r\n          for (d = this.Da; 0 <= d; d--) dt(this, d, -1), et(this, d, -1);\r\n          e = this.countCrossings();\r\n          e < a && ((a = e), (b = Hs(this)));\r\n        }\r\n        Is(this, b);\r\n        for (c = 0; c < this.Hj; c++) {\r\n          for (d = 0; d <= this.Da; d++) dt(this, d, 0), et(this, d, 0);\r\n          e = this.countCrossings();\r\n          e < a && ((a = e), (b = Hs(this)));\r\n          for (d = this.Da; 0 <= d; d--) dt(this, d, 0), et(this, d, 0);\r\n          e = this.countCrossings();\r\n          e < a && ((a = e), (b = Hs(this)));\r\n        }\r\n        Is(this, b);\r\n        var f, g, h;\r\n        switch (this.Mk) {\r\n          case ft:\r\n            break;\r\n          case gt:\r\n            for (h = a + 1; (d = this.countCrossings()) < h; )\r\n              for (h = d, c = this.Da; 0 <= c; c--)\r\n                for (g = 0; g <= c; g++) {\r\n                  for (f = !0; f; )\r\n                    for (f = !1, d = c; d >= g; d--) f = et(this, d, -1) || f;\r\n                  e = this.countCrossings();\r\n                  e >= a ? Is(this, b) : ((a = e), (b = Hs(this)));\r\n                  for (f = !0; f; )\r\n                    for (f = !1, d = c; d >= g; d--) f = et(this, d, 1) || f;\r\n                  e = this.countCrossings();\r\n                  e >= a ? Is(this, b) : ((a = e), (b = Hs(this)));\r\n                  for (f = !0; f; )\r\n                    for (f = !1, d = g; d <= c; d++) f = et(this, d, 1) || f;\r\n                  e >= a ? Is(this, b) : ((a = e), (b = Hs(this)));\r\n                  for (f = !0; f; )\r\n                    for (f = !1, d = g; d <= c; d++) f = et(this, d, -1) || f;\r\n                  e >= a ? Is(this, b) : ((a = e), (b = Hs(this)));\r\n                  for (f = !0; f; )\r\n                    for (f = !1, d = c; d >= g; d--) f = et(this, d, 0) || f;\r\n                  e >= a ? Is(this, b) : ((a = e), (b = Hs(this)));\r\n                  for (f = !0; f; )\r\n                    for (f = !1, d = g; d <= c; d++) f = et(this, d, 0) || f;\r\n                  e >= a ? Is(this, b) : ((a = e), (b = Hs(this)));\r\n                }\r\n            break;\r\n          default:\r\n          case zs:\r\n            for (\r\n              c = this.Da, g = 0, h = a + 1;\r\n              (d = this.countCrossings()) < h;\r\n\r\n            ) {\r\n              h = d;\r\n              for (f = !0; f; )\r\n                for (f = !1, d = c; d >= g; d--) f = et(this, d, -1) || f;\r\n              e = this.countCrossings();\r\n              e >= a ? Is(this, b) : ((a = e), (b = Hs(this)));\r\n              for (f = !0; f; )\r\n                for (f = !1, d = c; d >= g; d--) f = et(this, d, 1) || f;\r\n              e = this.countCrossings();\r\n              e >= a ? Is(this, b) : ((a = e), (b = Hs(this)));\r\n              for (f = !0; f; )\r\n                for (f = !1, d = g; d <= c; d++) f = et(this, d, 1) || f;\r\n              e >= a ? Is(this, b) : ((a = e), (b = Hs(this)));\r\n              for (f = !0; f; )\r\n                for (f = !1, d = g; d <= c; d++) f = et(this, d, -1) || f;\r\n              e >= a ? Is(this, b) : ((a = e), (b = Hs(this)));\r\n              for (f = !0; f; )\r\n                for (f = !1, d = c; d >= g; d--) f = et(this, d, 0) || f;\r\n              e >= a ? Is(this, b) : ((a = e), (b = Hs(this)));\r\n              for (f = !0; f; )\r\n                for (f = !1, d = g; d <= c; d++) f = et(this, d, 0) || f;\r\n              e >= a ? Is(this, b) : ((a = e), (b = Hs(this)));\r\n            }\r\n        }\r\n        Is(this, b);\r\n      };\r\n\r\n      function dt(a, b, c) {\r\n        F &&\r\n          (C(b, vs, \"medianBarycenterCrossingReduction:unfixedLayer\"),\r\n          C(c, vs, \"medianBarycenterCrossingReduction:direction\"));\r\n        var d = Es(a, b),\r\n          e = a.lc[b],\r\n          f = Ms(a, b, c),\r\n          g = Ls(a, b, c);\r\n        for (c = 0; c < e; c++)\r\n          -1 === g[c] && (g[c] = d[c].column),\r\n            -1 === f[c] && (f[c] = d[c].column);\r\n        for (var h = !0, k; h; )\r\n          for (h = !1, c = 0; c < e - 1; c++)\r\n            if (f[c + 1] < f[c] || (f[c + 1] === f[c] && g[c + 1] < g[c]))\r\n              (h = !0),\r\n                (k = f[c]),\r\n                (f[c] = f[c + 1]),\r\n                (f[c + 1] = k),\r\n                (k = g[c]),\r\n                (g[c] = g[c + 1]),\r\n                (g[c + 1] = k),\r\n                (k = d[c]),\r\n                (d[c] = d[c + 1]),\r\n                (d[c + 1] = k);\r\n        for (c = f = 0; c < e; c++)\r\n          (k = d[c]),\r\n            (k.index = c),\r\n            (f += a.nodeMinColumnSpace(k, !0)),\r\n            (k.column = f),\r\n            (f += 1),\r\n            (f += a.nodeMinColumnSpace(k, !1));\r\n        Fs(a, b, d);\r\n      }\r\n\r\n      function et(a, b, c) {\r\n        var d = Es(a, b),\r\n          e = a.lc[b];\r\n        c = Js(a, b, c);\r\n        var f;\r\n        var g = [];\r\n        for (f = 0; f < e; f++) g[f] = -1;\r\n        var h = [];\r\n        for (f = 0; f < e; f++) h[f] = -1;\r\n        for (var k = !1, l = !0; l; )\r\n          for (l = !1, f = 0; f < e - 1; f++) {\r\n            var m = c[d[f].index * e + d[f + 1].index],\r\n              n = c[d[f + 1].index * e + d[f].index],\r\n              p = 0,\r\n              r = 0,\r\n              q = d[f].column,\r\n              u = d[f + 1].column,\r\n              x = a.nodeMinColumnSpace(d[f], !0),\r\n              y = a.nodeMinColumnSpace(d[f], !1),\r\n              z = a.nodeMinColumnSpace(d[f + 1], !0),\r\n              B = a.nodeMinColumnSpace(d[f + 1], !1);\r\n            x = q - x + z;\r\n            y = u - y + B;\r\n            var D = d[f].sourceEdges.iterator;\r\n            for (D.reset(); D.next(); )\r\n              if (\r\n                ((z = D.value), (B = z.fromVertex), z.valid && B.layer === b)\r\n              ) {\r\n                for (z = 0; d[z] !== B; ) z++;\r\n                z < f && ((p += 2 * (f - z)), (r += 2 * (f + 1 - z)));\r\n                z === f + 1 && (p += 1);\r\n                z > f + 1 && ((p += 4 * (z - f)), (r += 4 * (z - (f + 1))));\r\n              }\r\n            D = d[f].destinationEdges.iterator;\r\n            for (D.reset(); D.next(); )\r\n              if (((z = D.value), (B = z.toVertex), z.valid && B.layer === b)) {\r\n                for (z = 0; d[z] !== B; ) z++;\r\n                z === f + 1 && (r += 1);\r\n              }\r\n            D = d[f + 1].sourceEdges.iterator;\r\n            for (D.reset(); D.next(); )\r\n              if (\r\n                ((z = D.value), (B = z.fromVertex), z.valid && B.layer === b)\r\n              ) {\r\n                for (z = 0; d[z] !== B; ) z++;\r\n                z < f && ((p += 2 * (f + 1 - z)), (r += 2 * (f - z)));\r\n                z === f && (r += 1);\r\n                z > f + 1 && ((p += 4 * (z - (f + 1))), (r += 4 * (z - f)));\r\n              }\r\n            D = d[f + 1].destinationEdges.iterator;\r\n            for (D.reset(); D.next(); )\r\n              if (((z = D.value), (B = z.toVertex), z.valid && B.layer === b)) {\r\n                for (z = 0; d[z] !== B; ) z++;\r\n                z === f && (p += 1);\r\n              }\r\n            z = B = 0;\r\n            D = g[d[f].index];\r\n            var I = h[d[f].index],\r\n              O = g[d[f + 1].index],\r\n              R = h[d[f + 1].index];\r\n            -1 !== D && ((B += Math.abs(D - q)), (z += Math.abs(D - y)));\r\n            -1 !== I && ((B += Math.abs(I - q)), (z += Math.abs(I - y)));\r\n            -1 !== O && ((B += Math.abs(O - u)), (z += Math.abs(O - x)));\r\n            -1 !== R && ((B += Math.abs(R - u)), (z += Math.abs(R - x)));\r\n            if (\r\n              r < p - 0.5 ||\r\n              (r === p && n < m - 0.5) ||\r\n              (r === p && n === m && z < B - 0.5)\r\n            )\r\n              (l = k = !0),\r\n                (d[f].column = y),\r\n                (d[f + 1].column = x),\r\n                (m = d[f]),\r\n                (d[f] = d[f + 1]),\r\n                (d[f + 1] = m);\r\n          }\r\n        for (f = 0; f < e; f++) d[f].index = f;\r\n        Fs(a, b, d);\r\n        return k;\r\n      }\r\n      vs.prototype.straightenAndPack = function () {\r\n        var a = 0 !== (this.vg & 1);\r\n        var b = 7 === this.vg;\r\n        1e3 < this.network.edges.count && !b && (a = !1);\r\n        if (a) {\r\n          var c = [];\r\n          for (b = 0; b <= this.Da; b++) c[b] = 0;\r\n          for (var d, e = this.network.vertexes.iterator; e.next(); ) {\r\n            var f = e.value;\r\n            b = f.layer;\r\n            d = f.column;\r\n            f = this.nodeMinColumnSpace(f, !1);\r\n            c[b] = Math.max(c[b], d + f);\r\n          }\r\n          for (e.reset(); e.next(); )\r\n            (f = e.value),\r\n              (b = f.layer),\r\n              (d = f.column),\r\n              (f.column = ((8 * (this.Ja - c[b])) >> 1) + 8 * d);\r\n          this.Ja *= 8;\r\n        }\r\n        if (0 !== (this.vg & 2))\r\n          for (c = !0; c; ) {\r\n            c = !1;\r\n            for (b = this.vd + 1; b <= this.Da; b++) c = ht(this, b, 1) || c;\r\n            for (b = this.vd - 1; 0 <= b; b--) c = ht(this, b, -1) || c;\r\n            c = ht(this, this.vd, 0) || c;\r\n          }\r\n        if (0 !== (this.vg & 4)) {\r\n          for (b = this.vd + 1; b <= this.Da; b++) it(this, b, 1);\r\n          for (b = this.vd - 1; 0 <= b; b--) it(this, b, -1);\r\n          it(this, this.vd, 0);\r\n        }\r\n        a && (jt(this, -1), jt(this, 1));\r\n        if (0 !== (this.vg & 2))\r\n          for (c = !0; c; ) {\r\n            c = !1;\r\n            c = ht(this, this.vd, 0) || c;\r\n            for (b = this.vd + 1; b <= this.Da; b++) c = ht(this, b, 0) || c;\r\n            for (b = this.vd - 1; 0 <= b; b--) c = ht(this, b, 0) || c;\r\n          }\r\n      };\r\n\r\n      function ht(a, b, c) {\r\n        F &&\r\n          (C(b, vs, \"bendStraighten:unfixedLayer\"),\r\n          C(c, vs, \"bendStraighten:direction\"));\r\n        for (var d = !1; kt(a, b, c); ) d = !0;\r\n        return d;\r\n      }\r\n\r\n      function kt(a, b, c) {\r\n        F &&\r\n          (C(b, vs, \"shiftbendStraighten:unfixedLayer\"),\r\n          C(c, vs, \"shiftbendStraighten:direction\"));\r\n        var d,\r\n          e = Es(a, b),\r\n          f = a.lc[b],\r\n          g = Ls(a, b, -1);\r\n        if (0 < c) for (d = 0; d < f; d++) g[d] = -1;\r\n        var h = Ls(a, b, 1);\r\n        if (0 > c) for (d = 0; d < f; d++) h[d] = -1;\r\n        for (var k = !1, l = !0; l; )\r\n          for (l = !1, d = 0; d < f; d++) {\r\n            var m = e[d].column,\r\n              n = a.nodeMinColumnSpace(e[d], !0),\r\n              p = a.nodeMinColumnSpace(e[d], !1),\r\n              r = 0;\r\n            0 > d - 1 ||\r\n            m - e[d - 1].column - 1 > n + a.nodeMinColumnSpace(e[d - 1], !1)\r\n              ? (r = m - 1)\r\n              : (r = m);\r\n            n =\r\n              d + 1 >= f ||\r\n              e[d + 1].column - m - 1 > p + a.nodeMinColumnSpace(e[d + 1], !0)\r\n                ? m + 1\r\n                : m;\r\n            var q = (p = 0),\r\n              u = 0;\r\n            if (0 >= c)\r\n              for (var x = e[d].sourceEdges.iterator; x.next(); ) {\r\n                var y = x.value;\r\n                var z = y.fromVertex;\r\n                if (y.valid && z.layer !== b) {\r\n                  var B = Gs(y);\r\n                  var D = y.portFromColOffset;\r\n                  y = y.portToColOffset;\r\n                  z = z.column;\r\n                  p += (Math.abs(m + y - (z + D)) + 1) * B;\r\n                  q += (Math.abs(r + y - (z + D)) + 1) * B;\r\n                  u += (Math.abs(n + y - (z + D)) + 1) * B;\r\n                }\r\n              }\r\n            if (0 <= c)\r\n              for (x = e[d].destinationEdges.iterator; x.next(); )\r\n                (y = x.value),\r\n                  (z = y.toVertex),\r\n                  y.valid &&\r\n                    z.layer !== b &&\r\n                    ((B = Gs(y)),\r\n                    (D = y.portFromColOffset),\r\n                    (y = y.portToColOffset),\r\n                    (z = z.column),\r\n                    (p += (Math.abs(m + D - (z + y)) + 1) * B),\r\n                    (q += (Math.abs(r + D - (z + y)) + 1) * B),\r\n                    (u += (Math.abs(n + D - (z + y)) + 1) * B));\r\n            y = D = B = 0;\r\n            x = g[e[d].index];\r\n            z = h[e[d].index];\r\n            -1 !== x &&\r\n              ((B += Math.abs(x - m)),\r\n              (D += Math.abs(x - r)),\r\n              (y += Math.abs(x - n)));\r\n            -1 !== z &&\r\n              ((B += Math.abs(z - m)),\r\n              (D += Math.abs(z - r)),\r\n              (y += Math.abs(z - n)));\r\n            if (q < p || (q === p && D < B)) (l = k = !0), (e[d].column = r);\r\n            else if (u < p || (u === p && y < B))\r\n              (l = k = !0), (e[d].column = n);\r\n          }\r\n        Fs(a, b, e);\r\n        a.normalize();\r\n        return k;\r\n      }\r\n\r\n      function it(a, b, c) {\r\n        F &&\r\n          (C(b, vs, \"medianStraighten:unfixedLayer\"),\r\n          C(c, vs, \"medianStraighten:direction\"));\r\n        var d = Es(a, b),\r\n          e = a.lc[b],\r\n          f = Ms(a, b, c),\r\n          g = [];\r\n        for (c = 0; c < e; c++) g[c] = f[c];\r\n        for (f = !0; f; )\r\n          for (f = !1, c = 0; c < e; c++) {\r\n            var h = d[c].column,\r\n              k = a.nodeMinColumnSpace(d[c], !0),\r\n              l = a.nodeMinColumnSpace(d[c], !1),\r\n              m = 0;\r\n            if (-1 === g[c])\r\n              if (0 === c && c === e - 1) m = h;\r\n              else if (0 === c) {\r\n                var n = d[c + 1].column;\r\n                n - h === l + a.nodeMinColumnSpace(d[c + 1], !0)\r\n                  ? (m = h - 1)\r\n                  : (m = h);\r\n              } else\r\n                c === e - 1\r\n                  ? ((n = d[c - 1].column),\r\n                    (m =\r\n                      h - n === k + a.nodeMinColumnSpace(d[c - 1], !1)\r\n                        ? h + 1\r\n                        : h))\r\n                  : ((n = d[c - 1].column),\r\n                    (k = n + a.nodeMinColumnSpace(d[c - 1], !1) + k + 1),\r\n                    (n = d[c + 1].column),\r\n                    (l = n - a.nodeMinColumnSpace(d[c + 1], !0) - l - 1),\r\n                    (m = ((k + l) / 2) | 0));\r\n            else\r\n              0 === c && c === e - 1\r\n                ? (m = g[c])\r\n                : 0 === c\r\n                ? ((n = d[c + 1].column),\r\n                  (l = n - a.nodeMinColumnSpace(d[c + 1], !0) - l - 1),\r\n                  (m = Math.min(g[c], l)))\r\n                : c === e - 1\r\n                ? ((n = d[c - 1].column),\r\n                  (k = n + a.nodeMinColumnSpace(d[c - 1], !1) + k + 1),\r\n                  (m = Math.max(g[c], k)))\r\n                : ((n = d[c - 1].column),\r\n                  (k = n + a.nodeMinColumnSpace(d[c - 1], !1) + k + 1),\r\n                  (n = d[c + 1].column),\r\n                  (l = n - a.nodeMinColumnSpace(d[c + 1], !0) - l - 1),\r\n                  k < g[c] && g[c] < l\r\n                    ? (m = g[c])\r\n                    : k >= g[c]\r\n                    ? (m = k)\r\n                    : l <= g[c] && (m = l));\r\n            m !== h && ((f = !0), (d[c].column = m));\r\n          }\r\n        Fs(a, b, d);\r\n        a.normalize();\r\n      }\r\n\r\n      function lt(a, b) {\r\n        F && (C(b, vs, \"packAux:column\"), C(1, vs, \"packAux:direction\"));\r\n        for (var c = !0, d = a.network.vertexes.iterator; d.next(); ) {\r\n          var e = d.value,\r\n            f = a.nodeMinColumnSpace(e, !0),\r\n            g = a.nodeMinColumnSpace(e, !1);\r\n          if (e.column - f <= b && e.column + g >= b) {\r\n            c = !1;\r\n            break;\r\n          }\r\n        }\r\n        a = !1;\r\n        if (c)\r\n          for (d.reset(); d.next(); )\r\n            (c = d.value), c.column > b && (--c.column, (a = !0));\r\n        return a;\r\n      }\r\n\r\n      function mt(a, b) {\r\n        F &&\r\n          (C(b, vs, \"tightPackAux:column\"), C(1, vs, \"tightPackAux:direction\"));\r\n        var c = b + 1;\r\n        var d,\r\n          e = [],\r\n          f = [];\r\n        for (d = 0; d <= a.Da; d++) (e[d] = !1), (f[d] = !1);\r\n        for (var g = a.network.vertexes.iterator; g.next(); ) {\r\n          d = g.value;\r\n          var h = d.column - a.nodeMinColumnSpace(d, !0),\r\n            k = d.column + a.nodeMinColumnSpace(d, !1);\r\n          h <= b && k >= b && (e[d.layer] = !0);\r\n          h <= c && k >= c && (f[d.layer] = !0);\r\n        }\r\n        h = !0;\r\n        c = !1;\r\n        for (d = 0; d <= a.Da; d++) h = h && !(e[d] && f[d]);\r\n        if (h)\r\n          for (g.reset(); g.next(); )\r\n            (a = g.value), a.column > b && (--a.column, (c = !0));\r\n        return c;\r\n      }\r\n\r\n      function jt(a, b) {\r\n        F && C(b, vs, \"componentPack:direction\");\r\n        for (var c = 0; c <= a.Ja; c++) for (; lt(a, c); );\r\n        a.normalize();\r\n        for (c = 0; c < a.Ja; c++) for (; mt(a, c); );\r\n        a.normalize();\r\n        var d;\r\n        if (0 < b)\r\n          for (c = 0; c <= a.Ja; c++) {\r\n            var e = Hs(a);\r\n            var f = Ks(a);\r\n            for (d = f + 1; f < d; ) {\r\n              d = f;\r\n              nt(a, c, 1);\r\n              var g = Ks(a);\r\n              g > f ? Is(a, e) : g < f && ((f = g), (e = Hs(a)));\r\n            }\r\n          }\r\n        if (0 > b)\r\n          for (c = a.Ja; 0 <= c; c--)\r\n            for (e = Hs(a), f = Ks(a), d = f + 1; f < d; )\r\n              (d = f),\r\n                nt(a, c, -1),\r\n                (g = Ks(a)),\r\n                g > f ? Is(a, e) : g < f && ((f = g), (e = Hs(a)));\r\n        a.normalize();\r\n      }\r\n\r\n      function nt(a, b, c) {\r\n        a.Ud = 0;\r\n        for (var d = a.network.vertexes.iterator; d.next(); )\r\n          d.value.component = -1;\r\n        if (0 < c)\r\n          for (d.reset(); d.next(); ) {\r\n            var e = d.value;\r\n            e.column - a.nodeMinColumnSpace(e, !0) <= b && (e.component = a.Ud);\r\n          }\r\n        if (0 > c)\r\n          for (d.reset(); d.next(); )\r\n            (e = d.value),\r\n              e.column + a.nodeMinColumnSpace(e, !1) >= b &&\r\n                (e.component = a.Ud);\r\n        a.Ud++;\r\n        for (d.reset(); d.next(); )\r\n          (b = d.value),\r\n            -1 === b.component && (Os(a, b, a.Ud, -1, !0, !0), a.Ud++);\r\n        var f;\r\n        b = [];\r\n        for (f = 0; f < a.Ud * a.Ud; f++) b[f] = !1;\r\n        e = [];\r\n        for (f = 0; f < (a.Da + 1) * (a.Ja + 1); f++) e[f] = -1;\r\n        for (d.reset(); d.next(); ) {\r\n          f = d.value;\r\n          for (\r\n            var g = f.layer,\r\n              h = Math.max(0, f.column - a.nodeMinColumnSpace(f, !0)),\r\n              k = Math.min(a.Ja, f.column + a.nodeMinColumnSpace(f, !1));\r\n            h <= k;\r\n            h++\r\n          )\r\n            e[g * (a.Ja + 1) + h] = f.component;\r\n        }\r\n        for (f = 0; f <= a.Da; f++) {\r\n          if (0 < c)\r\n            for (g = 0; g < a.Ja; g++)\r\n              -1 !== e[f * (a.Ja + 1) + g] &&\r\n                -1 !== e[f * (a.Ja + 1) + g + 1] &&\r\n                e[f * (a.Ja + 1) + g] !== e[f * (a.Ja + 1) + g + 1] &&\r\n                (b[e[f * (a.Ja + 1) + g] * a.Ud + e[f * (a.Ja + 1) + g + 1]] =\r\n                  !0);\r\n          if (0 > c)\r\n            for (g = a.Ja; 0 < g; g--)\r\n              -1 !== e[f * (a.Ja + 1) + g] &&\r\n                -1 !== e[f * (a.Ja + 1) + g - 1] &&\r\n                e[f * (a.Ja + 1) + g] !== e[f * (a.Ja + 1) + g - 1] &&\r\n                (b[e[f * (a.Ja + 1) + g] * a.Ud + e[f * (a.Ja + 1) + g - 1]] =\r\n                  !0);\r\n        }\r\n        e = [];\r\n        for (f = 0; f < a.Ud; f++) e[f] = !0;\r\n        g = [];\r\n        for (g.push(0); 0 !== g.length; )\r\n          if (((k = g[g.length - 1]), g.pop(), e[k]))\r\n            for (e[k] = !1, f = 0; f < a.Ud; f++)\r\n              b[k * a.Ud + f] && g.splice(0, 0, f);\r\n        if (0 < c)\r\n          for (d.reset(); d.next(); )\r\n            (a = d.value), e[a.component] && --a.column;\r\n        if (0 > c)\r\n          for (d.reset(); d.next(); )\r\n            (c = d.value), e[c.component] && (c.column += 1);\r\n      }\r\n      vs.prototype.commitLayout = function () {\r\n        if (this.setsPortSpots)\r\n          for (\r\n            var a = Cs(this, !0),\r\n              b = Cs(this, !1),\r\n              c = this.network.edges.iterator;\r\n            c.next();\r\n\r\n          ) {\r\n            var d = c.value.link;\r\n            null !== d && ((d.fromSpot = a), (d.toSpot = b));\r\n          }\r\n        this.commitNodes();\r\n        this.kv();\r\n        this.isRouting && this.commitLinks();\r\n      };\r\n\r\n      function Cs(a, b) {\r\n        return 270 === a.M\r\n          ? b\r\n            ? pd\r\n            : sd\r\n          : 90 === a.M\r\n          ? b\r\n            ? sd\r\n            : pd\r\n          : 180 === a.M\r\n          ? b\r\n            ? qd\r\n            : rd\r\n          : b\r\n          ? rd\r\n          : qd;\r\n      }\r\n      vs.prototype.commitNodes = function () {\r\n        this.Qd = [];\r\n        this.ud = [];\r\n        this.td = [];\r\n        this.Ma = [];\r\n        for (var a = 0; a <= this.Da; a++)\r\n          (this.Qd[a] = 0),\r\n            (this.ud[a] = 0),\r\n            (this.td[a] = 0),\r\n            (this.Ma[a] = 0);\r\n        for (a = this.network.vertexes.iterator; a.next(); ) {\r\n          var b = a.value,\r\n            c = b.layer;\r\n          this.Qd[c] = Math.max(this.Qd[c], this.nodeMinLayerSpace(b, !0));\r\n          this.ud[c] = Math.max(this.ud[c], this.nodeMinLayerSpace(b, !1));\r\n        }\r\n        b = 0;\r\n        c = this.se;\r\n        for (var d = 0; d <= this.Da; d++) {\r\n          var e = c;\r\n          0 >= this.Qd[d] + this.ud[d] && (e = 0);\r\n          0 < d && (b += e / 2);\r\n          90 === this.M || 0 === this.M\r\n            ? ((b += this.ud[d]), (this.td[d] = b), (b += this.Qd[d]))\r\n            : ((b += this.Qd[d]), (this.td[d] = b), (b += this.ud[d]));\r\n          d < this.Da && (b += e / 2);\r\n          this.Ma[d] = b;\r\n        }\r\n        c = b;\r\n        b = this.arrangementOrigin;\r\n        for (d = 0; d <= this.Da; d++)\r\n          270 === this.M\r\n            ? (this.td[d] = b.y + this.td[d])\r\n            : 90 === this.M\r\n            ? ((this.td[d] = b.y + c - this.td[d]),\r\n              (this.Ma[d] = c - this.Ma[d]))\r\n            : 180 === this.M\r\n            ? (this.td[d] = b.x + this.td[d])\r\n            : ((this.td[d] = b.x + c - this.td[d]),\r\n              (this.Ma[d] = c - this.Ma[d]));\r\n        a.reset();\r\n        for (c = d = Infinity; a.next(); ) {\r\n          e = a.value;\r\n          var f = e.layer,\r\n            g = e.column | 0;\r\n          if (270 === this.M || 90 === this.M) {\r\n            var h = b.x + this.dc * g;\r\n            f = this.td[f];\r\n          } else (h = this.td[f]), (f = b.y + this.dc * g);\r\n          e.centerX = h;\r\n          e.centerY = f;\r\n          d = Math.min(e.x, d);\r\n          c = Math.min(e.y, c);\r\n        }\r\n        d = b.x - d;\r\n        b = b.y - c;\r\n        this.Sf = new J(d, b);\r\n        for (a.reset(); a.next(); )\r\n          (c = a.value), (c.x += d), (c.y += b), c.commit();\r\n      };\r\n      vs.prototype.kv = function () {\r\n        for (var a = 0, b = this.se, c = 0; c <= this.Da; c++)\r\n          (a += this.Qd[c]), (a += this.ud[c]);\r\n        a += this.Da * b;\r\n        b = [];\r\n        c = this.dc * this.Ja;\r\n        for (var d = this.maxLayer; 0 <= d; d--)\r\n          270 === this.M\r\n            ? 0 === d\r\n              ? b.push(new L(0, 0, c, Math.abs(this.Ma[0])))\r\n              : b.push(\r\n                  new L(\r\n                    0,\r\n                    this.Ma[d - 1],\r\n                    c,\r\n                    Math.abs(this.Ma[d - 1] - this.Ma[d])\r\n                  )\r\n                )\r\n            : 90 === this.M\r\n            ? 0 === d\r\n              ? b.push(new L(0, this.Ma[0], c, Math.abs(this.Ma[0] - a)))\r\n              : b.push(\r\n                  new L(0, this.Ma[d], c, Math.abs(this.Ma[d - 1] - this.Ma[d]))\r\n                )\r\n            : 180 === this.M\r\n            ? 0 === d\r\n              ? b.push(new L(0, 0, Math.abs(this.Ma[0]), c))\r\n              : b.push(\r\n                  new L(\r\n                    this.Ma[d - 1],\r\n                    0,\r\n                    Math.abs(this.Ma[d - 1] - this.Ma[d]),\r\n                    c\r\n                  )\r\n                )\r\n            : 0 === d\r\n            ? b.push(new L(this.Ma[0], 0, Math.abs(this.Ma[0] - a), c))\r\n            : b.push(\r\n                new L(this.Ma[d], 0, Math.abs(this.Ma[d - 1] - this.Ma[d]), c)\r\n              );\r\n        this.commitLayers(b, this.Sf);\r\n      };\r\n      vs.prototype.commitLayers = function () {};\r\n      vs.prototype.commitLinks = function () {\r\n        for (var a = this.network.edges.iterator, b; a.next(); )\r\n          (b = a.value.link), null !== b && (b.Sh(), b.gk(), b.zf());\r\n        for (a.reset(); a.next(); ) (b = a.value.link), null !== b && b.qj();\r\n        for (a.reset(); a.next(); ) {\r\n          var c = a.value;\r\n          b = c.link;\r\n          if (null !== b) {\r\n            b.Sh();\r\n            var d = b,\r\n              e = d.fromNode,\r\n              f = d.toNode,\r\n              g = d.fromPort,\r\n              h = d.toPort;\r\n            if (null !== e) {\r\n              var k = e.findVisibleNode();\r\n              null !== k && k !== e && ((e = k), (g = k.port));\r\n            }\r\n            null !== f &&\r\n              ((k = f.findVisibleNode()),\r\n              null !== k && k !== f && ((f = k), (h = k.port)));\r\n            var l = b.computeSpot(!0, g);\r\n            k = b.computeSpot(!1, h);\r\n            var m = c.fromVertex,\r\n              n = c.toVertex;\r\n            if (c.valid) {\r\n              if (b.curve === Fg && 4 === b.pointsCount)\r\n                if (m.column === n.column)\r\n                  (c = b.getLinkPoint(e, g, l, !0, !1, f, h)),\r\n                    (g = b.getLinkPoint(f, h, k, !1, !1, e, g)),\r\n                    c.o() || c.set(e.actualBounds.center),\r\n                    g.o() || g.set(f.actualBounds.center),\r\n                    b.gk(),\r\n                    b.yf(c.x, c.y),\r\n                    b.yf((2 * c.x + g.x) / 3, (2 * c.y + g.y) / 3),\r\n                    b.yf((c.x + 2 * g.x) / 3, (c.y + 2 * g.y) / 3),\r\n                    b.yf(g.x, g.y);\r\n                else {\r\n                  var p = !1,\r\n                    r = !1;\r\n                  null !== g && l === Gc && (p = !0);\r\n                  null !== h && k === Gc && (r = !0);\r\n                  if (p || r) {\r\n                    var q = b.i(0).x;\r\n                    c = b.i(0).y;\r\n                    m = b.i(3).x;\r\n                    d = b.i(3).y;\r\n                    p &&\r\n                      (90 === this.M || 270 === this.M\r\n                        ? ((p = q), (n = (c + d) / 2))\r\n                        : ((p = (q + m) / 2), (n = c)),\r\n                      b.N(1, p, n),\r\n                      (l = b.getLinkPoint(e, g, l, !0, !1, f, h)),\r\n                      l.o() || l.set(e.actualBounds.center),\r\n                      b.N(0, l.x, l.y));\r\n                    r &&\r\n                      (90 === this.M || 270 === this.M\r\n                        ? ((l = m), (c = (c + d) / 2))\r\n                        : ((l = (q + m) / 2), (c = d)),\r\n                      b.N(2, l, c),\r\n                      (e = b.getLinkPoint(f, h, k, !1, !1, e, g)),\r\n                      e.o() || e.set(f.actualBounds.center),\r\n                      b.N(3, e.x, e.y));\r\n                  }\r\n                }\r\n              b.zf();\r\n            } else if (m.layer === n.layer) b.zf();\r\n            else {\r\n              p = r = !1;\r\n              q = b.firstPickIndex + 1;\r\n              if (b.isOrthogonal) {\r\n                p = !0;\r\n                var u = b.pointsCount;\r\n                4 < u && b.points.removeRange(2, u - 3);\r\n              } else if (b.curve === Fg)\r\n                (r = !0),\r\n                  (u = b.pointsCount),\r\n                  4 < u && b.points.removeRange(2, u - 3),\r\n                  4 === u && (q = 2);\r\n              else {\r\n                u = b.pointsCount;\r\n                var x = l === Gc,\r\n                  y = k === Gc;\r\n                2 < u && x && y\r\n                  ? b.points.removeRange(1, u - 2)\r\n                  : 3 < u && x && !y\r\n                  ? b.points.removeRange(1, u - 3)\r\n                  : 3 < u && !x && y\r\n                  ? b.points.removeRange(2, u - 2)\r\n                  : 4 < u && !x && !y && b.points.removeRange(2, u - 3);\r\n              }\r\n              if (c.rev) {\r\n                for (; null !== n && m !== n; ) {\r\n                  var z = (u = null);\r\n                  for (\r\n                    x = n.sourceEdges.iterator;\r\n                    x.next() &&\r\n                    ((y = x.value),\r\n                    y.link !== c.link ||\r\n                      ((u = y.fromVertex), (z = y.toVertex), null !== u.node));\r\n\r\n                  );\r\n                  if (u !== m) {\r\n                    x = b.i(q - 1).x;\r\n                    y = b.i(q - 1).y;\r\n                    var B = u.centerX;\r\n                    var D = u.centerY;\r\n                    if (p)\r\n                      180 === this.M || 0 === this.M\r\n                        ? q === b.firstPickIndex + 1\r\n                          ? (b.m(q++, x, y), b.m(q++, x, D))\r\n                          : (null !== z ? z.centerY : y) !== D &&\r\n                            ((z = this.Ma[u.layer - 1] + this.Sf.x),\r\n                            b.m(q++, z, y),\r\n                            b.m(q++, z, D))\r\n                        : q === b.firstPickIndex + 1\r\n                        ? (b.m(q++, x, y), b.m(q++, B, y))\r\n                        : (null !== z ? z.centerX : x) !== B &&\r\n                          ((z = this.Ma[u.layer - 1] + this.Sf.y),\r\n                          b.m(q++, x, z),\r\n                          b.m(q++, B, z));\r\n                    else if (q === b.firstPickIndex + 1) {\r\n                      z = Math.max(10, this.Qd[n.layer]);\r\n                      var I = Math.max(10, this.ud[n.layer]);\r\n                      if (r)\r\n                        180 === this.M\r\n                          ? B <= n.bounds.x\r\n                            ? ((n = n.bounds.x),\r\n                              b.m(q++, n - z, D),\r\n                              b.m(q++, n, D),\r\n                              b.m(q++, n + I, D))\r\n                            : (b.m(q++, B - z, D),\r\n                              b.m(q++, B, D),\r\n                              b.m(q++, B + I, D))\r\n                          : 90 === this.M\r\n                          ? D >= n.bounds.bottom\r\n                            ? ((n = n.bounds.y + n.bounds.height),\r\n                              b.m(q++, B, n + I),\r\n                              b.m(q++, B, n),\r\n                              b.m(q++, B, n - z))\r\n                            : (b.m(q++, B, D + I),\r\n                              b.m(q++, B, D),\r\n                              b.m(q++, B, D - z))\r\n                          : 270 === this.M\r\n                          ? D <= n.bounds.y\r\n                            ? ((n = n.bounds.y),\r\n                              b.m(q++, B, n - z),\r\n                              b.m(q++, B, n),\r\n                              b.m(q++, B, n + I))\r\n                            : (b.m(q++, B, D - z),\r\n                              b.m(q++, B, D),\r\n                              b.m(q++, B, D + I))\r\n                          : 0 === this.M &&\r\n                            (B >= n.bounds.right\r\n                              ? ((n = n.bounds.x + n.bounds.width),\r\n                                b.m(q++, n + I, D),\r\n                                b.m(q++, n, D),\r\n                                b.m(q++, n - z, D))\r\n                              : (b.m(q++, B + I, D),\r\n                                b.m(q++, B, D),\r\n                                b.m(q++, B - z, D)));\r\n                      else {\r\n                        b.m(q++, x, y);\r\n                        var O = 0;\r\n                        if (180 === this.M || 0 === this.M) {\r\n                          if (\r\n                            180 === this.M\r\n                              ? B >= n.bounds.right\r\n                              : B <= n.bounds.x\r\n                          )\r\n                            O = (0 === this.M ? -z : I) / 2;\r\n                          b.m(q++, x + O, D);\r\n                        } else {\r\n                          if (\r\n                            270 === this.M\r\n                              ? D >= n.bounds.bottom\r\n                              : D <= n.bounds.y\r\n                          )\r\n                            O = (90 === this.M ? -z : I) / 2;\r\n                          b.m(q++, B, y + O);\r\n                        }\r\n                        b.m(q++, B, D);\r\n                      }\r\n                    } else\r\n                      (z = Math.max(10, this.Qd[u.layer])),\r\n                        (I = Math.max(10, this.ud[u.layer])),\r\n                        180 === this.M\r\n                          ? (r && b.m(q++, B - z, D),\r\n                            b.m(q++, B, D),\r\n                            r && b.m(q++, B + I, D))\r\n                          : 90 === this.M\r\n                          ? (r && b.m(q++, B, D + I),\r\n                            b.m(q++, B, D),\r\n                            r && b.m(q++, B, D - z))\r\n                          : 270 === this.M\r\n                          ? (r && b.m(q++, B, D - z),\r\n                            b.m(q++, B, D),\r\n                            r && b.m(q++, B, D + I))\r\n                          : (r && b.m(q++, B + I, D),\r\n                            b.m(q++, B, D),\r\n                            r && b.m(q++, B - z, D));\r\n                  }\r\n                  n = u;\r\n                }\r\n                if (null === h || l !== Gc || p)\r\n                  if (\r\n                    ((x = b.i(q - 1).x),\r\n                    (y = b.i(q - 1).y),\r\n                    (B = b.i(q).x),\r\n                    (D = b.i(q).y),\r\n                    p)\r\n                  )\r\n                    (n = this.ud[m.layer]),\r\n                      180 === this.M || 0 === this.M\r\n                        ? ((p = y),\r\n                          p >= m.bounds.y &&\r\n                            p <= m.bounds.bottom &&\r\n                            (180 === this.M\r\n                              ? B >= m.bounds.x\r\n                              : B <= m.bounds.right) &&\r\n                            ((n = m.centerX + (180 === this.M ? -n : n)),\r\n                            p < m.bounds.y + m.bounds.height / 2\r\n                              ? (p = m.bounds.y - this.dc / 2)\r\n                              : (p = m.bounds.bottom + this.dc / 2),\r\n                            b.m(q++, n, y),\r\n                            b.m(q++, n, p)),\r\n                          b.m(q++, B, p))\r\n                        : ((p = x),\r\n                          p >= m.bounds.x &&\r\n                            p <= m.bounds.right &&\r\n                            (270 === this.M\r\n                              ? D >= m.bounds.y\r\n                              : D <= m.bounds.bottom) &&\r\n                            ((n = m.centerY + (270 === this.M ? -n : n)),\r\n                            p < m.bounds.x + m.bounds.width / 2\r\n                              ? (p = m.bounds.x - this.dc / 2)\r\n                              : (p = m.bounds.right + this.dc / 2),\r\n                            b.m(q++, x, n),\r\n                            b.m(q++, p, n)),\r\n                          b.m(q++, p, D)),\r\n                      b.m(q++, B, D);\r\n                  else if (r)\r\n                    (z = Math.max(10, this.Qd[m.layer])),\r\n                      (I = Math.max(10, this.ud[m.layer])),\r\n                      180 === this.M && B >= m.bounds.x\r\n                        ? ((n = m.bounds.x + m.bounds.width),\r\n                          b.N(q - 2, n, y),\r\n                          b.N(q - 1, n + I, y))\r\n                        : 90 === this.M && D <= m.bounds.bottom\r\n                        ? ((n = m.bounds.y),\r\n                          b.N(q - 2, x, n),\r\n                          b.N(q - 1, x, n - z))\r\n                        : 270 === this.M && D >= m.bounds.y\r\n                        ? ((n = m.bounds.y + m.bounds.height),\r\n                          b.N(q - 2, x, n),\r\n                          b.N(q - 1, x, n + I))\r\n                        : 0 === this.M &&\r\n                          B <= m.bounds.right &&\r\n                          ((n = m.bounds.x),\r\n                          b.N(q - 2, n, y),\r\n                          b.N(q - 1, n - z, y));\r\n                  else {\r\n                    z = Math.max(10, this.Qd[m.layer]);\r\n                    I = Math.max(10, this.ud[m.layer]);\r\n                    p = 0;\r\n                    if (180 === this.M || 0 === this.M) {\r\n                      if (\r\n                        180 === this.M ? B <= m.bounds.x : B >= m.bounds.right\r\n                      )\r\n                        p = (0 === this.M ? I : -z) / 2;\r\n                      b.m(q++, B + p, y);\r\n                    } else {\r\n                      if (\r\n                        270 === this.M ? D <= m.bounds.y : D >= m.bounds.bottom\r\n                      )\r\n                        p = (90 === this.M ? I : -z) / 2;\r\n                      b.m(q++, x, D + p);\r\n                    }\r\n                    b.m(q++, B, D);\r\n                  }\r\n              } else {\r\n                for (; null !== m && m !== n; ) {\r\n                  z = u = null;\r\n                  for (\r\n                    m = m.destinationEdges.iterator;\r\n                    m.next() &&\r\n                    ((x = m.value),\r\n                    x.link !== c.link ||\r\n                      ((u = x.toVertex),\r\n                      (z = x.fromVertex),\r\n                      null !== z.node && (z = null),\r\n                      null !== u.node));\r\n\r\n                  );\r\n                  u !== n &&\r\n                    ((x = b.i(q - 1).x),\r\n                    (y = b.i(q - 1).y),\r\n                    (B = u.centerX),\r\n                    (D = u.centerY),\r\n                    p\r\n                      ? 180 === this.M || 0 === this.M\r\n                        ? (null !== z ? z.centerY : y) !== D &&\r\n                          ((z = this.Ma[u.layer] + this.Sf.x),\r\n                          q === b.firstPickIndex + 1 &&\r\n                            (z =\r\n                              0 === this.M ? Math.max(z, x) : Math.min(z, x)),\r\n                          b.m(q++, z, y),\r\n                          b.m(q++, z, D))\r\n                        : (null !== z ? z.centerX : x) !== B &&\r\n                          ((z = this.Ma[u.layer] + this.Sf.y),\r\n                          q === b.firstPickIndex + 1 &&\r\n                            (z =\r\n                              90 === this.M ? Math.max(z, y) : Math.min(z, y)),\r\n                          b.m(q++, x, z),\r\n                          b.m(q++, B, z))\r\n                      : ((z = Math.max(10, this.Qd[u.layer])),\r\n                        (I = Math.max(10, this.ud[u.layer])),\r\n                        180 === this.M\r\n                          ? (b.m(q++, B + I, D),\r\n                            r && b.m(q++, B, D),\r\n                            b.m(q++, B - z, D))\r\n                          : 90 === this.M\r\n                          ? (b.m(q++, B, D - z),\r\n                            r && b.m(q++, B, D),\r\n                            b.m(q++, B, D + I))\r\n                          : 270 === this.M\r\n                          ? (b.m(q++, B, D + I),\r\n                            r && b.m(q++, B, D),\r\n                            b.m(q++, B, D - z))\r\n                          : (b.m(q++, B - z, D),\r\n                            r && b.m(q++, B, D),\r\n                            b.m(q++, B + I, D))));\r\n                  m = u;\r\n                }\r\n                p &&\r\n                  ((x = b.i(q - 1).x),\r\n                  (y = b.i(q - 1).y),\r\n                  (B = b.i(q).x),\r\n                  (D = b.i(q).y),\r\n                  180 === this.M || 0 === this.M\r\n                    ? y !== D &&\r\n                      ((z =\r\n                        0 === this.M\r\n                          ? Math.min(\r\n                              Math.max(\r\n                                (B + x) / 2,\r\n                                this.Ma[n.layer] + this.Sf.x\r\n                              ),\r\n                              B\r\n                            )\r\n                          : Math.max(\r\n                              Math.min(\r\n                                (B + x) / 2,\r\n                                this.Ma[n.layer] + this.Sf.x\r\n                              ),\r\n                              B\r\n                            )),\r\n                      b.m(q++, z, y),\r\n                      b.m(q++, z, D))\r\n                    : x !== B &&\r\n                      ((z =\r\n                        90 === this.M\r\n                          ? Math.min(\r\n                              Math.max(\r\n                                (D + y) / 2,\r\n                                this.Ma[n.layer] + this.Sf.y\r\n                              ),\r\n                              D\r\n                            )\r\n                          : Math.max(\r\n                              Math.min(\r\n                                (D + y) / 2,\r\n                                this.Ma[n.layer] + this.Sf.y\r\n                              ),\r\n                              D\r\n                            )),\r\n                      b.m(q++, x, z),\r\n                      b.m(q++, B, z)));\r\n              }\r\n              null !== d &&\r\n                r &&\r\n                (null !== g &&\r\n                  (l === Gc &&\r\n                    ((l = b.i(0)),\r\n                    (d = b.i(2)),\r\n                    l.B(d) || b.N(1, (l.x + d.x) / 2, (l.y + d.y) / 2)),\r\n                  (l = b.getLinkPoint(e, g, Gc, !0, !1, f, h)),\r\n                  l.o() || l.set(e.actualBounds.center),\r\n                  b.N(0, l.x, l.y)),\r\n                null !== h &&\r\n                  (k === Gc &&\r\n                    ((k = b.i(b.pointsCount - 1)),\r\n                    (l = b.i(b.pointsCount - 3)),\r\n                    k.B(l) ||\r\n                      b.N(b.pointsCount - 2, (k.x + l.x) / 2, (k.y + l.y) / 2)),\r\n                  (e = b.getLinkPoint(f, h, Gc, !1, !1, e, g)),\r\n                  e.o() || e.set(f.actualBounds.center),\r\n                  b.N(b.pointsCount - 1, e.x, e.y)));\r\n              b.zf();\r\n              c.commit();\r\n            }\r\n          }\r\n        }\r\n        this.avoidOrthogonalOverlaps();\r\n      };\r\n      vs.prototype.avoidOrthogonalOverlaps = function () {\r\n        for (var a = new G(), b = this.network.edges.iterator; b.next(); ) {\r\n          var c = b.value.link;\r\n          null !== c && c.isOrthogonal && !a.contains(c) && a.add(c);\r\n        }\r\n        if (0 < a.count)\r\n          if (90 === this.M || 270 === this.M) {\r\n            b = 0;\r\n            c = [];\r\n            for (a = a.iterator; a.next(); ) {\r\n              var d = a.value;\r\n              if (null !== d && d.isOrthogonal)\r\n                for (var e = 2; e < d.pointsCount - 3; e++) {\r\n                  var f = d.i(e);\r\n                  var g = d.i(e + 1);\r\n                  if (this.C(f.y, g.y) && !this.C(f.x, g.x)) {\r\n                    var h = new ot();\r\n                    h.layer = Math.floor(f.y / 2);\r\n                    var k = d.i(0),\r\n                      l = d.i(d.pointsCount - 1);\r\n                    h.first = k.x * k.x + k.y;\r\n                    h.ac = l.x * l.x + l.y;\r\n                    h.Yc = Math.min(f.x, g.x);\r\n                    h.yc = Math.max(f.x, g.x);\r\n                    h.index = e;\r\n                    h.link = d;\r\n                    if (e + 2 < d.pointsCount) {\r\n                      k = d.i(e - 1);\r\n                      l = d.i(e + 2);\r\n                      var m = 0;\r\n                      k.y < f.y\r\n                        ? (m = l.y < f.y ? 3 : f.x < g.x ? 2 : 1)\r\n                        : k.y > f.y && (m = l.y > f.y ? 0 : g.x < f.x ? 2 : 1);\r\n                      h.l = m;\r\n                    }\r\n                    c.push(h);\r\n                  }\r\n                }\r\n            }\r\n            if (1 < c.length)\r\n              for (c.sort(this.oy), a = 0; a < c.length; ) {\r\n                f = c[a].layer;\r\n                for (d = a + 1; d < c.length && c[d].layer === f; ) d++;\r\n                if (1 < d - a)\r\n                  for (f = a; f < d; ) {\r\n                    g = c[f].yc;\r\n                    for (e = a + 1; e < d && c[e].Yc < g; )\r\n                      (g = Math.max(g, c[e].yc)), e++;\r\n                    g = e - f;\r\n                    if (1 < g) {\r\n                      this.nj(c, this.Mt, f, f + g);\r\n                      m = 1;\r\n                      h = c[f].ac;\r\n                      for (k = f; k < e; k++)\r\n                        (l = c[k]), l.ac !== h && (m++, (h = l.ac));\r\n                      this.nj(c, this.ny, f, f + g);\r\n                      var n = 1;\r\n                      h = c[f].first;\r\n                      for (k = f; k < e; k++)\r\n                        (l = c[k]), l.first !== h && (n++, (h = l.first));\r\n                      k = !0;\r\n                      l = n;\r\n                      m < n\r\n                        ? ((k = !1),\r\n                          (l = m),\r\n                          (h = c[f].ac),\r\n                          this.nj(c, this.Mt, f, f + g))\r\n                        : (h = c[f].first);\r\n                      m = 0;\r\n                      for (n = f; n < e; n++) {\r\n                        var p = c[n];\r\n                        (k ? p.first : p.ac) !== h &&\r\n                          (m++, (h = k ? p.first : p.ac));\r\n                        var r = p.link;\r\n                        f = r.i(p.index);\r\n                        g = r.i(p.index + 1);\r\n                        var q = this.linkSpacing * (m - (l - 1) / 2);\r\n                        if (!r.isAvoiding || pt(f.x, f.y + q, g.x, g.y + q))\r\n                          b++,\r\n                            r.Sh(),\r\n                            r.N(p.index, f.x, f.y + q),\r\n                            r.N(p.index + 1, g.x, g.y + q),\r\n                            r.zf();\r\n                      }\r\n                    }\r\n                    f = e;\r\n                  }\r\n                a = d;\r\n              }\r\n          } else {\r\n            b = 0;\r\n            c = [];\r\n            for (a = a.iterator; a.next(); )\r\n              if (((d = a.value), null !== d && d.isOrthogonal))\r\n                for (e = 2; e < d.pointsCount - 3; e++)\r\n                  (f = d.i(e)),\r\n                    (g = d.i(e + 1)),\r\n                    this.C(f.x, g.x) &&\r\n                      !this.C(f.y, g.y) &&\r\n                      ((h = new ot()),\r\n                      (h.layer = Math.floor(f.x / 2)),\r\n                      (k = d.i(0)),\r\n                      (l = d.i(d.pointsCount - 1)),\r\n                      (h.first = k.x + k.y * k.y),\r\n                      (h.ac = l.x + l.y * l.y),\r\n                      (h.Yc = Math.min(f.y, g.y)),\r\n                      (h.yc = Math.max(f.y, g.y)),\r\n                      (h.index = e),\r\n                      (h.link = d),\r\n                      e + 2 < d.pointsCount &&\r\n                        ((k = d.i(e - 1)),\r\n                        (l = d.i(e + 2)),\r\n                        (m = 0),\r\n                        k.x < f.x\r\n                          ? (m = l.x < f.x ? 3 : f.y < g.y ? 2 : 1)\r\n                          : k.x > f.x &&\r\n                            (m = l.x > f.x ? 0 : g.y < f.y ? 2 : 1),\r\n                        (h.l = m)),\r\n                      c.push(h));\r\n            if (1 < c.length)\r\n              for (c.sort(this.oy), a = 0; a < c.length; ) {\r\n                f = c[a].layer;\r\n                for (d = a + 1; d < c.length && c[d].layer === f; ) d++;\r\n                if (1 < d - a)\r\n                  for (f = a; f < d; ) {\r\n                    g = c[f].yc;\r\n                    for (e = a + 1; e < d && c[e].Yc < g; )\r\n                      (g = Math.max(g, c[e].yc)), e++;\r\n                    g = e - f;\r\n                    if (1 < g) {\r\n                      this.nj(c, this.Mt, f, f + g);\r\n                      m = 1;\r\n                      h = c[f].ac;\r\n                      for (k = f; k < e; k++)\r\n                        (l = c[k]), l.ac !== h && (m++, (h = l.ac));\r\n                      this.nj(c, this.ny, f, f + g);\r\n                      n = 1;\r\n                      h = c[f].first;\r\n                      for (k = f; k < e; k++)\r\n                        (l = c[k]), l.first !== h && (n++, (h = l.first));\r\n                      k = !0;\r\n                      l = n;\r\n                      m < n\r\n                        ? ((k = !1),\r\n                          (l = m),\r\n                          (h = c[f].ac),\r\n                          this.nj(c, this.Mt, f, f + g))\r\n                        : (h = c[f].first);\r\n                      m = 0;\r\n                      for (n = f; n < e; n++)\r\n                        if (\r\n                          ((p = c[n]),\r\n                          (k ? p.first : p.ac) !== h &&\r\n                            (m++, (h = k ? p.first : p.ac)),\r\n                          (r = p.link),\r\n                          (f = r.i(p.index)),\r\n                          (g = r.i(p.index + 1)),\r\n                          (q = this.linkSpacing * (m - (l - 1) / 2)),\r\n                          !r.isAvoiding || pt(f.x + q, f.y, g.x + q, g.y))\r\n                        )\r\n                          b++,\r\n                            r.Sh(),\r\n                            r.N(p.index, f.x + q, f.y),\r\n                            r.N(p.index + 1, g.x + q, g.y),\r\n                            r.zf();\r\n                    }\r\n                    f = e;\r\n                  }\r\n                a = d;\r\n              }\r\n          }\r\n      };\r\n      t = vs.prototype;\r\n      t.oy = function (a, b) {\r\n        return a instanceof ot && b instanceof ot && a !== b\r\n          ? a.layer < b.layer\r\n            ? -1\r\n            : a.layer > b.layer\r\n            ? 1\r\n            : a.Yc < b.Yc\r\n            ? -1\r\n            : a.Yc > b.Yc\r\n            ? 1\r\n            : a.yc < b.yc\r\n            ? -1\r\n            : a.yc > b.yc\r\n            ? 1\r\n            : 0\r\n          : 0;\r\n      };\r\n      t.ny = function (a, b) {\r\n        return a instanceof ot && b instanceof ot && a !== b\r\n          ? a.first < b.first\r\n            ? -1\r\n            : a.first > b.first || a.l < b.l\r\n            ? 1\r\n            : a.l > b.l || a.Yc < b.Yc\r\n            ? -1\r\n            : a.Yc > b.Yc\r\n            ? 1\r\n            : a.yc < b.yc\r\n            ? -1\r\n            : a.yc > b.yc\r\n            ? 1\r\n            : 0\r\n          : 0;\r\n      };\r\n      t.Mt = function (a, b) {\r\n        return a instanceof ot && b instanceof ot && a !== b\r\n          ? a.ac < b.ac\r\n            ? -1\r\n            : a.ac > b.ac || a.l < b.l\r\n            ? 1\r\n            : a.l > b.l || a.Yc < b.Yc\r\n            ? -1\r\n            : a.Yc > b.Yc\r\n            ? 1\r\n            : a.yc < b.yc\r\n            ? -1\r\n            : a.yc > b.yc\r\n            ? 1\r\n            : 0\r\n          : 0;\r\n      };\r\n      t.C = function (a, b) {\r\n        F && (C(a, vs, \"isApprox:a\"), C(b, vs, \"isApprox:b\"));\r\n        a -= b;\r\n        return -1 < a && 1 > a;\r\n      };\r\n      t.nj = function (a, b, c, d) {\r\n        var e = a.length,\r\n          f = d - c;\r\n        if (!(1 >= f))\r\n          if (\r\n            ((0 > c || c >= e - 1) &&\r\n              v(\"not in range 0 <= from < length: \" + c),\r\n            2 === f)\r\n          )\r\n            (d = a[c]),\r\n              (e = a[c + 1]),\r\n              0 < b(d, e) && ((a[c] = e), (a[c + 1] = d));\r\n          else if (0 === c)\r\n            if (d >= e) a.sort(b);\r\n            else\r\n              for (c = a.slice(0, d), c.sort(b), b = 0; b < d; b++) a[b] = c[b];\r\n          else if (d >= e)\r\n            for (d = a.slice(c), d.sort(b), b = c; b < e; b++) a[b] = d[b - c];\r\n          else\r\n            for (e = a.slice(c, d), e.sort(b), b = c; b < d; b++)\r\n              a[b] = e[b - c];\r\n      };\r\n\r\n      function pt(a, b, c, d) {\r\n        F &&\r\n          (C(a, vs, \"isUnoccupied2:px\"),\r\n          C(b, vs, \"isUnoccupied2:py\"),\r\n          C(c, vs, \"isUnoccupied2:qx\"),\r\n          C(d, vs, \"isUnoccupied2:qy\"));\r\n        return !0;\r\n      }\r\n\r\n      function Es(a, b) {\r\n        var c = a.lc[b];\r\n        if (c >= a.xe.length) {\r\n          var d = [];\r\n          for (var e = 0; e < a.xe.length; e++) d[e] = a.xe[e];\r\n          a.xe = d;\r\n        }\r\n        void 0 === a.xe[c] || null === a.xe[c]\r\n          ? (d = [])\r\n          : ((d = a.xe[c]), (a.xe[c] = null));\r\n        a = a.Ro[b];\r\n        for (b = 0; b < a.length; b++) (c = a[b]), (d[c.index] = c);\r\n        return d;\r\n      }\r\n\r\n      function Fs(a, b, c) {\r\n        a.xe[a.lc[b]] = c;\r\n      }\r\n      ma.Object.defineProperties(vs.prototype, {\r\n        layerSpacing: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.se;\r\n          },\r\n          set: function (a) {\r\n            this.se !== a &&\r\n              (A(a, \"number\", vs, \"layerSpacing\"),\r\n              0 <= a && ((this.se = a), this.D()));\r\n          },\r\n        },\r\n        columnSpacing: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.dc;\r\n          },\r\n          set: function (a) {\r\n            this.dc !== a &&\r\n              (A(a, \"number\", vs, \"columnSpacing\"),\r\n              0 < a && ((this.dc = a), this.D()));\r\n          },\r\n        },\r\n        direction: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.M;\r\n          },\r\n          set: function (a) {\r\n            this.M !== a &&\r\n              (A(a, \"number\", vs, \"direction\"),\r\n              0 === a || 90 === a || 180 === a || 270 === a\r\n                ? ((this.M = a), this.D())\r\n                : v(\r\n                    \"LayeredDigraphLayout.direction must be 0, 90, 180, or 270\"\r\n                  ));\r\n          },\r\n        },\r\n        cycleRemoveOption: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Zk;\r\n          },\r\n          set: function (a) {\r\n            this.Zk !== a &&\r\n              (hb(a, vs, vs, \"cycleRemoveOption\"),\r\n              a === Ps || a === ws || a === Bs) &&\r\n              ((this.Zk = a), this.D());\r\n          },\r\n        },\r\n        layeringOption: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Fl;\r\n          },\r\n          set: function (a) {\r\n            this.Fl !== a &&\r\n              (hb(a, vs, vs, \"layeringOption\"),\r\n              a === xs || a === Us || a === Ws) &&\r\n              ((this.Fl = a), this.D());\r\n          },\r\n        },\r\n        initializeOption: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.ul;\r\n          },\r\n          set: function (a) {\r\n            this.ul !== a &&\r\n              (hb(a, vs, vs, \"initializeOption\"),\r\n              a === ys || a === bt || a === $s) &&\r\n              ((this.ul = a), this.D());\r\n          },\r\n        },\r\n        iterations: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Hj;\r\n          },\r\n          set: function (a) {\r\n            this.Hj !== a &&\r\n              (C(a, As, \"iterations\"), 0 <= a && ((this.Hj = a), this.D()));\r\n          },\r\n        },\r\n        aggressiveOption: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Mk;\r\n          },\r\n          set: function (a) {\r\n            this.Mk !== a &&\r\n              (hb(a, vs, vs, \"aggressiveOption\"),\r\n              a === ft || a === zs || a === gt) &&\r\n              ((this.Mk = a), this.D());\r\n          },\r\n        },\r\n        packOption: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.vg;\r\n          },\r\n          set: function (a) {\r\n            this.vg !== a &&\r\n              (A(a, \"number\", vs, \"packOption\"),\r\n              0 <= a && 8 > a && ((this.vg = a), this.D()));\r\n          },\r\n        },\r\n        setsPortSpots: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.lf;\r\n          },\r\n          set: function (a) {\r\n            this.lf !== a &&\r\n              (A(a, \"boolean\", vs, \"setsPortSpots\"), (this.lf = a), this.D());\r\n          },\r\n        },\r\n        linkSpacing: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.wo;\r\n          },\r\n          set: function (a) {\r\n            this.wo !== a &&\r\n              (A(a, \"number\", vs, \"linkSpacing\"),\r\n              0 <= a && ((this.wo = a), this.D()));\r\n          },\r\n        },\r\n        maxLayer: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Da;\r\n          },\r\n        },\r\n        maxIndex: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.js;\r\n          },\r\n        },\r\n        maxColumn: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ja;\r\n          },\r\n        },\r\n        minIndexLayer: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Go;\r\n          },\r\n        },\r\n        maxIndexLayer: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.vd;\r\n          },\r\n        },\r\n      });\r\n      var ws = new E(vs, \"CycleDepthFirst\", 0),\r\n        Ps = new E(vs, \"CycleGreedy\", 1),\r\n        Bs = new E(vs, \"CycleFromLayers\", 2),\r\n        xs = new E(vs, \"LayerOptimalLinkLength\", 0),\r\n        Us = new E(vs, \"LayerLongestPathSink\", 1),\r\n        Ws = new E(vs, \"LayerLongestPathSource\", 2),\r\n        ys = new E(vs, \"InitDepthFirstOut\", 0),\r\n        bt = new E(vs, \"InitDepthFirstIn\", 1),\r\n        $s = new E(vs, \"InitNaive\", 2),\r\n        ft = new E(vs, \"AggressiveNone\", 0),\r\n        zs = new E(vs, \"AggressiveLess\", 1),\r\n        gt = new E(vs, \"AggressiveMore\", 2);\r\n      vs.className = \"LayeredDigraphLayout\";\r\n      vs.CycleDepthFirst = ws;\r\n      vs.CycleGreedy = Ps;\r\n      vs.CycleFromLayers = Bs;\r\n      vs.LayerOptimalLinkLength = xs;\r\n      vs.LayerLongestPathSink = Us;\r\n      vs.LayerLongestPathSource = Ws;\r\n      vs.InitDepthFirstOut = ys;\r\n      vs.InitDepthFirstIn = bt;\r\n      vs.InitNaive = $s;\r\n      vs.AggressiveNone = ft;\r\n      vs.AggressiveLess = zs;\r\n      vs.AggressiveMore = gt;\r\n      vs.PackNone = 0;\r\n      vs.PackExpand = 1;\r\n      vs.PackStraighten = 2;\r\n      vs.PackMedian = 4;\r\n      vs.PackAll = 7;\r\n\r\n      function ot() {\r\n        this.index = this.yc = this.Yc = this.ac = this.first = this.layer = 0;\r\n        this.link = null;\r\n        this.l = 0;\r\n      }\r\n      ot.className = \"SegInfo\";\r\n\r\n      function As(a) {\r\n        hq.call(this, a);\r\n      }\r\n      la(As, hq);\r\n      As.prototype.createVertex = function () {\r\n        return new qt(this);\r\n      };\r\n      As.prototype.createEdge = function () {\r\n        return new rt(this);\r\n      };\r\n      As.className = \"LayeredDigraphNetwork\";\r\n\r\n      function qt(a) {\r\n        kq.call(this, a);\r\n        this.Ua = this.Yg = this.zi = -1;\r\n        this.L = NaN;\r\n        this.aa = null;\r\n        this.valid = !1;\r\n        this.finish = this.pm = NaN;\r\n        this.ck = 0;\r\n        this.Qv = this.Rv = null;\r\n      }\r\n      la(qt, kq);\r\n      ma.Object.defineProperties(qt.prototype, {\r\n        layer: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.zi;\r\n          },\r\n          set: function (a) {\r\n            this.zi !== a && (A(a, \"number\", qt, \"layer\"), (this.zi = a));\r\n          },\r\n        },\r\n        column: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Yg;\r\n          },\r\n          set: function (a) {\r\n            this.Yg !== a && (A(a, \"number\", qt, \"column\"), (this.Yg = a));\r\n          },\r\n        },\r\n        index: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ua;\r\n          },\r\n          set: function (a) {\r\n            this.Ua !== a && (A(a, \"number\", qt, \"index\"), (this.Ua = a));\r\n          },\r\n        },\r\n        component: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.L;\r\n          },\r\n          set: function (a) {\r\n            this.L !== a && (A(a, \"number\", qt, \"component\"), (this.L = a));\r\n          },\r\n        },\r\n        near: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.aa;\r\n          },\r\n          set: function (a) {\r\n            this.aa !== a &&\r\n              (F && null !== a && w(a, qt, qt, \"near\"), (this.aa = a));\r\n          },\r\n        },\r\n      });\r\n      qt.className = \"LayeredDigraphVertex\";\r\n\r\n      function rt(a) {\r\n        lq.call(this, a);\r\n        this.l = this.Pa = this.fb = !1;\r\n        this.Oa = this.L = NaN;\r\n        this.aa = this.w = 0;\r\n      }\r\n      la(rt, lq);\r\n      ma.Object.defineProperties(rt.prototype, {\r\n        valid: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.fb;\r\n          },\r\n          set: function (a) {\r\n            this.fb !== a && (A(a, \"boolean\", rt, \"valid\"), (this.fb = a));\r\n          },\r\n        },\r\n        rev: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Pa;\r\n          },\r\n          set: function (a) {\r\n            this.Pa !== a && (A(a, \"boolean\", rt, \"rev\"), (this.Pa = a));\r\n          },\r\n        },\r\n        forest: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.l;\r\n          },\r\n          set: function (a) {\r\n            this.l !== a && (A(a, \"boolean\", rt, \"forest\"), (this.l = a));\r\n          },\r\n        },\r\n        portFromPos: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.L;\r\n          },\r\n          set: function (a) {\r\n            this.L !== a && (A(a, \"number\", rt, \"portFromPos\"), (this.L = a));\r\n          },\r\n        },\r\n        portToPos: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Oa;\r\n          },\r\n          set: function (a) {\r\n            this.Oa !== a && (A(a, \"number\", rt, \"portToPos\"), (this.Oa = a));\r\n          },\r\n        },\r\n        portFromColOffset: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.w;\r\n          },\r\n          set: function (a) {\r\n            this.w !== a &&\r\n              (A(a, \"number\", rt, \"portFromColOffset\"), (this.w = a));\r\n          },\r\n        },\r\n        portToColOffset: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.aa;\r\n          },\r\n          set: function (a) {\r\n            this.aa !== a &&\r\n              (A(a, \"number\", rt, \"portToColOffset\"), (this.aa = a));\r\n          },\r\n        },\r\n      });\r\n      rt.className = \"LayeredDigraphEdge\";\r\n\r\n      function Y() {\r\n        0 < arguments.length && za(Y);\r\n        Si.call(this);\r\n        this.Nb = new H();\r\n        this.fp = st;\r\n        this.dd = tt;\r\n        this.aq = ut;\r\n        this.gs = vt;\r\n        this.Kw = [];\r\n        this.bd = !0;\r\n        this.Hb = wt;\r\n        this.Ed = new Jb(10, 10).freeze();\r\n        var a = new xt(this);\r\n        this.W = new yt(a);\r\n        this.Y = new yt(a);\r\n        this.Vu = [];\r\n      }\r\n      la(Y, Si);\r\n      Y.prototype.cloneProtected = function (a) {\r\n        Si.prototype.cloneProtected.call(this, a);\r\n        a.fp = this.fp;\r\n        a.aq = this.aq;\r\n        a.gs = this.gs;\r\n        a.bd = this.bd;\r\n        a.Hb = this.Hb;\r\n        a.Ed.assign(this.Ed);\r\n        a.W.copyInheritedPropertiesFrom(this.W);\r\n        a.Y.copyInheritedPropertiesFrom(this.Y);\r\n      };\r\n      Y.prototype.jb = function (a) {\r\n        a.classType === Y\r\n          ? 0 === a.name.indexOf(\"Alignment\")\r\n            ? (this.alignment = a)\r\n            : 0 === a.name.indexOf(\"Arrangement\")\r\n            ? (this.arrangement = a)\r\n            : 0 === a.name.indexOf(\"Compaction\")\r\n            ? (this.compaction = a)\r\n            : 0 === a.name.indexOf(\"Path\")\r\n            ? (this.path = a)\r\n            : 0 === a.name.indexOf(\"Sorting\")\r\n            ? (this.sorting = a)\r\n            : 0 === a.name.indexOf(\"Style\")\r\n            ? (this.treeStyle = a)\r\n            : v(\"Unknown enum value: \" + a)\r\n          : Si.prototype.jb.call(this, a);\r\n      };\r\n      Y.prototype.createNetwork = function () {\r\n        return new xt(this);\r\n      };\r\n      Y.prototype.makeNetwork = function (a) {\r\n        function b(a) {\r\n          if (a instanceof U) return !a.isLinkLabel && \"Comment\" !== a.category;\r\n          if (a instanceof Q) {\r\n            var b = a.fromNode;\r\n            if (null === b || b.isLinkLabel || \"Comment\" === b.category)\r\n              return !1;\r\n            a = a.toNode;\r\n            return null === a || a.isLinkLabel || \"Comment\" === a.category\r\n              ? !1\r\n              : !0;\r\n          }\r\n          return !1;\r\n        }\r\n        var c = this.createNetwork();\r\n        a instanceof P\r\n          ? (c.Gg(a.nodes, !0, b), c.Gg(a.links, !0, b))\r\n          : a instanceof Kf\r\n          ? c.Gg(a.memberParts, !1, b)\r\n          : c.Gg(a.iterator, !1, b);\r\n        return c;\r\n      };\r\n      Y.prototype.doLayout = function (a) {\r\n        F &&\r\n          null === a &&\r\n          v(\r\n            \"Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts\"\r\n          );\r\n        null === this.network && (this.network = this.makeNetwork(a));\r\n        this.arrangement !== zt &&\r\n          (this.arrangementOrigin = this.initialOrigin(this.arrangementOrigin));\r\n        var b = this.diagram;\r\n        null === b && a instanceof P && (b = a);\r\n        this.path === st && null !== b\r\n          ? (this.dd = b.isTreePathToChildren ? tt : At)\r\n          : (this.dd = this.path === st ? tt : this.path);\r\n        if (0 < this.network.vertexes.count) {\r\n          this.network.mq();\r\n          for (a = this.network.vertexes.iterator; a.next(); )\r\n            (b = a.value),\r\n              (b.initialized = !1),\r\n              (b.level = 0),\r\n              (b.parent = null),\r\n              (b.children = []);\r\n          if (0 < this.Nb.count) {\r\n            a = new H();\r\n            for (b = this.Nb.iterator; b.next(); ) {\r\n              var c = b.value;\r\n              c instanceof U\r\n                ? ((c = this.network.cj(c)), null !== c && a.add(c))\r\n                : c instanceof yt && a.add(c);\r\n            }\r\n            this.Nb = a;\r\n          }\r\n          0 === this.Nb.count && this.findRoots();\r\n          for (a = this.Nb.copy().iterator; a.next(); )\r\n            (b = a.value), b.initialized || ((b.initialized = !0), Bt(this, b));\r\n          b = this.network.vertexes;\r\n          for (a = null; (a = Ct(b)), 0 < a.count; )\r\n            (b = Dt(this, a)),\r\n              null !== b && this.Nb.add(b),\r\n              (b.initialized = !0),\r\n              Bt(this, b),\r\n              (b = a);\r\n          for (a = this.Nb.iterator; a.next(); )\r\n            (b = a.value), b instanceof yt && Et(this, b);\r\n          for (a = this.Nb.iterator; a.next(); )\r\n            (b = a.value), b instanceof yt && Ft(this, b);\r\n          for (a = this.Nb.iterator; a.next(); )\r\n            (b = a.value), b instanceof yt && Gt(this, b);\r\n          this.gv();\r\n          if (this.layerStyle === Ht) {\r\n            a = [];\r\n            for (b = this.network.vertexes.iterator; b.next(); ) {\r\n              c = b.value;\r\n              var d = c.parent;\r\n              null === d && (d = c);\r\n              d = 0 === d.angle || 180 === d.angle;\r\n              var e = a[c.level];\r\n              void 0 === e && (e = 0);\r\n              a[c.level] = Math.max(e, d ? c.width : c.height);\r\n            }\r\n            for (b = 0; b < a.length; b++) void 0 === a[b] && (a[b] = 0);\r\n            this.Kw = a;\r\n            for (b = this.network.vertexes.iterator; b.next(); )\r\n              (c = b.value),\r\n                (d = c.parent),\r\n                null === d && (d = c),\r\n                0 === d.angle || 180 === d.angle\r\n                  ? (180 === d.angle && (c.focusX += a[c.level] - c.width),\r\n                    (c.width = a[c.level]))\r\n                  : (270 === d.angle && (c.focusY += a[c.level] - c.height),\r\n                    (c.height = a[c.level]));\r\n          } else if (this.layerStyle === It)\r\n            for (a = this.network.vertexes.iterator; a.next(); ) {\r\n              b = a.value;\r\n              c = 0 === b.angle || 180 === b.angle;\r\n              d = -1;\r\n              for (e = 0; e < b.children.length; e++) {\r\n                var f = b.children[e];\r\n                d = Math.max(d, c ? f.width : f.height);\r\n              }\r\n              if (0 <= d)\r\n                for (e = 0; e < b.children.length; e++)\r\n                  (f = b.children[e]),\r\n                    c\r\n                      ? (180 === b.angle && (f.focusX += d - f.width),\r\n                        (f.width = d))\r\n                      : (270 === b.angle && (f.focusY += d - f.height),\r\n                        (f.height = d));\r\n            }\r\n          for (a = this.Nb.iterator; a.next(); )\r\n            (b = a.value), b instanceof yt && this.layoutTree(b);\r\n          this.arrangeTrees();\r\n          this.updateParts();\r\n        }\r\n        this.network = null;\r\n        this.Nb = new H();\r\n        this.isValidLayout = !0;\r\n      };\r\n\r\n      function Ct(a) {\r\n        var b = new H();\r\n        for (a = a.iterator; a.next(); ) {\r\n          var c = a.value;\r\n          c.initialized || b.add(c);\r\n        }\r\n        return b;\r\n      }\r\n      Y.prototype.findRoots = function () {\r\n        for (var a = this.network.vertexes, b = a.iterator; b.next(); ) {\r\n          var c = b.value;\r\n          switch (this.dd) {\r\n            case tt:\r\n              0 === c.sourceEdges.count && this.Nb.add(c);\r\n              break;\r\n            case At:\r\n              0 === c.destinationEdges.count && this.Nb.add(c);\r\n              break;\r\n            default:\r\n              v(\"Unhandled path value \" + this.dd.toString());\r\n          }\r\n        }\r\n        0 === this.Nb.count &&\r\n          ((a = Dt(this, a)), null !== a && this.Nb.add(a));\r\n      };\r\n\r\n      function Dt(a, b) {\r\n        var c = 999999,\r\n          d = null;\r\n        for (b = b.iterator; b.next(); ) {\r\n          var e = b.value;\r\n          switch (a.dd) {\r\n            case tt:\r\n              e.sourceEdges.count < c && ((c = e.sourceEdges.count), (d = e));\r\n              break;\r\n            case At:\r\n              e.destinationEdges.count < c &&\r\n                ((c = e.destinationEdges.count), (d = e));\r\n              break;\r\n            default:\r\n              v(\"Unhandled path value \" + a.dd.toString());\r\n          }\r\n        }\r\n        return d;\r\n      }\r\n\r\n      function Bt(a, b) {\r\n        if (null !== b) {\r\n          F && w(b, yt, Y, \"walkTree:v\");\r\n          switch (a.dd) {\r\n            case tt:\r\n              if (0 < b.destinationEdges.count) {\r\n                for (var c = new G(), d = b.destinationVertexes; d.next(); ) {\r\n                  var e = d.value;\r\n                  Jt(a, b, e) && c.add(e);\r\n                }\r\n                0 < c.count && (b.children = c.sa());\r\n              }\r\n              break;\r\n            case At:\r\n              if (0 < b.sourceEdges.count) {\r\n                c = new G();\r\n                for (d = b.sourceVertexes; d.next(); )\r\n                  (e = d.value), Jt(a, b, e) && c.add(e);\r\n                0 < c.count && (b.children = c.sa());\r\n              }\r\n              break;\r\n            default:\r\n              v(\"Unhandled path value\" + a.dd.toString());\r\n          }\r\n          c = b.children;\r\n          d = c.length;\r\n          for (e = 0; e < d; e++) {\r\n            var f = c[e];\r\n            f.initialized = !0;\r\n            f.level = b.level + 1;\r\n            f.parent = b;\r\n            a.Nb.remove(f);\r\n          }\r\n          for (b = 0; b < d; b++) Bt(a, c[b]);\r\n        }\r\n      }\r\n\r\n      function Jt(a, b, c) {\r\n        F && w(b, yt, Y, \"walkOK:v\");\r\n        F && w(c, yt, Y, \"walkOK:c\");\r\n        if (c.initialized) {\r\n          if (null === b) var d = !1;\r\n          else {\r\n            F && w(c, yt, Y, \"isAncestor:a\");\r\n            F && w(b, yt, Y, \"isAncestor:b\");\r\n            for (d = b.parent; null !== d && d !== c; ) d = d.parent;\r\n            d = d === c;\r\n          }\r\n          if (d || c.level > b.level) return !1;\r\n          a.removeChild(c.parent, c);\r\n        }\r\n        return !0;\r\n      }\r\n      Y.prototype.removeChild = function (a, b) {\r\n        if (null !== a && null !== b) {\r\n          F && w(a, yt, Y, \"removeChild:p\");\r\n          F && w(b, yt, Y, \"removeChild:c\");\r\n          for (var c = a.children, d = 0, e = 0; e < c.length; e++)\r\n            c[e] === b && d++;\r\n          if (0 < d) {\r\n            d = Array(c.length - d);\r\n            for (var f = (e = 0); f < c.length; f++)\r\n              c[f] !== b && (d[e++] = c[f]);\r\n            a.children = d;\r\n          }\r\n        }\r\n      };\r\n\r\n      function Et(a, b) {\r\n        if (null !== b) {\r\n          F && w(b, yt, Y, \"initializeTree:v\");\r\n          a.initializeTreeVertexValues(b);\r\n          b.alignment === Kt && a.sortTreeVertexChildren(b);\r\n          for (\r\n            var c = 0,\r\n              d = b.childrenCount,\r\n              e = 0,\r\n              f = b.children,\r\n              g = f.length,\r\n              h = 0;\r\n            h < g;\r\n            h++\r\n          ) {\r\n            var k = f[h];\r\n            Et(a, k);\r\n            c += k.descendantCount + 1;\r\n            d = Math.max(d, k.maxChildrenCount);\r\n            e = Math.max(e, k.maxGenerationCount);\r\n          }\r\n          b.descendantCount = c;\r\n          b.maxChildrenCount = d;\r\n          b.maxGenerationCount = 0 < d ? e + 1 : 0;\r\n        }\r\n      }\r\n\r\n      function Lt(a, b) {\r\n        F && w(b, yt, Y, \"mom:v\");\r\n        switch (a.aq) {\r\n          default:\r\n          case ut:\r\n            return null !== b.parent ? b.parent : a.W;\r\n          case Mt:\r\n            return null === b.parent\r\n              ? a.W\r\n              : null === b.parent.parent\r\n              ? a.Y\r\n              : b.parent;\r\n          case Nt:\r\n            return null !== b.parent\r\n              ? null !== b.parent.parent\r\n                ? b.parent.parent\r\n                : a.Y\r\n              : a.W;\r\n          case Ot:\r\n            var c = !0;\r\n            if (0 === b.childrenCount) c = !1;\r\n            else\r\n              for (var d = b.children, e = d.length, f = 0; f < e; f++)\r\n                if (0 < d[f].childrenCount) {\r\n                  c = !1;\r\n                  break;\r\n                }\r\n            return c && null !== b.parent\r\n              ? a.Y\r\n              : null !== b.parent\r\n              ? b.parent\r\n              : a.W;\r\n        }\r\n      }\r\n      Y.prototype.initializeTreeVertexValues = function (a) {\r\n        F && w(a, yt, Y, \"initializeTreeVertexValues:v\");\r\n        var b = Lt(this, a);\r\n        a.copyInheritedPropertiesFrom(b);\r\n        if (null !== a.parent && a.parent.alignment === Kt) {\r\n          b = a.angle;\r\n          for (var c = a.parent.children, d = 0; d < c.length && a !== c[d]; )\r\n            d++;\r\n          0 === d % 2\r\n            ? d !== c.length - 1 &&\r\n              (b = 90 === b ? 180 : 180 === b ? 270 : 270 === b ? 180 : 270)\r\n            : (b = 90 === b ? 0 : 180 === b ? 90 : 270 === b ? 0 : 90);\r\n          a.angle = b;\r\n        }\r\n        a.initialized = !0;\r\n      };\r\n\r\n      function Ft(a, b) {\r\n        if (null !== b) {\r\n          F && w(b, yt, Y, \"assignTree:v\");\r\n          a.assignTreeVertexValues(b);\r\n          b = b.children;\r\n          for (var c = b.length, d = 0; d < c; d++) Ft(a, b[d]);\r\n        }\r\n      }\r\n      Y.prototype.assignTreeVertexValues = function () {};\r\n\r\n      function Gt(a, b) {\r\n        if (null !== b) {\r\n          F && w(b, yt, Y, \"sortTree:v\");\r\n          b.alignment !== Kt && a.sortTreeVertexChildren(b);\r\n          b = b.children;\r\n          for (var c = b.length, d = 0; d < c; d++) Gt(a, b[d]);\r\n        }\r\n      }\r\n      Y.prototype.sortTreeVertexChildren = function (a) {\r\n        F && w(a, yt, Y, \"sortTreeVertexChildren:v\");\r\n        switch (a.sorting) {\r\n          case Pt:\r\n            break;\r\n          case Qt:\r\n            a.children.reverse();\r\n            break;\r\n          case Rt:\r\n            a.children.sort(a.comparer);\r\n            break;\r\n          case St:\r\n            a.children.sort(a.comparer);\r\n            a.children.reverse();\r\n            break;\r\n          default:\r\n            v(\"Unhandled sorting value \" + a.sorting.toString());\r\n        }\r\n      };\r\n      Y.prototype.gv = function () {\r\n        if (this.comments)\r\n          for (var a = this.network.vertexes.iterator; a.next(); )\r\n            this.addComments(a.value);\r\n      };\r\n      Y.prototype.addComments = function (a) {\r\n        F && w(a, yt, Y, \"addComments:v\");\r\n        var b = a.angle,\r\n          c = a.parent,\r\n          d = 0;\r\n        var e = !1;\r\n        null !== c && ((d = c.angle), (e = c.alignment), (e = Tt(e)));\r\n        b = 90 === b || 270 === b;\r\n        d = 90 === d || 270 === d;\r\n        c = 0 === a.childrenCount;\r\n        var f = 0,\r\n          g = 0,\r\n          h = 0,\r\n          k = a.commentSpacing;\r\n        if (null !== a.node)\r\n          for (var l = a.node.xv(); l.next(); ) {\r\n            var m = l.value;\r\n            \"Comment\" === m.category &&\r\n              m.canLayout() &&\r\n              (null === a.comments && (a.comments = []),\r\n              a.comments.push(m),\r\n              m.Eb(),\r\n              (m = m.measuredBounds),\r\n              (b && !c) || (!e && !d && c) || (e && d && c)\r\n                ? ((f = Math.max(f, m.width)), (g += m.height + Math.abs(h)))\r\n                : ((f += m.width + Math.abs(h)), (g = Math.max(g, m.height))),\r\n              (h = k));\r\n          }\r\n        null !== a.comments &&\r\n          ((b && !c) || (!e && !d && c) || (e && d && c)\r\n            ? ((f += Math.abs(a.commentMargin)),\r\n              (g = Math.max(0, g - a.height)))\r\n            : ((g += Math.abs(a.commentMargin)),\r\n              (f = Math.max(0, f - a.width))),\r\n          (e = L.allocAt(0, 0, a.bounds.width + f, a.bounds.height + g)),\r\n          (a.bounds = e),\r\n          L.free(e));\r\n      };\r\n\r\n      function Tt(a) {\r\n        return a === Ut || a === Kt || a === Vt || a === Wt;\r\n      }\r\n\r\n      function Xt(a) {\r\n        return a === Ut || a === Kt;\r\n      }\r\n\r\n      function Yt(a) {\r\n        F && w(a, yt, Y, \"isLeftSideBus:v\");\r\n        var b = a.parent;\r\n        if (null !== b) {\r\n          var c = b.alignment;\r\n          if (Tt(c)) {\r\n            if (Xt(c)) {\r\n              b = b.children;\r\n              for (c = 0; c < b.length && a !== b[c]; ) c++;\r\n              return 0 === c % 2;\r\n            }\r\n            if (c === Vt) return !0;\r\n          }\r\n        }\r\n        return !1;\r\n      }\r\n      Y.prototype.layoutComments = function (a) {\r\n        F && w(a, yt, Y, \"layoutComments:v\");\r\n        if (null !== a.comments) {\r\n          var b = a.node.measuredBounds,\r\n            c = a.parent,\r\n            d = a.angle,\r\n            e = 0;\r\n          var f = !1;\r\n          null !== c && ((e = c.angle), (f = c.alignment), (f = Tt(f)));\r\n          d = 90 === d || 270 === d;\r\n          c = 90 === e || 270 === e;\r\n          for (\r\n            var g = 0 === a.childrenCount,\r\n              h = Yt(a),\r\n              k = 0,\r\n              l = a.comments,\r\n              m = l.length,\r\n              n = J.alloc(),\r\n              p = 0;\r\n            p < m;\r\n            p++\r\n          ) {\r\n            var r = l[p],\r\n              q = r.measuredBounds;\r\n            if ((d && !g) || (!f && !c && g) || (f && c && g)) {\r\n              if ((135 < e && !f) || (c && h))\r\n                if (0 <= a.commentMargin)\r\n                  for (\r\n                    n.h(a.bounds.x - a.commentMargin - q.width, a.bounds.y + k),\r\n                      r.move(n),\r\n                      r = r.zd();\r\n                    r.next();\r\n\r\n                  ) {\r\n                    var u = r.value;\r\n                    u.fromSpot = qd;\r\n                    u.toSpot = rd;\r\n                  }\r\n                else\r\n                  for (\r\n                    n.h(\r\n                      a.bounds.x + 2 * a.focus.x - a.commentMargin,\r\n                      a.bounds.y + k\r\n                    ),\r\n                      r.move(n),\r\n                      r = r.zd();\r\n                    r.next();\r\n\r\n                  )\r\n                    (u = r.value), (u.fromSpot = rd), (u.toSpot = qd);\r\n              else if (0 <= a.commentMargin)\r\n                for (\r\n                  n.h(\r\n                    a.bounds.x + 2 * a.focus.x + a.commentMargin,\r\n                    a.bounds.y + k\r\n                  ),\r\n                    r.move(n),\r\n                    r = r.zd();\r\n                  r.next();\r\n\r\n                )\r\n                  (u = r.value), (u.fromSpot = rd), (u.toSpot = qd);\r\n              else\r\n                for (\r\n                  n.h(a.bounds.x + a.commentMargin - q.width, a.bounds.y + k),\r\n                    r.move(n),\r\n                    r = r.zd();\r\n                  r.next();\r\n\r\n                )\r\n                  (u = r.value), (u.fromSpot = qd), (u.toSpot = rd);\r\n              k =\r\n                0 <= a.commentSpacing\r\n                  ? k + (q.height + a.commentSpacing)\r\n                  : k + (a.commentSpacing - q.height);\r\n            } else {\r\n              if ((135 < e && !f) || (!c && h))\r\n                if (0 <= a.commentMargin)\r\n                  for (\r\n                    n.h(\r\n                      a.bounds.x + k,\r\n                      a.bounds.y - a.commentMargin - q.height\r\n                    ),\r\n                      r.move(n),\r\n                      r = r.zd();\r\n                    r.next();\r\n\r\n                  )\r\n                    (u = r.value), (u.fromSpot = pd), (u.toSpot = sd);\r\n                else\r\n                  for (\r\n                    n.h(\r\n                      a.bounds.x + k,\r\n                      a.bounds.y + 2 * a.focus.y - a.commentMargin\r\n                    ),\r\n                      r.move(n),\r\n                      r = r.zd();\r\n                    r.next();\r\n\r\n                  )\r\n                    (u = r.value), (u.fromSpot = sd), (u.toSpot = pd);\r\n              else if (0 <= a.commentMargin)\r\n                for (\r\n                  n.h(\r\n                    a.bounds.x + k,\r\n                    a.bounds.y + 2 * a.focus.y + a.commentMargin\r\n                  ),\r\n                    r.move(n),\r\n                    r = r.zd();\r\n                  r.next();\r\n\r\n                )\r\n                  (u = r.value), (u.fromSpot = sd), (u.toSpot = pd);\r\n              else\r\n                for (\r\n                  n.h(a.bounds.x + k, a.bounds.y + a.commentMargin - q.height),\r\n                    r.move(n),\r\n                    r = r.zd();\r\n                  r.next();\r\n\r\n                )\r\n                  (u = r.value), (u.fromSpot = pd), (u.toSpot = sd);\r\n              k =\r\n                0 <= a.commentSpacing\r\n                  ? k + (q.width + a.commentSpacing)\r\n                  : k + (a.commentSpacing - q.width);\r\n            }\r\n          }\r\n          J.free(n);\r\n          b = k - a.commentSpacing - (d ? b.height : b.width);\r\n          if (this.dd === tt)\r\n            for (a = a.destinationEdges; a.next(); )\r\n              (e = a.value.link),\r\n                null === e ||\r\n                  e.isAvoiding ||\r\n                  (e.fromEndSegmentLength = 0 < b ? b : NaN);\r\n          else\r\n            for (a = a.sourceEdges; a.next(); )\r\n              (e = a.value.link),\r\n                null === e ||\r\n                  e.isAvoiding ||\r\n                  (e.toEndSegmentLength = 0 < b ? b : NaN);\r\n        }\r\n      };\r\n      Y.prototype.layoutTree = function (a) {\r\n        if (null !== a) {\r\n          F && w(a, yt, Y, \"layoutTree:v\");\r\n          for (var b = a.children, c = b.length, d = 0; d < c; d++)\r\n            this.layoutTree(b[d]);\r\n          switch (a.compaction) {\r\n            case Zt:\r\n              $t(this, a);\r\n              break;\r\n            case au:\r\n              if (a.alignment === Kt) $t(this, a);\r\n              else if (\r\n                (F && w(a, yt, Y, \"layoutTreeBlock:v\"), 0 === a.childrenCount)\r\n              )\r\n                (d = a.parent),\r\n                  (c = !1),\r\n                  (b = 0),\r\n                  null !== d && ((b = d.angle), (c = d.alignment), (c = Tt(c))),\r\n                  (d = Yt(a)),\r\n                  a.V.h(0, 0),\r\n                  a.ya.h(a.width, a.height),\r\n                  null === a.parent ||\r\n                  null === a.comments ||\r\n                  (((180 !== b && 270 !== b) || c) && !d)\r\n                    ? a.ja.h(0, 0)\r\n                    : (180 === b && !c) || ((90 === b || 270 === b) && d)\r\n                    ? a.ja.h(a.width - 2 * a.focus.x, 0)\r\n                    : a.ja.h(0, a.height - 2 * a.focus.y),\r\n                  (a.Bq = null),\r\n                  (a.Oq = null);\r\n              else {\r\n                var e = bu(a);\r\n                b = 90 === e || 270 === e;\r\n                var f = 0,\r\n                  g = a.children,\r\n                  h = g.length;\r\n                for (c = 0; c < h; c++)\r\n                  (d = g[c]), (f = Math.max(f, b ? d.ya.width : d.ya.height));\r\n                var k = a.alignment;\r\n                d = k === cu;\r\n                var l = k === du,\r\n                  m = Tt(k),\r\n                  n = Math.max(0, a.breadthLimit);\r\n                c = iu(a);\r\n                var p = a.nodeSpacing,\r\n                  r = ju(a),\r\n                  q = a.rowSpacing,\r\n                  u = 0;\r\n                if (d || l || a.Pm || (a.Qm && 1 === a.maxGenerationCount))\r\n                  u = Math.max(0, a.rowIndent);\r\n                d = a.width;\r\n                var x = a.height,\r\n                  y = 0,\r\n                  z = 0,\r\n                  B = 0,\r\n                  D = null,\r\n                  I = null,\r\n                  O = 0,\r\n                  R = 0,\r\n                  T = 0,\r\n                  ca = 0,\r\n                  Z = 0,\r\n                  sa = 0,\r\n                  Da = 0,\r\n                  W = 0;\r\n                m && !Xt(k) && 135 < e && g.reverse();\r\n                if (Xt(k))\r\n                  if (1 < h)\r\n                    for (var Ua = 0; Ua < h; Ua++)\r\n                      0 === Ua % 2 &&\r\n                        Ua !== h - 1 &&\r\n                        (W = Math.max(W, b ? g[Ua].ya.width : g[Ua].ya.height));\r\n                  else 1 === h && (W = b ? g[0].ya.width : g[0].ya.height);\r\n                if (m) {\r\n                  switch (k) {\r\n                    case Ut:\r\n                      z = 135 > e ? ku(a, g, W, y, z) : lu(a, g, W, y, z);\r\n                      W = z.x;\r\n                      y = z.width;\r\n                      z = z.height;\r\n                      break;\r\n                    case Vt:\r\n                      for (D = 0; D < h; D++)\r\n                        (I = g[D]),\r\n                          (n = I.ya),\r\n                          (B = 0 === sa ? 0 : q),\r\n                          b\r\n                            ? (I.V.h(f - n.width, ca + B),\r\n                              (y = Math.max(y, n.width)),\r\n                              (z = Math.max(z, ca + B + n.height)),\r\n                              (ca += B + n.height))\r\n                            : (I.V.h(T + B, f - n.height),\r\n                              (y = Math.max(y, T + B + n.width)),\r\n                              (z = Math.max(z, n.height)),\r\n                              (T += B + n.width)),\r\n                          sa++;\r\n                      break;\r\n                    case Wt:\r\n                      for (D = 0; D < h; D++)\r\n                        (I = g[D]),\r\n                          (f = I.ya),\r\n                          (n = 0 === sa ? 0 : q),\r\n                          b\r\n                            ? (I.V.h(p / 2 + a.focus.x, ca + n),\r\n                              (y = Math.max(y, f.width)),\r\n                              (z = Math.max(z, ca + n + f.height)),\r\n                              (ca += n + f.height))\r\n                            : (I.V.h(T + n, p / 2 + a.focus.y),\r\n                              (y = Math.max(y, T + n + f.width)),\r\n                              (z = Math.max(z, f.height)),\r\n                              (T += n + f.width)),\r\n                          sa++;\r\n                  }\r\n                  D = mu(this, 2);\r\n                  I = mu(this, 2);\r\n                  b\r\n                    ? (D[0].h(0, 0), D[1].h(0, z), I[0].h(y, 0))\r\n                    : (D[0].h(0, 0), D[1].h(y, 0), I[0].h(0, z));\r\n                  I[1].h(y, z);\r\n                } else\r\n                  for (Ua = 0; Ua < h; Ua++) {\r\n                    var Ya = g[Ua],\r\n                      xb = Ya.ya;\r\n                    if (b) {\r\n                      0 < n &&\r\n                        0 < sa &&\r\n                        T + p + xb.width > n &&\r\n                        (T < f && nu(a, k, f - T, 0, Da, Ua - 1),\r\n                        Z++,\r\n                        (sa = 0),\r\n                        (Da = Ua),\r\n                        (B = z),\r\n                        (T = 0),\r\n                        (ca = 135 < e ? -z - q : z + q));\r\n                      ou(this, Ya, 0, ca);\r\n                      var $a = 0;\r\n                      if (0 === sa) {\r\n                        if (\r\n                          ((D = Ya.Bq),\r\n                          (I = Ya.Oq),\r\n                          (O = xb.width),\r\n                          (R = xb.height),\r\n                          null === D || null === I || e !== bu(Ya))\r\n                        )\r\n                          (D = mu(this, 2)),\r\n                            (I = mu(this, 2)),\r\n                            D[0].h(0, 0),\r\n                            D[1].h(0, R),\r\n                            I[0].h(O, 0),\r\n                            I[1].h(O, R);\r\n                      } else {\r\n                        var Fb = La();\r\n                        R = pu(this, a, Ya, D, I, O, R, Fb);\r\n                        $a = R.x;\r\n                        D = Fb[0];\r\n                        I = Fb[1];\r\n                        O = R.width;\r\n                        R = R.height;\r\n                        Na(Fb);\r\n                        T < xb.width &&\r\n                          0 > $a &&\r\n                          (qu(a, -$a, 0, Da, Ua - 1),\r\n                          ru(D, -$a, 0),\r\n                          ru(I, -$a, 0),\r\n                          ($a = 0));\r\n                      }\r\n                      Ya.V.h($a, ca);\r\n                      y = Math.max(y, O);\r\n                      z = Math.max(z, B + (0 === Z ? 0 : q) + xb.height);\r\n                      T = O;\r\n                    } else {\r\n                      0 < n &&\r\n                        0 < sa &&\r\n                        ca + p + xb.height > n &&\r\n                        (ca < f && nu(a, k, 0, f - ca, Da, Ua - 1),\r\n                        Z++,\r\n                        (sa = 0),\r\n                        (Da = Ua),\r\n                        (B = y),\r\n                        (ca = 0),\r\n                        (T = 135 < e ? -y - q : y + q));\r\n                      ou(this, Ya, T, 0);\r\n                      $a = 0;\r\n                      if (0 === sa) {\r\n                        if (\r\n                          ((D = Ya.Bq),\r\n                          (I = Ya.Oq),\r\n                          (O = xb.width),\r\n                          (R = xb.height),\r\n                          null === D || null === I || e !== bu(Ya))\r\n                        )\r\n                          (D = mu(this, 2)),\r\n                            (I = mu(this, 2)),\r\n                            D[0].h(0, 0),\r\n                            D[1].h(O, 0),\r\n                            I[0].h(0, R),\r\n                            I[1].h(O, R);\r\n                      } else\r\n                        (Fb = La()),\r\n                          (R = pu(this, a, Ya, D, I, O, R, Fb)),\r\n                          ($a = R.x),\r\n                          (D = Fb[0]),\r\n                          (I = Fb[1]),\r\n                          (O = R.width),\r\n                          (R = R.height),\r\n                          Na(Fb),\r\n                          ca < xb.height &&\r\n                            0 > $a &&\r\n                            (qu(a, 0, -$a, Da, Ua - 1),\r\n                            ru(D, 0, -$a),\r\n                            ru(I, 0, -$a),\r\n                            ($a = 0));\r\n                      Ya.V.h(T, $a);\r\n                      z = Math.max(z, R);\r\n                      y = Math.max(y, B + (0 === Z ? 0 : q) + xb.width);\r\n                      ca = R;\r\n                    }\r\n                    sa++;\r\n                  }\r\n                0 < Z &&\r\n                  (b\r\n                    ? ((z += Math.max(0, c)),\r\n                      T < y && nu(a, k, y - T, 0, Da, h - 1),\r\n                      0 < u && (l || qu(a, u, 0, 0, h - 1), (y += u)))\r\n                    : ((y += Math.max(0, c)),\r\n                      ca < z && nu(a, k, 0, z - ca, Da, h - 1),\r\n                      0 < u && (l || qu(a, 0, u, 0, h - 1), (z += u))));\r\n                u = l = 0;\r\n                switch (k) {\r\n                  case su:\r\n                    b\r\n                      ? (l += y / 2 - a.focus.x - r / 2)\r\n                      : (u += z / 2 - a.focus.y - r / 2);\r\n                    break;\r\n                  case tu:\r\n                    0 < Z\r\n                      ? b\r\n                        ? (l += y / 2 - a.focus.x - r / 2)\r\n                        : (u += z / 2 - a.focus.y - r / 2)\r\n                      : b\r\n                      ? ((W = g[0].V.x + g[0].ja.x),\r\n                        (l +=\r\n                          W +\r\n                          (g[h - 1].V.x +\r\n                            g[h - 1].ja.x +\r\n                            2 * g[h - 1].focus.x -\r\n                            W) /\r\n                            2 -\r\n                          a.focus.x -\r\n                          r / 2))\r\n                      : ((W = g[0].V.y + g[0].ja.y),\r\n                        (u +=\r\n                          W +\r\n                          (g[h - 1].V.y +\r\n                            g[h - 1].ja.y +\r\n                            2 * g[h - 1].focus.y -\r\n                            W) /\r\n                            2 -\r\n                          a.focus.y -\r\n                          r / 2));\r\n                    break;\r\n                  case cu:\r\n                    b ? ((l -= r), (y += r)) : ((u -= r), (z += r));\r\n                    break;\r\n                  case du:\r\n                    b\r\n                      ? ((l += y - a.width + r), (y += r))\r\n                      : ((u += z - a.height + r), (z += r));\r\n                    break;\r\n                  case Ut:\r\n                    b\r\n                      ? 1 < h\r\n                        ? (l += W + p / 2 - a.focus.x)\r\n                        : (l += g[0].focus.x - a.focus.x + g[0].ja.x)\r\n                      : 1 < h\r\n                      ? (u += W + p / 2 - a.focus.y)\r\n                      : (u += g[0].focus.y - a.focus.y + g[0].ja.y);\r\n                    break;\r\n                  case Vt:\r\n                    b\r\n                      ? (l += y + p / 2 - a.focus.x)\r\n                      : (u += z + p / 2 - a.focus.y);\r\n                    break;\r\n                  case Wt:\r\n                    break;\r\n                  default:\r\n                    v(\"Unhandled alignment value \" + k.toString());\r\n                }\r\n                for (r = 0; r < h; r++)\r\n                  (W = g[r]),\r\n                    b\r\n                      ? W.V.h(\r\n                          W.V.x + W.ja.x - l,\r\n                          W.V.y +\r\n                            (135 < e\r\n                              ? (m ? -z : -W.ya.height) + W.ja.y - c\r\n                              : x + c + W.ja.y)\r\n                        )\r\n                      : W.V.h(\r\n                          W.V.x +\r\n                            (135 < e\r\n                              ? (m ? -y : -W.ya.width) + W.ja.x - c\r\n                              : d + c + W.ja.x),\r\n                          W.V.y + W.ja.y - u\r\n                        );\r\n                h = g = 0;\r\n                m\r\n                  ? b\r\n                    ? ((y = uu(a, y, l)),\r\n                      0 > l && (l = 0),\r\n                      135 < e && (u += z + c),\r\n                      (z += x + c),\r\n                      k === Wt && (g += p / 2 + a.focus.x),\r\n                      (h += x + c))\r\n                    : (135 < e && (l += y + c),\r\n                      (y += d + c),\r\n                      (z = vu(a, z, u)),\r\n                      0 > u && (u = 0),\r\n                      k === Wt && (h += p / 2 + a.focus.y),\r\n                      (g += d + c))\r\n                  : b\r\n                  ? (null === a.comments\r\n                      ? d > y &&\r\n                        ((y = wu(k, d - y, 0)),\r\n                        (g = y.x),\r\n                        (h = y.y),\r\n                        (y = d),\r\n                        (l = 0))\r\n                      : (y = uu(a, y, l)),\r\n                    0 > l && ((g -= l), (l = 0)),\r\n                    135 < e && (u += z + c),\r\n                    (z = Math.max(Math.max(z, x), z + x + c)),\r\n                    (h += x + c))\r\n                  : (135 < e && (l += y + c),\r\n                    (y = Math.max(Math.max(y, d), y + d + c)),\r\n                    null === a.comments\r\n                      ? x > z &&\r\n                        ((z = wu(k, 0, x - z)),\r\n                        (g = z.x),\r\n                        (h = z.y),\r\n                        (z = x),\r\n                        (u = 0))\r\n                      : (z = vu(a, z, u)),\r\n                    0 > u && ((h -= u), (u = 0)),\r\n                    (g += d + c));\r\n                if (0 < Z)\r\n                  (e = mu(this, 4)),\r\n                    (Z = mu(this, 4)),\r\n                    b\r\n                      ? (e[2].h(0, x + c),\r\n                        e[3].h(e[2].x, z),\r\n                        Z[2].h(y, e[2].y),\r\n                        Z[3].h(Z[2].x, e[3].y))\r\n                      : (e[2].h(d + c, 0),\r\n                        e[3].h(y, e[2].y),\r\n                        Z[2].h(e[2].x, z),\r\n                        Z[3].h(e[3].x, Z[2].y));\r\n                else {\r\n                  e = mu(this, D.length + 2);\r\n                  Z = mu(this, I.length + 2);\r\n                  for (k = 0; k < D.length; k++)\r\n                    (m = D[k]), e[k + 2].h(m.x + g, m.y + h);\r\n                  for (k = 0; k < I.length; k++)\r\n                    (m = I[k]), Z[k + 2].h(m.x + g, m.y + h);\r\n                }\r\n                b\r\n                  ? (e[0].h(l, 0),\r\n                    e[1].h(e[0].x, x),\r\n                    e[2].y < e[1].y &&\r\n                      (e[2].x > e[0].x ? e[2].assign(e[1]) : e[1].assign(e[2])),\r\n                    e[3].y < e[2].y &&\r\n                      (e[3].x > e[0].x ? e[3].assign(e[2]) : e[2].assign(e[3])),\r\n                    Z[0].h(l + d, 0),\r\n                    Z[1].h(Z[0].x, x),\r\n                    Z[2].y < Z[1].y &&\r\n                      (Z[2].x < Z[0].x ? Z[2].assign(Z[1]) : Z[1].assign(Z[2])),\r\n                    Z[3].y < Z[2].y &&\r\n                      (Z[3].x < Z[0].x ? Z[3].assign(Z[2]) : Z[2].assign(Z[3])),\r\n                    (e[2].y -= c / 2),\r\n                    (Z[2].y -= c / 2))\r\n                  : (e[0].h(0, u),\r\n                    e[1].h(d, e[0].y),\r\n                    e[2].x < e[1].x &&\r\n                      (e[2].y > e[0].y ? e[2].assign(e[1]) : e[1].assign(e[2])),\r\n                    e[3].x < e[2].x &&\r\n                      (e[3].y > e[0].y ? e[3].assign(e[2]) : e[2].assign(e[3])),\r\n                    Z[0].h(0, u + x),\r\n                    Z[1].h(d, Z[0].y),\r\n                    Z[2].x < Z[1].x &&\r\n                      (Z[2].y < Z[0].y ? Z[2].assign(Z[1]) : Z[1].assign(Z[2])),\r\n                    Z[3].x < Z[2].x &&\r\n                      (Z[3].y < Z[0].y ? Z[3].assign(Z[2]) : Z[2].assign(Z[3])),\r\n                    (e[2].x -= c / 2),\r\n                    (Z[2].x -= c / 2));\r\n                xu(this, D);\r\n                xu(this, I);\r\n                a.Bq = e;\r\n                a.Oq = Z;\r\n                a.ja.h(l, u);\r\n                a.ya.h(y, z);\r\n              }\r\n              break;\r\n            default:\r\n              v(\"Unhandled compaction value \" + a.compaction.toString());\r\n          }\r\n        }\r\n      };\r\n\r\n      function $t(a, b) {\r\n        F && w(b, yt, Y, \"layoutTreeNone:v\");\r\n        if (0 === b.childrenCount) {\r\n          var c = !1,\r\n            d = 0;\r\n          null !== b.parent &&\r\n            ((d = b.parent.angle), (c = b.parent.alignment), (c = Tt(c)));\r\n          var e = Yt(b);\r\n          b.V.h(0, 0);\r\n          b.ya.h(b.width, b.height);\r\n          null === b.parent ||\r\n          null === b.comments ||\r\n          (((180 !== d && 270 !== d) || c) && !e)\r\n            ? b.ja.h(0, 0)\r\n            : (180 === d && !c) || ((90 === d || 270 === d) && e)\r\n            ? b.ja.h(b.width - 2 * b.focus.x, 0)\r\n            : b.ja.h(0, b.height - 2 * b.focus.y);\r\n        } else {\r\n          d = bu(b);\r\n          c = 90 === d || 270 === d;\r\n          var f = 0;\r\n          e = b.children;\r\n          for (var g = e.length, h = 0; h < g; h++) {\r\n            var k = e[h];\r\n            f = Math.max(f, c ? k.ya.width : k.ya.height);\r\n          }\r\n          var l = b.alignment,\r\n            m = l === cu,\r\n            n = l === du;\r\n          h = Tt(l);\r\n          var p = Math.max(0, b.breadthLimit);\r\n          k = iu(b);\r\n          var r = b.nodeSpacing,\r\n            q = ju(b),\r\n            u = m || n ? 0 : q / 2,\r\n            x = b.rowSpacing,\r\n            y = 0;\r\n          if (m || n || b.Pm || (b.Qm && 1 === b.maxGenerationCount))\r\n            y = Math.max(0, b.rowIndent);\r\n          m = b.width;\r\n          var z = b.height,\r\n            B = 0,\r\n            D = 0,\r\n            I = 0,\r\n            O = 0,\r\n            R = 0,\r\n            T = 0,\r\n            ca = 0,\r\n            Z = 0,\r\n            sa = 0,\r\n            Da = 0;\r\n          h && !Xt(l) && 135 < d && e.reverse();\r\n          if (Xt(l))\r\n            if (1 < g)\r\n              for (var W = 0; W < g; W++) {\r\n                var Ua = e[W],\r\n                  Ya = Ua.ya;\r\n                0 === W % 2 && W !== g - 1\r\n                  ? (sa = Math.max(sa, (c ? Ya.width : Ya.height) + yu(Ua) - r))\r\n                  : 0 !== W % 2 &&\r\n                    (Da = Math.max(\r\n                      Da,\r\n                      (c ? Ya.width : Ya.height) + yu(Ua) - r\r\n                    ));\r\n              }\r\n            else 1 === g && (sa = c ? e[0].ya.width : e[0].ya.height);\r\n          if (h)\r\n            switch (l) {\r\n              case Ut:\r\n              case Kt:\r\n                D = 135 > d ? ku(b, e, sa, B, D) : lu(b, e, sa, B, D);\r\n                sa = D.x;\r\n                B = D.width;\r\n                D = D.height;\r\n                break;\r\n              case Vt:\r\n                for (a = 0; a < g; a++)\r\n                  (p = e[a]),\r\n                    (u = p.ya),\r\n                    (I = 0 === ca ? 0 : x),\r\n                    c\r\n                      ? (p.V.h(f - u.width, R + I),\r\n                        (B = Math.max(B, u.width)),\r\n                        (D = Math.max(D, R + I + u.height)),\r\n                        (R += I + u.height))\r\n                      : (p.V.h(O + I, f - u.height),\r\n                        (B = Math.max(B, O + I + u.width)),\r\n                        (D = Math.max(D, u.height)),\r\n                        (O += I + u.width)),\r\n                    ca++;\r\n                break;\r\n              case Wt:\r\n                for (f = 0; f < g; f++)\r\n                  (a = e[f]),\r\n                    (p = a.ya),\r\n                    (u = 0 === ca ? 0 : x),\r\n                    c\r\n                      ? (a.V.h(r / 2 + b.focus.x, R + u),\r\n                        (B = Math.max(B, p.width)),\r\n                        (D = Math.max(D, R + u + p.height)),\r\n                        (R += u + p.height))\r\n                      : (a.V.h(O + u, r / 2 + b.focus.y),\r\n                        (B = Math.max(B, O + u + p.width)),\r\n                        (D = Math.max(D, p.height)),\r\n                        (O += u + p.width)),\r\n                    ca++;\r\n            }\r\n          else\r\n            for (Da = 0; Da < g; Da++)\r\n              (W = e[Da]),\r\n                (Ua = W.ya),\r\n                c\r\n                  ? (0 < p &&\r\n                      0 < ca &&\r\n                      O + r + Ua.width > p &&\r\n                      (O < f && nu(b, l, f - O, 0, Z, Da - 1),\r\n                      T++,\r\n                      (ca = 0),\r\n                      (Z = Da),\r\n                      (I = D),\r\n                      (O = 0),\r\n                      (R = 135 < d ? -D - x : D + x)),\r\n                    (Ya = 0 === ca ? u : r),\r\n                    ou(a, W, 0, R),\r\n                    W.V.h(O + Ya, R),\r\n                    (B = Math.max(B, O + Ya + Ua.width)),\r\n                    (D = Math.max(D, I + (0 === T ? 0 : x) + Ua.height)),\r\n                    (O += Ya + Ua.width))\r\n                  : (0 < p &&\r\n                      0 < ca &&\r\n                      R + r + Ua.height > p &&\r\n                      (R < f && nu(b, l, 0, f - R, Z, Da - 1),\r\n                      T++,\r\n                      (ca = 0),\r\n                      (Z = Da),\r\n                      (I = B),\r\n                      (R = 0),\r\n                      (O = 135 < d ? -B - x : B + x)),\r\n                    (Ya = 0 === ca ? u : r),\r\n                    ou(a, W, O, 0),\r\n                    W.V.h(O, R + Ya),\r\n                    (D = Math.max(D, R + Ya + Ua.height)),\r\n                    (B = Math.max(B, I + (0 === T ? 0 : x) + Ua.width)),\r\n                    (R += Ya + Ua.height)),\r\n                ca++;\r\n          0 < T &&\r\n            (c\r\n              ? ((D += Math.max(0, k)),\r\n                O < B && nu(b, l, B - O, 0, Z, g - 1),\r\n                0 < y && (n || qu(b, y, 0, 0, g - 1), (B += y)))\r\n              : ((B += Math.max(0, k)),\r\n                R < D && nu(b, l, 0, D - R, Z, g - 1),\r\n                0 < y && (n || qu(b, 0, y, 0, g - 1), (D += y))));\r\n          y = n = 0;\r\n          switch (l) {\r\n            case su:\r\n              c\r\n                ? (n += B / 2 - b.focus.x - q / 2)\r\n                : (y += D / 2 - b.focus.y - q / 2);\r\n              break;\r\n            case tu:\r\n              0 < T\r\n                ? c\r\n                  ? (n += B / 2 - b.focus.x - q / 2)\r\n                  : (y += D / 2 - b.focus.y - q / 2)\r\n                : c\r\n                ? ((l = e[0].V.x + e[0].ja.x),\r\n                  (n +=\r\n                    l +\r\n                    (e[g - 1].V.x + e[g - 1].ja.x + 2 * e[g - 1].focus.x - l) /\r\n                      2 -\r\n                    b.focus.x -\r\n                    q / 2))\r\n                : ((l = e[0].V.y + e[0].ja.y),\r\n                  (y +=\r\n                    l +\r\n                    (e[g - 1].V.y + e[g - 1].ja.y + 2 * e[g - 1].focus.y - l) /\r\n                      2 -\r\n                    b.focus.y -\r\n                    q / 2));\r\n              break;\r\n            case cu:\r\n              c ? ((n -= q), (B += q)) : ((y -= q), (D += q));\r\n              break;\r\n            case du:\r\n              c\r\n                ? ((n += B - b.width + q), (B += q))\r\n                : ((y += D - b.height + q), (D += q));\r\n              break;\r\n            case Ut:\r\n            case Kt:\r\n              c\r\n                ? 1 < g\r\n                  ? (n += sa + r / 2 - b.focus.x)\r\n                  : (n += e[0].focus.x - b.focus.x + e[0].ja.x)\r\n                : 1 < g\r\n                ? (y += sa + r / 2 - b.focus.y)\r\n                : (y += e[0].focus.y - b.focus.y + e[0].ja.y);\r\n              break;\r\n            case Vt:\r\n              c ? (n += B + r / 2 - b.focus.x) : (y += D + r / 2 - b.focus.y);\r\n              break;\r\n            case Wt:\r\n              break;\r\n            default:\r\n              v(\"Unhandled alignment value \" + l.toString());\r\n          }\r\n          for (q = 0; q < g; q++)\r\n            (l = e[q]),\r\n              c\r\n                ? l.V.h(\r\n                    l.V.x + l.ja.x - n,\r\n                    l.V.y +\r\n                      (135 < d\r\n                        ? (h ? -D : -l.ya.height) + l.ja.y - k\r\n                        : z + k + l.ja.y)\r\n                  )\r\n                : l.V.h(\r\n                    l.V.x +\r\n                      (135 < d\r\n                        ? (h ? -B : -l.ya.width) + l.ja.x - k\r\n                        : m + k + l.ja.x),\r\n                    l.V.y + l.ja.y - y\r\n                  );\r\n          c\r\n            ? ((B = uu(b, B, n)),\r\n              0 > n && (n = 0),\r\n              135 < d && (y += D + k),\r\n              (D += z + k))\r\n            : (135 < d && (n += B + k),\r\n              (B += m + k),\r\n              (D = vu(b, D, y)),\r\n              0 > y && (y = 0));\r\n          b.ja.h(n, y);\r\n          b.ya.h(B, D);\r\n        }\r\n      }\r\n\r\n      function ku(a, b, c, d, e) {\r\n        F && w(a, yt, Y, \"layoutBusChildrenPosDir:v\");\r\n        var f = b.length;\r\n        if (0 === f) return new L(c, 0, d, e);\r\n        if (1 === f)\r\n          return (\r\n            (a = b[0]), (d = a.ya.width), (e = a.ya.height), new L(c, 0, d, e)\r\n          );\r\n        for (\r\n          var g = a.nodeSpacing,\r\n            h = a.rowSpacing,\r\n            k = 90 === bu(a),\r\n            l = 0,\r\n            m = 0,\r\n            n = 0,\r\n            p = 0;\r\n          p < f;\r\n          p++\r\n        )\r\n          if (!(0 !== p % 2 || (1 < f && p === f - 1))) {\r\n            var r = b[p],\r\n              q = r.ya,\r\n              u = 0 === l ? 0 : h;\r\n            if (k) {\r\n              var x = yu(r) - g;\r\n              r.V.h(c - (q.width + x), n + u);\r\n              d = Math.max(d, q.width + x);\r\n              e = Math.max(e, n + u + q.height);\r\n              n += u + q.height;\r\n            } else\r\n              (x = yu(r) - g),\r\n                r.V.h(m + u, c - (q.height + x)),\r\n                (e = Math.max(e, q.height + x)),\r\n                (d = Math.max(d, m + u + q.width)),\r\n                (m += u + q.width);\r\n            l++;\r\n          }\r\n        l = 0;\r\n        r = m;\r\n        p = n;\r\n        k ? ((m = c + g), (n = 0)) : ((m = 0), (n = c + g));\r\n        for (q = 0; q < f; q++)\r\n          if (0 !== q % 2) {\r\n            u = b[q];\r\n            x = u.ya;\r\n            var y = 0 === l ? 0 : h;\r\n            if (k) {\r\n              var z = yu(u) - g;\r\n              u.V.h(m + z, n + y);\r\n              d = Math.max(d, m + x.width + z);\r\n              e = Math.max(e, n + y + x.height);\r\n              n += y + x.height;\r\n            } else\r\n              (z = yu(u) - g),\r\n                u.V.h(m + y, n + z),\r\n                (d = Math.max(d, m + y + x.width)),\r\n                (e = Math.max(e, n + x.height + z)),\r\n                (m += y + x.width);\r\n            l++;\r\n          }\r\n        1 < f &&\r\n          1 === f % 2 &&\r\n          ((b = b[f - 1]),\r\n          (f = b.ya),\r\n          (h = zu(b)),\r\n          k\r\n            ? (b.V.h(c + g / 2 - b.focus.x - b.ja.x, e + h),\r\n              (k = c + g / 2 - b.focus.x - b.ja.x),\r\n              (d = Math.max(d, k + f.width)),\r\n              0 > k && (d -= k),\r\n              (e = Math.max(e, Math.max(p, n) + h + f.height)),\r\n              0 > b.V.x && (c = Au(a, b.V.x, !1, c, g)))\r\n            : (b.V.h(d + h, c + g / 2 - b.focus.y - b.ja.y),\r\n              (d = Math.max(d, Math.max(r, m) + h + f.width)),\r\n              (n = c + g / 2 - b.focus.y - b.ja.y),\r\n              (e = Math.max(e, n + f.height)),\r\n              0 > n && (e -= n),\r\n              0 > b.V.y && (c = Au(a, b.V.y, !0, c, g))));\r\n        return new L(c, 0, d, e);\r\n      }\r\n\r\n      function lu(a, b, c, d, e) {\r\n        F && w(a, yt, Y, \"layoutBusChildrenNegDir:v\");\r\n        var f = b.length;\r\n        if (0 === f) return new L(c, 0, d, e);\r\n        if (1 === f)\r\n          return (\r\n            (b = b[0]), (d = b.ya.width), (e = b.ya.height), new L(c, 0, d, e)\r\n          );\r\n        for (\r\n          var g = a.nodeSpacing,\r\n            h = a.rowSpacing,\r\n            k = 270 === bu(a),\r\n            l = 0,\r\n            m = 0,\r\n            n = 0,\r\n            p = 0;\r\n          p < f;\r\n          p++\r\n        )\r\n          if (!(0 !== p % 2 || (1 < f && p === f - 1))) {\r\n            var r = b[p],\r\n              q = r.ya,\r\n              u = 0 === l ? 0 : h;\r\n            if (k) {\r\n              var x = yu(r) - g;\r\n              n -= u + q.height;\r\n              r.V.h(c - (q.width + x), n);\r\n              d = Math.max(d, q.width + x);\r\n              e = Math.max(e, Math.abs(n));\r\n            } else\r\n              (x = yu(r) - g),\r\n                (m -= u + q.width),\r\n                r.V.h(m, c - (q.height + x)),\r\n                (e = Math.max(e, q.height + x)),\r\n                (d = Math.max(d, Math.abs(m)));\r\n            l++;\r\n          }\r\n        l = 0;\r\n        r = m;\r\n        p = n;\r\n        k ? ((m = c + g), (n = 0)) : ((m = 0), (n = c + g));\r\n        for (q = 0; q < f; q++)\r\n          if (0 !== q % 2) {\r\n            u = b[q];\r\n            x = u.ya;\r\n            var y = 0 === l ? 0 : h;\r\n            if (k) {\r\n              var z = yu(u) - g;\r\n              n -= y + x.height;\r\n              u.V.h(m + z, n);\r\n              d = Math.max(d, m + x.width + z);\r\n              e = Math.max(e, Math.abs(n));\r\n            } else\r\n              (z = yu(u) - g),\r\n                (m -= y + x.width),\r\n                u.V.h(m, n + z),\r\n                (e = Math.max(e, n + x.height + z)),\r\n                (d = Math.max(d, Math.abs(m)));\r\n            l++;\r\n          }\r\n        1 < f &&\r\n          1 === f % 2 &&\r\n          ((h = b[f - 1]),\r\n          (l = h.ya),\r\n          (q = zu(h)),\r\n          k\r\n            ? (h.V.h(c + g / 2 - h.focus.x - h.ja.x, -e - l.height - q),\r\n              (m = c + g / 2 - h.focus.x - h.ja.x),\r\n              (d = Math.max(d, m + l.width)),\r\n              0 > m && (d -= m),\r\n              (e = Math.max(e, Math.abs(Math.min(p, n)) + q + l.height)),\r\n              0 > h.V.x && (c = Au(a, h.V.x, !1, c, g)))\r\n            : (h.V.h(-d - l.width - q, c + g / 2 - h.focus.y - h.ja.y),\r\n              (d = Math.max(d, Math.abs(Math.min(r, m)) + q + l.width)),\r\n              (n = c + g / 2 - h.focus.y - h.ja.y),\r\n              (e = Math.max(e, n + l.height)),\r\n              0 > n && (e -= n),\r\n              0 > h.V.y && (c = Au(a, h.V.y, !0, c, g))));\r\n        for (a = 0; a < f; a++)\r\n          (g = b[a]), k ? g.V.h(g.V.x, g.V.y + e) : g.V.h(g.V.x + d, g.V.y);\r\n        return new L(c, 0, d, e);\r\n      }\r\n\r\n      function yu(a) {\r\n        F && w(a, yt, Y, \"fixRelativePostions:child\");\r\n        return null === a.parent ? 0 : a.parent.nodeSpacing;\r\n      }\r\n\r\n      function zu(a) {\r\n        F && w(a, yt, Y, \"fixRelativePostions:lastchild\");\r\n        return null === a.parent ? 0 : a.parent.rowSpacing;\r\n      }\r\n\r\n      function Au(a, b, c, d, e) {\r\n        F && w(a, yt, Y, \"fixRelativePostions:v\");\r\n        a = a.children;\r\n        for (var f = a.length, g = 0; g < f; g++)\r\n          c\r\n            ? a[g].V.h(a[g].V.x, a[g].V.y - b)\r\n            : a[g].V.h(a[g].V.x - b, a[g].V.y);\r\n        b = a[f - 1];\r\n        return Math.max(\r\n          d,\r\n          c ? b.ja.y + b.focus.y - e / 2 : b.ja.x + b.focus.x - e / 2\r\n        );\r\n      }\r\n\r\n      function uu(a, b, c) {\r\n        F && w(a, yt, Y, \"calculateSubwidth:v\");\r\n        switch (a.alignment) {\r\n          case tu:\r\n          case su:\r\n            return c + a.width > b && (b = c + a.width), 0 > c && (b -= c), b;\r\n          case cu:\r\n            return a.width > b ? a.width : b;\r\n          case du:\r\n            return 2 * a.focus.x > b ? a.width : b + a.width - 2 * a.focus.x;\r\n          case Ut:\r\n          case Kt:\r\n            return Math.max(a.width, Math.max(b, c + a.width) - Math.min(0, c));\r\n          case Vt:\r\n            return a.width - a.focus.x + a.nodeSpacing / 2 + b;\r\n          case Wt:\r\n            return Math.max(a.width, a.focus.x + a.nodeSpacing / 2 + b);\r\n          default:\r\n            return b;\r\n        }\r\n      }\r\n\r\n      function vu(a, b, c) {\r\n        F && w(a, yt, Y, \"calculateSubheight:v\");\r\n        switch (a.alignment) {\r\n          case tu:\r\n          case su:\r\n            return c + a.height > b && (b = c + a.height), 0 > c && (b -= c), b;\r\n          case cu:\r\n            return a.height > b ? a.height : b;\r\n          case du:\r\n            return 2 * a.focus.y > b ? a.height : b + a.height - 2 * a.focus.y;\r\n          case Ut:\r\n          case Kt:\r\n            return Math.max(\r\n              a.height,\r\n              Math.max(b, c + a.height) - Math.min(0, c)\r\n            );\r\n          case Vt:\r\n            return a.height - a.focus.y + a.nodeSpacing / 2 + b;\r\n          case Wt:\r\n            return Math.max(a.height, a.focus.y + a.nodeSpacing / 2 + b);\r\n          default:\r\n            return b;\r\n        }\r\n      }\r\n\r\n      function wu(a, b, c) {\r\n        F && w(a, E, Y, \"alignOffset:align\");\r\n        switch (a) {\r\n          case su:\r\n            b /= 2;\r\n            c /= 2;\r\n            break;\r\n          case tu:\r\n            b /= 2;\r\n            c /= 2;\r\n            break;\r\n          case cu:\r\n            c = b = 0;\r\n            break;\r\n          case du:\r\n            break;\r\n          default:\r\n            v(\"Unhandled alignment value \" + a.toString());\r\n        }\r\n        return new J(b, c);\r\n      }\r\n\r\n      function nu(a, b, c, d, e, f) {\r\n        F && w(a, yt, Y, \"shiftRelPosAlign:v\");\r\n        F && w(b, E, Y, \"shiftRelPosAlign:align\");\r\n        b = wu(b, c, d);\r\n        qu(a, b.x, b.y, e, f);\r\n      }\r\n\r\n      function qu(a, b, c, d, e) {\r\n        F && w(a, yt, Y, \"shiftRelPos:v\");\r\n        if (0 !== b || 0 !== c)\r\n          for (a = a.children; d <= e; d++) {\r\n            var f = a[d].V;\r\n            f.x += b;\r\n            f.y += c;\r\n          }\r\n      }\r\n\r\n      function ou(a, b, c, d) {\r\n        F &&\r\n          (w(b, yt, Y, \"recordMidPoints:v\"),\r\n          A(c, \"number\", Y, \"recordMidPoints:x\"),\r\n          A(d, \"number\", Y, \"recordMidPoints:y\"));\r\n        var e = b.parent;\r\n        switch (a.dd) {\r\n          case tt:\r\n            for (a = b.sourceEdges; a.next(); )\r\n              (b = a.value), b.fromVertex === e && b.relativePoint.h(c, d);\r\n            break;\r\n          case At:\r\n            for (a = b.destinationEdges; a.next(); )\r\n              (b = a.value), b.toVertex === e && b.relativePoint.h(c, d);\r\n            break;\r\n          default:\r\n            v(\"Unhandled path value \" + a.dd.toString());\r\n        }\r\n      }\r\n\r\n      function ru(a, b, c) {\r\n        for (var d = 0; d < a.length; d++) {\r\n          var e = a[d];\r\n          e.x += b;\r\n          e.y += c;\r\n        }\r\n      }\r\n\r\n      function pu(a, b, c, d, e, f, g, h) {\r\n        F && w(b, yt, Y, \"mergeFringes:parent\");\r\n        F && w(c, yt, Y, \"mergeFringes:child\");\r\n        var k = bu(b),\r\n          l = 90 === k || 270 === k,\r\n          m = b.nodeSpacing;\r\n        b = d;\r\n        var n = e;\r\n        d = f;\r\n        var p = g,\r\n          r = c.Bq,\r\n          q = c.Oq;\r\n        g = c.ya;\r\n        var u = l ? Math.max(p, g.height) : Math.max(d, g.width);\r\n        if (null === r || k !== bu(c))\r\n          (r = mu(a, 2)),\r\n            (q = mu(a, 2)),\r\n            l\r\n              ? (r[0].h(0, 0),\r\n                r[1].h(0, g.height),\r\n                q[0].h(g.width, 0),\r\n                q[1].h(q[0].x, r[1].y))\r\n              : (r[0].h(0, 0),\r\n                r[1].h(g.width, 0),\r\n                q[0].h(0, g.height),\r\n                q[1].h(r[1].x, q[0].y));\r\n        if (l) {\r\n          p = 9999999;\r\n          if (!(null === n || 2 > n.length || null === r || 2 > r.length))\r\n            for (e = c = 0; c < n.length && e < r.length; ) {\r\n              f = n[c];\r\n              var x = r[e];\r\n              k = x.x;\r\n              l = x.y;\r\n              k += d;\r\n              var y = f;\r\n              c + 1 < n.length && (y = n[c + 1]);\r\n              var z = x;\r\n              x = z.x;\r\n              z = z.y;\r\n              e + 1 < r.length &&\r\n                ((z = r[e + 1]), (x = z.x), (z = z.y), (x += d));\r\n              var B = p;\r\n              f.y === l\r\n                ? (B = k - f.x)\r\n                : f.y > l && f.y < z\r\n                ? (B = k + ((f.y - l) / (z - l)) * (x - k) - f.x)\r\n                : l > f.y &&\r\n                  l < y.y &&\r\n                  (B = k - (f.x + ((l - f.y) / (y.y - f.y)) * (y.x - f.x)));\r\n              B < p && (p = B);\r\n              y.y <= f.y\r\n                ? c++\r\n                : z <= l\r\n                ? e++\r\n                : (y.y <= z && c++, z <= y.y && e++);\r\n            }\r\n          p = d - p;\r\n          p += m;\r\n          c = r;\r\n          e = p;\r\n          if (null === b || 2 > b.length || null === c || 2 > c.length)\r\n            d = null;\r\n          else {\r\n            m = mu(a, b.length + c.length);\r\n            for (d = f = k = 0; f < c.length && c[f].y < b[0].y; )\r\n              (l = c[f++]), m[d++].h(l.x + e, l.y);\r\n            for (; k < b.length; ) (l = b[k++]), m[d++].h(l.x, l.y);\r\n            for (k = b[b.length - 1].y; f < c.length && c[f].y <= k; ) f++;\r\n            for (; f < c.length && c[f].y > k; )\r\n              (l = c[f++]), m[d++].h(l.x + e, l.y);\r\n            c = mu(a, d);\r\n            for (k = 0; k < d; k++) c[k].assign(m[k]);\r\n            xu(a, m);\r\n            d = c;\r\n          }\r\n          f = q;\r\n          k = p;\r\n          if (null === n || 2 > n.length || null === f || 2 > f.length)\r\n            e = null;\r\n          else {\r\n            m = mu(a, n.length + f.length);\r\n            for (e = l = c = 0; c < n.length && n[c].y < f[0].y; )\r\n              (y = n[c++]), m[e++].h(y.x, y.y);\r\n            for (; l < f.length; ) (y = f[l++]), m[e++].h(y.x + k, y.y);\r\n            for (f = f[f.length - 1].y; c < n.length && n[c].y <= f; ) c++;\r\n            for (; c < n.length && n[c].y > f; )\r\n              (k = n[c++]), m[e++].h(k.x, k.y);\r\n            f = mu(a, e);\r\n            for (c = 0; c < e; c++) f[c].assign(m[c]);\r\n            xu(a, m);\r\n            e = f;\r\n          }\r\n          f = Math.max(0, p) + g.width;\r\n          g = u;\r\n          xu(a, b);\r\n          xu(a, r);\r\n          xu(a, n);\r\n          xu(a, q);\r\n          h[0] = d;\r\n          h[1] = e;\r\n          return new L(p, 0, f, g);\r\n        }\r\n        d = 9999999;\r\n        if (!(null === n || 2 > n.length || null === r || 2 > r.length))\r\n          for (e = c = 0; c < n.length && e < r.length; )\r\n            (f = n[c]),\r\n              (x = r[e]),\r\n              (k = x.x),\r\n              (l = x.y),\r\n              (l += p),\r\n              (y = f),\r\n              c + 1 < n.length && (y = n[c + 1]),\r\n              (z = x),\r\n              (x = z.x),\r\n              (z = z.y),\r\n              e + 1 < r.length &&\r\n                ((z = r[e + 1]), (x = z.x), (z = z.y), (z += p)),\r\n              (B = d),\r\n              f.x === k\r\n                ? (B = l - f.y)\r\n                : f.x > k && f.x < x\r\n                ? (B = l + ((f.x - k) / (x - k)) * (z - l) - f.y)\r\n                : k > f.x &&\r\n                  k < y.x &&\r\n                  (B = l - (f.y + ((k - f.x) / (y.x - f.x)) * (y.y - f.y))),\r\n              B < d && (d = B),\r\n              y.x <= f.x\r\n                ? c++\r\n                : x <= k\r\n                ? e++\r\n                : (y.x <= x && c++, x <= y.x && e++);\r\n        p -= d;\r\n        p += m;\r\n        c = r;\r\n        e = p;\r\n        if (null === b || 2 > b.length || null === c || 2 > c.length) d = null;\r\n        else {\r\n          m = mu(a, b.length + c.length);\r\n          for (d = f = k = 0; f < c.length && c[f].x < b[0].x; )\r\n            (l = c[f++]), m[d++].h(l.x, l.y + e);\r\n          for (; k < b.length; ) (l = b[k++]), m[d++].h(l.x, l.y);\r\n          for (k = b[b.length - 1].x; f < c.length && c[f].x <= k; ) f++;\r\n          for (; f < c.length && c[f].x > k; )\r\n            (l = c[f++]), m[d++].h(l.x, l.y + e);\r\n          c = mu(a, d);\r\n          for (k = 0; k < d; k++) c[k].assign(m[k]);\r\n          xu(a, m);\r\n          d = c;\r\n        }\r\n        f = q;\r\n        k = p;\r\n        if (null === n || 2 > n.length || null === f || 2 > f.length) e = null;\r\n        else {\r\n          m = mu(a, n.length + f.length);\r\n          for (e = l = c = 0; c < n.length && n[c].x < f[0].x; )\r\n            (y = n[c++]), m[e++].h(y.x, y.y);\r\n          for (; l < f.length; ) (y = f[l++]), m[e++].h(y.x, y.y + k);\r\n          for (f = f[f.length - 1].x; c < n.length && n[c].x <= f; ) c++;\r\n          for (; c < n.length && n[c].x > f; ) (k = n[c++]), m[e++].h(k.x, k.y);\r\n          f = mu(a, e);\r\n          for (c = 0; c < e; c++) f[c].assign(m[c]);\r\n          xu(a, m);\r\n          e = f;\r\n        }\r\n        f = u;\r\n        g = Math.max(0, p) + g.height;\r\n        xu(a, b);\r\n        xu(a, r);\r\n        xu(a, n);\r\n        xu(a, q);\r\n        h[0] = d;\r\n        h[1] = e;\r\n        return new L(p, 0, f, g);\r\n      }\r\n\r\n      function mu(a, b) {\r\n        a = a.Vu[b];\r\n        if (void 0 !== a && ((a = a.pop()), void 0 !== a)) return a;\r\n        a = [];\r\n        for (var c = 0; c < b; c++) a[c] = new J();\r\n        return a;\r\n      }\r\n\r\n      function xu(a, b) {\r\n        var c = b.length,\r\n          d = a.Vu[c];\r\n        void 0 === d && ((d = []), (a.Vu[c] = d));\r\n        d.push(b);\r\n      }\r\n      Y.prototype.arrangeTrees = function () {\r\n        if (this.Hb === zt)\r\n          for (var a = this.Nb.iterator; a.next(); ) {\r\n            var b = a.value;\r\n            if (b instanceof yt) {\r\n              var c = b.node;\r\n              if (null !== c) {\r\n                var d = c.position;\r\n                c = d.x;\r\n                d = d.y;\r\n                isFinite(c) || (c = 0);\r\n                isFinite(d) || (d = 0);\r\n                Bu(this, b, c, d);\r\n              }\r\n            }\r\n          }\r\n        else {\r\n          a = [];\r\n          for (b = this.Nb.iterator; b.next(); )\r\n            (c = b.value), c instanceof yt && a.push(c);\r\n          switch (this.sorting) {\r\n            case Pt:\r\n              break;\r\n            case Qt:\r\n              a.reverse();\r\n              break;\r\n            case Rt:\r\n              a.sort(this.comparer);\r\n              break;\r\n            case St:\r\n              a.sort(this.comparer);\r\n              a.reverse();\r\n              break;\r\n            default:\r\n              v(\"Unhandled sorting value \" + this.sorting.toString());\r\n          }\r\n          c = this.arrangementOrigin;\r\n          b = c.x;\r\n          c = c.y;\r\n          for (d = 0; d < a.length; d++) {\r\n            var e = a[d];\r\n            Bu(this, e, b + e.ja.x, c + e.ja.y);\r\n            switch (this.Hb) {\r\n              case wt:\r\n                c += e.ya.height + this.Ed.height;\r\n                break;\r\n              case Cu:\r\n                b += e.ya.width + this.Ed.width;\r\n                break;\r\n              default:\r\n                v(\"Unhandled arrangement value \" + this.Hb.toString());\r\n            }\r\n          }\r\n        }\r\n      };\r\n\r\n      function Bu(a, b, c, d) {\r\n        if (null !== b) {\r\n          F && w(b, yt, Y, \"assignAbsolutePositions:v\");\r\n          b.x = c;\r\n          b.y = d;\r\n          b = b.children;\r\n          for (var e = b.length, f = 0; f < e; f++) {\r\n            var g = b[f];\r\n            Bu(a, g, c + g.V.x, d + g.V.y);\r\n          }\r\n        }\r\n      }\r\n      Y.prototype.commitLayout = function () {\r\n        this.iw();\r\n        this.commitNodes();\r\n        this.kv();\r\n        this.isRouting && this.commitLinks();\r\n      };\r\n      Y.prototype.commitNodes = function () {\r\n        for (var a = this.network.vertexes.iterator; a.next(); )\r\n          a.value.commit();\r\n        for (a.reset(); a.next(); ) this.layoutComments(a.value);\r\n      };\r\n      Y.prototype.kv = function () {\r\n        if (this.layerStyle === Ht) {\r\n          for (\r\n            var a = this.Kw,\r\n              b = [],\r\n              c = null,\r\n              d = this.network.vertexes.iterator;\r\n            d.next();\r\n\r\n          ) {\r\n            var e = d.value;\r\n            null === c ? (c = e.bounds.copy()) : c.Nc(e.bounds);\r\n            var f = b[e.level];\r\n            void 0 === f ? (f = iu(e)) : (f = Math.max(f, iu(e)));\r\n            b[e.level] = f;\r\n          }\r\n          for (d = 0; d < b.length; d++) void 0 === b[d] && (b[d] = 0);\r\n          90 === this.angle || 270 === this.angle\r\n            ? (c.$c(this.nodeSpacing / 2, this.layerSpacing),\r\n              (d = new J(-this.nodeSpacing / 2, -this.layerSpacing / 2)))\r\n            : (c.$c(this.layerSpacing, this.nodeSpacing / 2),\r\n              (d = new J(-this.layerSpacing / 2, -this.nodeSpacing / 2)));\r\n          e = [];\r\n          c = 90 === this.angle || 270 === this.angle ? c.width : c.height;\r\n          f = 0;\r\n          if (180 === this.angle || 270 === this.angle)\r\n            for (var g = 0; g < a.length; g++) f += a[g] + b[g];\r\n          for (g = 0; g < a.length; g++) {\r\n            var h = a[g] + b[g];\r\n            270 === this.angle\r\n              ? ((f -= h), e.push(new L(0, f, c, h)))\r\n              : 90 === this.angle\r\n              ? (e.push(new L(0, f, c, h)), (f += h))\r\n              : 180 === this.angle\r\n              ? ((f -= h), e.push(new L(f, 0, h, c)))\r\n              : (e.push(new L(f, 0, h, c)), (f += h));\r\n          }\r\n          this.commitLayers(e, d);\r\n        }\r\n      };\r\n      Y.prototype.commitLayers = function () {};\r\n      Y.prototype.commitLinks = function () {\r\n        for (var a = this.network.edges.iterator; a.next(); ) a.value.commit();\r\n      };\r\n      Y.prototype.iw = function () {\r\n        for (var a = this.Nb.iterator; a.next(); ) {\r\n          var b = a.value;\r\n          b instanceof yt && Du(this, b);\r\n        }\r\n      };\r\n\r\n      function Du(a, b) {\r\n        if (null !== b) {\r\n          F && w(b, yt, Y, \"setPortSpotsTree:v\");\r\n          a.setPortSpots(b);\r\n          b = b.children;\r\n          for (var c = b.length, d = 0; d < c; d++) Du(a, b[d]);\r\n        }\r\n      }\r\n      Y.prototype.setPortSpots = function (a) {\r\n        F && w(a, yt, Y, \"setPortSpots:v\");\r\n        var b = a.alignment;\r\n        if (Tt(b)) {\r\n          F && w(a, yt, Y, \"setPortSpotsBus:v\");\r\n          F && w(b, E, Y, \"setPortSpots:align\");\r\n          var c = this.dd === tt,\r\n            d = bu(a);\r\n          switch (d) {\r\n            case 0:\r\n              var e = rd;\r\n              break;\r\n            case 90:\r\n              e = sd;\r\n              break;\r\n            case 180:\r\n              e = qd;\r\n              break;\r\n            default:\r\n              e = pd;\r\n          }\r\n          var f = a.children,\r\n            g = f.length;\r\n          switch (b) {\r\n            case Ut:\r\n            case Kt:\r\n              for (b = 0; b < g; b++) {\r\n                var h = f[b];\r\n                h = (c ? h.sourceEdges : h.destinationEdges).first();\r\n                if (null !== h && ((h = h.link), null !== h)) {\r\n                  var k = 90 === d || 270 === d ? qd : pd;\r\n                  if (1 === g || (b === g - 1 && 1 === g % 2))\r\n                    switch (d) {\r\n                      case 0:\r\n                        k = qd;\r\n                        break;\r\n                      case 90:\r\n                        k = pd;\r\n                        break;\r\n                      case 180:\r\n                        k = rd;\r\n                        break;\r\n                      default:\r\n                        k = sd;\r\n                    }\r\n                  else 0 === b % 2 && (k = 90 === d || 270 === d ? rd : sd);\r\n                  c\r\n                    ? (a.setsPortSpot && (h.fromSpot = e),\r\n                      a.setsChildPortSpot && (h.toSpot = k))\r\n                    : (a.setsPortSpot && (h.fromSpot = k),\r\n                      a.setsChildPortSpot && (h.toSpot = e));\r\n                }\r\n              }\r\n              break;\r\n            case Vt:\r\n              d = 90 === d || 270 === d ? rd : sd;\r\n              for (f = c ? a.destinationEdges : a.sourceEdges; f.next(); )\r\n                (g = f.value.link),\r\n                  null !== g &&\r\n                    (c\r\n                      ? (a.setsPortSpot && (g.fromSpot = e),\r\n                        a.setsChildPortSpot && (g.toSpot = d))\r\n                      : (a.setsPortSpot && (g.fromSpot = d),\r\n                        a.setsChildPortSpot && (g.toSpot = e)));\r\n              break;\r\n            case Wt:\r\n              for (\r\n                d = 90 === d || 270 === d ? qd : pd,\r\n                  f = c ? a.destinationEdges : a.sourceEdges;\r\n                f.next();\r\n\r\n              )\r\n                (g = f.value.link),\r\n                  null !== g &&\r\n                    (c\r\n                      ? (a.setsPortSpot && (g.fromSpot = e),\r\n                        a.setsChildPortSpot && (g.toSpot = d))\r\n                      : (a.setsPortSpot && (g.fromSpot = d),\r\n                        a.setsChildPortSpot && (g.toSpot = e)));\r\n          }\r\n        } else if (((c = bu(a)), this.dd === tt))\r\n          for (e = a.destinationEdges; e.next(); ) {\r\n            if (((d = e.value.link), null !== d)) {\r\n              if (a.setsPortSpot)\r\n                if (a.portSpot.Gb())\r\n                  switch (c) {\r\n                    case 0:\r\n                      d.fromSpot = rd;\r\n                      break;\r\n                    case 90:\r\n                      d.fromSpot = sd;\r\n                      break;\r\n                    case 180:\r\n                      d.fromSpot = qd;\r\n                      break;\r\n                    default:\r\n                      d.fromSpot = pd;\r\n                  }\r\n                else d.fromSpot = a.portSpot;\r\n              if (a.setsChildPortSpot)\r\n                if (a.childPortSpot.Gb())\r\n                  switch (c) {\r\n                    case 0:\r\n                      d.toSpot = qd;\r\n                      break;\r\n                    case 90:\r\n                      d.toSpot = pd;\r\n                      break;\r\n                    case 180:\r\n                      d.toSpot = rd;\r\n                      break;\r\n                    default:\r\n                      d.toSpot = sd;\r\n                  }\r\n                else d.toSpot = a.childPortSpot;\r\n            }\r\n          }\r\n        else\r\n          for (e = a.sourceEdges; e.next(); )\r\n            if (((d = e.value.link), null !== d)) {\r\n              if (a.setsPortSpot)\r\n                if (a.portSpot.Gb())\r\n                  switch (c) {\r\n                    case 0:\r\n                      d.toSpot = rd;\r\n                      break;\r\n                    case 90:\r\n                      d.toSpot = sd;\r\n                      break;\r\n                    case 180:\r\n                      d.toSpot = qd;\r\n                      break;\r\n                    default:\r\n                      d.toSpot = pd;\r\n                  }\r\n                else d.toSpot = a.portSpot;\r\n              if (a.setsChildPortSpot)\r\n                if (a.childPortSpot.Gb())\r\n                  switch (c) {\r\n                    case 0:\r\n                      d.fromSpot = qd;\r\n                      break;\r\n                    case 90:\r\n                      d.fromSpot = pd;\r\n                      break;\r\n                    case 180:\r\n                      d.fromSpot = rd;\r\n                      break;\r\n                    default:\r\n                      d.fromSpot = sd;\r\n                  }\r\n                else d.fromSpot = a.childPortSpot;\r\n            }\r\n      };\r\n\r\n      function bu(a) {\r\n        a = a.angle;\r\n        return 45 >= a\r\n          ? 0\r\n          : 135 >= a\r\n          ? 90\r\n          : 225 >= a\r\n          ? 180\r\n          : 315 >= a\r\n          ? 270\r\n          : 0;\r\n      }\r\n\r\n      function iu(a) {\r\n        F && w(a, yt, Y, \"computeLayerSpacing:v\");\r\n        var b = bu(a);\r\n        b = 90 === b || 270 === b;\r\n        var c = a.layerSpacing;\r\n        if (0 < a.layerSpacingParentOverlap) {\r\n          var d = Math.min(1, a.layerSpacingParentOverlap);\r\n          c -= b ? a.height * d : a.width * d;\r\n        }\r\n        c < (b ? -a.height : -a.width) && (c = b ? -a.height : -a.width);\r\n        return c;\r\n      }\r\n\r\n      function ju(a) {\r\n        F && w(a, yt, Y, \"computeNodeIndent:v\");\r\n        var b = bu(a),\r\n          c = a.nodeIndent;\r\n        if (0 < a.nodeIndentPastParent) {\r\n          var d = Math.min(1, a.nodeIndentPastParent);\r\n          c += 90 === b || 270 === b ? a.width * d : a.height * d;\r\n        }\r\n        return (c = Math.max(0, c));\r\n      }\r\n      ma.Object.defineProperties(Y.prototype, {\r\n        roots: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Nb;\r\n          },\r\n          set: function (a) {\r\n            this.Nb !== a && (w(a, H, Y, \"roots\"), (this.Nb = a), this.D());\r\n          },\r\n        },\r\n        path: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.fp;\r\n          },\r\n          set: function (a) {\r\n            this.fp !== a && (hb(a, Y, Y, \"path\"), (this.fp = a), this.D());\r\n          },\r\n        },\r\n        treeStyle: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.aq;\r\n          },\r\n          set: function (a) {\r\n            this.Hb !== a &&\r\n              (hb(a, Y, Y, \"treeStyle\"),\r\n              a === ut || a === Nt || a === Ot || a === Mt) &&\r\n              ((this.aq = a), this.D());\r\n          },\r\n        },\r\n        layerStyle: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.gs;\r\n          },\r\n          set: function (a) {\r\n            this.Hb !== a &&\r\n              (hb(a, Y, Y, \"layerStyle\"), a === vt || a === It || a === Ht) &&\r\n              ((this.gs = a), this.D());\r\n          },\r\n        },\r\n        comments: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.bd;\r\n          },\r\n          set: function (a) {\r\n            this.bd !== a &&\r\n              (A(a, \"boolean\", Y, \"comments\"), (this.bd = a), this.D());\r\n          },\r\n        },\r\n        arrangement: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Hb;\r\n          },\r\n          set: function (a) {\r\n            this.Hb !== a &&\r\n              (hb(a, Y, Y, \"arrangement\"), a === wt || a === Cu || a === zt) &&\r\n              ((this.Hb = a), this.D());\r\n          },\r\n        },\r\n        arrangementSpacing: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.Ed;\r\n          },\r\n          set: function (a) {\r\n            w(a, Jb, Y, \"arrangementSpacing\");\r\n            this.Ed.B(a) || (this.Ed.assign(a), this.D());\r\n          },\r\n        },\r\n        rootDefaults: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.W;\r\n          },\r\n          set: function (a) {\r\n            this.W !== a &&\r\n              (w(a, yt, Y, \"rootDefaults\"), (this.W = a), this.D());\r\n          },\r\n        },\r\n        alternateDefaults: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Y;\r\n          },\r\n          set: function (a) {\r\n            this.Y !== a &&\r\n              (w(a, yt, Y, \"alternateDefaults\"), (this.Y = a), this.D());\r\n          },\r\n        },\r\n        sorting: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.W.sorting;\r\n          },\r\n          set: function (a) {\r\n            this.W.sorting !== a &&\r\n              (hb(a, Y, Y, \"sorting\"),\r\n              a === Pt || a === Qt || a === Rt || St) &&\r\n              ((this.W.sorting = a), this.D());\r\n          },\r\n        },\r\n        comparer: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.W.comparer;\r\n          },\r\n          set: function (a) {\r\n            this.W.comparer !== a &&\r\n              (A(a, \"function\", Y, \"comparer\"),\r\n              (this.W.comparer = a),\r\n              this.D());\r\n          },\r\n        },\r\n        angle: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.W.angle;\r\n          },\r\n          set: function (a) {\r\n            this.W.angle !== a &&\r\n              (A(a, \"number\", Y, \"angle\"),\r\n              0 === a || 90 === a || 180 === a || 270 === a\r\n                ? ((this.W.angle = a), this.D())\r\n                : v(\"TreeLayout.angle must be 0, 90, 180, or 270\"));\r\n          },\r\n        },\r\n        alignment: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.W.alignment;\r\n          },\r\n          set: function (a) {\r\n            this.W.alignment !== a &&\r\n              (hb(a, Y, Y, \"alignment\"), (this.W.alignment = a), this.D());\r\n          },\r\n        },\r\n        nodeIndent: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.W.nodeIndent;\r\n          },\r\n          set: function (a) {\r\n            this.W.nodeIndent !== a &&\r\n              (A(a, \"number\", Y, \"nodeIndent\"),\r\n              0 <= a && ((this.W.nodeIndent = a), this.D()));\r\n          },\r\n        },\r\n        nodeIndentPastParent: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.W.nodeIndentPastParent;\r\n          },\r\n          set: function (a) {\r\n            this.W.nodeIndentPastParent !== a &&\r\n              (A(a, \"number\", Y, \"nodeIndentPastParent\"),\r\n              0 <= a &&\r\n                1 >= a &&\r\n                ((this.W.nodeIndentPastParent = a), this.D()));\r\n          },\r\n        },\r\n        nodeSpacing: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.W.nodeSpacing;\r\n          },\r\n          set: function (a) {\r\n            this.W.nodeSpacing !== a &&\r\n              (A(a, \"number\", Y, \"nodeSpacing\"),\r\n              (this.W.nodeSpacing = a),\r\n              this.D());\r\n          },\r\n        },\r\n        layerSpacing: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.W.layerSpacing;\r\n          },\r\n          set: function (a) {\r\n            this.W.layerSpacing !== a &&\r\n              (A(a, \"number\", Y, \"layerSpacing\"),\r\n              (this.W.layerSpacing = a),\r\n              this.D());\r\n          },\r\n        },\r\n        layerSpacingParentOverlap: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.W.layerSpacingParentOverlap;\r\n          },\r\n          set: function (a) {\r\n            this.W.layerSpacingParentOverlap !== a &&\r\n              (A(a, \"number\", Y, \"layerSpacingParentOverlap\"),\r\n              0 <= a &&\r\n                1 >= a &&\r\n                ((this.W.layerSpacingParentOverlap = a), this.D()));\r\n          },\r\n        },\r\n        compaction: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.W.compaction;\r\n          },\r\n          set: function (a) {\r\n            this.W.compaction !== a &&\r\n              (hb(a, Y, Y, \"compaction\"), a === Zt || a === au) &&\r\n              ((this.W.compaction = a), this.D());\r\n          },\r\n        },\r\n        breadthLimit: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.W.breadthLimit;\r\n          },\r\n          set: function (a) {\r\n            this.W.breadthLimit !== a &&\r\n              (A(a, \"number\", Y, \"breadthLimit\"),\r\n              0 <= a && ((this.W.breadthLimit = a), this.D()));\r\n          },\r\n        },\r\n        rowSpacing: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.W.rowSpacing;\r\n          },\r\n          set: function (a) {\r\n            this.W.rowSpacing !== a &&\r\n              (A(a, \"number\", Y, \"rowSpacing\"),\r\n              (this.W.rowSpacing = a),\r\n              this.D());\r\n          },\r\n        },\r\n        rowIndent: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.W.rowIndent;\r\n          },\r\n          set: function (a) {\r\n            this.W.rowIndent !== a &&\r\n              (A(a, \"number\", Y, \"rowIndent\"),\r\n              0 <= a && ((this.W.rowIndent = a), this.D()));\r\n          },\r\n        },\r\n        commentSpacing: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.W.commentSpacing;\r\n          },\r\n          set: function (a) {\r\n            this.W.commentSpacing !== a &&\r\n              (A(a, \"number\", Y, \"commentSpacing\"),\r\n              (this.W.commentSpacing = a),\r\n              this.D());\r\n          },\r\n        },\r\n        commentMargin: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.W.commentMargin;\r\n          },\r\n          set: function (a) {\r\n            this.W.commentMargin !== a &&\r\n              (A(a, \"number\", Y, \"commentMargin\"),\r\n              (this.W.commentMargin = a),\r\n              this.D());\r\n          },\r\n        },\r\n        setsPortSpot: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.W.setsPortSpot;\r\n          },\r\n          set: function (a) {\r\n            this.W.setsPortSpot !== a &&\r\n              (A(a, \"boolean\", Y, \"setsPortSpot\"),\r\n              (this.W.setsPortSpot = a),\r\n              this.D());\r\n          },\r\n        },\r\n        portSpot: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.W.portSpot;\r\n          },\r\n          set: function (a) {\r\n            w(a, M, Y, \"portSpot\");\r\n            this.W.portSpot.B(a) || ((this.W.portSpot = a), this.D());\r\n          },\r\n        },\r\n        setsChildPortSpot: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.W.setsChildPortSpot;\r\n          },\r\n          set: function (a) {\r\n            this.W.setsChildPortSpot !== a &&\r\n              (A(a, \"boolean\", Y, \"setsChildPortSpot\"),\r\n              (this.W.setsChildPortSpot = a),\r\n              this.D());\r\n          },\r\n        },\r\n        childPortSpot: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.W.childPortSpot;\r\n          },\r\n          set: function (a) {\r\n            w(a, M, Y, \"childPortSpot\");\r\n            this.W.childPortSpot.B(a) || ((this.W.childPortSpot = a), this.D());\r\n          },\r\n        },\r\n        alternateSorting: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Y.sorting;\r\n          },\r\n          set: function (a) {\r\n            this.Y.sorting !== a &&\r\n              (hb(a, Y, Y, \"alternateSorting\"),\r\n              a === Pt || a === Qt || a === Rt || St) &&\r\n              ((this.Y.sorting = a), this.D());\r\n          },\r\n        },\r\n        alternateComparer: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Y.comparer;\r\n          },\r\n          set: function (a) {\r\n            this.Y.comparer !== a &&\r\n              (A(a, \"function\", Y, \"alternateComparer\"),\r\n              (this.Y.comparer = a),\r\n              this.D());\r\n          },\r\n        },\r\n        alternateAngle: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Y.angle;\r\n          },\r\n          set: function (a) {\r\n            this.Y.angle !== a &&\r\n              (A(a, \"number\", Y, \"alternateAngle\"),\r\n              0 === a || 90 === a || 180 === a || 270 === a) &&\r\n              ((this.Y.angle = a), this.D());\r\n          },\r\n        },\r\n        alternateAlignment: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Y.alignment;\r\n          },\r\n          set: function (a) {\r\n            this.Y.alignment !== a &&\r\n              (hb(a, Y, Y, \"alternateAlignment\"),\r\n              (this.Y.alignment = a),\r\n              this.D());\r\n          },\r\n        },\r\n        alternateNodeIndent: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Y.nodeIndent;\r\n          },\r\n          set: function (a) {\r\n            this.Y.nodeIndent !== a &&\r\n              (A(a, \"number\", Y, \"alternateNodeIndent\"),\r\n              0 <= a && ((this.Y.nodeIndent = a), this.D()));\r\n          },\r\n        },\r\n        alternateNodeIndentPastParent: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Y.nodeIndentPastParent;\r\n          },\r\n          set: function (a) {\r\n            this.Y.nodeIndentPastParent !== a &&\r\n              (A(a, \"number\", Y, \"alternateNodeIndentPastParent\"),\r\n              0 <= a &&\r\n                1 >= a &&\r\n                ((this.Y.nodeIndentPastParent = a), this.D()));\r\n          },\r\n        },\r\n        alternateNodeSpacing: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Y.nodeSpacing;\r\n          },\r\n          set: function (a) {\r\n            this.Y.nodeSpacing !== a &&\r\n              (A(a, \"number\", Y, \"alternateNodeSpacing\"),\r\n              (this.Y.nodeSpacing = a),\r\n              this.D());\r\n          },\r\n        },\r\n        alternateLayerSpacing: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Y.layerSpacing;\r\n          },\r\n          set: function (a) {\r\n            this.Y.layerSpacing !== a &&\r\n              (A(a, \"number\", Y, \"alternateLayerSpacing\"),\r\n              (this.Y.layerSpacing = a),\r\n              this.D());\r\n          },\r\n        },\r\n        alternateLayerSpacingParentOverlap: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Y.layerSpacingParentOverlap;\r\n          },\r\n          set: function (a) {\r\n            this.Y.layerSpacingParentOverlap !== a &&\r\n              (A(a, \"number\", Y, \"alternateLayerSpacingParentOverlap\"),\r\n              0 <= a &&\r\n                1 >= a &&\r\n                ((this.Y.layerSpacingParentOverlap = a), this.D()));\r\n          },\r\n        },\r\n        alternateCompaction: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Y.compaction;\r\n          },\r\n          set: function (a) {\r\n            this.Y.compaction !== a &&\r\n              (hb(a, Y, Y, \"alternateCompaction\"), a === Zt || a === au) &&\r\n              ((this.Y.compaction = a), this.D());\r\n          },\r\n        },\r\n        alternateBreadthLimit: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Y.breadthLimit;\r\n          },\r\n          set: function (a) {\r\n            this.Y.breadthLimit !== a &&\r\n              (A(a, \"number\", Y, \"alternateBreadthLimit\"),\r\n              0 <= a && ((this.Y.breadthLimit = a), this.D()));\r\n          },\r\n        },\r\n        alternateRowSpacing: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Y.rowSpacing;\r\n          },\r\n          set: function (a) {\r\n            this.Y.rowSpacing !== a &&\r\n              (A(a, \"number\", Y, \"alternateRowSpacing\"),\r\n              (this.Y.rowSpacing = a),\r\n              this.D());\r\n          },\r\n        },\r\n        alternateRowIndent: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Y.rowIndent;\r\n          },\r\n          set: function (a) {\r\n            this.Y.rowIndent !== a &&\r\n              (A(a, \"number\", Y, \"alternateRowIndent\"),\r\n              0 <= a && ((this.Y.rowIndent = a), this.D()));\r\n          },\r\n        },\r\n        alternateCommentSpacing: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Y.commentSpacing;\r\n          },\r\n          set: function (a) {\r\n            this.Y.commentSpacing !== a &&\r\n              (A(a, \"number\", Y, \"alternateCommentSpacing\"),\r\n              (this.Y.commentSpacing = a),\r\n              this.D());\r\n          },\r\n        },\r\n        alternateCommentMargin: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Y.commentMargin;\r\n          },\r\n          set: function (a) {\r\n            this.Y.commentMargin !== a &&\r\n              (A(a, \"number\", Y, \"alternateCommentMargin\"),\r\n              (this.Y.commentMargin = a),\r\n              this.D());\r\n          },\r\n        },\r\n        alternateSetsPortSpot: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Y.setsPortSpot;\r\n          },\r\n          set: function (a) {\r\n            this.Y.setsPortSpot !== a &&\r\n              (A(a, \"boolean\", Y, \"alternateSetsPortSpot\"),\r\n              (this.Y.setsPortSpot = a),\r\n              this.D());\r\n          },\r\n        },\r\n        alternatePortSpot: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.Y.portSpot;\r\n          },\r\n          set: function (a) {\r\n            w(a, M, Y, \"alternatePortSpot\");\r\n            this.Y.portSpot.B(a) || ((this.Y.portSpot = a), this.D());\r\n          },\r\n        },\r\n        alternateSetsChildPortSpot: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Y.setsChildPortSpot;\r\n          },\r\n          set: function (a) {\r\n            this.Y.setsChildPortSpot !== a &&\r\n              (A(a, \"boolean\", Y, \"alternateSetsChildPortSpot\"),\r\n              (this.Y.setsChildPortSpot = a),\r\n              this.D());\r\n          },\r\n        },\r\n        alternateChildPortSpot: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Y.childPortSpot;\r\n          },\r\n          set: function (a) {\r\n            w(a, M, Y, \"alternateChildPortSpot\");\r\n            this.Y.childPortSpot.B(a) || ((this.Y.childPortSpot = a), this.D());\r\n          },\r\n        },\r\n      });\r\n      var st = new E(Y, \"PathDefault\", -1),\r\n        tt = new E(Y, \"PathDestination\", 0),\r\n        At = new E(Y, \"PathSource\", 1),\r\n        Pt = new E(Y, \"SortingForwards\", 10),\r\n        Qt = new E(Y, \"SortingReverse\", 11),\r\n        Rt = new E(Y, \"SortingAscending\", 12),\r\n        St = new E(Y, \"SortingDescending\", 13),\r\n        su = new E(Y, \"AlignmentCenterSubtrees\", 20),\r\n        tu = new E(Y, \"AlignmentCenterChildren\", 21),\r\n        cu = new E(Y, \"AlignmentStart\", 22),\r\n        du = new E(Y, \"AlignmentEnd\", 23),\r\n        Ut = new E(Y, \"AlignmentBus\", 24),\r\n        Kt = new E(Y, \"AlignmentBusBranching\", 25),\r\n        Vt = new E(Y, \"AlignmentTopLeftBus\", 26),\r\n        Wt = new E(Y, \"AlignmentBottomRightBus\", 27),\r\n        Zt = new E(Y, \"CompactionNone\", 30),\r\n        au = new E(Y, \"CompactionBlock\", 31),\r\n        ut = new E(Y, \"StyleLayered\", 40),\r\n        Ot = new E(Y, \"StyleLastParents\", 41),\r\n        Nt = new E(Y, \"StyleAlternating\", 42),\r\n        Mt = new E(Y, \"StyleRootOnly\", 43),\r\n        wt = new E(Y, \"ArrangementVertical\", 50),\r\n        Cu = new E(Y, \"ArrangementHorizontal\", 51),\r\n        zt = new E(Y, \"ArrangementFixedRoots\", 52),\r\n        vt = new E(Y, \"LayerIndividual\", 60),\r\n        It = new E(Y, \"LayerSiblings\", 61),\r\n        Ht = new E(Y, \"LayerUniform\", 62);\r\n      Y.className = \"TreeLayout\";\r\n      Y.PathDefault = st;\r\n      Y.PathDestination = tt;\r\n      Y.PathSource = At;\r\n      Y.SortingForwards = Pt;\r\n      Y.SortingReverse = Qt;\r\n      Y.SortingAscending = Rt;\r\n      Y.SortingDescending = St;\r\n      Y.AlignmentCenterSubtrees = su;\r\n      Y.AlignmentCenterChildren = tu;\r\n      Y.AlignmentStart = cu;\r\n      Y.AlignmentEnd = du;\r\n      Y.AlignmentBus = Ut;\r\n      Y.AlignmentBusBranching = Kt;\r\n      Y.AlignmentTopLeftBus = Vt;\r\n      Y.AlignmentBottomRightBus = Wt;\r\n      Y.CompactionNone = Zt;\r\n      Y.CompactionBlock = au;\r\n      Y.StyleLayered = ut;\r\n      Y.StyleLastParents = Ot;\r\n      Y.StyleAlternating = Nt;\r\n      Y.StyleRootOnly = Mt;\r\n      Y.ArrangementVertical = wt;\r\n      Y.ArrangementHorizontal = Cu;\r\n      Y.ArrangementFixedRoots = zt;\r\n      Y.LayerIndividual = vt;\r\n      Y.LayerSiblings = It;\r\n      Y.LayerUniform = Ht;\r\n\r\n      function xt(a) {\r\n        hq.call(this, a);\r\n      }\r\n      la(xt, hq);\r\n      xt.prototype.createVertex = function () {\r\n        return new yt(this);\r\n      };\r\n      xt.prototype.createEdge = function () {\r\n        return new Eu(this);\r\n      };\r\n      xt.className = \"TreeNetwork\";\r\n\r\n      function yt(a) {\r\n        kq.call(this, a);\r\n        this.Oa = !1;\r\n        this.Oc = null;\r\n        this.L = [];\r\n        this.qd = this.fb = this.aa = this.Pa = 0;\r\n        this.bd = null;\r\n        this.V = new J(0, 0);\r\n        this.ya = new Jb(0, 0);\r\n        this.ja = new J(0, 0);\r\n        this.Qm = this.Pm = this.DA = !1;\r\n        this.Oq = this.Bq = null;\r\n        this.Wc = Pt;\r\n        this.Qc = rq;\r\n        this.ic = 0;\r\n        this.Bb = tu;\r\n        this.ss = this.rs = 0;\r\n        this.us = 20;\r\n        this.se = 50;\r\n        this.fs = 0;\r\n        this.rr = au;\r\n        this.jr = 0;\r\n        this.Es = 25;\r\n        this.qr = this.Ds = 10;\r\n        this.pr = 20;\r\n        this.Ns = !0;\r\n        this.As = kd;\r\n        this.Ms = !0;\r\n        this.mr = kd;\r\n      }\r\n      la(yt, kq);\r\n      yt.prototype.copyInheritedPropertiesFrom = function (a) {\r\n        null !== a &&\r\n          ((this.Wc = a.sorting),\r\n          (this.Qc = a.comparer),\r\n          (this.ic = a.angle),\r\n          (this.Bb = a.alignment),\r\n          (this.rs = a.nodeIndent),\r\n          (this.ss = a.nodeIndentPastParent),\r\n          (this.us = a.nodeSpacing),\r\n          (this.se = a.layerSpacing),\r\n          (this.fs = a.layerSpacingParentOverlap),\r\n          (this.rr = a.compaction),\r\n          (this.jr = a.breadthLimit),\r\n          (this.Es = a.rowSpacing),\r\n          (this.Ds = a.rowIndent),\r\n          (this.qr = a.commentSpacing),\r\n          (this.pr = a.commentMargin),\r\n          (this.Ns = a.setsPortSpot),\r\n          (this.As = a.portSpot),\r\n          (this.Ms = a.setsChildPortSpot),\r\n          (this.mr = a.childPortSpot));\r\n      };\r\n      ma.Object.defineProperties(yt.prototype, {\r\n        initialized: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Oa;\r\n          },\r\n          set: function (a) {\r\n            this.Oa !== a &&\r\n              (A(a, \"boolean\", yt, \"initialized\"), (this.Oa = a));\r\n          },\r\n        },\r\n        parent: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Oc;\r\n          },\r\n          set: function (a) {\r\n            this.Oc !== a &&\r\n              (F && null !== a && w(a, yt, yt, \"parent\"), (this.Oc = a));\r\n          },\r\n        },\r\n        children: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.L;\r\n          },\r\n          set: function (a) {\r\n            if (this.L !== a) {\r\n              null === a ||\r\n                Array.isArray(a) ||\r\n                xa(a, \"Array\", yt, \"children:value\");\r\n              if (null !== a)\r\n                for (var b = a.length, c = 0; c < b; c++) {\r\n                  var d = a[c];\r\n                  F && w(d, yt, yt, \"children\");\r\n                }\r\n              this.L = a;\r\n            }\r\n          },\r\n        },\r\n        level: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Pa;\r\n          },\r\n          set: function (a) {\r\n            this.Pa !== a && (A(a, \"number\", yt, \"level\"), (this.Pa = a));\r\n          },\r\n        },\r\n        descendantCount: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.aa;\r\n          },\r\n          set: function (a) {\r\n            this.aa !== a &&\r\n              (A(a, \"number\", yt, \"descendantCount\"), (this.aa = a));\r\n          },\r\n        },\r\n        maxChildrenCount: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.fb;\r\n          },\r\n          set: function (a) {\r\n            this.fb !== a &&\r\n              (A(a, \"number\", yt, \"maxChildrenCount\"), (this.fb = a));\r\n          },\r\n        },\r\n        maxGenerationCount: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.qd;\r\n          },\r\n          set: function (a) {\r\n            this.qd !== a &&\r\n              (A(a, \"number\", yt, \"maxGenerationCount\"), (this.qd = a));\r\n          },\r\n        },\r\n        comments: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.bd;\r\n          },\r\n          set: function (a) {\r\n            if (this.bd !== a) {\r\n              null === a ||\r\n                Array.isArray(a) ||\r\n                xa(a, \"Array\", yt, \"comments:value\");\r\n              if (null !== a)\r\n                for (var b = a.length, c = 0; c < b; c++) {\r\n                  var d = a[c];\r\n                  F && w(d, U, yt, \"comments\");\r\n                }\r\n              this.bd = a;\r\n            }\r\n          },\r\n        },\r\n        sorting: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Wc;\r\n          },\r\n          set: function (a) {\r\n            this.Wc !== a && (hb(a, Y, yt, \"sorting\"), (this.Wc = a));\r\n          },\r\n        },\r\n        comparer: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Qc;\r\n          },\r\n          set: function (a) {\r\n            this.Qc !== a && (A(a, \"function\", yt, \"comparer\"), (this.Qc = a));\r\n          },\r\n        },\r\n        angle: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ic;\r\n          },\r\n          set: function (a) {\r\n            this.ic !== a && (A(a, \"number\", yt, \"angle\"), (this.ic = a));\r\n          },\r\n        },\r\n        alignment: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Bb;\r\n          },\r\n          set: function (a) {\r\n            this.Bb !== a && (hb(a, Y, yt, \"alignment\"), (this.Bb = a));\r\n          },\r\n        },\r\n        nodeIndent: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.rs;\r\n          },\r\n          set: function (a) {\r\n            this.rs !== a && (A(a, \"number\", yt, \"nodeIndent\"), (this.rs = a));\r\n          },\r\n        },\r\n        nodeIndentPastParent: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ss;\r\n          },\r\n          set: function (a) {\r\n            this.ss !== a &&\r\n              (A(a, \"number\", yt, \"nodeIndentPastParent\"), (this.ss = a));\r\n          },\r\n        },\r\n        nodeSpacing: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.us;\r\n          },\r\n          set: function (a) {\r\n            this.us !== a && (A(a, \"number\", yt, \"nodeSpacing\"), (this.us = a));\r\n          },\r\n        },\r\n        layerSpacing: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.se;\r\n          },\r\n          set: function (a) {\r\n            this.se !== a &&\r\n              (A(a, \"number\", yt, \"layerSpacing\"), (this.se = a));\r\n          },\r\n        },\r\n        layerSpacingParentOverlap: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.fs;\r\n          },\r\n          set: function (a) {\r\n            this.fs !== a &&\r\n              (A(a, \"number\", yt, \"layerSpacingParentOverlap\"), (this.fs = a));\r\n          },\r\n        },\r\n        compaction: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.rr;\r\n          },\r\n          set: function (a) {\r\n            this.rr !== a && (hb(a, Y, yt, \"compaction\"), (this.rr = a));\r\n          },\r\n        },\r\n        breadthLimit: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.jr;\r\n          },\r\n          set: function (a) {\r\n            this.jr !== a &&\r\n              (A(a, \"number\", yt, \"breadthLimit\"), (this.jr = a));\r\n          },\r\n        },\r\n        rowSpacing: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Es;\r\n          },\r\n          set: function (a) {\r\n            this.Es !== a && (A(a, \"number\", yt, \"rowSpacing\"), (this.Es = a));\r\n          },\r\n        },\r\n        rowIndent: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ds;\r\n          },\r\n          set: function (a) {\r\n            this.Ds !== a && (A(a, \"number\", yt, \"rowIndent\"), (this.Ds = a));\r\n          },\r\n        },\r\n        commentSpacing: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.qr;\r\n          },\r\n          set: function (a) {\r\n            this.qr !== a &&\r\n              (A(a, \"number\", yt, \"commentSpacing\"), (this.qr = a));\r\n          },\r\n        },\r\n        commentMargin: {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          get: function () {\r\n            return this.pr;\r\n          },\r\n          set: function (a) {\r\n            this.pr !== a &&\r\n              (A(a, \"number\", yt, \"commentMargin\"), (this.pr = a));\r\n          },\r\n        },\r\n        setsPortSpot: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ns;\r\n          },\r\n          set: function (a) {\r\n            this.Ns !== a &&\r\n              (A(a, \"boolean\", yt, \"setsPortSpot\"), (this.Ns = a));\r\n          },\r\n        },\r\n        portSpot: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.As;\r\n          },\r\n          set: function (a) {\r\n            w(a, M, yt, \"portSpot\");\r\n            this.As.B(a) || (this.As = a);\r\n          },\r\n        },\r\n        setsChildPortSpot: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ms;\r\n          },\r\n          set: function (a) {\r\n            this.Ms !== a &&\r\n              (A(a, \"boolean\", yt, \"setsChildPortSpot\"), (this.Ms = a));\r\n          },\r\n        },\r\n        childPortSpot: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.mr;\r\n          },\r\n          set: function (a) {\r\n            w(a, M, yt, \"childPortSpot\");\r\n            this.mr.B(a) || (this.mr = a);\r\n          },\r\n        },\r\n        childrenCount: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.children.length;\r\n          },\r\n        },\r\n        relativePosition: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.V;\r\n          },\r\n          set: function (a) {\r\n            this.V.set(a);\r\n          },\r\n        },\r\n        subtreeSize: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ya;\r\n          },\r\n          set: function (a) {\r\n            this.ya.set(a);\r\n          },\r\n        },\r\n        subtreeOffset: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.ja;\r\n          },\r\n          set: function (a) {\r\n            this.ja.set(a);\r\n          },\r\n        },\r\n      });\r\n      yt.className = \"TreeVertex\";\r\n\r\n      function Eu(a) {\r\n        lq.call(this, a);\r\n        this.Ju = new J(0, 0);\r\n      }\r\n      la(Eu, lq);\r\n      Eu.prototype.commit = function () {\r\n        var a = this.link;\r\n        if (null !== a && !a.isAvoiding) {\r\n          var b = this.network.layout,\r\n            c = null,\r\n            d = null;\r\n          switch (b.dd) {\r\n            case tt:\r\n              c = this.fromVertex;\r\n              d = this.toVertex;\r\n              break;\r\n            case At:\r\n              c = this.toVertex;\r\n              d = this.fromVertex;\r\n              break;\r\n            default:\r\n              v(\"Unhandled path value \" + b.dd.toString());\r\n          }\r\n          if (null !== c && null !== d)\r\n            if (((b = this.Ju), 0 !== b.x || 0 !== b.y || c.DA)) {\r\n              d = c.bounds;\r\n              var e = bu(c),\r\n                f = iu(c),\r\n                g = c.rowSpacing;\r\n              a.qj();\r\n              var h = a.curve === Fg,\r\n                k = a.isOrthogonal,\r\n                l;\r\n              a.Sh();\r\n              if (k || h) {\r\n                for (l = 2; 4 < a.pointsCount; ) a.$v(2);\r\n                var m = a.i(1);\r\n                var n = a.i(2);\r\n              } else {\r\n                for (l = 1; 3 < a.pointsCount; ) a.$v(1);\r\n                m = a.i(0);\r\n                n = a.i(a.pointsCount - 1);\r\n              }\r\n              var p = a.i(a.pointsCount - 1);\r\n              0 === e\r\n                ? (c.alignment === du\r\n                    ? ((e = d.bottom + b.y),\r\n                      0 === b.y &&\r\n                        m.y > p.y + c.rowIndent &&\r\n                        (e = Math.min(e, Math.max(m.y, e - ju(c)))))\r\n                    : c.alignment === cu\r\n                    ? ((e = d.top + b.y),\r\n                      0 === b.y &&\r\n                        m.y < p.y - c.rowIndent &&\r\n                        (e = Math.max(e, Math.min(m.y, e + ju(c)))))\r\n                    : (e =\r\n                        c.Pm || (c.Qm && 1 === c.maxGenerationCount)\r\n                          ? d.top - c.ja.y + b.y\r\n                          : d.y + d.height / 2 + b.y),\r\n                  h\r\n                    ? (a.m(l, m.x, e),\r\n                      l++,\r\n                      a.m(l, d.right + f, e),\r\n                      l++,\r\n                      a.m(l, d.right + f + (b.x - g) / 3, e),\r\n                      l++,\r\n                      a.m(l, d.right + f + (2 * (b.x - g)) / 3, e),\r\n                      l++,\r\n                      a.m(l, d.right + f + (b.x - g), e),\r\n                      l++,\r\n                      a.m(l, n.x, e))\r\n                    : (k && (a.m(l, d.right + f / 2, m.y), l++),\r\n                      a.m(l, d.right + f / 2, e),\r\n                      l++,\r\n                      a.m(l, d.right + f + b.x - (k ? g / 2 : g), e),\r\n                      l++,\r\n                      k && a.m(l, a.i(l - 1).x, n.y)))\r\n                : 90 === e\r\n                ? (c.alignment === du\r\n                    ? ((e = d.right + b.x),\r\n                      0 === b.x &&\r\n                        m.x > p.x + c.rowIndent &&\r\n                        (e = Math.min(e, Math.max(m.x, e - ju(c)))))\r\n                    : c.alignment === cu\r\n                    ? ((e = d.left + b.x),\r\n                      0 === b.x &&\r\n                        m.x < p.x - c.rowIndent &&\r\n                        (e = Math.max(e, Math.min(m.x, e + ju(c)))))\r\n                    : (e =\r\n                        c.Pm || (c.Qm && 1 === c.maxGenerationCount)\r\n                          ? d.left - c.ja.x + b.x\r\n                          : d.x + d.width / 2 + b.x),\r\n                  h\r\n                    ? (a.m(l, e, m.y),\r\n                      l++,\r\n                      a.m(l, e, d.bottom + f),\r\n                      l++,\r\n                      a.m(l, e, d.bottom + f + (b.y - g) / 3),\r\n                      l++,\r\n                      a.m(l, e, d.bottom + f + (2 * (b.y - g)) / 3),\r\n                      l++,\r\n                      a.m(l, e, d.bottom + f + (b.y - g)),\r\n                      l++,\r\n                      a.m(l, e, n.y))\r\n                    : (k && (a.m(l, m.x, d.bottom + f / 2), l++),\r\n                      a.m(l, e, d.bottom + f / 2),\r\n                      l++,\r\n                      a.m(l, e, d.bottom + f + b.y - (k ? g / 2 : g)),\r\n                      l++,\r\n                      k && a.m(l, n.x, a.i(l - 1).y)))\r\n                : 180 === e\r\n                ? (c.alignment === du\r\n                    ? ((e = d.bottom + b.y),\r\n                      0 === b.y &&\r\n                        m.y > p.y + c.rowIndent &&\r\n                        (e = Math.min(e, Math.max(m.y, e - ju(c)))))\r\n                    : c.alignment === cu\r\n                    ? ((e = d.top + b.y),\r\n                      0 === b.y &&\r\n                        m.y < p.y - c.rowIndent &&\r\n                        (e = Math.max(e, Math.min(m.y, e + ju(c)))))\r\n                    : (e =\r\n                        c.Pm || (c.Qm && 1 === c.maxGenerationCount)\r\n                          ? d.top - c.ja.y + b.y\r\n                          : d.y + d.height / 2 + b.y),\r\n                  h\r\n                    ? (a.m(l, m.x, e),\r\n                      l++,\r\n                      a.m(l, d.left - f, e),\r\n                      l++,\r\n                      a.m(l, d.left - f + (b.x + g) / 3, e),\r\n                      l++,\r\n                      a.m(l, d.left - f + (2 * (b.x + g)) / 3, e),\r\n                      l++,\r\n                      a.m(l, d.left - f + (b.x + g), e),\r\n                      l++,\r\n                      a.m(l, n.x, e))\r\n                    : (k && (a.m(l, d.left - f / 2, m.y), l++),\r\n                      a.m(l, d.left - f / 2, e),\r\n                      l++,\r\n                      a.m(l, d.left - f + b.x + (k ? g / 2 : g), e),\r\n                      l++,\r\n                      k && a.m(l, a.i(l - 1).x, n.y)))\r\n                : 270 === e\r\n                ? (c.alignment === du\r\n                    ? ((e = d.right + b.x),\r\n                      0 === b.x &&\r\n                        m.x > p.x + c.rowIndent &&\r\n                        (e = Math.min(e, Math.max(m.x, e - ju(c)))))\r\n                    : c.alignment === cu\r\n                    ? ((e = d.left + b.x),\r\n                      0 === b.x &&\r\n                        m.x < p.x - c.rowIndent &&\r\n                        (e = Math.max(e, Math.min(m.x, e + ju(c)))))\r\n                    : (e =\r\n                        c.Pm || (c.Qm && 1 === c.maxGenerationCount)\r\n                          ? d.left - c.ja.x + b.x\r\n                          : d.x + d.width / 2 + b.x),\r\n                  h\r\n                    ? (a.m(l, e, m.y),\r\n                      l++,\r\n                      a.m(l, e, d.top - f),\r\n                      l++,\r\n                      a.m(l, e, d.top - f + (b.y + g) / 3),\r\n                      l++,\r\n                      a.m(l, e, d.top - f + (2 * (b.y + g)) / 3),\r\n                      l++,\r\n                      a.m(l, e, d.top - f + (b.y + g)),\r\n                      l++,\r\n                      a.m(l, e, n.y))\r\n                    : (k && (a.m(l, m.x, d.top - f / 2), l++),\r\n                      a.m(l, e, d.top - f / 2),\r\n                      l++,\r\n                      a.m(l, e, d.top - f + b.y + (k ? g / 2 : g)),\r\n                      l++,\r\n                      k && a.m(l, n.x, a.i(l - 1).y)))\r\n                : v(\"Invalid angle \" + e);\r\n              a.zf();\r\n            } else\r\n              (b = d),\r\n                F && w(c, yt, Eu, \"adjustRouteForAngleChange:parent\"),\r\n                F && w(b, yt, Eu, \"adjustRouteForAngleChange:child\"),\r\n                (a = this.link),\r\n                (f = bu(c)),\r\n                f !== bu(b) &&\r\n                  ((g = iu(c)),\r\n                  (h = c.bounds),\r\n                  (c = b.bounds),\r\n                  (0 === f && c.left - h.right < g + 1) ||\r\n                    (90 === f && c.top - h.bottom < g + 1) ||\r\n                    (180 === f && h.left - c.right < g + 1) ||\r\n                    (270 === f && h.top - c.bottom < g + 1) ||\r\n                    (a.qj(),\r\n                    (c = a.curve === Fg),\r\n                    (b = a.isOrthogonal),\r\n                    (d = Tt(this.fromVertex.alignment)),\r\n                    a.Sh(),\r\n                    0 === f\r\n                      ? ((f = h.right + g / 2),\r\n                        c\r\n                          ? 4 === a.pointsCount &&\r\n                            ((c = a.i(3).y),\r\n                            a.N(1, f - 20, a.i(1).y),\r\n                            a.m(2, f - 20, c),\r\n                            a.m(3, f, c),\r\n                            a.m(4, f + 20, c),\r\n                            a.N(5, a.i(5).x, c))\r\n                          : b\r\n                          ? d\r\n                            ? a.N(3, a.i(2).x, a.i(4).y)\r\n                            : 6 === a.pointsCount &&\r\n                              (a.N(2, f, a.i(2).y), a.N(3, f, a.i(3).y))\r\n                          : 4 === a.pointsCount\r\n                          ? a.m(2, f, a.i(2).y)\r\n                          : 3 === a.pointsCount\r\n                          ? a.N(1, f, a.i(2).y)\r\n                          : 2 === a.pointsCount && a.m(1, f, a.i(1).y))\r\n                      : 90 === f\r\n                      ? ((f = h.bottom + g / 2),\r\n                        c\r\n                          ? 4 === a.pointsCount &&\r\n                            ((c = a.i(3).x),\r\n                            a.N(1, a.i(1).x, f - 20),\r\n                            a.m(2, c, f - 20),\r\n                            a.m(3, c, f),\r\n                            a.m(4, c, f + 20),\r\n                            a.N(5, c, a.i(5).y))\r\n                          : b\r\n                          ? d\r\n                            ? a.N(3, a.i(2).x, a.i(4).y)\r\n                            : 6 === a.pointsCount &&\r\n                              (a.N(2, a.i(2).x, f), a.N(3, a.i(3).x, f))\r\n                          : 4 === a.pointsCount\r\n                          ? a.m(2, a.i(2).x, f)\r\n                          : 3 === a.pointsCount\r\n                          ? a.N(1, a.i(2).x, f)\r\n                          : 2 === a.pointsCount && a.m(1, a.i(1).x, f))\r\n                      : 180 === f\r\n                      ? ((f = h.left - g / 2),\r\n                        c\r\n                          ? 4 === a.pointsCount &&\r\n                            ((c = a.i(3).y),\r\n                            a.N(1, f + 20, a.i(1).y),\r\n                            a.m(2, f + 20, c),\r\n                            a.m(3, f, c),\r\n                            a.m(4, f - 20, c),\r\n                            a.N(5, a.i(5).x, c))\r\n                          : b\r\n                          ? d\r\n                            ? a.N(3, a.i(2).x, a.i(4).y)\r\n                            : 6 === a.pointsCount &&\r\n                              (a.N(2, f, a.i(2).y), a.N(3, f, a.i(3).y))\r\n                          : 4 === a.pointsCount\r\n                          ? a.m(2, f, a.i(2).y)\r\n                          : 3 === a.pointsCount\r\n                          ? a.N(1, f, a.i(2).y)\r\n                          : 2 === a.pointsCount && a.m(1, f, a.i(1).y))\r\n                      : 270 === f &&\r\n                        ((f = h.top - g / 2),\r\n                        c\r\n                          ? 4 === a.pointsCount &&\r\n                            ((c = a.i(3).x),\r\n                            a.N(1, a.i(1).x, f + 20),\r\n                            a.m(2, c, f + 20),\r\n                            a.m(3, c, f),\r\n                            a.m(4, c, f - 20),\r\n                            a.N(5, c, a.i(5).y))\r\n                          : b\r\n                          ? d\r\n                            ? a.N(3, a.i(2).x, a.i(4).y)\r\n                            : 6 === a.pointsCount &&\r\n                              (a.N(2, a.i(2).x, f), a.N(3, a.i(3).x, f))\r\n                          : 4 === a.pointsCount\r\n                          ? a.m(2, a.i(2).x, f)\r\n                          : 3 === a.pointsCount\r\n                          ? a.N(1, a.i(2).x, f)\r\n                          : 2 === a.pointsCount && a.m(1, a.i(1).x, f)),\r\n                    a.zf()));\r\n        }\r\n      };\r\n      ma.Object.defineProperties(Eu.prototype, {\r\n        relativePoint: {\r\n          configurable: !0,\r\n          get: function () {\r\n            return this.Ju;\r\n          },\r\n          set: function (a) {\r\n            this.Ju.set(a);\r\n          },\r\n        },\r\n      });\r\n      Eu.className = \"TreeEdge\";\r\n      Sa.prototype.initializeStandardTools = function () {\r\n        this.ab(\"Action\", new Tg(), this.mouseDownTools);\r\n        this.ab(\"Relinking\", new kf(), this.mouseDownTools);\r\n        this.ab(\"LinkReshaping\", new rg(), this.mouseDownTools);\r\n        this.ab(\"Rotating\", new Rg(), this.mouseDownTools);\r\n        this.ab(\"Resizing\", new Kg(), this.mouseDownTools);\r\n        this.ab(\"Linking\", new kg(), this.mouseMoveTools);\r\n        this.ab(\"Dragging\", new bf(), this.mouseMoveTools);\r\n        this.ab(\"DragSelecting\", new Wg(), this.mouseMoveTools);\r\n        this.ab(\"Panning\", new Xg(), this.mouseMoveTools);\r\n        this.ab(\"ContextMenu\", new Zg(), this.mouseUpTools);\r\n        this.ab(\"TextEditing\", new jh(), this.mouseUpTools);\r\n        this.ab(\"ClickCreating\", new Ug(), this.mouseUpTools);\r\n        this.ab(\"ClickSelecting\", new Sg(), this.mouseUpTools);\r\n      };\r\n      Gn(\"Horizontal\", new Nm());\r\n      Gn(\"Spot\", new Pm());\r\n      Gn(\"Table\", new Tm());\r\n      Gn(\"Viewbox\", new Ym());\r\n      Gn(\"TableRow\", new Wm());\r\n      Gn(\"TableColumn\", new Xm());\r\n      Gn(\"Graduated\", new hn());\r\n      Gn(\"Grid\", new Zm());\r\n      Fi.add(ur.type, Kq);\r\n      Fi.add(zr.type, Yq);\r\n      var Fu = pa.go,\r\n        Gu = {\r\n          get licenseKey() {\r\n            return P.licenseKey;\r\n          },\r\n          set licenseKey(a) {\r\n            P.licenseKey = a;\r\n          },\r\n          get version() {\r\n            return P.version;\r\n          },\r\n          Group: Kf,\r\n          EnumValue: E,\r\n          List: G,\r\n          Set: H,\r\n          Map: Db,\r\n          Point: J,\r\n          Size: Jb,\r\n          Rect: L,\r\n          Margin: lc,\r\n          Spot: M,\r\n          Geometry: Gd,\r\n          PathFigure: se,\r\n          PathSegment: te,\r\n          InputEvent: ve,\r\n          DiagramEvent: xe,\r\n          ChangedEvent: Ce,\r\n          Model: X,\r\n          GraphLinksModel: ur,\r\n          TreeModel: zr,\r\n          Binding: Yi,\r\n          Transaction: He,\r\n          UndoManager: Ie,\r\n          CommandHandler: fl,\r\n          Tool: Ke,\r\n          DraggingTool: bf,\r\n          DraggingInfo: lf,\r\n          LinkingBaseTool: Zf,\r\n          LinkingTool: kg,\r\n          RelinkingTool: kf,\r\n          LinkReshapingTool: rg,\r\n          ResizingTool: Kg,\r\n          RotatingTool: Rg,\r\n          ClickSelectingTool: Sg,\r\n          ActionTool: Tg,\r\n          ClickCreatingTool: Ug,\r\n          HTMLInfo: $e,\r\n          ContextMenuTool: Zg,\r\n          DragSelectingTool: Wg,\r\n          PanningTool: Xg,\r\n          TextEditingTool: jh,\r\n          ToolManager: Sa,\r\n          Animation: Mh,\r\n          AnimationManager: Ah,\r\n          AnimationTrigger: ni,\r\n          Layer: si,\r\n          Diagram: P,\r\n          Palette: $k,\r\n          Overview: bl,\r\n          Brush: Il,\r\n          GraphObject: N,\r\n          Panel: V,\r\n          RowColumnDefinition: hk,\r\n          Shape: $f,\r\n          TextBlock: kh,\r\n          TextBlockMetrics: Co,\r\n          Picture: Ak,\r\n          Part: S,\r\n          Adornment: Pe,\r\n          Node: U,\r\n          Link: Q,\r\n          Placeholder: Mg,\r\n          Layout: Si,\r\n          LayoutNetwork: hq,\r\n          LayoutVertex: kq,\r\n          LayoutEdge: lq,\r\n          GridLayout: al,\r\n          PanelLayout: cm,\r\n          CircularLayout: Ar,\r\n          CircularNetwork: Rr,\r\n          CircularVertex: ds,\r\n          CircularEdge: es,\r\n          ForceDirectedLayout: fs,\r\n          ForceDirectedNetwork: gs,\r\n          ForceDirectedVertex: qs,\r\n          ForceDirectedEdge: us,\r\n          LayeredDigraphLayout: vs,\r\n          LayeredDigraphNetwork: As,\r\n          LayeredDigraphVertex: qt,\r\n          LayeredDigraphEdge: rt,\r\n          TreeLayout: Y,\r\n          TreeNetwork: xt,\r\n          TreeVertex: yt,\r\n          TreeEdge: Eu,\r\n        };\r\n      Fu &&\r\n        Fu.version !== Gu.version &&\r\n        v(\r\n          \"WARNING: a `go` object on the root object is already defined with a version mismatch.\" +\r\n            Fu.version +\r\n            \". Replaced with version: \" +\r\n            Gu.version\r\n        );\r\n      pa.go = Gu;\r\n      (\"undefined\" === typeof pa ||\r\n        \"undefined\" === typeof pa.module ||\r\n        \"object\" !== typeof pa.module.exports) &&\r\n        pa.define &&\r\n        \"function\" === typeof pa.define &&\r\n        pa.define.amd &&\r\n        pa.define(Gu);\r\n      Gu.Debug = F;\r\n      F.Xy(Gu);\r\n      \"undefined\" !== typeof module &&\r\n        \"object\" === typeof module.exports &&\r\n        (module.exports = \"undefined\" !== typeof global ? global.go : self.go);\r\n    })();\r\n  },\r\n};\r\n\r\nfunction init() {\r\n  const $ = go.GraphObject.make; // for conciseness in defining templates\r\n\r\n  var yellowgrad = $(go.Brush, \"Linear\", {\r\n    0: \"#bde0fe\",\r\n    1: \"#bde0fe\",\r\n  });\r\n  var greengrad = $(go.Brush, \"Linear\", {\r\n    0: \"#fdffb6\",\r\n    1: \"#fdffb6\",\r\n  });\r\n  var bluegrad = $(go.Brush, \"Linear\", {\r\n    0: \"#caffbf\",\r\n    1: \"#caffbf\",\r\n  });\r\n  var redgrad = $(go.Brush, \"Linear\", {\r\n    0: \"#ffadad\",\r\n    1: \"#ffadad\",\r\n  });\r\n  var whitegrad = $(go.Brush, \"Linear\", {\r\n    0: \"#E7C5FC\",\r\n    1: \"#E7C5FC\",\r\n  });\r\n\r\n  var bigfont = \"bold 15pt Helvetica, Arial, sans-serif\";\r\n  var smallfont = \"bold 13pt Helvetica, Arial, sans-serif\";\r\n\r\n  // Common text styling\r\n  function textStyle() {\r\n    return {\r\n      margin: 6,\r\n      wrap: go.TextBlock.WrapFit,\r\n      textAlign: \"center\",\r\n      editable: true,\r\n      font: bigfont,\r\n    };\r\n  }\r\n\r\n  myDiagram = $(go.Diagram, \"myDiagramDiv\", {\r\n    // // have mouse wheel events zoom in and out instead of scroll up and down\r\n    //\"toolManager.mouseWheelBehavior\": go.ToolManager.WheelZoom,\r\n    initialAutoScale: go.Diagram.Uniform,\r\n    \"linkingTool.direction\": go.LinkingTool.ForwardsOnly,\r\n    layout: $(go.LayeredDigraphLayout, {\r\n      isInitial: false,\r\n      isOngoing: false,\r\n      layerSpacing: 50,\r\n    }),\r\n    \"undoManager.isEnabled\": true,\r\n  });\r\n\r\n  var nodeSelectionAdornmentTemplate = $(\r\n    go.Adornment,\r\n    \"Auto\",\r\n    $(go.Shape, {\r\n      fill: null,\r\n      stroke: \"#979dac\",\r\n      strokeWidth: 2,\r\n      strokeDashArray: [4, 2],\r\n    }),\r\n    $(go.Placeholder)\r\n  );\r\n\r\n  // define the Node template\r\n  myDiagram.nodeTemplate = $(\r\n    go.Node,\r\n    \"Auto\",\r\n    {\r\n      locationSpot: go.Spot.Center,\r\n    },\r\n    new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\r\n      go.Point.stringify\r\n    ),\r\n    {\r\n      selectable: true,\r\n      selectionAdornmentTemplate: nodeSelectionAdornmentTemplate,\r\n    },\r\n    // define the node's outer shape, which will surround the TextBlock\r\n    $(go.Shape, \"Rectangle\", {\r\n      fill: yellowgrad,\r\n      stroke: null,\r\n      portId: \"\",\r\n      fromLinkable: true,\r\n      toLinkable: true,\r\n      cursor: \"pointer\",\r\n      toEndSegmentLength: 50,\r\n      fromEndSegmentLength: 50,\r\n    }),\r\n    $(\r\n      go.TextBlock,\r\n      \"ReLU\",\r\n      {\r\n        margin: 6,\r\n        font: bigfont,\r\n        editable: true,\r\n        minSize: new go.Size(40, NaN),\r\n      },\r\n      new go.Binding(\"text\", \"text\").makeTwoWay()\r\n    )\r\n  );\r\n\r\n  // Data\r\n  myDiagram.nodeTemplateMap.add(\r\n    \"Data\",\r\n    $(\r\n      go.Node,\r\n      \"Auto\",\r\n      {\r\n        locationSpot: go.Spot.Center,\r\n        margin: new go.Margin(0, 0, 0, 0),\r\n      },\r\n      new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\r\n        go.Point.stringify\r\n      ),\r\n      {\r\n        selectable: true,\r\n        selectionAdornmentTemplate: nodeSelectionAdornmentTemplate,\r\n      },\r\n      $(go.Shape, \"Circle\", {\r\n        fill: bluegrad,\r\n        portId: \"\",\r\n        fromLinkable: true,\r\n        cursor: \"pointer\",\r\n        //fromEndSegmentLength: 40,\r\n        stroke: \"#74c69d\",\r\n\r\n        strokeWidth: 4,\r\n      }),\r\n      $(\r\n        go.TextBlock,\r\n        \"Data\",\r\n        textStyle(),\r\n        {\r\n          stroke: \"#2d6a4f\",\r\n          minSize: new go.Size(40, NaN),\r\n        },\r\n        new go.Binding(\"text\", \"text\").makeTwoWay()\r\n      )\r\n    )\r\n  );\r\n\r\n  myDiagram.nodeTemplateMap.add(\r\n    \"End\",\r\n    $(\r\n      go.Node,\r\n      \"Auto\",\r\n      {\r\n        locationSpot: go.Spot.Center,\r\n      },\r\n      new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\r\n        go.Point.stringify\r\n      ),\r\n      {\r\n        selectable: true,\r\n        selectionAdornmentTemplate: nodeSelectionAdornmentTemplate,\r\n      },\r\n      $(go.Shape, \"Circle\", {\r\n        fill: redgrad,\r\n        portId: \"\",\r\n        toLinkable: true,\r\n        cursor: \"pointer\",\r\n        fromEndSegmentLength: 40,\r\n        stroke: \"#df7373\",\r\n        strokeWidth: 4,\r\n      }),\r\n      $(\r\n        go.TextBlock,\r\n        \"End\",\r\n        textStyle(),\r\n        {\r\n          stroke: \"#ad2e24\",\r\n          minSize: new go.Size(40, NaN),\r\n        },\r\n        new go.Binding(\"text\", \"text\").makeTwoWay()\r\n      )\r\n    )\r\n  );\r\n\r\n  myDiagram.nodeTemplateMap.add(\r\n    \"ReLU\",\r\n    $(\r\n      go.Node,\r\n      \"Auto\",\r\n      {\r\n        locationSpot: go.Spot.Center,\r\n      },\r\n      new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\r\n        go.Point.stringify\r\n      ),\r\n      {\r\n        selectable: true,\r\n        selectionAdornmentTemplate: nodeSelectionAdornmentTemplate,\r\n      },\r\n      $(go.Shape, \"Ellipse\", {\r\n        fill: greengrad,\r\n        portId: \"\",\r\n        fromLinkable: true,\r\n        toLinkable: true,\r\n        cursor: \"pointer\",\r\n        fromEndSegmentLength: 40,\r\n        stroke: \"#ffd100\",\r\n        strokeWidth: 4,\r\n      }),\r\n      $(\r\n        go.TextBlock,\r\n        \"ReLU\",\r\n        textStyle(),\r\n        {\r\n          stroke: \"#e2711d\",\r\n          // locationSpot: go.Spot.Center,\r\n          //margin: new go.Margin(10, 0, 0, 0),\r\n          minSize: new go.Size(60, NaN),\r\n        },\r\n        new go.Binding(\"text\", \"text\").makeTwoWay()\r\n      )\r\n    )\r\n  );\r\n\r\n  var reasonTemplate = $(\r\n    go.Panel,\r\n    $(\r\n      go.Panel,\r\n      \"Table\",\r\n      {\r\n        maxSize: new go.Size(200, 999),\r\n        margin: new go.Margin(0, 3, 10, 3),\r\n        defaultAlignment: go.Spot.Center,\r\n      },\r\n      $(go.RowColumnDefinition, {\r\n        column: 2,\r\n        width: 2,\r\n      }),\r\n      $(\r\n        go.TextBlock,\r\n        \"input = \",\r\n        {\r\n          margin: new go.Margin(4, 0, 0, 0),\r\n          maxSize: new go.Size(200, NaN),\r\n          wrap: go.TextBlock.WrapFit,\r\n          //stroke: \"whitesmoke\",\r\n          editable: true,\r\n          font: smallfont,\r\n          row: 2,\r\n          column: 0,\r\n          stroke: \"#3e5c76\",\r\n        },\r\n        new go.Binding(\"text\", \"text0\").makeTwoWay()\r\n      ),\r\n\r\n      $(\r\n        go.TextBlock,\r\n        \"value\",\r\n        {\r\n          margin: new go.Margin(4, 0, 0, 0),\r\n          maxSize: new go.Size(200, NaN),\r\n          wrap: go.TextBlock.WrapFit,\r\n          //stroke: \"whitesmoke\",\r\n          editable: true,\r\n          stroke: \"#3e5c76\",\r\n          font: smallfont,\r\n          row: 2,\r\n          column: 1,\r\n        },\r\n        new go.Binding(\"text\", \"text1\").makeTwoWay()\r\n      ),\r\n\r\n      $(\r\n        go.TextBlock,\r\n        \"output = \",\r\n        {\r\n          margin: new go.Margin(4, 0, 0, 0),\r\n          maxSize: new go.Size(200, NaN),\r\n          wrap: go.TextBlock.WrapFit,\r\n          //stroke: \"whitesmoke\",\r\n          editable: true,\r\n          font: smallfont,\r\n          stroke: \"#3e5c76\",\r\n          row: 3,\r\n          column: 0,\r\n        },\r\n        new go.Binding(\"text\", \"text2\").makeTwoWay()\r\n      ),\r\n\r\n      $(\r\n        go.TextBlock,\r\n        \"value\",\r\n        {\r\n          margin: new go.Margin(4, 0, 0, 9),\r\n          maxSize: new go.Size(200, NaN),\r\n          wrap: go.TextBlock.WrapFit,\r\n          //stroke: \"whitesmoke\",\r\n          editable: true,\r\n          font: smallfont,\r\n          stroke: \"#3e5c76\",\r\n          row: 3,\r\n          column: 1,\r\n        },\r\n        new go.Binding(\"text\", \"text3\").makeTwoWay()\r\n      )\r\n    ) // end Table Panel\r\n  );\r\n\r\n  myDiagram.nodeTemplateMap.add(\r\n    \"FC\",\r\n    $(\r\n      go.Node,\r\n      \"Auto\",\r\n      {\r\n        locationSpot: go.Spot.Center,\r\n      },\r\n      new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\r\n        go.Point.stringify\r\n      ),\r\n      {\r\n        selectable: true,\r\n        selectionAdornmentTemplate: nodeSelectionAdornmentTemplate,\r\n      },\r\n      $(go.Shape, \"RoundedRectangle\", {\r\n        fill: yellowgrad,\r\n        stroke: \"#4ea8de\",\r\n        strokeWidth: 4,\r\n        portId: \"\",\r\n        fromLinkable: true,\r\n        toLinkable: true,\r\n        cursor: \"pointer\",\r\n        toEndSegmentLength: 50,\r\n        fromEndSegmentLength: 40,\r\n      }),\r\n      $(\r\n        go.Panel,\r\n        \"Vertical\",\r\n        {\r\n          defaultAlignment: go.Spot.Center,\r\n        },\r\n\r\n        $(\r\n          go.TextBlock,\r\n          \"FC\",\r\n          textStyle(),\r\n          {\r\n            stroke: \"#3e5c76\",\r\n            margin: new go.Margin(8, 0, 0, 0),\r\n            minSize: new go.Size(100, NaN),\r\n            //maxSize: new go.Size(200, NaN)\r\n          },\r\n          new go.Binding(\"text\", \"text\").makeTwoWay()\r\n        ),\r\n\r\n        $(\r\n          go.Panel,\r\n          \"Vertical\",\r\n          {\r\n            defaultAlignment: go.Spot.TopLeft,\r\n            itemTemplate: reasonTemplate,\r\n          },\r\n          new go.Binding(\"itemArray\", \"reasonsList\").makeTwoWay()\r\n        )\r\n      )\r\n    )\r\n  );\r\n\r\n  var linkSelectionAdornmentTemplate = $(\r\n    go.Adornment,\r\n    \"Link\",\r\n    $(\r\n      go.Shape,\r\n      // isPanelMain declares that this Shape shares the Link.geometry\r\n      {\r\n        isPanelMain: true,\r\n        fill: null,\r\n        stroke: \"deepskyblue\",\r\n        strokeWidth: 2.5,\r\n      }\r\n    ) // use selection object's strokeWidth\r\n  );\r\n  // replace the default Link template in the linkTemplateMap\r\n  myDiagram.linkTemplate = $(\r\n    go.Link, // the whole link panel\r\n    {\r\n      selectable: true,\r\n      selectionAdornmentTemplate: linkSelectionAdornmentTemplate,\r\n    },\r\n    new go.Binding(\"points\").makeTwoWay(),\r\n    {\r\n      //curve: go.Link.Bezier,\r\n      toShortLength: 15,\r\n    },\r\n    //new go.Binding(\"curviness\", \"curviness\"),\r\n    $(\r\n      go.Shape, // the link shape\r\n      {\r\n        stroke: \"#979dac\",\r\n        strokeWidth: 2.5,\r\n      }\r\n    ),\r\n    $(\r\n      go.Shape, // the arrowhead\r\n      {\r\n        toArrow: \"kite\",\r\n        fill: \"#979dac\",\r\n        stroke: null,\r\n        scale: 2,\r\n      }\r\n    )\r\n  );\r\n\r\n  myDiagram.nodeTemplateMap.add(\r\n    \"RNN\",\r\n    $(\r\n      go.Node,\r\n      \"Auto\",\r\n      {\r\n        locationSpot: go.Spot.Center,\r\n      },\r\n      new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\r\n        go.Point.stringify\r\n      ),\r\n      {\r\n        selectable: true,\r\n        selectionAdornmentTemplate: nodeSelectionAdornmentTemplate,\r\n      },\r\n      $(go.Shape, \"RoundedRectangle\", {\r\n        fill: whitegrad,\r\n        stroke: \"#CF8BF9\",\r\n        strokeWidth: 4,\r\n      }),\r\n      $(\r\n        go.TextBlock,\r\n        \"RNN\\n(unavailable)\",\r\n        textStyle(),\r\n        {\r\n          margin: 9,\r\n          maxSize: new go.Size(200, NaN),\r\n          wrap: go.TextBlock.WrapFit,\r\n          editable: true,\r\n          stroke: \"#560788\",\r\n          font: smallfont,\r\n        },\r\n        new go.Binding(\"text\", \"text\").makeTwoWay()\r\n      )\r\n      // no ports, because no links are allowed to connect with a comment\r\n    )\r\n  );\r\n\r\n  myDiagram.nodeTemplateMap.add(\r\n    \"CNN\",\r\n    $(\r\n      go.Node,\r\n      \"Auto\",\r\n      {\r\n        locationSpot: go.Spot.Center,\r\n      },\r\n      new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\r\n        go.Point.stringify\r\n      ),\r\n      {\r\n        selectable: true,\r\n        selectionAdornmentTemplate: nodeSelectionAdornmentTemplate,\r\n      },\r\n      $(go.Shape, \"RoundedRectangle\", {\r\n        fill: whitegrad,\r\n        stroke: \"#CF8BF9\",\r\n        strokeWidth: 4,\r\n      }),\r\n      $(\r\n        go.TextBlock,\r\n        \"CNN\\n(unavailable)\",\r\n        textStyle(),\r\n        {\r\n          margin: 9,\r\n          maxSize: new go.Size(200, NaN),\r\n          wrap: go.TextBlock.WrapFit,\r\n          editable: true,\r\n          stroke: \"#560788\",\r\n          font: smallfont,\r\n        },\r\n        new go.Binding(\"text\", \"text\").makeTwoWay()\r\n      )\r\n      // no ports, because no links are allowed to connect with a comment\r\n    )\r\n  );\r\n\r\n  myDiagram.nodeTemplateMap.add(\r\n    \"LSTM\",\r\n    $(\r\n      go.Node,\r\n      \"Auto\",\r\n      {\r\n        locationSpot: go.Spot.Center,\r\n      },\r\n      new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\r\n        go.Point.stringify\r\n      ),\r\n      {\r\n        selectable: true,\r\n        selectionAdornmentTemplate: nodeSelectionAdornmentTemplate,\r\n      },\r\n      $(go.Shape, \"RoundedRectangle\", {\r\n        fill: whitegrad,\r\n        stroke: \"#CF8BF9\",\r\n        strokeWidth: 4,\r\n      }),\r\n      $(\r\n        go.TextBlock,\r\n        \"LSTM\\n(unavailable)\",\r\n        textStyle(),\r\n        {\r\n          margin: 9,\r\n          maxSize: new go.Size(200, NaN),\r\n          wrap: go.TextBlock.WrapFit,\r\n          editable: true,\r\n          stroke: \"#560788\",\r\n          font: smallfont,\r\n        },\r\n        new go.Binding(\"text\", \"text\").makeTwoWay()\r\n      )\r\n      // no ports, because no links are allowed to connect with a comment\r\n    )\r\n  );\r\n\r\n  myDiagram.nodeTemplateMap.add(\r\n    \"Softmax\",\r\n    $(\r\n      go.Node,\r\n      \"Auto\",\r\n      {\r\n        locationSpot: go.Spot.Center,\r\n      },\r\n      new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\r\n        go.Point.stringify\r\n      ),\r\n      {\r\n        selectable: true,\r\n        selectionAdornmentTemplate: nodeSelectionAdornmentTemplate,\r\n      },\r\n      $(go.Shape, \"RoundedRectangle\", {\r\n        fill: whitegrad,\r\n        stroke: \"#CF8BF9\",\r\n        strokeWidth: 4,\r\n      }),\r\n      $(\r\n        go.TextBlock,\r\n        \"Softmax\\n(unavailable)\",\r\n        textStyle(),\r\n        {\r\n          margin: 9,\r\n          maxSize: new go.Size(200, NaN),\r\n          wrap: go.TextBlock.WrapFit,\r\n          editable: true,\r\n          stroke: \"#560788\",\r\n          font: smallfont,\r\n        },\r\n        new go.Binding(\"text\", \"text\").makeTwoWay()\r\n      )\r\n      // no ports, because no links are allowed to connect with a comment\r\n    )\r\n  );\r\n\r\n  myDiagram.nodeTemplateMap.add(\r\n    \"Maximum Polling\",\r\n    $(\r\n      go.Node,\r\n      \"Auto\",\r\n      {\r\n        locationSpot: go.Spot.Center,\r\n      },\r\n      new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\r\n        go.Point.stringify\r\n      ),\r\n      {\r\n        selectable: true,\r\n        selectionAdornmentTemplate: nodeSelectionAdornmentTemplate,\r\n      },\r\n      $(go.Shape, \"RoundedRectangle\", {\r\n        fill: whitegrad,\r\n        stroke: \"#CF8BF9\",\r\n        strokeWidth: 4,\r\n      }),\r\n      $(\r\n        go.TextBlock,\r\n        \"Maximum\\nPolling\\n(unavailable)\",\r\n        textStyle(),\r\n        {\r\n          margin: 9,\r\n          maxSize: new go.Size(200, NaN),\r\n          wrap: go.TextBlock.WrapFit,\r\n          editable: true,\r\n          stroke: \"#560788\",\r\n          font: smallfont,\r\n        },\r\n        new go.Binding(\"text\", \"text\").makeTwoWay()\r\n      )\r\n      // no ports, because no links are allowed to connect with a comment\r\n    )\r\n  );\r\n\r\n  var palette = $(\r\n    go.Palette,\r\n    \"myPaletteDiv\", // create a new Palette in the HTML DIV element\r\n    {\r\n      // share the template map with the Palette\r\n      nodeTemplateMap: myDiagram.nodeTemplateMap,\r\n      autoScale: go.Diagram.Uniform, // everything always fits in viewport\r\n    }\r\n  );\r\n\r\n  palette.model.nodeDataArray = [\r\n    {\r\n      category: \"Data\",\r\n    },\r\n    {\r\n      category: \"ReLU\",\r\n    },\r\n    {\r\n      category: \"FC\",\r\n      reasonsList: [{}],\r\n    },\r\n    {\r\n      category: \"End\",\r\n    },\r\n    {\r\n      category: \"CNN\",\r\n    },\r\n    {\r\n      category: \"RNN\",\r\n    },\r\n    {\r\n      category: \"LSTM\",\r\n    },\r\n    {\r\n      category: \"Softmax\",\r\n    },\r\n    {\r\n      category: \"Maximum Polling\",\r\n    },\r\n  ];\r\n\r\n  // read in the JSON-format data from the \"mySavedModel\" element\r\n  load();\r\n  layout();\r\n}\r\n\r\nfunction layout() {\r\n  myDiagram.layoutDiagram(true);\r\n}\r\n// Show the diagram's model in JSON format\r\nfunction save() {\r\n  document.getElementById(\"mySavedModel\").value = myDiagram.model.toJson();\r\n  myDiagram.isModified = false;\r\n}\r\n\r\nfunction load() {\r\n  myDiagram.model = go.Model.fromJson(\r\n    document.getElementById(\"mySavedModel\").value\r\n  );\r\n}\r\nwindow.addEventListener(\"DOMContentLoaded\", init);\r\n</script>\r\n\r\n\r\n\r\n\r\n<style scoped>\r\n#myPaletteDiv:hover {\r\n  /* box-shadow: 1px 1px #82929B, 2px 2px #82929B, 3px 3px #82929B;\r\n            -webkit-transform: translateX(-3px);\r\n            transform: translateX(-3px);\r\n            transition: .5s ease; */\r\n  /* -webkit-transform: scale(1.2); */\r\n  /* -ms-transform: scale(1.2); */\r\n  transform: scale(1.015);\r\n  transition: 1s ease;\r\n}\r\n\r\n#myDiagramDiv:hover {\r\n  /* box-shadow: 1px 1px #82929B, 2px 2px #82929B, 3px 3px #82929B;\r\n            -webkit-transform: translateX(-3px);\r\n            transform: translateX(-3px);\r\n            transition: .5s ease; */\r\n  /* -webkit-transform: scale(1.2); */\r\n  /* -ms-transform: scale(1.2); */\r\n  transform: scale(1.01);\r\n  transition: 1s ease;\r\n}\r\n\r\n#myPaletteDiv {\r\n  border-radius: 7px;\r\n}\r\n\r\n#myDiagramDiv {\r\n  border-radius: 7px;\r\n}\r\n\r\n.button,\r\nbutton {\r\n  --tw-bg-opacity: 1;\r\n  background-color: rgba(31, 73, 99, var(--tw-bg-opacity));\r\n  border-radius: 0.25rem;\r\n  display: inline-block;\r\n  margin: 0.25rem;\r\n  font-size: 12pt;\r\n  font-family: Helvetica, Arial;\r\n  padding-top: 0.25rem;\r\n  padding-bottom: 0.25rem;\r\n  padding-left: 0.5rem;\r\n  padding-right: 0.5rem;\r\n  --tw-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);\r\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000),\r\n    var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\r\n  --tw-text-opacity: 1;\r\n  color: rgba(255, 255, 255, var(--tw-text-opacity));\r\n}\r\n\r\n.button:hover,\r\nbutton:hover {\r\n  --tw-bg-opacity: 1;\r\n  background-color: rgba(98, 127, 145, var(--tw-bg-opacity));\r\n  --tw-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);\r\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000),\r\n    var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\r\n  --tw-text-opacity: 1;\r\n  color: rgba(255, 255, 255, var(--tw-text-opacity));\r\n  transition-property: background-color, border-color, color, fill, stroke;\r\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\r\n  transition-duration: 150ms;\r\n  transition-duration: 0.2s;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}