{"ast":null,"code":"import \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.url.js\";\nimport \"core-js/modules/web.url-search-params.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport axios from \"axios\";\nimport * as go from \"../../public/go.js\"; //import Prism Editor\n\nimport { PrismEditor } from \"vue-prism-editor\";\nimport \"vue-prism-editor/dist/prismeditor.min.css\"; // import the styles somewhere\n// import highlighting library (you can use any library you want just return html string)\n\nimport { highlight, languages } from \"prismjs/components/prism-core\";\nimport \"prismjs/components/prism-clike\";\nimport \"prismjs/components/prism-javascript\";\nimport \"prismjs/themes/prism-twilight.css\"; // import syntax highlighting styles\n\nexport default {\n  name: \"CanvasView\",\n  components: {\n    PrismEditor: PrismEditor\n  },\n  data: function data() {\n    return {\n      canvasData: {\n        file: {\n          \"class\": \"GraphLinksModel\",\n          copiesArrays: true,\n          copiesArrayObjects: true,\n          nodeDataArray: [{\n            category: \"Data\",\n            reasonsList: [{}],\n            key: -2,\n            loc: \"-99.10220015417542 -20.151221229488044\"\n          }],\n          linkDataArray: []\n        },\n        code: \"if __name__ == '__main__':\\n  main()\"\n      }\n    };\n  },\n  methods: {\n    getData: function getData() {\n      this.getJson(); // this.getPython();\n    },\n    compile: function compile() {\n      var _this = this;\n\n      // document.getElementById(\"func_layout\").click();\n      var formData = new FormData();\n      console.log(document.getElementById(\"mySavedModel\").value); // this.canvasData.json = document.getElementById(\"mySavedModel\").value;\n      // console.log(this.canvasData.file);\n\n      formData.append(\"file\", document.getElementById(\"mySavedModel\").value);\n      axios({\n        method: \"post\",\n        url: \"/canvas/compile/\" + localStorage.uid + \"/\" + localStorage.pid + \"/\",\n        data: formData\n      }).then(function (res) {\n        console.log(res.data); // If 200 compile successful, backend update database, frontend get data and reload\n\n        if (res.data.status == \"200\") {\n          _this.getPython();\n\n          console.log(\"compile ok!\");\n        }\n      });\n    },\n    getPython: function getPython() {\n      var _this2 = this;\n\n      axios({\n        method: \"post\",\n        url: \"/canvas/getPython/\" + localStorage.uid + \"/\" + localStorage.pid + \"/\",\n        responseType: \"stream\"\n      }).then(function (res) {\n        console.log(res);\n        console.log(res.data);\n\n        if (res.status == 200) {\n          console.log(\"python 200\");\n          _this2.canvasData.code = res.data;\n          console.log(_this2.canvasData.code);\n        } else {\n          alert(\"can not get user's python!\");\n        }\n      });\n    },\n    getJson: function getJson() {\n      var _this3 = this;\n\n      axios({\n        method: \"post\",\n        url: \"/canvas/getJson/\" + localStorage.uid + \"/\" + localStorage.pid + \"/\",\n        responseType: \"stream\"\n      }).then(function (res) {\n        console.log(res.data); // not first time\n\n        if (res.status == 200) {\n          console.log(\"200\"); // console.log(JSON.stringify(res.data));\n\n          _this3.canvasData.file = JSON.stringify(res.data);\n        } // first time\n        else if (res.status == 204) {\n          console.log(\"204\");\n        }\n      });\n    },\n    download: function download() {\n      axios({\n        method: \"get\",\n        url: \"/canvas/download/\" + localStorage.uid + \"/\" + localStorage.pid + \"/\",\n        responseType: \"blob\"\n      }).then(function (res) {\n        console.log(res.data);\n\n        if (res.data.status == 200) {\n          var blob = new Blob([res], {\n            type: \"application/zip;charset-UTF-8\"\n          });\n          var url = URL.createObjectURL(blob);\n          var a = document.createElement(\"a\");\n          a.style.display = \"none\";\n          a.href = url;\n          a.download = \"projectttt.zip\";\n          a.click();\n          URL.revokeObjectURL(url);\n        } else {\n          alert(\"can not get user's json!\");\n        }\n      });\n    },\n    // To make canvas tidy 200\n    layout: function layout() {\n      document.getElementById(\"mySavedModel\").value = myDiagram.model.toJson();\n      myDiagram.isModified = false;\n      myDiagram.layoutDiagram(true);\n      this.canvasData.json = document.getElementById(\"mySavedModel\").value;\n    },\n    load: function load() {\n      myDiagram.model = go.Model.fromJson(document.getElementById(\"mySavedModel\").value);\n    },\n    highlighter: function highlighter(code) {\n      return highlight(code, languages.js); // languages.<insert language> to return html with markup\n    },\n    // Go to train page 200\n    enterTrain: function enterTrain() {\n      location.replace(\"/train/\");\n    }\n  },\n  mounted: function mounted() {\n    var $ = go.GraphObject.make;\n    var bigfont = \"bold 13pt Helvetica, Arial, sans-serif\";\n    var smallfont = \"bold 11pt Helvetica, Arial, sans-serif\";\n\n    function textStyle() {\n      return {\n        margin: 6,\n        wrap: go.TextBlock.WrapFit,\n        textAlign: \"center\",\n        editable: true,\n        font: bigfont\n      };\n    }\n\n    var myDiagram = $(go.Diagram, \"myDiagramDiv_1\", {\n      \"toolManager.mouseWheelBehavior\": go.ToolManager.WheelZoom,\n      initialAutoScale: go.Diagram.Uniform,\n      \"linkingTool.direction\": go.LinkingTool.ForwardsOnly,\n      layout: $(go.LayeredDigraphLayout, {\n        isInitial: false,\n        isOngoing: false,\n        layerSpacing: 50\n      }),\n      \"undoManager.isEnabled\": true\n    });\n    var nodeSelectionAdornmentTemplate = $(go.Adornment, \"Auto\", $(go.Shape, {\n      fill: null,\n      stroke: \"#979dac\",\n      strokeWidth: 2,\n      strokeDashArray: [4, 2]\n    }), $(go.Placeholder));\n    myDiagram.nodeTemplate = $(go.Node, \"Auto\", {\n      locationSpot: go.Spot.Center\n    }, new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(go.Point.stringify), {\n      selectable: true,\n      selectionAdornmentTemplate: nodeSelectionAdornmentTemplate\n    }, $(go.Shape, \"Rectangle\", {\n      stroke: null,\n      portId: \"\",\n      fromLinkable: true,\n      toLinkable: true,\n      cursor: \"pointer\",\n      toEndSegmentLength: 50,\n      fromEndSegmentLength: 50\n    }), $(go.TextBlock, \"hello\", {\n      margin: 6,\n      font: bigfont,\n      editable: true,\n      minSize: new go.Size(40, NaN)\n    }, new go.Binding(\"text\", \"text\").makeTwoWay()));\n    myDiagram.nodeTemplateMap.add(\"Data\", $(go.Node, \"Auto\", {\n      locationSpot: go.Spot.Center,\n      margin: new go.Margin(0, 0, 0, 0)\n    }, new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(go.Point.stringify), {\n      selectable: true,\n      selectionAdornmentTemplate: nodeSelectionAdornmentTemplate\n    }, $(go.Shape, \"Circle\", {\n      fill: \"#caffbf\",\n      portId: \"\",\n      fromLinkable: true,\n      cursor: \"pointer\",\n      stroke: \"#74c69d\",\n      strokeWidth: 4\n    }), $(go.TextBlock, \"Data\", textStyle(), {\n      stroke: \"#2d6a4f\",\n      minSize: new go.Size(40, NaN)\n    }, new go.Binding(\"text\", \"text\").makeTwoWay())));\n    myDiagram.nodeTemplateMap.add(\"End\", $(go.Node, \"Auto\", {\n      locationSpot: go.Spot.Center\n    }, new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(go.Point.stringify), {\n      selectable: true,\n      selectionAdornmentTemplate: nodeSelectionAdornmentTemplate\n    }, $(go.Shape, \"Circle\", {\n      fill: \"#ffadad\",\n      portId: \"\",\n      toLinkable: true,\n      cursor: \"pointer\",\n      fromEndSegmentLength: 40,\n      stroke: \"#df7373\",\n      strokeWidth: 4\n    }), $(go.TextBlock, \"End\", textStyle(), {\n      stroke: \"#ad2e24\",\n      minSize: new go.Size(40, NaN)\n    }, new go.Binding(\"text\", \"text\").makeTwoWay())));\n    myDiagram.nodeTemplateMap.add(\"ReLU\", $(go.Node, \"Auto\", {\n      locationSpot: go.Spot.Center\n    }, new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(go.Point.stringify), {\n      selectable: true,\n      selectionAdornmentTemplate: nodeSelectionAdornmentTemplate\n    }, $(go.Shape, \"Ellipse\", {\n      fill: \"#fdffb6\",\n      portId: \"\",\n      fromLinkable: true,\n      toLinkable: true,\n      cursor: \"pointer\",\n      fromEndSegmentLength: 40,\n      stroke: \"#ffd100\",\n      strokeWidth: 4\n    }), $(go.TextBlock, \"ReLU\", textStyle(), {\n      stroke: \"#e2711d\",\n      minSize: new go.Size(60, NaN)\n    }, new go.Binding(\"text\", \"text\").makeTwoWay())));\n    var reasonTemplate = $(go.Panel, $(go.Panel, \"Table\", {\n      maxSize: new go.Size(200, 999),\n      margin: new go.Margin(0, 3, 10, 3),\n      defaultAlignment: go.Spot.Center\n    }, $(go.RowColumnDefinition, {\n      column: 2,\n      width: 2\n    }), $(go.TextBlock, \"input = \", {\n      margin: new go.Margin(4, 0, 0, 0),\n      maxSize: new go.Size(200, NaN),\n      wrap: go.TextBlock.WrapFit,\n      editable: true,\n      font: smallfont,\n      row: 2,\n      column: 0,\n      stroke: \"#3e5c76\"\n    }, new go.Binding(\"text\", \"text0\").makeTwoWay()), $(go.TextBlock, \"value\", {\n      margin: new go.Margin(4, 0, 0, 0),\n      maxSize: new go.Size(200, NaN),\n      wrap: go.TextBlock.WrapFit,\n      editable: true,\n      stroke: \"#3e5c76\",\n      font: smallfont,\n      row: 2,\n      column: 1\n    }, new go.Binding(\"text\", \"text1\").makeTwoWay()), $(go.TextBlock, \"output = \", {\n      margin: new go.Margin(4, 0, 0, 0),\n      maxSize: new go.Size(200, NaN),\n      wrap: go.TextBlock.WrapFit,\n      editable: true,\n      font: smallfont,\n      stroke: \"#3e5c76\",\n      row: 3,\n      column: 0\n    }, new go.Binding(\"text\", \"text2\").makeTwoWay()), $(go.TextBlock, \"value\", {\n      margin: new go.Margin(4, 0, 0, 9),\n      maxSize: new go.Size(200, NaN),\n      wrap: go.TextBlock.WrapFit,\n      editable: true,\n      font: smallfont,\n      stroke: \"#3e5c76\",\n      row: 3,\n      column: 1\n    }, new go.Binding(\"text\", \"text3\").makeTwoWay())));\n    myDiagram.nodeTemplateMap.add(\"FC\", $(go.Node, \"Auto\", {\n      locationSpot: go.Spot.Center\n    }, new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(go.Point.stringify), {\n      selectable: true,\n      selectionAdornmentTemplate: nodeSelectionAdornmentTemplate\n    }, $(go.Shape, \"RoundedRectangle\", {\n      fill: \"#bde0fe\",\n      stroke: \"#4ea8de\",\n      strokeWidth: 4,\n      portId: \"\",\n      fromLinkable: true,\n      toLinkable: true,\n      cursor: \"pointer\",\n      toEndSegmentLength: 50,\n      fromEndSegmentLength: 40\n    }), $(go.Panel, \"Vertical\", {\n      defaultAlignment: go.Spot.Center\n    }, $(go.TextBlock, \"FC\", textStyle(), {\n      stroke: \"#3e5c76\",\n      margin: new go.Margin(8, 0, 0, 0),\n      minSize: new go.Size(100, NaN)\n    }, new go.Binding(\"text\", \"text\").makeTwoWay()), $(go.Panel, \"Vertical\", {\n      defaultAlignment: go.Spot.TopLeft,\n      itemTemplate: reasonTemplate\n    }, new go.Binding(\"itemArray\", \"reasonsList\").makeTwoWay()))));\n    myDiagram.nodeTemplateMap.add(\"RNN\", $(go.Node, \"Auto\", {\n      locationSpot: go.Spot.Center\n    }, new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(go.Point.stringify), {\n      selectable: true,\n      selectionAdornmentTemplate: nodeSelectionAdornmentTemplate\n    }, $(go.Shape, \"RoundedRectangle\", {\n      fill: \"#E7C5FC\",\n      stroke: \"#CF8BF9\",\n      strokeWidth: 4\n    }), $(go.TextBlock, \"RNN\\n(unavailable)\", textStyle(), {\n      margin: 9,\n      maxSize: new go.Size(200, NaN),\n      wrap: go.TextBlock.WrapFit,\n      editable: true,\n      stroke: \"#560788\",\n      font: smallfont\n    }, new go.Binding(\"text\", \"text\").makeTwoWay())));\n    myDiagram.nodeTemplateMap.add(\"CNN\", $(go.Node, \"Auto\", {\n      locationSpot: go.Spot.Center\n    }, new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(go.Point.stringify), {\n      selectable: true,\n      selectionAdornmentTemplate: nodeSelectionAdornmentTemplate\n    }, $(go.Shape, \"RoundedRectangle\", {\n      fill: \"#E7C5FC\",\n      stroke: \"#CF8BF9\",\n      strokeWidth: 4\n    }), $(go.TextBlock, \"CNN\\n(unavailable)\", textStyle(), {\n      margin: 9,\n      maxSize: new go.Size(200, NaN),\n      wrap: go.TextBlock.WrapFit,\n      editable: true,\n      stroke: \"#560788\",\n      font: smallfont\n    }, new go.Binding(\"text\", \"text\").makeTwoWay())));\n    myDiagram.nodeTemplateMap.add(\"LSTM\", $(go.Node, \"Auto\", {\n      locationSpot: go.Spot.Center\n    }, new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(go.Point.stringify), {\n      selectable: true,\n      selectionAdornmentTemplate: nodeSelectionAdornmentTemplate\n    }, $(go.Shape, \"RoundedRectangle\", {\n      fill: \"#E7C5FC\",\n      stroke: \"#CF8BF9\",\n      strokeWidth: 4\n    }), $(go.TextBlock, \"LSTM\\n(unavailable)\", textStyle(), {\n      margin: 9,\n      maxSize: new go.Size(200, NaN),\n      wrap: go.TextBlock.WrapFit,\n      editable: true,\n      stroke: \"#560788\",\n      font: smallfont\n    }, new go.Binding(\"text\", \"text\").makeTwoWay())));\n    myDiagram.nodeTemplateMap.add(\"Softmax\", $(go.Node, \"Auto\", {\n      locationSpot: go.Spot.Center\n    }, new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(go.Point.stringify), {\n      selectable: true,\n      selectionAdornmentTemplate: nodeSelectionAdornmentTemplate\n    }, $(go.Shape, \"RoundedRectangle\", {\n      fill: \"#E7C5FC\",\n      stroke: \"#CF8BF9\",\n      strokeWidth: 4\n    }), $(go.TextBlock, \"Softmax\\n(unavailable)\", textStyle(), {\n      margin: 9,\n      maxSize: new go.Size(200, NaN),\n      wrap: go.TextBlock.WrapFit,\n      editable: true,\n      stroke: \"#560788\",\n      font: smallfont\n    }, new go.Binding(\"text\", \"text\").makeTwoWay())));\n    myDiagram.nodeTemplateMap.add(\"Maximum Polling\", $(go.Node, \"Auto\", {\n      locationSpot: go.Spot.Center\n    }, new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(go.Point.stringify), {\n      selectable: true,\n      selectionAdornmentTemplate: nodeSelectionAdornmentTemplate\n    }, $(go.Shape, \"RoundedRectangle\", {\n      fill: \"#E7C5FC\",\n      stroke: \"#CF8BF9\",\n      strokeWidth: 4\n    }), $(go.TextBlock, \"Maximum\\nPolling\\n(unavailable)\", textStyle(), {\n      margin: 9,\n      maxSize: new go.Size(200, NaN),\n      wrap: go.TextBlock.WrapFit,\n      editable: true,\n      stroke: \"#560788\",\n      font: smallfont\n    }, new go.Binding(\"text\", \"text\").makeTwoWay())));\n    var linkSelectionAdornmentTemplate = $(go.Adornment, \"Link\", $(go.Shape, {\n      isPanelMain: true,\n      fill: null,\n      stroke: \"deepskyblue\",\n      strokeWidth: 2.5\n    }));\n    myDiagram.linkTemplate = $(go.Link, {\n      selectable: true,\n      selectionAdornmentTemplate: linkSelectionAdornmentTemplate\n    }, new go.Binding(\"points\").makeTwoWay(), {\n      toShortLength: 15\n    }, $(go.Shape, {\n      stroke: \"#979dac\",\n      strokeWidth: 2.5\n    }), $(go.Shape, {\n      toArrow: \"kite\",\n      fill: \"#979dac\",\n      stroke: null,\n      scale: 2\n    }));\n    var palette = $(go.Palette, \"myPaletteDiv\", {\n      nodeTemplateMap: myDiagram.nodeTemplateMap,\n      autoScale: go.Diagram.Uniform\n    });\n    palette.model.nodeDataArray = [{\n      category: \"Data\",\n      reasonsList: [{}]\n    }, {\n      category: \"ReLU\",\n      reasonsList: [{}]\n    }, {\n      category: \"FC\",\n      reasonsList: [{}]\n    }, {\n      category: \"End\",\n      reasonsList: [{}]\n    }, {\n      category: \"CNN\",\n      reasonsList: [{}]\n    }, {\n      category: \"RNN\",\n      reasonsList: [{}]\n    }, {\n      category: \"LSTM\",\n      reasonsList: [{}]\n    }, {\n      category: \"Softmax\",\n      reasonsList: [{}]\n    }, {\n      category: \"Maximum Polling\",\n      reasonsList: [{}]\n    }];\n    window.myDiagram = myDiagram;\n    this.getData();\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","go","PrismEditor","highlight","languages","name","components","data","canvasData","file","copiesArrays","copiesArrayObjects","nodeDataArray","category","reasonsList","key","loc","linkDataArray","code","methods","getData","getJson","compile","formData","FormData","console","log","document","getElementById","value","append","method","url","localStorage","uid","pid","then","res","status","getPython","responseType","alert","JSON","stringify","download","blob","Blob","type","URL","createObjectURL","a","createElement","style","display","href","click","revokeObjectURL","layout","myDiagram","model","toJson","isModified","layoutDiagram","json","load","Model","fromJson","highlighter","js","enterTrain","location","replace","mounted","$","GraphObject","make","bigfont","smallfont","textStyle","margin","wrap","TextBlock","WrapFit","textAlign","editable","font","Diagram","ToolManager","WheelZoom","initialAutoScale","Uniform","LinkingTool","ForwardsOnly","LayeredDigraphLayout","isInitial","isOngoing","layerSpacing","nodeSelectionAdornmentTemplate","Adornment","Shape","fill","stroke","strokeWidth","strokeDashArray","Placeholder","nodeTemplate","Node","locationSpot","Spot","Center","Binding","Point","parse","makeTwoWay","selectable","selectionAdornmentTemplate","portId","fromLinkable","toLinkable","cursor","toEndSegmentLength","fromEndSegmentLength","minSize","Size","NaN","nodeTemplateMap","add","Margin","reasonTemplate","Panel","maxSize","defaultAlignment","RowColumnDefinition","column","width","row","TopLeft","itemTemplate","linkSelectionAdornmentTemplate","isPanelMain","linkTemplate","Link","toShortLength","toArrow","scale","palette","Palette","autoScale","window"],"sourceRoot":"","sources":["/root/Comp208-Neural-Lego/frontend/src/views/CanvasView.vue"],"sourcesContent":["<template>\n  <div id=\"page-top\" class=\"body\">\n    <!-- Page Wrapper -->\n    <div id=\"wrapper\">\n      <!-- Sidebar -->\n      <ul\n        class=\"navbar-nav bg-gradient-primary sidebar sidebar-dark accordion\"\n        id=\"accordionSidebar\"\n      >\n        <!-- Sidebar - Brand -->\n\n        <a\n          class=\"sidebar-brand d-flex align-items-center justify-content-center\"\n        >\n          <!-- <div class=\"sidebar-brand-icon rotate-n-15\">\n                    <i class=\"fas fa-laugh-wink\"></i>\n                </div> -->\n          <div class=\"sidebar-brand-text mx-3\">NEURAL LEGO</div>\n        </a>\n\n        <!-- Divider -->\n        <hr class=\"sidebar-divider my-0\" />\n\n        <!-- Nav Item - Dashboard -->\n        <li class=\"nav-item\">\n          <a class=\"nav-link\" href=\"/profile\">\n            <i class=\"fas fa-fw fa-user\"></i>\n            <span>User</span></a\n          >\n        </li>\n\n        <!-- Divider -->\n        <hr class=\"sidebar-divider my-0\" />\n\n        <!-- Nav Item - Dashboard -->\n        <li class=\"nav-item\">\n          <a class=\"nav-link\" href=\"/project\">\n            <i class=\"fas fa-fw fa-folder\"></i>\n            <span>Project</span></a\n          >\n        </li>\n\n        <!-- Divider -->\n        <hr class=\"sidebar-divider my-0\" />\n\n        <!-- Nav Item - Dashboard -->\n        <li class=\"nav-item\">\n          <a class=\"nav-link\" href=\"/template\">\n            <i class=\"fas fa-fw fa-table\"></i>\n            <span>Template</span></a\n          >\n        </li>\n\n        <hr class=\"sidebar-divider my-0\" />\n\n        <!-- Nav Item - Dashboard -->\n        <li class=\"nav-item active\">\n          <a class=\"nav-link\" href=\"draggable.html\">\n            <i class=\"fas fa-fw fa-palette\"></i>\n            <span>Canvas</span></a\n          >\n        </li>\n\n        <hr class=\"sidebar-divider my-0\" />\n\n        <!-- Nav Item - Dashboard -->\n        <li class=\"nav-item\">\n          <a class=\"nav-link\" href=\"home.html\">\n            <i class=\"fas fa-fw fa-arrow-circle-left\"></i>\n            <span>Log out</span></a\n          >\n        </li>\n        <!-- Divider -->\n        <hr class=\"sidebar-divider d-none d-md-block\" />\n      </ul>\n      <!-- End of Sidebar -->\n\n      <!-- Content Wrapper -->\n      <div id=\"content-wrapper\" class=\"d-flex flex-column\">\n        <!-- Main Content -->\n        <div id=\"content\">\n          <!-- Topbar -->\n          <nav\n            class=\"\n              navbar navbar-expand navbar-light\n              bg-white\n              topbar\n              mb-4\n              static-top\n              shadow\n            \"\n          >\n            <!-- Sidebar Toggle (Topbar) -->\n            <button\n              id=\"sidebarToggleTop\"\n              class=\"btn btn-link d-md-none rounded-circle mr-3\"\n            >\n              <i class=\"fa fa-bars\"></i>\n            </button>\n\n            <!-- Topbar Search -->\n            <form\n              class=\"\n                d-none d-sm-inline-block\n                form-inline\n                mr-auto\n                ml-md-3\n                my-2 my-md-0\n                mw-100\n                navbar-search\n              \"\n            >\n              <div class=\"input-group\">\n                <input\n                  type=\"text\"\n                  class=\"form-control bg-light border-0 small\"\n                  placeholder=\"Search for...\"\n                  aria-label=\"Search\"\n                  aria-describedby=\"basic-addon2\"\n                />\n                <div class=\"input-group-append\">\n                  <button class=\"btn btn-primary\" type=\"button\">\n                    <i class=\"fas fa-search fa-sm\"></i>\n                  </button>\n                </div>\n              </div>\n            </form>\n\n            <!-- Topbar Navbar -->\n            <ul class=\"navbar-nav ml-auto\">\n              <!-- Nav Item - Search Dropdown (Visible Only XS) -->\n              <li class=\"nav-item dropdown no-arrow d-sm-none\">\n                <a\n                  class=\"nav-link dropdown-toggle\"\n                  href=\"#\"\n                  id=\"searchDropdown\"\n                  role=\"button\"\n                  data-toggle=\"dropdown\"\n                  aria-haspopup=\"true\"\n                  aria-expanded=\"false\"\n                >\n                  <i class=\"fas fa-search fa-fw\"></i>\n                </a>\n                <!-- Dropdown - Messages -->\n                <div\n                  class=\"\n                    dropdown-menu dropdown-menu-right\n                    p-3\n                    shadow\n                    animated--grow-in\n                  \"\n                  aria-labelledby=\"searchDropdown\"\n                >\n                  <form class=\"form-inline mr-auto w-100 navbar-search\">\n                    <div class=\"input-group\">\n                      <input\n                        type=\"text\"\n                        class=\"form-control bg-light border-0 small\"\n                        placeholder=\"Search for...\"\n                        aria-label=\"Search\"\n                        aria-describedby=\"basic-addon2\"\n                      />\n                      <div class=\"input-group-append\">\n                        <button class=\"btn btn-primary\" type=\"button\">\n                          <i class=\"fas fa-search fa-sm\"></i>\n                        </button>\n                      </div>\n                    </div>\n                  </form>\n                </div>\n              </li>\n            </ul>\n          </nav>\n          <!-- End of Topbar -->\n\n          <div id=\"allSampleContent\" class=\"p-4 w-full\">\n            <div id=\"sample\">\n              <div style=\"width: 100%; margin-bottom: 10px; display: flex\">\n                <div\n                  id=\"myPaletteDiv\"\n                  style=\"\n                    width: 150px;\n                    margin-right: 10px;\n                    border: solid 4px #82929b;\n                  \"\n                ></div>\n\n                <div\n                  id=\"myDiagramDiv_1\"\n                  style=\"\n                    width: 650px;\n                    margin-right: 10px;\n                    height: 600px;\n                    border: solid 4px #82929b;\n                  \"\n                ></div>\n                <div\n                  id=\"myDiagramDiv_2\"\n                  style=\"flex-grow: 1; height: 600px; border: solid 4px #82929b\"\n                >\n                  <prism-editor\n                    class=\"my-editor\"\n                    readonly=\"false\"\n                    v-model=\"canvasData.code\"\n                    :highlight=\"highlighter\"\n                    line-numbers\n                  ></prism-editor>\n                </div>\n              </div>\n\n              <!-- <button class=\"btn btn-primary\" id=\"SaveButton\" @click=\"save()\">\n                Save\n              </button>\n              <button class=\"btn btn-primary\" @click=\"load()\">Load</button>\n              <button class=\"btn btn-primary\" @click=\"layout()\">Layout</button>\n              <button class=\"btn btn-primary\">Compile</button>\n              <a href=\"/train\"\n                ><button class=\"btn btn-primary\">Train</button></a\n              > -->\n              <button class=\"btn btn-primary\" id=\"func_load\" @click=\"load()\">\n                Load\n              </button>\n              <button\n                class=\"btn btn-primary\"\n                id=\"func_layout\"\n                type=\"submit\"\n                @click=\"layout()\"\n              >\n                Layout\n              </button>\n\n              <button class=\"btn btn-primary\" type=\"submit\" @click=\"download()\">\n                Download\n              </button>\n\n              <div style=\"display: inline-block\">\n                <input\n                  type=\"hidden\"\n                  class=\"form-control\"\n                  id=\"file\"\n                  name=\"file\"\n                />\n                <button\n                  type=\"submit\"\n                  class=\"btn btn-primary\"\n                  @click=\"compile()\"\n                >\n                  Compile\n                </button>\n              </div>\n\n              <button class=\"btn btn-primary\" @click=\"enterTrain()\">\n                Train\n              </button>\n              <br />\n\n              <textarea\n                id=\"mySavedModel\"\n                style=\"width: 100%; height: 300px\"\n                v-model=\"canvasData.file\"\n              >\n              </textarea>\n\n              <br />\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- End of Content Wrapper -->\n    </div>\n    <!-- End of Page Wrapper -->\n\n    <!-- Logout Modal-->\n    <div\n      class=\"modal fade\"\n      id=\"logoutModal\"\n      tabindex=\"-1\"\n      role=\"dialog\"\n      aria-labelledby=\"exampleModalLabel\"\n      aria-hidden=\"true\"\n    >\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">Ready to Leave?</h5>\n            <button\n              class=\"close\"\n              type=\"button\"\n              data-dismiss=\"modal\"\n              aria-label=\"Close\"\n            >\n              <span aria-hidden=\"true\">×</span>\n            </button>\n          </div>\n          <div class=\"modal-body\">\n            Select \"Logout\" below if you are ready to end your current session.\n          </div>\n          <div class=\"modal-footer\">\n            <button\n              class=\"btn btn-secondary\"\n              type=\"button\"\n              data-dismiss=\"modal\"\n            >\n              Cancel\n            </button>\n            <a class=\"btn btn-primary\" href=\"login.html\">Logout</a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n\n\n<script>\nimport axios from \"axios\";\nimport * as go from \"../../public/go.js\";\n\n//import Prism Editor\nimport { PrismEditor } from \"vue-prism-editor\";\nimport \"vue-prism-editor/dist/prismeditor.min.css\"; // import the styles somewhere\n\n// import highlighting library (you can use any library you want just return html string)\nimport { highlight, languages } from \"prismjs/components/prism-core\";\nimport \"prismjs/components/prism-clike\";\nimport \"prismjs/components/prism-javascript\";\nimport \"prismjs/themes/prism-twilight.css\"; // import syntax highlighting styles\n\nexport default {\n  name: \"CanvasView\",\n\n  components: {\n    PrismEditor,\n  },\n\n  data() {\n    return {\n      canvasData: {\n        file: {\n          class: \"GraphLinksModel\",\n          copiesArrays: true,\n          copiesArrayObjects: true,\n          nodeDataArray: [\n            {\n              category: \"Data\",\n              reasonsList: [{}],\n              key: -2,\n              loc: \"-99.10220015417542 -20.151221229488044\",\n            },\n          ],\n          linkDataArray: [],\n        },\n        code: `if __name__ == '__main__':\n  main()`,\n      },\n    };\n  },\n\n  methods: {\n    getData() {\n      this.getJson();\n      // this.getPython();\n    },\n\n    compile() {\n      // document.getElementById(\"func_layout\").click();\n      let formData = new FormData();\n      console.log(document.getElementById(\"mySavedModel\").value);\n      // this.canvasData.json = document.getElementById(\"mySavedModel\").value;\n      // console.log(this.canvasData.file);\n      formData.append(\"file\", document.getElementById(\"mySavedModel\").value);\n      axios({\n        method: \"post\",\n        url:\n          \"/canvas/compile/\" + localStorage.uid + \"/\" + localStorage.pid + \"/\",\n        data: formData,\n      }).then((res) => {\n        console.log(res.data);\n        // If 200 compile successful, backend update database, frontend get data and reload\n        if (res.data.status == \"200\") {\n          this.getPython();\n          console.log(\"compile ok!\");\n        }\n      });\n    },\n\n    getPython() {\n      axios({\n        method: \"post\",\n        url:\n          \"/canvas/getPython/\" +\n          localStorage.uid +\n          \"/\" +\n          localStorage.pid +\n          \"/\",\n        responseType: \"stream\",\n      }).then((res) => {\n        console.log(res);\n        console.log(res.data);\n\n        if (res.status == 200) {\n          console.log(\"python 200\");\n          this.canvasData.code = res.data;\n          console.log(this.canvasData.code);\n        } else {\n          alert(\"can not get user's python!\");\n        }\n      });\n    },\n\n    getJson() {\n      axios({\n        method: \"post\",\n        url:\n          \"/canvas/getJson/\" + localStorage.uid + \"/\" + localStorage.pid + \"/\",\n        responseType: \"stream\",\n      }).then((res) => {\n        console.log(res.data);\n        // not first time\n        if (res.status == 200) {\n          console.log(\"200\");\n          // console.log(JSON.stringify(res.data));\n          this.canvasData.file = JSON.stringify(res.data);\n        }\n        // first time\n        else if (res.status == 204) {\n          console.log(\"204\");\n        }\n      });\n    },\n\n    download() {\n      axios({\n        method: \"get\",\n        url:\n          \"/canvas/download/\" + localStorage.uid + \"/\" + localStorage.pid + \"/\",\n        responseType: \"blob\",\n      }).then((res) => {\n        console.log(res.data);\n        if (res.data.status == 200) {\n          let blob = new Blob([res], {\n            type: \"application/zip;charset-UTF-8\",\n          });\n\n          const url = URL.createObjectURL(blob);\n          const a = document.createElement(\"a\");\n          a.style.display = \"none\";\n          a.href = url;\n          a.download = \"projectttt.zip\";\n          a.click();\n          URL.revokeObjectURL(url);\n        } else {\n          alert(\"can not get user's json!\");\n        }\n      });\n    },\n\n    // To make canvas tidy 200\n    layout() {\n      document.getElementById(\"mySavedModel\").value = myDiagram.model.toJson();\n      myDiagram.isModified = false;\n      myDiagram.layoutDiagram(true);\n\n      this.canvasData.json = document.getElementById(\"mySavedModel\").value;\n    },\n\n    load() {\n      myDiagram.model = go.Model.fromJson(\n        document.getElementById(\"mySavedModel\").value\n      );\n    },\n\n    highlighter(code) {\n      return highlight(code, languages.js); // languages.<insert language> to return html with markup\n    },\n\n    // Go to train page 200\n    enterTrain() {\n      location.replace(\"/train/\");\n    },\n  },\n\n  mounted() {\n    const $ = go.GraphObject.make;\n\n    var bigfont = \"bold 13pt Helvetica, Arial, sans-serif\";\n    var smallfont = \"bold 11pt Helvetica, Arial, sans-serif\";\n\n    function textStyle() {\n      return {\n        margin: 6,\n        wrap: go.TextBlock.WrapFit,\n        textAlign: \"center\",\n        editable: true,\n        font: bigfont,\n      };\n    }\n\n    const myDiagram = $(go.Diagram, \"myDiagramDiv_1\", {\n      \"toolManager.mouseWheelBehavior\": go.ToolManager.WheelZoom,\n      initialAutoScale: go.Diagram.Uniform,\n      \"linkingTool.direction\": go.LinkingTool.ForwardsOnly,\n      layout: $(go.LayeredDigraphLayout, {\n        isInitial: false,\n        isOngoing: false,\n        layerSpacing: 50,\n      }),\n      \"undoManager.isEnabled\": true,\n    });\n\n    var nodeSelectionAdornmentTemplate = $(\n      go.Adornment,\n      \"Auto\",\n      $(go.Shape, {\n        fill: null,\n        stroke: \"#979dac\",\n        strokeWidth: 2,\n        strokeDashArray: [4, 2],\n      }),\n      $(go.Placeholder)\n    );\n\n    myDiagram.nodeTemplate = $(\n      go.Node,\n      \"Auto\",\n      {\n        locationSpot: go.Spot.Center,\n      },\n      new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\n        go.Point.stringify\n      ),\n      {\n        selectable: true,\n        selectionAdornmentTemplate: nodeSelectionAdornmentTemplate,\n      },\n\n      $(go.Shape, \"Rectangle\", {\n        stroke: null,\n        portId: \"\",\n        fromLinkable: true,\n        toLinkable: true,\n        cursor: \"pointer\",\n        toEndSegmentLength: 50,\n        fromEndSegmentLength: 50,\n      }),\n      $(\n        go.TextBlock,\n        \"hello\",\n        {\n          margin: 6,\n          font: bigfont,\n          editable: true,\n          minSize: new go.Size(40, NaN),\n        },\n        new go.Binding(\"text\", \"text\").makeTwoWay()\n      )\n    );\n\n    myDiagram.nodeTemplateMap.add(\n      \"Data\",\n      $(\n        go.Node,\n        \"Auto\",\n        {\n          locationSpot: go.Spot.Center,\n          margin: new go.Margin(0, 0, 0, 0),\n        },\n        new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\n          go.Point.stringify\n        ),\n        {\n          selectable: true,\n          selectionAdornmentTemplate: nodeSelectionAdornmentTemplate,\n        },\n        $(go.Shape, \"Circle\", {\n          fill: \"#caffbf\",\n          portId: \"\",\n          fromLinkable: true,\n          cursor: \"pointer\",\n\n          stroke: \"#74c69d\",\n\n          strokeWidth: 4,\n        }),\n        $(\n          go.TextBlock,\n          \"Data\",\n          textStyle(),\n          {\n            stroke: \"#2d6a4f\",\n            minSize: new go.Size(40, NaN),\n          },\n          new go.Binding(\"text\", \"text\").makeTwoWay()\n        )\n      )\n    );\n\n    myDiagram.nodeTemplateMap.add(\n      \"End\",\n      $(\n        go.Node,\n        \"Auto\",\n        {\n          locationSpot: go.Spot.Center,\n        },\n        new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\n          go.Point.stringify\n        ),\n        {\n          selectable: true,\n          selectionAdornmentTemplate: nodeSelectionAdornmentTemplate,\n        },\n        $(go.Shape, \"Circle\", {\n          fill: \"#ffadad\",\n          portId: \"\",\n          toLinkable: true,\n          cursor: \"pointer\",\n          fromEndSegmentLength: 40,\n          stroke: \"#df7373\",\n          strokeWidth: 4,\n        }),\n        $(\n          go.TextBlock,\n          \"End\",\n          textStyle(),\n          {\n            stroke: \"#ad2e24\",\n            minSize: new go.Size(40, NaN),\n          },\n          new go.Binding(\"text\", \"text\").makeTwoWay()\n        )\n      )\n    );\n\n    myDiagram.nodeTemplateMap.add(\n      \"ReLU\",\n      $(\n        go.Node,\n        \"Auto\",\n        {\n          locationSpot: go.Spot.Center,\n        },\n        new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\n          go.Point.stringify\n        ),\n        {\n          selectable: true,\n          selectionAdornmentTemplate: nodeSelectionAdornmentTemplate,\n        },\n        $(go.Shape, \"Ellipse\", {\n          fill: \"#fdffb6\",\n          portId: \"\",\n          fromLinkable: true,\n          toLinkable: true,\n          cursor: \"pointer\",\n          fromEndSegmentLength: 40,\n          stroke: \"#ffd100\",\n          strokeWidth: 4,\n        }),\n        $(\n          go.TextBlock,\n          \"ReLU\",\n          textStyle(),\n          {\n            stroke: \"#e2711d\",\n\n            minSize: new go.Size(60, NaN),\n          },\n          new go.Binding(\"text\", \"text\").makeTwoWay()\n        )\n      )\n    );\n\n    var reasonTemplate = $(\n      go.Panel,\n      $(\n        go.Panel,\n        \"Table\",\n        {\n          maxSize: new go.Size(200, 999),\n          margin: new go.Margin(0, 3, 10, 3),\n          defaultAlignment: go.Spot.Center,\n        },\n        $(go.RowColumnDefinition, {\n          column: 2,\n          width: 2,\n        }),\n        $(\n          go.TextBlock,\n          \"input = \",\n          {\n            margin: new go.Margin(4, 0, 0, 0),\n            maxSize: new go.Size(200, NaN),\n            wrap: go.TextBlock.WrapFit,\n\n            editable: true,\n            font: smallfont,\n            row: 2,\n            column: 0,\n            stroke: \"#3e5c76\",\n          },\n          new go.Binding(\"text\", \"text0\").makeTwoWay()\n        ),\n\n        $(\n          go.TextBlock,\n          \"value\",\n          {\n            margin: new go.Margin(4, 0, 0, 0),\n            maxSize: new go.Size(200, NaN),\n            wrap: go.TextBlock.WrapFit,\n\n            editable: true,\n            stroke: \"#3e5c76\",\n            font: smallfont,\n            row: 2,\n            column: 1,\n          },\n          new go.Binding(\"text\", \"text1\").makeTwoWay()\n        ),\n\n        $(\n          go.TextBlock,\n          \"output = \",\n          {\n            margin: new go.Margin(4, 0, 0, 0),\n            maxSize: new go.Size(200, NaN),\n            wrap: go.TextBlock.WrapFit,\n\n            editable: true,\n            font: smallfont,\n            stroke: \"#3e5c76\",\n            row: 3,\n            column: 0,\n          },\n          new go.Binding(\"text\", \"text2\").makeTwoWay()\n        ),\n\n        $(\n          go.TextBlock,\n          \"value\",\n          {\n            margin: new go.Margin(4, 0, 0, 9),\n            maxSize: new go.Size(200, NaN),\n            wrap: go.TextBlock.WrapFit,\n\n            editable: true,\n            font: smallfont,\n            stroke: \"#3e5c76\",\n            row: 3,\n            column: 1,\n          },\n          new go.Binding(\"text\", \"text3\").makeTwoWay()\n        )\n      )\n    );\n\n    myDiagram.nodeTemplateMap.add(\n      \"FC\",\n      $(\n        go.Node,\n        \"Auto\",\n        {\n          locationSpot: go.Spot.Center,\n        },\n        new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\n          go.Point.stringify\n        ),\n        {\n          selectable: true,\n          selectionAdornmentTemplate: nodeSelectionAdornmentTemplate,\n        },\n        $(go.Shape, \"RoundedRectangle\", {\n          fill: \"#bde0fe\",\n          stroke: \"#4ea8de\",\n          strokeWidth: 4,\n          portId: \"\",\n          fromLinkable: true,\n          toLinkable: true,\n          cursor: \"pointer\",\n          toEndSegmentLength: 50,\n          fromEndSegmentLength: 40,\n        }),\n        $(\n          go.Panel,\n          \"Vertical\",\n          {\n            defaultAlignment: go.Spot.Center,\n          },\n\n          $(\n            go.TextBlock,\n            \"FC\",\n            textStyle(),\n            {\n              stroke: \"#3e5c76\",\n              margin: new go.Margin(8, 0, 0, 0),\n              minSize: new go.Size(100, NaN),\n            },\n            new go.Binding(\"text\", \"text\").makeTwoWay()\n          ),\n\n          $(\n            go.Panel,\n            \"Vertical\",\n            {\n              defaultAlignment: go.Spot.TopLeft,\n              itemTemplate: reasonTemplate,\n            },\n            new go.Binding(\"itemArray\", \"reasonsList\").makeTwoWay()\n          )\n        )\n      )\n    );\n\n    myDiagram.nodeTemplateMap.add(\n      \"RNN\",\n      $(\n        go.Node,\n        \"Auto\",\n        {\n          locationSpot: go.Spot.Center,\n        },\n        new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\n          go.Point.stringify\n        ),\n        {\n          selectable: true,\n          selectionAdornmentTemplate: nodeSelectionAdornmentTemplate,\n        },\n        $(go.Shape, \"RoundedRectangle\", {\n          fill: \"#E7C5FC\",\n          stroke: \"#CF8BF9\",\n          strokeWidth: 4,\n        }),\n        $(\n          go.TextBlock,\n          \"RNN\\n(unavailable)\",\n          textStyle(),\n          {\n            margin: 9,\n            maxSize: new go.Size(200, NaN),\n            wrap: go.TextBlock.WrapFit,\n            editable: true,\n            stroke: \"#560788\",\n            font: smallfont,\n          },\n          new go.Binding(\"text\", \"text\").makeTwoWay()\n        )\n      )\n    );\n\n    myDiagram.nodeTemplateMap.add(\n      \"CNN\",\n      $(\n        go.Node,\n        \"Auto\",\n        {\n          locationSpot: go.Spot.Center,\n        },\n        new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\n          go.Point.stringify\n        ),\n        {\n          selectable: true,\n          selectionAdornmentTemplate: nodeSelectionAdornmentTemplate,\n        },\n        $(go.Shape, \"RoundedRectangle\", {\n          fill: \"#E7C5FC\",\n          stroke: \"#CF8BF9\",\n          strokeWidth: 4,\n        }),\n        $(\n          go.TextBlock,\n          \"CNN\\n(unavailable)\",\n          textStyle(),\n          {\n            margin: 9,\n            maxSize: new go.Size(200, NaN),\n            wrap: go.TextBlock.WrapFit,\n            editable: true,\n            stroke: \"#560788\",\n            font: smallfont,\n          },\n          new go.Binding(\"text\", \"text\").makeTwoWay()\n        )\n      )\n    );\n\n    myDiagram.nodeTemplateMap.add(\n      \"LSTM\",\n      $(\n        go.Node,\n        \"Auto\",\n        {\n          locationSpot: go.Spot.Center,\n        },\n        new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\n          go.Point.stringify\n        ),\n        {\n          selectable: true,\n          selectionAdornmentTemplate: nodeSelectionAdornmentTemplate,\n        },\n        $(go.Shape, \"RoundedRectangle\", {\n          fill: \"#E7C5FC\",\n          stroke: \"#CF8BF9\",\n          strokeWidth: 4,\n        }),\n        $(\n          go.TextBlock,\n          \"LSTM\\n(unavailable)\",\n          textStyle(),\n          {\n            margin: 9,\n            maxSize: new go.Size(200, NaN),\n            wrap: go.TextBlock.WrapFit,\n            editable: true,\n            stroke: \"#560788\",\n            font: smallfont,\n          },\n          new go.Binding(\"text\", \"text\").makeTwoWay()\n        )\n      )\n    );\n\n    myDiagram.nodeTemplateMap.add(\n      \"Softmax\",\n      $(\n        go.Node,\n        \"Auto\",\n        {\n          locationSpot: go.Spot.Center,\n        },\n        new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\n          go.Point.stringify\n        ),\n        {\n          selectable: true,\n          selectionAdornmentTemplate: nodeSelectionAdornmentTemplate,\n        },\n        $(go.Shape, \"RoundedRectangle\", {\n          fill: \"#E7C5FC\",\n          stroke: \"#CF8BF9\",\n          strokeWidth: 4,\n        }),\n        $(\n          go.TextBlock,\n          \"Softmax\\n(unavailable)\",\n          textStyle(),\n          {\n            margin: 9,\n            maxSize: new go.Size(200, NaN),\n            wrap: go.TextBlock.WrapFit,\n            editable: true,\n            stroke: \"#560788\",\n            font: smallfont,\n          },\n          new go.Binding(\"text\", \"text\").makeTwoWay()\n        )\n      )\n    );\n\n    myDiagram.nodeTemplateMap.add(\n      \"Maximum Polling\",\n      $(\n        go.Node,\n        \"Auto\",\n        {\n          locationSpot: go.Spot.Center,\n        },\n        new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\n          go.Point.stringify\n        ),\n        {\n          selectable: true,\n          selectionAdornmentTemplate: nodeSelectionAdornmentTemplate,\n        },\n        $(go.Shape, \"RoundedRectangle\", {\n          fill: \"#E7C5FC\",\n          stroke: \"#CF8BF9\",\n          strokeWidth: 4,\n        }),\n        $(\n          go.TextBlock,\n          \"Maximum\\nPolling\\n(unavailable)\",\n          textStyle(),\n          {\n            margin: 9,\n            maxSize: new go.Size(200, NaN),\n            wrap: go.TextBlock.WrapFit,\n            editable: true,\n            stroke: \"#560788\",\n            font: smallfont,\n          },\n          new go.Binding(\"text\", \"text\").makeTwoWay()\n        )\n      )\n    );\n\n    var linkSelectionAdornmentTemplate = $(\n      go.Adornment,\n      \"Link\",\n      $(\n        go.Shape,\n\n        {\n          isPanelMain: true,\n          fill: null,\n          stroke: \"deepskyblue\",\n          strokeWidth: 2.5,\n        }\n      )\n    );\n\n    myDiagram.linkTemplate = $(\n      go.Link,\n      {\n        selectable: true,\n        selectionAdornmentTemplate: linkSelectionAdornmentTemplate,\n      },\n      new go.Binding(\"points\").makeTwoWay(),\n      {\n        toShortLength: 15,\n      },\n\n      $(go.Shape, {\n        stroke: \"#979dac\",\n        strokeWidth: 2.5,\n      }),\n      $(go.Shape, {\n        toArrow: \"kite\",\n        fill: \"#979dac\",\n        stroke: null,\n        scale: 2,\n      })\n    );\n\n    var palette = $(go.Palette, \"myPaletteDiv\", {\n      nodeTemplateMap: myDiagram.nodeTemplateMap,\n      autoScale: go.Diagram.Uniform,\n    });\n\n    palette.model.nodeDataArray = [\n      {\n        category: \"Data\",\n        reasonsList: [{}],\n      },\n      {\n        category: \"ReLU\",\n        reasonsList: [{}],\n      },\n      {\n        category: \"FC\",\n        reasonsList: [{}],\n      },\n      {\n        category: \"End\",\n        reasonsList: [{}],\n      },\n      {\n        category: \"CNN\",\n        reasonsList: [{}],\n      },\n      {\n        category: \"RNN\",\n        reasonsList: [{}],\n      },\n      {\n        category: \"LSTM\",\n        reasonsList: [{}],\n      },\n      {\n        category: \"Softmax\",\n        reasonsList: [{}],\n      },\n      {\n        category: \"Maximum Polling\",\n        reasonsList: [{}],\n      },\n    ];\n\n    window.myDiagram = myDiagram;\n\n    this.getData();\n  },\n};\n</script>\n\n\n<style scoped>\n.body {\n  padding: 0;\n  margin: 0;\n  height: 100%;\n  width: 100%;\n  overflow: visible;\n}\n</style>\n<style scoped src=\"../../new_pages/vendor/fontawesome-free/css/all.min.css\"></style>\n<style scoped src=\"../../new_pages/css/sb-admin-2.min.css\"></style>\n\n<style>\n/* required class */\n.my-editor {\n  /* we dont use `language-` classes anymore so thats why we need to add background and text color manually */\n  background: #2d2d2d;\n  color: #ccc;\n\n  /* you must provide font-family font-size line-height. Example: */\n  font-family: Fira code, Fira Mono, Consolas, Menlo, Courier, monospace;\n  font-size: 14px;\n  line-height: 1.5;\n  padding: 5px;\n}\n\n/* optional class for removing the outline */\n.prism-editor__textarea:focus {\n  outline: none;\n}\n</style>\n\n<style scpoed>\n#myPaletteDiv {\n  border-radius: 7px;\n}\n\n#myDiagramDiv_1 {\n  border-radius: 7px;\n}\n\n#myDiagramDiv_2 {\n  border-radius: 7px;\n}\n\n#myDiagramDiv_1 {\n  resize: horizontal;\n  overflow: auto;\n}\n\ndiv::-webkit-resizer {\n  /* background: #82929B; */\n  /* background-color: #82929B; */\n  /* background: url(\"img/arrow.png\"); */\n  background-image: url(\"../../new_pages/img/1.jpg\");\n  border-radius: 0.1rem;\n  /* border: 8px solid black;\n            background: blue; */\n  /* outline: 2px dashed green; */\n}\n</style>"]},"metadata":{},"sourceType":"module"}